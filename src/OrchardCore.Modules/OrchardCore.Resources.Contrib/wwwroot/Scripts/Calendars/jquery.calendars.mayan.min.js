!function(a){function n(a){this.local=this.regionalOptions[a||""]||this.regionalOptions[""]}function t(a,n){return a-n*Math.floor(a/n)}function i(a,n){return t(a-1,n)+1}n.prototype=new a.calendars.baseCalendar,a.extend(n.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(n){return this._validate(n,this.minMonth,this.minDay,a.calendars.local.invalidYear),!1},formatYear:function(n){var t=this._validate(n,this.minMonth,this.minDay,a.calendars.local.invalidYear);n=t.year();var i=Math.floor(n/400);n%=400,n+=0>n?400:0;var o=Math.floor(n/20);return i+"."+o+"."+n%20},forYear:function(a){if(a=a.split("."),a.length<3)throw"Invalid Mayan year";for(var n=0,t=0;t<a.length;t++){var i=parseInt(a[t],10);if(Math.abs(i)>19||t>0&&0>i)throw"Invalid Mayan year";n=20*n+i}return n},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,a.calendars.local.invalidYear),18},weekOfYear:function(n,t,i){return this._validate(n,t,i,a.calendars.local.invalidDate),0},daysInYear:function(n){return this._validate(n,this.minMonth,this.minDay,a.calendars.local.invalidYear),360},daysInMonth:function(n,t){return this._validate(n,t,this.minDay,a.calendars.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(n,t,i){var o=this._validate(n,t,i,a.calendars.local.invalidDate);return o.day()},weekDay:function(n,t,i){return this._validate(n,t,i,a.calendars.local.invalidDate),!0},extraInfo:function(n,t,i){var o=this._validate(n,t,i,a.calendars.local.invalidDate),e=o.toJD(),r=this._toHaab(e),l=this._toTzolkin(e);return{haabMonthName:this.local.haabMonths[r[0]-1],haabMonth:r[0],haabDay:r[1],tzolkinDayName:this.local.tzolkinMonths[l[0]-1],tzolkinDay:l[0],tzolkinTrecena:l[1]}},_toHaab:function(a){a-=this.jdEpoch;var n=t(a+8+340,365);return[Math.floor(n/20)+1,t(n,20)]},_toTzolkin:function(a){return a-=this.jdEpoch,[i(a+20,20),i(a+4,13)]},toJD:function(n,t,i){var o=this._validate(n,t,i,a.calendars.local.invalidDate);return o.day()+20*o.month()+360*o.year()+this.jdEpoch},fromJD:function(a){a=Math.floor(a)+.5-this.jdEpoch;var n=Math.floor(a/360);a%=360,a+=0>a?360:0;var t=Math.floor(a/20),i=a%20;return this.newDate(n,t,i)}}),a.calendars.calendars.mayan=n}(jQuery);