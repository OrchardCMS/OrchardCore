notificationManager=function(){var t=function(t,e){var a=t.indexOf(e);return a>-1&&(t.splice(a,1),!0)};return{initializeContainer:function(e,a,i){if(e){var n=[],r=0,s=null;a&&(s=document.querySelector(a))&&(r=parseInt(s.innerText));for(var o=document.getElementsByClassName("mark-notification-as-read"),d=function(a){["click","mouseover"].forEach((function(d){o[a].addEventListener(d,(function(a){if("false"==a.target.getAttribute("data-is-read")){var o=a.target.getAttribute("data-message-id");o&&(n.includes(o)||(n.push(o),fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messageId:o})}).then((function(t){return t.json()})).then((function(e){if(e.updated)if(s&&(r>1?s.innerText=--r:s.style.display="none"),i){var d=a.target.closest(i);d&&(d.classList.remove("notification-is-unread"),d.classList.add("notification-is-read"),d.setAttribute("data-is-read",!0),t(n,o))}else a.target.classList.remove("notification-is-unread"),a.target.classList.add("notification-is-read"),a.target.setAttribute("data-is-read",!0),t(n,o);var c=a.target.getAttribute("data-target-url");c&&(window.location.href=c)}))))}}))}))},c=0;c<o.length;c++)d(c)}else console.log("No readUrl was provided.")}}}();
