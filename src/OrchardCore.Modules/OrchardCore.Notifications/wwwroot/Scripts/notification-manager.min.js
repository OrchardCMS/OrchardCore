notificationManager=function(){var t=function(t,e){var a=t.indexOf(e);return a>-1&&(t.splice(a,1),!0)};return{initializeContainer:function(e,a){if(e)for(var i=[],n=document.getElementsByClassName("mark-notification-as-read"),r=function(r){["click","mouseover"].forEach((function(s){n[r].addEventListener(s,(function(n){if("false"==n.target.getAttribute("data-is-read")){var r=n.target.getAttribute("data-message-id");r&&(i.includes(r)||(i.push(r),fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messageId:r})}).then((function(t){return t.json()})).then((function(e){if(e.updated)if(a){var s=n.target.closest(a);s&&(s.classList.remove("notification-is-unread"),s.classList.add("notification-is-read"),s.setAttribute("data-is-read",!0),t(i,r))}else n.target.classList.remove("notification-is-unread"),n.target.classList.add("notification-is-read"),n.target.setAttribute("data-is-read",!0),t(i,r);var o=n.target.getAttribute("data-target-url");o&&(window.location.href=o)}))))}}))}))},s=0;s<n.length;s++)r(s);else console.log("No readUrl was provided.")}}}();
