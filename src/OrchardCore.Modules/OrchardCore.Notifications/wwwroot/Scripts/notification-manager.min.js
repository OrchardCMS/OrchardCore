notificationManager=function(){let t=(t,e)=>{let i=t.indexOf(e);return i>-1&&(t.splice(i,1),!0)};return{initializeContainer:(e,i,a)=>{if(!e){console.log("No readUrl was provided.");return}let r=[],n=0,s=null;i&&(s=document.querySelector(i))&&(n=parseInt(s.innerText));let o=document.querySelectorAll(".mark-notification-as-read");for(let i=0;i<o.length;i++)["click","mouseover"].forEach(d=>{o[i].addEventListener(d,i=>{if("false"!==i.target.getAttribute("data-is-read"))return;let o=i.target.getAttribute("data-message-id");!(!o||r.includes(o))&&(r.push(o),fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messageId:o})}).then(t=>t.json()).then(e=>{if(e.updated){if(s&&(n>1?s.innerText=--n:s.style.display="none"),a){let e=i.target.closest(a);e&&(e.classList.remove("notification-is-unread"),e.classList.add("notification-is-read"),e.setAttribute("data-is-read",!0),t(r,o))}else i.target.classList.remove("notification-is-unread"),i.target.classList.add("notification-is-read"),i.target.setAttribute("data-is-read",!0),t(r,o)}let d=i.target.getAttribute("data-target-url");d&&(window.location.href=d)}))})})}}}();