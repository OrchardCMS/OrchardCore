notificationManager=function(){let t=(t,e)=>{let a=t.indexOf(e);return a>-1&&(t.splice(a,1),!0)};return{initializeContainer:(e,a,i)=>{if(!e){console.log("No readUrl was provided.");return}let r=[],n=0,s=null;a&&(s=document.querySelector(a))&&(n=parseInt(s.innerText));var o=document.getElementsByClassName("mark-notification-as-read");for(let a=0;a<o.length;a++)["click","mouseover"].forEach(d=>{o[a].addEventListener(d,a=>{if("false"==a.target.getAttribute("data-is-read")){var o=a.target.getAttribute("data-message-id");!(!o||r.includes(o))&&(r.push(o),fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messageId:o})}).then(t=>t.json()).then(e=>{if(e.updated){if(s&&(n>1?s.innerText=--n:s.style.display="none"),i){var d=a.target.closest(i);d&&(d.classList.remove("notification-is-unread"),d.classList.add("notification-is-read"),d.setAttribute("data-is-read",!0),t(r,o))}else a.target.classList.remove("notification-is-unread"),a.target.classList.add("notification-is-read"),a.target.setAttribute("data-is-read",!0),t(r,o)}var l=a.target.getAttribute("data-target-url");l&&(window.location.href=l)}))}})})}}}();
//# sourceMappingURL=notification-manager.map