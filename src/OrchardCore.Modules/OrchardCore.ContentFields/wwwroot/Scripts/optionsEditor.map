{"version":3,"sources":["<anon>"],"sourcesContent":["function initializeOptionsEditor(elem, data, defaultValue, modalBodyElement) {\n    var previouslyChecked;\n    var store = {\n        debug: false,\n        state: {\n            options: data,\n            selected: defaultValue\n        },\n        addOption: function () {\n            if (this.debug) { console.log('add option triggered') };\n            this.state.options.push({ name: '', value: '' });\n        },\n        removeOption: function (index) {\n            if (this.debug) { console.log('remove option triggered with', index) };\n            this.state.options.splice(index, 1);\n        },\n        getOptionsFormattedList: function () {\n            if (this.debug) { console.log('getOptionsFormattedList triggered') };\n            return JSON.stringify(this.state.options.filter(function (x) { return !IsNullOrWhiteSpace(x.name) }));\n        }\n    }\n    var optionsTable = {\n        template: '#options-table',\n        props: ['data'],\n        name: 'options-table',\n        methods: {\n            add: function () {\n                store.addOption();\n            },\n            remove: function (index) {\n                store.removeOption(index);\n            },\n            uncheck: function (index) {\n                if (index == previouslyChecked) {\n                    const customRadio = elem.querySelector(`#customRadio_${index}`);\n                    customRadio.checked = false;\n                    store.state.selected = null;\n                    previouslyChecked = null;\n                }\n                else {\n                    previouslyChecked = index;\n                }\n            },\n            getOptionsFormattedList: function () {\n                return store.getOptionsFormattedList();\n            }\n        }\n    };\n    var optionsModal = {\n        template: '#options-modal',\n        props: ['data'],\n        name: 'options-modal',\n        methods: {\n            getOptionsFormattedList: function () {\n                return store.getOptionsFormattedList();\n            },\n            showModal: function () {\n                optionsModal.props.data.modal.show();\n            },\n            closeModal: function () {\n                optionsModal.props.data.modal.hide();\n            }\n        }\n    };\n    new Vue({\n        components: {\n            optionsTable: optionsTable,\n            optionsModal: optionsModal\n        },\n        data: {\n            sharedState: store.state,\n            modal: new bootstrap.Modal(modalBodyElement)\n        },\n        el: elem,\n        methods: {\n            showModal: function () {\n                optionsModal.methods.showModal();\n            }\n        }\n    });\n}\nfunction IsNullOrWhiteSpace(str) {\n    return str === null || str.match(/^ *$/) !== null;\n}"],"names":["initializeOptionsEditor","elem","data","defaultValue","modalBodyElement","previouslyChecked","store","debug","state","options","selected","addOption","console","log","push","name","value","removeOption","index","splice","getOptionsFormattedList","JSON","stringify","filter","x","IsNullOrWhiteSpace","optionsModal","template","props","methods","showModal","modal","show","closeModal","hide","Vue","components","optionsTable","add","remove","uncheck","customRadio","querySelector","checked","sharedState","bootstrap","Modal","el","str","match"],"mappings":"AAAA,SAASA,wBAAwBC,CAAI,CAAEC,CAAI,CAAEC,CAAY,CAAEC,CAAgB,EAIvE,IAFIC,EAEAC,EAAQ,CACRC,MAAO,CAAA,EACPC,MAAO,CACHC,QAASP,EACTQ,SAAUP,CACd,EACAQ,UAAW,WACH,IAAI,CAACJ,KAAK,EAAIK,QAAQC,GAAG,CAAC,wBAC9B,IAAI,CAACL,KAAK,CAACC,OAAO,CAACK,IAAI,CAAC,CAAEC,KAAM,GAAIC,MAAO,EAAG,EAClD,EACAC,aAAc,SAAUC,CAAK,EACrB,IAAI,CAACX,KAAK,EAAIK,QAAQC,GAAG,CAAC,+BAAgCK,GAC9D,IAAI,CAACV,KAAK,CAACC,OAAO,CAACU,MAAM,CAACD,EAAO,EACrC,EACAE,wBAAyB,WAErB,OADI,IAAI,CAACb,KAAK,EAAIK,QAAQC,GAAG,CAAC,qCACvBQ,KAAKC,SAAS,CAAC,IAAI,CAACd,KAAK,CAACC,OAAO,CAACc,MAAM,CAAC,SAAUC,CAAC,EAAI,MAAO,CAACC,mBAAmBD,EAAET,IAAI,CAAE,GACtG,CACJ,EA8BIW,EAAe,CACfC,SAAU,iBACVC,MAAO,CAAC,OAAO,CACfb,KAAM,gBACNc,QAAS,CACLT,wBAAyB,WACrB,OAAOd,EAAMc,uBAAuB,EACxC,EACAU,UAAW,WACPJ,EAAaE,KAAK,CAAC1B,IAAI,CAAC6B,KAAK,CAACC,IAAI,EACtC,EACAC,WAAY,WACRP,EAAaE,KAAK,CAAC1B,IAAI,CAAC6B,KAAK,CAACG,IAAI,EACtC,CACJ,CACJ,EAEA,IAAIC,IAAI,CACJC,WAAY,CACRC,aA/CW,CACfV,SAAU,iBACVC,MAAO,CAAC,OAAO,CACfb,KAAM,gBACNc,QAAS,CACLS,IAAK,WACDhC,EAAMK,SAAS,EACnB,EACA4B,OAAQ,SAAUrB,CAAK,EACnBZ,EAAMW,YAAY,CAACC,EACvB,EACAsB,QAAS,SAAUtB,CAAK,EAChBA,GAASb,GAEToC,AADoBxC,EAAKyC,aAAa,CAAC,CAAC,aAAa,EAAExB,EAAM,CAAC,EAClDyB,OAAO,CAAG,CAAA,EACtBrC,EAAME,KAAK,CAACE,QAAQ,CAAG,KACvBL,EAAoB,MAGpBA,EAAoBa,CAE5B,EACAE,wBAAyB,WACrB,OAAOd,EAAMc,uBAAuB,EACxC,CACJ,CACJ,EAsBQM,aAAcA,CAClB,EACAxB,KAAM,CACF0C,YAAatC,EAAME,KAAK,CACxBuB,MAAO,IAAIc,UAAUC,KAAK,CAAC1C,EAC/B,EACA2C,GAAI9C,EACJ4B,QAAS,CACLC,UAAW,WACPJ,EAAaG,OAAO,CAACC,SAAS,EAClC,CACJ,CACJ,EAEJ,CAEA,SAASL,mBAAmBuB,CAAG,EAC3B,OAAOA,AAAQ,OAARA,GAAgBA,AAAsB,OAAtBA,EAAIC,KAAK,CAAC,OACrC"}
