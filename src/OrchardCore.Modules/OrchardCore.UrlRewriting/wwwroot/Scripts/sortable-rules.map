{"version":3,"sources":["<anon>"],"sourcesContent":["sortingListManager = function () {\n    const saveOrders = (evt, url, errorMessage) => {\n        const data = {\n            oldIndex: evt.oldIndex,\n            newIndex: evt.newIndex\n        };\n        fetch(url, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data)\n        }).catch(error => {\n            console.log(error);\n            alert(errorMessage || 'Unable to sort the list');\n        });\n    }\n    const create = (selector, sortUrl, errorMessage) => {\n        const element = document.querySelector(selector);\n        if (!element) {\n            console.log('Unable to find the sortable element. The given selector is: ' + selector);\n            return;\n        }\n        let orderUrl = sortUrl;\n        if (!orderUrl) {\n            orderUrl = element.getAttribute('data-sort-uri');\n            if (!orderUrl) {\n                console.log('Unable to determine the sort post URI. Either pass it to the create function or set it as data-sort-uri to the sorting element.');\n                return;\n            }\n        }\n        Sortable.create(element, {\n            handle: \".ui-sortable-handle\",\n            animation: 150,\n            filter: \".ignore-elements\",\n            draggable: \".item\",\n            onUpdate: function (evt) {\n                saveOrders(evt, orderUrl, errorMessage);\n            }\n        });\n    };\n    return {\n        create: create\n    }\n}();\n"],"names":["sortingListManager","saveOrders","evt","url","errorMessage","fetch","method","headers","body","JSON","stringify","oldIndex","newIndex","catch","error","console","log","alert","create","selector","sortUrl","element","document","querySelector","orderUrl","getAttribute","Sortable","handle","animation","filter","draggable","onUpdate"],"mappings":"AAAAA,mBAAqB,WAEjB,IAAMC,EAAa,CAACC,EAAKC,EAAKC,KAM1BC,MAAMF,EAAK,CACPG,OAAQ,OACRC,QAAS,CACL,eAAgB,kBACpB,EACAC,KAAMC,KAAKC,SAAS,CATX,CACTC,SAAUT,EAAIS,QAAQ,CACtBC,SAAUV,EAAIU,QAAQ,AAC1B,EAOA,GAAGC,KAAK,CAACC,IACLC,QAAQC,GAAG,CAACF,GACZG,MAAMb,GAAgB,0BAC1B,EACJ,EAmCA,MAAO,CACHc,OAlCW,CAACC,EAAUC,EAAShB,KAE/B,IAAMiB,EAAUC,SAASC,aAAa,CAACJ,GAEvC,GAAI,CAACE,EAAS,CACVN,QAAQC,GAAG,CAAC,+DAAiEG,GAE7E,MACJ,CAEA,IAAIK,EAAWJ,EAEf,GAAI,CAACI,GAGG,CAFJA,CAAAA,EAAWH,EAAQI,YAAY,CAAC,gBAAe,EAEhC,CACXV,QAAQC,GAAG,CAAC,mIAEZ,MACJ,CAGJU,SAASR,MAAM,CAACG,EAAS,CACrBM,OAAQ,sBACRC,UAAW,IACXC,OAAQ,mBACRC,UAAW,QACXC,SAAU,SAAU7B,CAAG,EACnBD,EAAWC,EAAKsB,EAAUpB,EAC9B,CACJ,EACJ,CAIA,CACJ"}
