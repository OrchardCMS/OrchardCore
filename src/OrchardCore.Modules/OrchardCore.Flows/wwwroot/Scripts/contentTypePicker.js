var contentTypePickerApp,contentTypePickerInitialized,sharedContentTypePickerModal;function initializeContentTypePickerApplication(e){if(!contentTypePickerInitialized){contentTypePickerInitialized=!0,contentTypePickerApp=new Vue({el:"#contentTypePickerApp",data:{contentTypes:[],categories:[],searchFilter:"",selectedCategory:"All",pathBase:e||"",currentConfig:null},computed:{filteredContentTypes:function(){var e=this;return this.contentTypes.filter(function(t){if("All"!==e.selectedCategory&&t.category!==e.selectedCategory)return!1;if(e.searchFilter){var n=e.searchFilter.toLowerCase(),r=t.displayName.toLowerCase().indexOf(n)>=0,i=t.description&&t.description.toLowerCase().indexOf(n)>=0;return r||i}return!0})}},methods:{configure:function(e){this.currentConfig=e,this.contentTypes=e.contentTypes||[];var t={};this.contentTypes.forEach(function(e){e.category&&(t[e.category]=!0)}),this.categories=["All"].concat(Object.keys(t).sort()),this.searchFilter="",this.selectedCategory="All"},selectCategory:function(e){this.selectedCategory=e},selectContentType:function(e){this.currentConfig&&this.currentConfig.onContentTypeSelected&&this.currentConfig.onContentTypeSelected(e,this.currentConfig)},getPreviewImageUrl:function(e){return e.previewImage?e.previewImage.startsWith("~/")?this.pathBase+e.previewImage.substring(1):e.previewImage:this.pathBase+"/OrchardCore.Flows/Images/content-type-placeholder.png"},handleImageError:function(e,t){var n=e.target,r=document.createElement("div");r.className="card-img-top img-placeholder",r.innerHTML='<i class="fa fa-cube" aria-hidden="true"></i>',n.parentNode.replaceChild(r,n)}}});var t=document.getElementById("contentTypePickerModal");t&&(sharedContentTypePickerModal=new bootstrap.Modal(t),t.addEventListener("hidden.bs.modal",function(){contentTypePickerApp&&(contentTypePickerApp.searchFilter="",contentTypePickerApp.selectedCategory="All",contentTypePickerApp.currentConfig=null)}))}}function showContentTypePicker(e){contentTypePickerApp&&sharedContentTypePickerModal&&(contentTypePickerApp.configure(e),sharedContentTypePickerModal.show())}function hideContentTypePicker(){sharedContentTypePickerModal&&sharedContentTypePickerModal.hide()}function contentTypePickerSelectContentType(e,t){$('<a class="add-widget" style="display:none;">').data("target-id",t.targetId).data("html-field-prefix",t.htmlFieldPrefix).data("prefixes-name",t.prefixesName).data("contenttypes-name",t.contentTypesName).data("contentitems-name",t.contentItemsName).data("widget-type",e.name).data("flowmetadata",!1).data("parent-content-type",t.parentContentType).data("part-name",t.partName).appendTo("body").trigger("click").remove(),hideContentTypePicker()}
//# sourceMappingURL=contentTypePicker.map