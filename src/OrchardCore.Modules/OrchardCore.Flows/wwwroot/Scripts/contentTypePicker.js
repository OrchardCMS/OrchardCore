var contentTypePickerApp,contentTypePickerInitialized,sharedContentTypePickerModal;function initializeContentTypePickerApplication(e){if(!contentTypePickerInitialized){contentTypePickerInitialized=!0,contentTypePickerApp=new Vue({el:"#contentTypePickerApp",data:{contentTypes:[],categories:[],searchFilter:"",selectedCategory:"All",pathBase:e||"",currentConfig:null},computed:{filteredContentTypes:function(){var e=this;return this.contentTypes.filter(function(t){if("All"!==e.selectedCategory&&(!t.category||t.category!==e.selectedCategory))return!1;if(e.searchFilter){var n=e.searchFilter.toLowerCase(),i=t.displayName.toLowerCase().indexOf(n)>=0,o=t.description&&t.description.toLowerCase().indexOf(n)>=0;return i||o}return!0})}},methods:{configure:function(e){this.currentConfig=e,this.contentTypes=e.contentTypes||[];var t={};this.contentTypes.forEach(function(e){e.category&&(t[e.category]=!0)}),this.categories=["All"].concat(Object.keys(t).sort()),this.searchFilter="",this.selectedCategory="All"},selectCategory:function(e){this.selectedCategory=e},selectContentType:function(e){this.currentConfig&&this.currentConfig.onContentTypeSelected&&this.currentConfig.onContentTypeSelected(e,this.currentConfig)},getThumbnailUrl:function(e){return e.thumbnail?e.thumbnail.startsWith("~/")?this.pathBase+e.thumbnail.substring(1):e.thumbnail:null}}});var t=document.getElementById("contentTypePickerModal");t&&(sharedContentTypePickerModal=new bootstrap.Modal(t),t.addEventListener("hidden.bs.modal",function(){contentTypePickerApp&&(contentTypePickerApp.searchFilter="",contentTypePickerApp.selectedCategory="All",contentTypePickerApp.currentConfig=null)}))}}function showContentTypePicker(e){if(contentTypePickerApp&&sharedContentTypePickerModal){if(contentTypePickerApp.configure(e),e.modalTitle){var t=document.getElementById("contentTypePickerModalLabel");t&&(t.textContent=e.modalTitle)}sharedContentTypePickerModal.show()}}function hideContentTypePicker(){sharedContentTypePickerModal&&sharedContentTypePickerModal.hide()}function contentTypePickerSelectContentType(e,t){$('<a class="add-widget" style="display:none;">').data("target-id",t.targetId).data("html-field-prefix",t.htmlFieldPrefix).data("prefixes-name",t.prefixesName).data("contenttypes-name",t.contentTypesName).data("contentitems-name",t.contentItemsName).data("widget-type",e.name).data("flowmetadata",t.flowmetadata||!1).data("parent-content-type",t.parentContentType).data("part-name",t.partName).appendTo("body").trigger("click").remove(),hideContentTypePicker()}
//# sourceMappingURL=contentTypePicker.map