function initializeTagsEditor(e){if(e){var t=e.id,n=Vue.component("vue-multiselect",window.VueMultiselect.default);return new Vue({el:"#"+t,components:{"vue-multiselect":n},data:function(){var t=JSON.parse(e.dataset.allTagTerms||"[]"),n=t;return"true"==e.dataset.leavesOnly&&(n=n.filter((function(e){return e.isLeaf})),t.forEach((function(e){n.includes(e)||(e.selected=!1)}))),selectedTagTerms=t.filter((function(e){return e.selected})),{open:e.dataset.open,taxonomyContentItemId:e.dataset.taxonomyContentItemId,createTagUrl:e.dataset.createTagUrl,createTagErrorMessage:e.dataset.createTagErrorMessage,selectedTagTerms:selectedTagTerms,selectableTagTerms:n,allTagTerms:t}},computed:{isDisabled:function(){return"false"==this.open&&0===this.selectableTagTerms.length},selectedTagTermsIds:function(){return this.selectedTagTerms?Array.isArray(this.selectedTagTerms)?this.selectedTagTerms.map((function(e){return e.contentItemId})):this.selectedTagTerms.contentItemId:[]}},methods:{createTagTerm:function(e){var t=this;$.ajax({url:t.createTagUrl,method:"POST",data:{__RequestVerificationToken:$("input[name='__RequestVerificationToken']").val(),taxonomyContentItemId:t.taxonomyContentItemId,displayText:e},success:function(e){var n={contentItemId:e.contentItemId,displayText:e.displayText,selected:!0};t.allTagTerms.push(n),t.selectedTagTerms.push(n)},error:function(){alert(t.createTagErrorMessage)}})},onSelect:function(e){this.allTagTerms.find((function(t){return t.contentItemId===e.contentItemId})).selected=!0,$(document).trigger("contentpreview:render")},onRemove:function(e){this.allTagTerms.find((function(t){return t.contentItemId===e.contentItemId})).selected=!1,$(document).trigger("contentpreview:render")}}})}}
