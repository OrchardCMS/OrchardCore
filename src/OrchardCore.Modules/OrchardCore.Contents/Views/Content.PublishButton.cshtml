@{
    var returnUrl = Context.Request.Query["returnUrl"];
}

@if (String.IsNullOrWhiteSpace(returnUrl))
{
    <button type="submit" name="submit.Publish" class="btn btn-success publish" value="submit.Publish">@T["Publish"]</button>
}
else
{
    <div class="btn-group">
        <button class="btn btn-success publish" type="submit" name="submit.Publish" value="submit.Publish">@T["Publish"]</button>
        <button type="button" class="btn btn-success dropdown-toggle dropdown-toggle-split" data-reference="parent" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span class="sr-only">@T["Toggle Dropdown"]</span>
        </button>
        <div class="dropdown-menu">
            <button class="dropdown-item publish-continue" type="submit" name="submit.Publish" value="submit.PublishAndContinue">@T["and continue"]</button>
        </div>
    </div>
}

<script at="Foot">
    $(function () {
        const altKeyCode = 18;
        const sKeyCode = 83;
        const cKeyCode = 67;
        var keysMap = {};

        $(document).keydown(function (e) {
            keysMap[e.keyCode] = true;

            if (keysMap[altKeyCode] && keysMap[sKeyCode] && keysMap[cKeyCode]) {
                $(":button[value='submit.PublishAndContinue']").click();
            }
            else if (keysMap[altKeyCode] && keysMap[sKeyCode]) {
                $(":button[value='submit.Publish']").click();
            }

        }).keyup(function (e) {
            keysMap[e.keyCode] = false;
        })
    });
</script>
