{"version":3,"sources":["<anon>"],"sourcesContent":["/* ===========================================================\n * trumbowyg.allowTagsFromPaste.js v1.0.2\n * It cleans tags from pasted text, whilst allowing several specified tags\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author\t: Fathi Anshory (0x00000F5C)\n * Twitter\t: @fscchannl\n * Notes:\n *  - removeformatPasted must be set to FALSE since it was applied prior to pasteHandlers, or else it will be useless\n *\t- It is most advisable to use along with the cleanpaste plugin, or else you'd end up with dirty markup\n */\n\n(function ($) {\n    'use strict';\n\n    var defaultOptions = {\n        // When empty, all tags are allowed making this plugin useless\n        // If you want to remove all tags, use removeformatPasted core option instead\n        allowedTags: [],\n        // List of tags which can be allowed\n        removableTags: [\n            'a',\n            'abbr',\n            'address',\n            'b',\n            'bdi',\n            'bdo',\n            'blockquote',\n            'br',\n            'cite',\n            'code',\n            'del',\n            'dfn',\n            'details',\n            'em',\n            'h1',\n            'h2',\n            'h3',\n            'h4',\n            'h5',\n            'h6',\n            'hr',\n            'i',\n            'ins',\n            'kbd',\n            'mark',\n            'meter',\n            'pre',\n            'progress',\n            'q',\n            'rp',\n            'rt',\n            'ruby',\n            's',\n            'samp',\n            'small',\n            'span',\n            'strong',\n            'sub',\n            'summary',\n            'sup',\n            'time',\n            'u',\n            'var',\n            'wbr',\n            'img',\n            'map',\n            'area',\n            'canvas',\n            'figcaption',\n            'figure',\n            'picture',\n            'audio',\n            'source',\n            'track',\n            'video',\n            'ul',\n            'ol',\n            'li',\n            'dl',\n            'dt',\n            'dd',\n            'table',\n            'caption',\n            'th',\n            'tr',\n            'td',\n            'thead',\n            'tbody',\n            'tfoot',\n            'col',\n            'colgroup',\n            'style',\n            'div',\n            'p',\n            'form',\n            'input',\n            'textarea',\n            'button',\n            'select',\n            'optgroup',\n            'option',\n            'label',\n            'fieldset',\n            'legend',\n            'datalist',\n            'keygen',\n            'output',\n            'iframe',\n            'link',\n            'nav',\n            'header',\n            'hgroup',\n            'footer',\n            'main',\n            'section',\n            'article',\n            'aside',\n            'dialog',\n            'script',\n            'noscript',\n            'embed',\n            'object',\n            'param'\n        ]\n    };\n\n    $.extend(true, $.trumbowyg, {\n        plugins: {\n            allowTagsFromPaste: {\n                init: function (trumbowyg) {\n                    if (!trumbowyg.o.plugins.allowTagsFromPaste) {\n                        return;\n                    }\n\n                    // Force disable remove format pasted\n                    trumbowyg.o.removeformatPasted = false;\n\n                    var allowedTags = trumbowyg.o.plugins.allowTagsFromPaste.allowedTags || defaultOptions.allowedTags;\n                    var removableTags = trumbowyg.o.plugins.allowTagsFromPaste.removableTags || defaultOptions.removableTags;\n\n                    if (allowedTags.length === 0) {\n                        return;\n                    }\n\n                    // Get list of tags to remove\n                    var tagsToRemove = $(removableTags).not(allowedTags).get();\n\n                    trumbowyg.pasteHandlers.push(function () {\n                        setTimeout(function () {\n                            var processNodes = trumbowyg.$ed.html();\n                            $.each(tagsToRemove, function (iterator, tagName) {\n                                processNodes = processNodes.replace(new RegExp('<\\\\/?' + tagName + '(\\\\s[^>]*)?>', 'gi'), '');\n                            });\n                            trumbowyg.$ed.html(processNodes);\n                        }, 0);\n                    });\n                }\n            }\n        }\n    });\n})(jQuery);\n\n\n/* ===========================================================\n * trumbowyg.base64.js v1.0\n * Base64 plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author : Cyril Biencourt (lizardK)\n */\n\n(function ($) {\n    'use strict';\n\n    var isSupported = function () {\n        return typeof FileReader !== 'undefined';\n    };\n\n    var isValidImage = function (type) {\n        return /^data:image\\/[a-z]?/i.test(type);\n    };\n\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            // jshint camelcase:false\n            en: {\n                base64: 'Image as base64',\n                file: 'File',\n                errFileReaderNotSupported: 'FileReader is not supported by your browser.',\n                errInvalidImage: 'Invalid image file.'\n            },\n            az: {\n                base64: 'base64 olaraq şəkil',\n                file: 'Fayl',\n                errFileReaderNotSupported: 'FileReader brauzeriniz tərəfindən dəstəklənmir.',\n                errInvalidImage: 'Yanlış şəkil faylı.'\n            },\n            by: {\n                base64: 'Выява (фармат base64)',\n                file: 'Файл',\n                errFileReaderNotSupported: 'FileReader не падтрымліваецца вашым браўзэрам.',\n                errInvalidImage: 'Несапраўдны файл выявы.'\n            },\n            cs: {\n                base64: 'Vložit obrázek',\n                file: 'Soubor'\n            },\n            da: {\n                base64: 'Billede som base64',\n                file: 'Fil',\n                errFileReaderNotSupported: 'FileReader er ikke understøttet af din browser.',\n                errInvalidImage: 'Ugyldig billedfil.'\n            },\n            et: {\n                base64: 'Pilt base64 formaadis',\n                file: 'Fail',\n                errFileReaderNotSupported: 'Teie veebilehitseja ei toeta FileReader funktsiooni.',\n                errInvalidImage: 'Vigane pildifail.'\n            },\n            fr: {\n                base64: 'Image en base64',\n                file: 'Fichier',\n                errFileReaderNotSupported: 'FileReader n\\'est pas supporté par votre navigateur.',\n                errInvalidImage: 'Fichier image invalide.'\n            },\n            hu: {\n                base64: 'Kép beszúrás inline',\n                file: 'Fájl',\n                errFileReaderNotSupported: 'Ez a böngésző nem támogatja a FileReader funkciót.',\n                errInvalidImage: 'Érvénytelen képfájl.'\n            },\n            ja: {\n                base64: '画像 (Base64形式)',\n                file: 'ファイル',\n                errFileReaderNotSupported: 'あなたのブラウザーはFileReaderをサポートしていません',\n                errInvalidImage: '画像形式が正しくありません'\n            },\n            ko: {\n                base64: '그림 넣기(base64)',\n                file: '파일',\n                errFileReaderNotSupported: 'FileReader가 현재 브라우저를 지원하지 않습니다.',\n                errInvalidImage: '유효하지 않은 파일'\n            },\n            nl: {\n                base64: 'Afbeelding inline',\n                file: 'Bestand',\n                errFileReaderNotSupported: 'Uw browser ondersteunt deze functionaliteit niet.',\n                errInvalidImage: 'De gekozen afbeelding is ongeldig.'\n            },\n            pt_br: {\n                base64: 'Imagem em base64',\n                file: 'Arquivo',\n                errFileReaderNotSupported: 'FileReader não é suportado pelo seu navegador.',\n                errInvalidImage: 'Arquivo de imagem inválido.'\n            },\n            ru: {\n                base64: 'Изображение как код в base64',\n                file: 'Файл',\n                errFileReaderNotSupported: 'FileReader не поддерживается вашим браузером.',\n                errInvalidImage: 'Недопустимый файл изображения.'\n            },\n            sl: {\n                base64: 'Slika kot base64',\n                file: 'Datoteka',\n                errFileReaderNotSupported: 'FileReader ni podprt v tem brskalniku.',\n                errInvalidImage: 'Neveljavna datoteka s sliko.'\n            },\n            tr: {\n                base64: 'Base64 olarak resim',\n                file: 'Dosya',\n                errFileReaderNotSupported: 'FileReader tarayıcınız tarafından desteklenmiyor.',\n                errInvalidImage: 'Geçersiz resim dosyası.'\n            },\n            zh_cn: {\n                base64: '图片（Base64编码）',\n                file: '文件'\n            },\n            zh_tw: {\n                base64: '圖片(base64編碼)',\n                file: '檔案',\n                errFileReaderNotSupported: '你的瀏覽器不支援FileReader',\n                errInvalidImage: '不正確的檔案格式'\n            },\n        },\n        // jshint camelcase:true\n\n        plugins: {\n            base64: {\n                shouldInit: isSupported,\n                init: function (trumbowyg) {\n                    var btnDef = {\n                        isSupported: isSupported,\n                        fn: function () {\n                            trumbowyg.saveRange();\n\n                            var file;\n                            var $modal = trumbowyg.openModalInsert(\n                                // Title\n                                trumbowyg.lang.base64,\n\n                                // Fields\n                                {\n                                    file: {\n                                        type: 'file',\n                                        required: true,\n                                        attributes: {\n                                            accept: 'image/*'\n                                        }\n                                    },\n                                    alt: {\n                                        label: 'description',\n                                        value: trumbowyg.getRangeText()\n                                    }\n                                },\n\n                                // Callback\n                                function (values) {\n                                    var fReader = new FileReader();\n\n                                    fReader.onloadend = function (e) {\n                                        if (isValidImage(e.target.result)) {\n                                            trumbowyg.execCmd('insertImage', fReader.result, false, true);\n                                            $(['img[src=\"', fReader.result, '\"]:not([alt])'].join(''), trumbowyg.$box).attr('alt', values.alt);\n                                            trumbowyg.closeModal();\n                                        } else {\n                                            trumbowyg.addErrorOnModalField(\n                                                $('input[type=file]', $modal),\n                                                trumbowyg.lang.errInvalidImage\n                                            );\n                                        }\n                                    };\n\n                                    fReader.readAsDataURL(file);\n                                }\n                            );\n\n                            $('input[type=file]').on('change', function (e) {\n                                file = e.target.files[0];\n                            });\n                        }\n                    };\n\n                    trumbowyg.addBtnDef('base64', btnDef);\n                }\n            }\n        }\n    });\n})(jQuery);\n\n\n/* ===========================================================\n * trumbowyg.cleanpaste.js v1.0\n * Font Clean paste plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Authors : Eric Radin\n *           Todd Graham (slackwalker)\n *\n * This plugin will perform a \"cleaning\" on any paste, in particular\n * it will clean pasted content of microsoft word document tags and classes.\n */\n\n(function ($) {\n    'use strict';\n\n    function checkValidTags(snippet) {\n        var theString = snippet;\n\n        // Replace uppercase element names with lowercase\n        theString = theString.replace(/<[^> ]*/g, function (match) {\n            return match.toLowerCase();\n        });\n\n        // Replace uppercase attribute names with lowercase\n        theString = theString.replace(/<[^>]*>/g, function (match) {\n            match = match.replace(/ [^=]+=/g, function (match2) {\n                return match2.toLowerCase();\n            });\n            return match;\n        });\n\n        // Put quotes around unquoted attributes\n        theString = theString.replace(/<[^>]*>/g, function (match) {\n            match = match.replace(/( [^=]+=)([^\"][^ >]*)/g, '$1\\\"$2\\\"');\n            return match;\n        });\n\n        return theString;\n    }\n\n    function cleanIt(html) {\n        // first make sure all tags and attributes are made valid\n        html = checkValidTags(html);\n\n        // Replace opening bold tags with strong\n        html = html.replace(/<b(\\s+|>)/g, '<strong$1');\n        // Replace closing bold tags with closing strong\n        html = html.replace(/<\\/b(\\s+|>)/g, '</strong$1');\n\n        // Replace italic tags with em\n        html = html.replace(/<i(\\s+|>)/g, '<em$1');\n        // Replace closing italic tags with closing em\n        html = html.replace(/<\\/i(\\s+|>)/g, '</em$1');\n\n        // strip out comments -cgCraft\n        html = html.replace(/<!(?:--[\\s\\S]*?--\\s*)?>\\s*/g, '');\n\n        // strip out &nbsp; -cgCraft\n        html = html.replace(/&nbsp;/gi, ' ');\n        // strip out extra spaces -cgCraft\n        html = html.replace(/ <\\//gi, '</');\n\n        // Remove multiple spaces\n        html.replace(/\\s+/g, ' ');\n\n        // strip &nbsp; -cgCraft\n        html = html.replace(/^\\s*|\\s*$/g, '');\n\n        // Strip out unaccepted attributes\n        html = html.replace(/<[^>]*>/g, function (match) {\n            match = match.replace(/ ([^=]+)=\"[^\"]*\"/g, function (match2, attributeName) {\n                if (['alt', 'href', 'src', 'title'].indexOf(attributeName) !== -1) {\n                    return match2;\n                }\n                return '';\n            });\n            return match;\n        });\n\n        // Final clean out for MS Word crud\n        html = html.replace(/<\\?xml[^>]*>/g, '');\n        html = html.replace(/<[^ >]+:[^>]*>/g, '');\n        html = html.replace(/<\\/[^ >]+:[^>]*>/g, '');\n\n        // remove unwanted tags\n        html = html.replace(/<(div|span|style|meta|link).*?>/gi, '');\n\n        return html;\n    }\n\n    // clean editor\n    // this will clean the inserted contents\n    // it does a compare, before and after paste to determine the\n    // pasted contents\n    $.extend(true, $.trumbowyg, {\n        plugins: {\n            cleanPaste: {\n                init: function (trumbowyg) {\n                    trumbowyg.pasteHandlers.push(function (pasteEvent) {\n                        setTimeout(function () {\n                            try {\n                                trumbowyg.saveRange();\n\n                                var clipboardData = (pasteEvent.originalEvent || pasteEvent).clipboardData,\n                                pastedData = clipboardData.getData('Text'),\n                                node = trumbowyg.doc.getSelection().focusNode,\n                                range = trumbowyg.doc.createRange(),\n                                cleanedPaste = cleanIt(pastedData.trim()),\n                                newNode = $(cleanedPaste)[0] || trumbowyg.doc.createTextNode(cleanedPaste);\n\n                                if (trumbowyg.$ed.html() === '') {\n                                    // simply append if there is no content in editor\n                                    trumbowyg.$ed[0].appendChild(newNode);\n                                } else {\n                                    // insert pasted content behind last focused node\n                                    range.setStartAfter(node);\n                                    range.setEndAfter(node);\n                                    trumbowyg.doc.getSelection().removeAllRanges();\n                                    trumbowyg.doc.getSelection().addRange(range);\n\n                                    trumbowyg.range.insertNode(newNode);\n                                }\n\n                                // now set cursor right after pasted content\n                                range = trumbowyg.doc.createRange();\n                                range.setStartAfter(newNode);\n                                range.setEndAfter(newNode);\n                                trumbowyg.doc.getSelection().removeAllRanges();\n                                trumbowyg.doc.getSelection().addRange(range);\n\n                                // prevent defaults\n                                pasteEvent.stopPropagation();\n                                pasteEvent.preventDefault();\n\n                                // save new node as focused node\n                                trumbowyg.saveRange();\n                                trumbowyg.syncCode();\n                                trumbowyg.$c.trigger('tbwchange');\n                            } catch (c) {\n                            }\n                        }, 0);\n                    });\n                }\n            }\n        }\n    });\n})(jQuery);\n\n\n/* ===========================================================\n * trumbowyg.colors.js v1.2\n * Colors picker plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author : Alexandre Demode (Alex-D)\n *          Twitter : @AlexandreDemode\n *          Website : alex-d.fr\n */\n\n(function ($) {\n    'use strict';\n\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            // jshint camelcase:false\n            en: {\n                foreColor: 'Text color',\n                backColor: 'Background color',\n                foreColorRemove: 'Remove text color',\n                backColorRemove: 'Remove background color'\n            },\n            az: {\n                foreColor: 'Yazı rəngi',\n                backColor: 'Arxa plan rəngi',\n                foreColorRemove: 'Yazı rəngini sil',\n                backColorRemove: 'Arxa plan rəngini sil'\n            },\n            by: {\n                foreColor: 'Колер тэксту',\n                backColor: 'Колер фону тэксту',\n                foreColorRemove: 'Выдаліць колер тэксту',\n                backColorRemove: 'Выдаліць колер фону тэксту'\n            },\n            ca: {\n                foreColor: 'Color del text',\n                backColor: 'Color del fons',\n                foreColorRemove: 'Eliminar color del text',\n                backColorRemove: 'Eliminar color del fons'\n            },\n            cs: {\n                foreColor: 'Barva textu',\n                backColor: 'Barva pozadí'\n            },\n            da: {\n                foreColor: 'Tekstfarve',\n                backColor: 'Baggrundsfarve'\n            },\n            de: {\n                foreColor: 'Textfarbe',\n                backColor: 'Hintergrundfarbe'\n            },\n            es: {\n                foreColor: 'Color del texto',\n                backColor: 'Color del fondo',\n                foreColorRemove: 'Eliminar color del texto',\n                backColorRemove: 'Eliminar color del fondo'\n            },\n            et: {\n                foreColor: 'Teksti värv',\n                backColor: 'Taustavärv',\n                foreColorRemove: 'Eemalda teksti värv',\n                backColorRemove: 'Eemalda taustavärv'\n            },\n            fr: {\n                foreColor: 'Couleur du texte',\n                backColor: 'Couleur de fond',\n                foreColorRemove: 'Supprimer la couleur du texte',\n                backColorRemove: 'Supprimer la couleur de fond'\n            },\n            hu: {\n                foreColor: 'Betű szín',\n                backColor: 'Háttér szín',\n                foreColorRemove: 'Betű szín eltávolítása',\n                backColorRemove: 'Háttér szín eltávolítása'\n            },\n            ja: {\n                foreColor: '文字色',\n                backColor: '背景色'\n            },\n            ko: {\n                foreColor: '글자색',\n                backColor: '배경색',\n                foreColorRemove: '글자색 지우기',\n                backColorRemove: '배경색 지우기'\n            },\n            nl: {\n                foreColor: 'Tekstkleur',\n                backColor: 'Achtergrondkleur'\n            },\n            pt_br: {\n                foreColor: 'Cor de fonte',\n                backColor: 'Cor de fundo'\n            },\n            ru: {\n                foreColor: 'Цвет текста',\n                backColor: 'Цвет выделения текста',\n                foreColorRemove: 'Очистить цвет текста',\n                backColorRemove: 'Очистить цвет выделения текста'\n            },\n            sl: {\n                foreColor: 'Barva teksta',\n                backColor: 'Barva ozadja',\n                foreColorRemove: 'Ponastavi barvo teksta',\n                backColorRemove: 'Ponastavi barvo ozadja',\n            },\n            sk: {\n                foreColor: 'Farba textu',\n                backColor: 'Farba pozadia'\n            },\n            tr: {\n                foreColor: 'Yazı rengi',\n                backColor: 'Arka plan rengi',\n                foreColorRemove: 'Yazı rengini kaldır',\n                backColorRemove: 'Arka plan rengini kaldır'\n            },\n            zh_cn: {\n                foreColor: '文字颜色',\n                backColor: '背景颜色'\n            },\n            zh_tw: {\n                foreColor: '文字顏色',\n                backColor: '背景顏色'\n            },\n        }\n    });\n\n    // jshint camelcase:true\n\n\n    function hex(x) {\n        return ('0' + parseInt(x).toString(16)).slice(-2);\n    }\n\n    function colorToHex(rgb) {\n        if (rgb.search('rgb') === -1) {\n            return rgb.replace('#', '');\n        } else if (rgb === 'rgba(0, 0, 0, 0)') {\n            return 'transparent';\n        } else {\n            rgb = rgb.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d?(.\\d+)))?\\)$/);\n            if (rgb == null) {\n                return 'transparent'; // No match, return transparent as unkown color\n            }\n            return hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3]);\n        }\n    }\n\n    function colorTagHandler(element, trumbowyg) {\n        var tags = [];\n\n        if (!element.style) {\n            return tags;\n        }\n\n        // background color\n        if (element.style.backgroundColor !== '') {\n            var backColor = colorToHex(element.style.backgroundColor);\n            if (trumbowyg.o.plugins.colors.colorList.indexOf(backColor) >= 0) {\n                tags.push('backColor' + backColor);\n            } else {\n                tags.push('backColorFree');\n            }\n        }\n\n        // text color\n        var foreColor;\n        if (element.style.color !== '') {\n            foreColor = colorToHex(element.style.color);\n        } else if (element.hasAttribute('color')) {\n            foreColor = colorToHex(element.getAttribute('color'));\n        }\n        if (foreColor) {\n            if (trumbowyg.o.plugins.colors.colorList.indexOf(foreColor) >= 0) {\n                tags.push('foreColor' + foreColor);\n            } else {\n                tags.push('foreColorFree');\n            }\n        }\n\n        return tags;\n    }\n\n    var defaultOptions = {\n        colorList: [\n            'ffffff', '000000', 'eeece1', '1f497d', '4f81bd', 'c0504d', '9bbb59', '8064a2', '4bacc6', 'f79646', 'ffff00',\n            'f2f2f2', '7f7f7f', 'ddd9c3', 'c6d9f0', 'dbe5f1', 'f2dcdb', 'ebf1dd', 'e5e0ec', 'dbeef3', 'fdeada', 'fff2ca',\n            'd8d8d8', '595959', 'c4bd97', '8db3e2', 'b8cce4', 'e5b9b7', 'd7e3bc', 'ccc1d9', 'b7dde8', 'fbd5b5', 'ffe694',\n            'bfbfbf', '3f3f3f', '938953', '548dd4', '95b3d7', 'd99694', 'c3d69b', 'b2a2c7', 'b7dde8', 'fac08f', 'f2c314',\n            'a5a5a5', '262626', '494429', '17365d', '366092', '953734', '76923c', '5f497a', '92cddc', 'e36c09', 'c09100',\n            '7f7f7f', '0c0c0c', '1d1b10', '0f243e', '244061', '632423', '4f6128', '3f3151', '31859b', '974806', '7f6000'\n        ],\n        foreColorList: null, // fallbacks on colorList\n        backColorList: null, // fallbacks on colorList\n        allowCustomForeColor: true,\n        allowCustomBackColor: true,\n        displayAsList: false,\n    };\n\n    // Add all colors in two dropdowns\n    $.extend(true, $.trumbowyg, {\n        plugins: {\n            color: {\n                init: function (trumbowyg) {\n                    trumbowyg.o.plugins.colors = trumbowyg.o.plugins.colors || defaultOptions;\n                    var dropdownClass = trumbowyg.o.plugins.colors.displayAsList ? trumbowyg.o.prefix + 'dropdown--color-list' : '';\n\n                    var foreColorBtnDef = {\n                        dropdown: buildDropdown('foreColor', trumbowyg),\n                        dropdownClass: dropdownClass,\n                    },\n                    backColorBtnDef = {\n                        dropdown: buildDropdown('backColor', trumbowyg),\n                        dropdownClass: dropdownClass,\n                    };\n\n                    trumbowyg.addBtnDef('foreColor', foreColorBtnDef);\n                    trumbowyg.addBtnDef('backColor', backColorBtnDef);\n                },\n                tagHandler: colorTagHandler\n            }\n        }\n    });\n\n    function buildDropdown(fn, trumbowyg) {\n        var dropdown = [],\n            trumbowygColorOptions = trumbowyg.o.plugins.colors,\n            colorList = trumbowygColorOptions[fn + 'List'] || trumbowygColorOptions.colorList;\n\n        $.each(colorList, function (i, color) {\n            var btn = fn + color,\n                btnDef = {\n                    fn: fn,\n                    forceCss: true,\n                    hasIcon: false,\n                    text: trumbowyg.lang['#' + color] || ('#' + color),\n                    param: '#' + color,\n                    style: 'background-color: #' + color + ';'\n                };\n\n            if (trumbowygColorOptions.displayAsList && fn === 'foreColor') {\n                btnDef.style = 'color: #' + color + ' !important;';\n            }\n\n            trumbowyg.addBtnDef(btn, btnDef);\n            dropdown.push(btn);\n        });\n\n        // Remove color\n        var removeColorButtonName = fn + 'Remove',\n            removeColorBtnDef = {\n                fn: 'removeFormat',\n                hasIcon: false,\n                param: fn,\n                style: 'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAG0lEQVQIW2NkQAAfEJMRmwBYhoGBYQtMBYoAADziAp0jtJTgAAAAAElFTkSuQmCC);'\n            };\n\n        if (trumbowygColorOptions.displayAsList) {\n            removeColorBtnDef.style = '';\n        }\n\n        trumbowyg.addBtnDef(removeColorButtonName, removeColorBtnDef);\n        dropdown.push(removeColorButtonName);\n\n        // Custom color\n        if (trumbowygColorOptions['allowCustom' + fn.charAt(0).toUpperCase() + fn.substr(1)]) {\n            // add free color btn\n            var freeColorButtonName = fn + 'Free',\n                freeColorBtnDef = {\n                    fn: function () {\n                        trumbowyg.openModalInsert(trumbowyg.lang[fn],\n                            {\n                                color: {\n                                    label: fn,\n                                    forceCss: true,\n                                    type: 'color',\n                                    value: '#FFFFFF'\n                                }\n                            },\n                            // callback\n                            function (values) {\n                                trumbowyg.execCmd(fn, values.color);\n                                return true;\n                            }\n                        );\n                    },\n                    hasIcon: false,\n                    text: '#',\n                    // style adjust for displaying the text\n                    style: 'text-indent: 0; line-height: 20px; padding: 0 5px;'\n                };\n\n            trumbowyg.addBtnDef(freeColorButtonName, freeColorBtnDef);\n            dropdown.push(freeColorButtonName);\n        }\n\n        return dropdown;\n    }\n})(jQuery);\n\n\n/* ===========================================================\n * trumbowyg.emoji.js v0.1\n * Emoji picker plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author : Nicolas Pion\n *          Twitter : @nicolas_pion\n */\n\n(function ($) {\n    'use strict';\n\n    var defaultOptions = {\n        emojiList: [\n            '&#x2049',\n            '&#x2122',\n            '&#x2139',\n            '&#x2194',\n            '&#x2195',\n            '&#x2196',\n            '&#x2197',\n            '&#x2198',\n            '&#x2199',\n            '&#x2328',\n            '&#x2600',\n            '&#x2601',\n            '&#x2602',\n            '&#x2603',\n            '&#x2604',\n            '&#x2611',\n            '&#x2614',\n            '&#x2615',\n            '&#x2618',\n            '&#x2620',\n            '&#x2622',\n            '&#x2623',\n            '&#x2626',\n            '&#x2638',\n            '&#x2639',\n            '&#x2640',\n            '&#x2642',\n            '&#x2648',\n            '&#x2649',\n            '&#x2650',\n            '&#x2651',\n            '&#x2652',\n            '&#x2653',\n            '&#x2660',\n            '&#x2663',\n            '&#x2665',\n            '&#x2666',\n            '&#x2668',\n            '&#x2692',\n            '&#x2693',\n            '&#x2694',\n            '&#x2695',\n            '&#x2696',\n            '&#x2697',\n            '&#x2699',\n            '&#x2702',\n            '&#x2705',\n            '&#x2708',\n            '&#x2709',\n            '&#x2712',\n            '&#x2714',\n            '&#x2716',\n            '&#x2721',\n            '&#x2728',\n            '&#x2733',\n            '&#x2734',\n            '&#x2744',\n            '&#x2747',\n            '&#x2753',\n            '&#x2754',\n            '&#x2755',\n            '&#x2757',\n            '&#x2763',\n            '&#x2764',\n            '&#x2795',\n            '&#x2796',\n            '&#x2797',\n            '&#x2934',\n            '&#x2935',\n            '&#x3030',\n            '&#x3297',\n            '&#x3299',\n            '&#x1F600',\n            '&#x1F603',\n            '&#x1F604',\n            '&#x1F601',\n            '&#x1F606',\n            '&#x1F605',\n            '&#x1F602',\n            '&#x1F923',\n            '&#x263A',\n            '&#x1F60A',\n            '&#x1F607',\n            '&#x1F642',\n            '&#x1F643',\n            '&#x1F609',\n            '&#x1F60C',\n            '&#x1F972',\n            '&#x1F60D',\n            '&#x1F970',\n            '&#x1F618',\n            '&#x1F617',\n            '&#x1F619',\n            '&#x1F61A',\n            '&#x1F60B',\n            '&#x1F61B',\n            '&#x1F61D',\n            '&#x1F61C',\n            '&#x1F92A',\n            '&#x1F928',\n            '&#x1F9D0',\n            '&#x1F913',\n            '&#x1F60E',\n            '&#x1F929',\n            '&#x1F973',\n            '&#x1F60F',\n            '&#x1F612',\n            '&#x1F61E',\n            '&#x1F614',\n            '&#x1F61F',\n            '&#x1F615',\n            '&#x1F641',\n            '&#x1F623',\n            '&#x1F616',\n            '&#x1F62B',\n            '&#x1F629',\n            '&#x1F97A',\n            '&#x1F622',\n            '&#x1F62D',\n            '&#x1F624',\n            '&#x1F62E',\n            '&#x1F620',\n            '&#x1F621',\n            '&#x1F92C',\n            '&#x1F92F',\n            '&#x1F633',\n            '&#x1F636',\n            '&#x1F975',\n            '&#x1F976',\n            '&#x1F631',\n            '&#x1F628',\n            '&#x1F630',\n            '&#x1F625',\n            '&#x1F613',\n            '&#x1F917',\n            '&#x1F914',\n            '&#x1F92D',\n            '&#x1F971',\n            '&#x1F92B',\n            '&#x1F925',\n            '&#x1F610',\n            '&#x1F611',\n            '&#x1F62C',\n            '&#x1F644',\n            '&#x1F62F',\n            '&#x1F626',\n            '&#x1F627',\n            '&#x1F632',\n            '&#x1F634',\n            '&#x1F924',\n            '&#x1F62A',\n            '&#x1F635',\n            '&#x1F910',\n            '&#x1F974',\n            '&#x1F922',\n            '&#x1F92E',\n            '&#x1F927',\n            '&#x1F637',\n            '&#x1F912',\n            '&#x1F915',\n            '&#x1F911',\n            '&#x1F920',\n            '&#x1F978',\n            '&#x1F608',\n            '&#x1F47F',\n            '&#x1F479',\n            '&#x1F47A',\n            '&#x1F921',\n            '&#x1F4A9',\n            '&#x1F47B',\n            '&#x1F480',\n            '&#x1F47D',\n            '&#x1F47E',\n            '&#x1F916',\n            '&#x1F383',\n            '&#x1F63A',\n            '&#x1F638',\n            '&#x1F639',\n            '&#x1F63B',\n            '&#x1F63C',\n            '&#x1F63D',\n            '&#x1F640',\n            '&#x1F63F',\n            '&#x1F63E',\n            '&#x1F932',\n            '&#x1F450',\n            '&#x1F64C',\n            '&#x1F44F',\n            '&#x1F91D',\n            '&#x1F44D',\n            '&#x1F44E',\n            '&#x1F44A',\n            '&#x270A',\n            '&#x1F91B',\n            '&#x1F91C',\n            '&#x1F91E',\n            '&#x270C',\n            '&#x1F91F',\n            '&#x1F918',\n            '&#x1F44C',\n            '&#x1F90F',\n            '&#x1F90C',\n            '&#x1F448',\n            '&#x1F449',\n            '&#x1F446',\n            '&#x1F447',\n            '&#x261D',\n            '&#x270B',\n            '&#x1F91A',\n            '&#x1F590',\n            '&#x1F596',\n            '&#x1F44B',\n            '&#x1F919',\n            '&#x1F4AA',\n            '&#x1F9BE',\n            '&#x1F595',\n            '&#x270D',\n            '&#x1F64F',\n            '&#x1F9B6',\n            '&#x1F9B5',\n            '&#x1F9BF',\n            '&#x1F484',\n            '&#x1F48B',\n            '&#x1F444',\n            '&#x1F9B7',\n            '&#x1F445',\n            '&#x1F442',\n            '&#x1F9BB',\n            '&#x1F443',\n            '&#x1F463',\n            '&#x1F441',\n            '&#x1F440',\n            '&#x1F9E0',\n            '&#x1FAC0',\n            '&#x1FAC1',\n            '&#x1F9B4',\n            '&#x1F5E3',\n            '&#x1F464',\n            '&#x1F465',\n            '&#x1FAC2',\n            '&#x1F476',\n            '&#x1F467',\n            '&#x1F9D2',\n            '&#x1F466',\n            '&#x1F469',\n            '&#x1F9D1',\n            '&#x1F468',\n            '&#x1F471',\n            '&#x1F9D4',\n            '&#x1F475',\n            '&#x1F9D3',\n            '&#x1F474',\n            '&#x1F472',\n            '&#x1F473',\n            '&#x1F9D5',\n            '&#x1F46E',\n            '&#x1F477',\n            '&#x1F482',\n            '&#x1F575',\n            '&#x1F470',\n            '&#x1F935',\n            '&#x1F478',\n            '&#x1F934',\n            '&#x1F9B8',\n            '&#x1F9B9',\n            '&#x1F977',\n            '&#x1F936',\n            '&#x1F385',\n            '&#x1F9D9',\n            '&#x1F9DD',\n            '&#x1F9DB',\n            '&#x1F9DF',\n            '&#x1F9DE',\n            '&#x1F9DC',\n            '&#x1F9DA',\n            '&#x1F47C',\n            '&#x1F930',\n            '&#x1F931',\n            '&#x1F647',\n            '&#x1F481',\n            '&#x1F645',\n            '&#x1F646',\n            '&#x1F64B',\n            '&#x1F9CF',\n            '&#x1F926',\n            '&#x1F937',\n            '&#x1F64E',\n            '&#x1F64D',\n            '&#x1F487',\n            '&#x1F486',\n            '&#x1F9D6',\n            '&#x1F485',\n            '&#x1F933',\n            '&#x1F483',\n            '&#x1F57A',\n            '&#x1F46F',\n            '&#x1F574',\n            '&#x1F6B6',\n            '&#x1F9CE',\n            '&#x1F3C3',\n            '&#x1F9CD',\n            '&#x1F46B',\n            '&#x1F46D',\n            '&#x1F46C',\n            '&#x1F491',\n            '&#x1F48F',\n            '&#x1F46A',\n            '&#x1F9F6',\n            '&#x1F9F5',\n            '&#x1F9E5',\n            '&#x1F97C',\n            '&#x1F9BA',\n            '&#x1F45A',\n            '&#x1F455',\n            '&#x1F456',\n            '&#x1FA72',\n            '&#x1FA73',\n            '&#x1F454',\n            '&#x1F457',\n            '&#x1F459',\n            '&#x1FA71',\n            '&#x1F458',\n            '&#x1F97B',\n            '&#x1F97F',\n            '&#x1F460',\n            '&#x1F461',\n            '&#x1F462',\n            '&#x1F45E',\n            '&#x1F45F',\n            '&#x1F97E',\n            '&#x1FA74',\n            '&#x1F9E6',\n            '&#x1F9E4',\n            '&#x1F9E3',\n            '&#x1F3A9',\n            '&#x1F9E2',\n            '&#x1F452',\n            '&#x1F393',\n            '&#x26D1',\n            '&#x1FA96',\n            '&#x1F451',\n            '&#x1F48D',\n            '&#x1F45D',\n            '&#x1F45B',\n            '&#x1F45C',\n            '&#x1F4BC',\n            '&#x1F392',\n            '&#x1F9F3',\n            '&#x1F453',\n            '&#x1F576',\n            '&#x1F97D',\n            '&#x1F302',\n            '&#x1F9B1',\n            '&#x1F9B0',\n            '&#x1F9B3',\n            '&#x1F9B2',\n            '&#x1F436',\n            '&#x1F431',\n            '&#x1F42D',\n            '&#x1F439',\n            '&#x1F430',\n            '&#x1F98A',\n            '&#x1F43B',\n            '&#x1F43C',\n            '&#x1F428',\n            '&#x1F42F',\n            '&#x1F981',\n            '&#x1F42E',\n            '&#x1F437',\n            '&#x1F43D',\n            '&#x1F438',\n            '&#x1F435',\n            '&#x1F648',\n            '&#x1F649',\n            '&#x1F64A',\n            '&#x1F412',\n            '&#x1F414',\n            '&#x1F427',\n            '&#x1F426',\n            '&#x1F424',\n            '&#x1F423',\n            '&#x1F425',\n            '&#x1F986',\n            '&#x1F9A4',\n            '&#x1F985',\n            '&#x1F989',\n            '&#x1F987',\n            '&#x1F43A',\n            '&#x1F417',\n            '&#x1F434',\n            '&#x1F984',\n            '&#x1F41D',\n            '&#x1F41B',\n            '&#x1F98B',\n            '&#x1F40C',\n            '&#x1FAB1',\n            '&#x1F41E',\n            '&#x1F41C',\n            '&#x1FAB0',\n            '&#x1F99F',\n            '&#x1FAB3',\n            '&#x1FAB2',\n            '&#x1F997',\n            '&#x1F577',\n            '&#x1F578',\n            '&#x1F982',\n            '&#x1F422',\n            '&#x1F40D',\n            '&#x1F98E',\n            '&#x1F996',\n            '&#x1F995',\n            '&#x1F419',\n            '&#x1F991',\n            '&#x1F990',\n            '&#x1F99E',\n            '&#x1F980',\n            '&#x1F421',\n            '&#x1F420',\n            '&#x1F41F',\n            '&#x1F9AD',\n            '&#x1F42C',\n            '&#x1F433',\n            '&#x1F40B',\n            '&#x1F988',\n            '&#x1F40A',\n            '&#x1F405',\n            '&#x1F406',\n            '&#x1F993',\n            '&#x1F98D',\n            '&#x1F9A7',\n            '&#x1F418',\n            '&#x1F9A3',\n            '&#x1F9AC',\n            '&#x1F99B',\n            '&#x1F98F',\n            '&#x1F42A',\n            '&#x1F42B',\n            '&#x1F992',\n            '&#x1F998',\n            '&#x1F403',\n            '&#x1F402',\n            '&#x1F404',\n            '&#x1F40E',\n            '&#x1F416',\n            '&#x1F40F',\n            '&#x1F411',\n            '&#x1F999',\n            '&#x1F410',\n            '&#x1F98C',\n            '&#x1F415',\n            '&#x1F429',\n            '&#x1F9AE',\n            '&#x1F408',\n            '&#x1F413',\n            '&#x1F983',\n            '&#x1F99A',\n            '&#x1F99C',\n            '&#x1F9A2',\n            '&#x1F9A9',\n            '&#x1F54A',\n            '&#x1F407',\n            '&#x1F99D',\n            '&#x1F9A8',\n            '&#x1F9A1',\n            '&#x1F9AB',\n            '&#x1F9A6',\n            '&#x1F9A5',\n            '&#x1F401',\n            '&#x1F400',\n            '&#x1F43F',\n            '&#x1F994',\n            '&#x1F43E',\n            '&#x1F409',\n            '&#x1F432',\n            '&#x1F335',\n            '&#x1F384',\n            '&#x1F332',\n            '&#x1F333',\n            '&#x1F334',\n            '&#x1F331',\n            '&#x1F33F',\n            '&#x1F340',\n            '&#x1F38D',\n            '&#x1F38B',\n            '&#x1F343',\n            '&#x1F342',\n            '&#x1F341',\n            '&#x1FAB6',\n            '&#x1F344',\n            '&#x1F41A',\n            '&#x1FAA8',\n            '&#x1FAB5',\n            '&#x1F33E',\n            '&#x1FAB4',\n            '&#x1F490',\n            '&#x1F337',\n            '&#x1F339',\n            '&#x1F940',\n            '&#x1F33A',\n            '&#x1F338',\n            '&#x1F33C',\n            '&#x1F33B',\n            '&#x1F31E',\n            '&#x1F31D',\n            '&#x1F31B',\n            '&#x1F31C',\n            '&#x1F31A',\n            '&#x1F315',\n            '&#x1F316',\n            '&#x1F317',\n            '&#x1F318',\n            '&#x1F311',\n            '&#x1F312',\n            '&#x1F313',\n            '&#x1F314',\n            '&#x1F319',\n            '&#x1F30E',\n            '&#x1F30D',\n            '&#x1F30F',\n            '&#x1FA90',\n            '&#x1F4AB',\n            '&#x2B50',\n            '&#x1F31F',\n            '&#x26A1',\n            '&#x1F4A5',\n            '&#x1F525',\n            '&#x1F32A',\n            '&#x1F308',\n            '&#x1F324',\n            '&#x26C5',\n            '&#x1F325',\n            '&#x1F326',\n            '&#x1F327',\n            '&#x26C8',\n            '&#x1F329',\n            '&#x1F328',\n            '&#x26C4',\n            '&#x1F32C',\n            '&#x1F4A8',\n            '&#x1F4A7',\n            '&#x1F4A6',\n            '&#x1F30A',\n            '&#x1F32B',\n            '&#x1F34F',\n            '&#x1F34E',\n            '&#x1F350',\n            '&#x1F34A',\n            '&#x1F34B',\n            '&#x1F34C',\n            '&#x1F349',\n            '&#x1F347',\n            '&#x1FAD0',\n            '&#x1F353',\n            '&#x1F348',\n            '&#x1F352',\n            '&#x1F351',\n            '&#x1F96D',\n            '&#x1F34D',\n            '&#x1F965',\n            '&#x1F95D',\n            '&#x1F345',\n            '&#x1F346',\n            '&#x1F951',\n            '&#x1FAD2',\n            '&#x1F966',\n            '&#x1F96C',\n            '&#x1FAD1',\n            '&#x1F952',\n            '&#x1F336',\n            '&#x1F33D',\n            '&#x1F955',\n            '&#x1F9C4',\n            '&#x1F9C5',\n            '&#x1F954',\n            '&#x1F360',\n            '&#x1F950',\n            '&#x1F96F',\n            '&#x1F35E',\n            '&#x1F956',\n            '&#x1FAD3',\n            '&#x1F968',\n            '&#x1F9C0',\n            '&#x1F95A',\n            '&#x1F373',\n            '&#x1F9C8',\n            '&#x1F95E',\n            '&#x1F9C7',\n            '&#x1F953',\n            '&#x1F969',\n            '&#x1F357',\n            '&#x1F356',\n            '&#x1F32D',\n            '&#x1F354',\n            '&#x1F35F',\n            '&#x1F355',\n            '&#x1F96A',\n            '&#x1F959',\n            '&#x1F9C6',\n            '&#x1F32E',\n            '&#x1F32F',\n            '&#x1FAD4',\n            '&#x1F957',\n            '&#x1F958',\n            '&#x1FAD5',\n            '&#x1F96B',\n            '&#x1F35D',\n            '&#x1F35C',\n            '&#x1F372',\n            '&#x1F35B',\n            '&#x1F363',\n            '&#x1F371',\n            '&#x1F95F',\n            '&#x1F9AA',\n            '&#x1F364',\n            '&#x1F359',\n            '&#x1F35A',\n            '&#x1F358',\n            '&#x1F365',\n            '&#x1F960',\n            '&#x1F96E',\n            '&#x1F362',\n            '&#x1F361',\n            '&#x1F367',\n            '&#x1F368',\n            '&#x1F366',\n            '&#x1F967',\n            '&#x1F9C1',\n            '&#x1F370',\n            '&#x1F382',\n            '&#x1F36E',\n            '&#x1F36D',\n            '&#x1F36C',\n            '&#x1F36B',\n            '&#x1F37F',\n            '&#x1F369',\n            '&#x1F36A',\n            '&#x1F330',\n            '&#x1F95C',\n            '&#x1F36F',\n            '&#x1F95B',\n            '&#x1F37C',\n            '&#x1F375',\n            '&#x1FAD6',\n            '&#x1F9C9',\n            '&#x1F9CB',\n            '&#x1F9C3',\n            '&#x1F964',\n            '&#x1F376',\n            '&#x1F37A',\n            '&#x1F37B',\n            '&#x1F942',\n            '&#x1F377',\n            '&#x1F943',\n            '&#x1F378',\n            '&#x1F379',\n            '&#x1F37E',\n            '&#x1F9CA',\n            '&#x1F944',\n            '&#x1F374',\n            '&#x1F37D',\n            '&#x1F963',\n            '&#x1F961',\n            '&#x1F962',\n            '&#x1F9C2',\n            '&#x26BD',\n            '&#x1F3C0',\n            '&#x1F3C8',\n            '&#x26BE',\n            '&#x1F94E',\n            '&#x1F3BE',\n            '&#x1F3D0',\n            '&#x1F3C9',\n            '&#x1F94F',\n            '&#x1FA83',\n            '&#x1F3B1',\n            '&#x1FA80',\n            '&#x1F3D3',\n            '&#x1F3F8',\n            '&#x1F3D2',\n            '&#x1F3D1',\n            '&#x1F94D',\n            '&#x1F3CF',\n            '&#x1F945',\n            '&#x26F3',\n            '&#x1FA81',\n            '&#x1F3F9',\n            '&#x1F3A3',\n            '&#x1F93F',\n            '&#x1F94A',\n            '&#x1F94B',\n            '&#x1F3BD',\n            '&#x1F6F9',\n            '&#x1F6FC',\n            '&#x1F6F7',\n            '&#x26F8',\n            '&#x1F94C',\n            '&#x1F3BF',\n            '&#x26F7',\n            '&#x1F3C2',\n            '&#x1FA82',\n            '&#x1F3CB',\n            '&#x1F93C',\n            '&#x1F938',\n            '&#x26F9',\n            '&#x1F93A',\n            '&#x1F93E',\n            '&#x1F3CC',\n            '&#x1F3C7',\n            '&#x1F9D8',\n            '&#x1F3C4',\n            '&#x1F3CA',\n            '&#x1F93D',\n            '&#x1F6A3',\n            '&#x1F9D7',\n            '&#x1F6B5',\n            '&#x1F6B4',\n            '&#x1F3C6',\n            '&#x1F947',\n            '&#x1F948',\n            '&#x1F949',\n            '&#x1F3C5',\n            '&#x1F396',\n            '&#x1F3F5',\n            '&#x1F397',\n            '&#x1F3AB',\n            '&#x1F39F',\n            '&#x1F3AA',\n            '&#x1F939',\n            '&#x1F3AD',\n            '&#x1FA70',\n            '&#x1F3A8',\n            '&#x1F3AC',\n            '&#x1F3A4',\n            '&#x1F3A7',\n            '&#x1F3BC',\n            '&#x1F3B9',\n            '&#x1F941',\n            '&#x1FA98',\n            '&#x1F3B7',\n            '&#x1F3BA',\n            '&#x1F3B8',\n            '&#x1FA95',\n            '&#x1F3BB',\n            '&#x1FA97',\n            '&#x1F3B2',\n            '&#x265F',\n            '&#x1F3AF',\n            '&#x1F3B3',\n            '&#x1F3AE',\n            '&#x1F3B0',\n            '&#x1F9E9',\n            '&#x1F697',\n            '&#x1F695',\n            '&#x1F699',\n            '&#x1F6FB',\n            '&#x1F68C',\n            '&#x1F68E',\n            '&#x1F3CE',\n            '&#x1F693',\n            '&#x1F691',\n            '&#x1F692',\n            '&#x1F690',\n            '&#x1F69A',\n            '&#x1F69B',\n            '&#x1F69C',\n            '&#x1F9AF',\n            '&#x1F9BD',\n            '&#x1F9BC',\n            '&#x1F6F4',\n            '&#x1F6B2',\n            '&#x1F6F5',\n            '&#x1F3CD',\n            '&#x1F6FA',\n            '&#x1F6A8',\n            '&#x1F694',\n            '&#x1F68D',\n            '&#x1F698',\n            '&#x1F696',\n            '&#x1F6A1',\n            '&#x1F6A0',\n            '&#x1F69F',\n            '&#x1F683',\n            '&#x1F68B',\n            '&#x1F69E',\n            '&#x1F69D',\n            '&#x1F684',\n            '&#x1F685',\n            '&#x1F688',\n            '&#x1F682',\n            '&#x1F686',\n            '&#x1F687',\n            '&#x1F68A',\n            '&#x1F689',\n            '&#x1F6EB',\n            '&#x1F6EC',\n            '&#x1F6E9',\n            '&#x1F4BA',\n            '&#x1F6F0',\n            '&#x1F680',\n            '&#x1F6F8',\n            '&#x1F681',\n            '&#x1F6F6',\n            '&#x26F5',\n            '&#x1F6A4',\n            '&#x1F6E5',\n            '&#x1F6F3',\n            '&#x26F4',\n            '&#x1F6A2',\n            '&#x26FD',\n            '&#x1F6A7',\n            '&#x1F6A6',\n            '&#x1F6A5',\n            '&#x1F68F',\n            '&#x1F5FA',\n            '&#x1F5FF',\n            '&#x1F5FD',\n            '&#x1F5FC',\n            '&#x1F3F0',\n            '&#x1F3EF',\n            '&#x1F3DF',\n            '&#x1F3A1',\n            '&#x1F3A2',\n            '&#x1F3A0',\n            '&#x26F2',\n            '&#x26F1',\n            '&#x1F3D6',\n            '&#x1F3DD',\n            '&#x1F3DC',\n            '&#x1F30B',\n            '&#x26F0',\n            '&#x1F3D4',\n            '&#x1F5FB',\n            '&#x1F3D5',\n            '&#x26FA',\n            '&#x1F3E0',\n            '&#x1F3E1',\n            '&#x1F3D8',\n            '&#x1F3DA',\n            '&#x1F6D6',\n            '&#x1F3D7',\n            '&#x1F3ED',\n            '&#x1F3E2',\n            '&#x1F3EC',\n            '&#x1F3E3',\n            '&#x1F3E4',\n            '&#x1F3E5',\n            '&#x1F3E6',\n            '&#x1F3E8',\n            '&#x1F3EA',\n            '&#x1F3EB',\n            '&#x1F3E9',\n            '&#x1F492',\n            '&#x1F3DB',\n            '&#x26EA',\n            '&#x1F54C',\n            '&#x1F54D',\n            '&#x1F6D5',\n            '&#x1F54B',\n            '&#x26E9',\n            '&#x1F6E4',\n            '&#x1F6E3',\n            '&#x1F5FE',\n            '&#x1F391',\n            '&#x1F3DE',\n            '&#x1F305',\n            '&#x1F304',\n            '&#x1F320',\n            '&#x1F387',\n            '&#x1F386',\n            '&#x1F307',\n            '&#x1F306',\n            '&#x1F3D9',\n            '&#x1F303',\n            '&#x1F30C',\n            '&#x1F309',\n            '&#x1F301',\n            '&#x231A',\n            '&#x1F4F1',\n            '&#x1F4F2',\n            '&#x1F4BB',\n            '&#x1F5A5',\n            '&#x1F5A8',\n            '&#x1F5B1',\n            '&#x1F5B2',\n            '&#x1F579',\n            '&#x1F5DC',\n            '&#x1F4BD',\n            '&#x1F4BE',\n            '&#x1F4BF',\n            '&#x1F4C0',\n            '&#x1F4FC',\n            '&#x1F4F7',\n            '&#x1F4F8',\n            '&#x1F4F9',\n            '&#x1F3A5',\n            '&#x1F4FD',\n            '&#x1F39E',\n            '&#x1F4DE',\n            '&#x260E',\n            '&#x1F4DF',\n            '&#x1F4E0',\n            '&#x1F4FA',\n            '&#x1F4FB',\n            '&#x1F399',\n            '&#x1F39A',\n            '&#x1F39B',\n            '&#x1F9ED',\n            '&#x23F1',\n            '&#x23F2',\n            '&#x23F0',\n            '&#x1F570',\n            '&#x231B',\n            '&#x23F3',\n            '&#x1F4E1',\n            '&#x1F50B',\n            '&#x1F50C',\n            '&#x1F4A1',\n            '&#x1F526',\n            '&#x1F56F',\n            '&#x1FA94',\n            '&#x1F9EF',\n            '&#x1F6E2',\n            '&#x1F4B8',\n            '&#x1F4B5',\n            '&#x1F4B4',\n            '&#x1F4B6',\n            '&#x1F4B7',\n            '&#x1FA99',\n            '&#x1F4B0',\n            '&#x1F4B3',\n            '&#x1F48E',\n            '&#x1FA9C',\n            '&#x1F9F0',\n            '&#x1FA9B',\n            '&#x1F527',\n            '&#x1F528',\n            '&#x1F6E0',\n            '&#x26CF',\n            '&#x1F529',\n            '&#x1F9F1',\n            '&#x26D3',\n            '&#x1FA9D',\n            '&#x1FAA2',\n            '&#x1F9F2',\n            '&#x1F52B',\n            '&#x1F4A3',\n            '&#x1F9E8',\n            '&#x1FA93',\n            '&#x1FA9A',\n            '&#x1F52A',\n            '&#x1F5E1',\n            '&#x1F6E1',\n            '&#x1F6AC',\n            '&#x26B0',\n            '&#x1FAA6',\n            '&#x26B1',\n            '&#x1F3FA',\n            '&#x1FA84',\n            '&#x1F52E',\n            '&#x1F4FF',\n            '&#x1F9FF',\n            '&#x1F488',\n            '&#x1F52D',\n            '&#x1F52C',\n            '&#x1F573',\n            '&#x1FA9F',\n            '&#x1FA79',\n            '&#x1FA7A',\n            '&#x1F48A',\n            '&#x1F489',\n            '&#x1FA78',\n            '&#x1F9EC',\n            '&#x1F9A0',\n            '&#x1F9EB',\n            '&#x1F9EA',\n            '&#x1F321',\n            '&#x1FAA4',\n            '&#x1F9F9',\n            '&#x1F9FA',\n            '&#x1FAA1',\n            '&#x1F9FB',\n            '&#x1F6BD',\n            '&#x1FAA0',\n            '&#x1FAA3',\n            '&#x1F6B0',\n            '&#x1F6BF',\n            '&#x1F6C1',\n            '&#x1F6C0',\n            '&#x1FAA5',\n            '&#x1F9FC',\n            '&#x1FA92',\n            '&#x1F9FD',\n            '&#x1F9F4',\n            '&#x1F6CE',\n            '&#x1F511',\n            '&#x1F5DD',\n            '&#x1F6AA',\n            '&#x1FA91',\n            '&#x1FA9E',\n            '&#x1F6CB',\n            '&#x1F6CF',\n            '&#x1F6CC',\n            '&#x1F9F8',\n            '&#x1F5BC',\n            '&#x1F6CD',\n            '&#x1F6D2',\n            '&#x1F381',\n            '&#x1F388',\n            '&#x1F38F',\n            '&#x1F380',\n            '&#x1F38A',\n            '&#x1F389',\n            '&#x1FA85',\n            '&#x1FA86',\n            '&#x1F38E',\n            '&#x1F3EE',\n            '&#x1F390',\n            '&#x1F9E7',\n            '&#x1F4E9',\n            '&#x1F4E8',\n            '&#x1F4E7',\n            '&#x1F48C',\n            '&#x1F4E5',\n            '&#x1F4E4',\n            '&#x1F4E6',\n            '&#x1F3F7',\n            '&#x1F4EA',\n            '&#x1F4EB',\n            '&#x1F4EC',\n            '&#x1F4ED',\n            '&#x1F4EE',\n            '&#x1F4EF',\n            '&#x1FAA7',\n            '&#x1F4DC',\n            '&#x1F4C3',\n            '&#x1F4C4',\n            '&#x1F4D1',\n            '&#x1F9FE',\n            '&#x1F4CA',\n            '&#x1F4C8',\n            '&#x1F4C9',\n            '&#x1F5D2',\n            '&#x1F5D3',\n            '&#x1F4C6',\n            '&#x1F4C5',\n            '&#x1F5D1',\n            '&#x1F4C7',\n            '&#x1F5C3',\n            '&#x1F5F3',\n            '&#x1F5C4',\n            '&#x1F4CB',\n            '&#x1F4C1',\n            '&#x1F4C2',\n            '&#x1F5C2',\n            '&#x1F5DE',\n            '&#x1F4F0',\n            '&#x1F4D3',\n            '&#x1F4D4',\n            '&#x1F4D2',\n            '&#x1F4D5',\n            '&#x1F4D7',\n            '&#x1F4D8',\n            '&#x1F4D9',\n            '&#x1F4DA',\n            '&#x1F4D6',\n            '&#x1F516',\n            '&#x1F9F7',\n            '&#x1F517',\n            '&#x1F4CE',\n            '&#x1F587',\n            '&#x1F4D0',\n            '&#x1F4CF',\n            '&#x1F9EE',\n            '&#x1F4CC',\n            '&#x1F4CD',\n            '&#x1F58A',\n            '&#x1F58B',\n            '&#x1F58C',\n            '&#x1F58D',\n            '&#x1F4DD',\n            '&#x270F',\n            '&#x1F50D',\n            '&#x1F50E',\n            '&#x1F50F',\n            '&#x1F510',\n            '&#x1F512',\n            '&#x1F513',\n            '&#x1F9E1',\n            '&#x1F49B',\n            '&#x1F49A',\n            '&#x1F499',\n            '&#x1F49C',\n            '&#x1F5A4',\n            '&#x1F90E',\n            '&#x1F90D',\n            '&#x1F494',\n            '&#x1F495',\n            '&#x1F49E',\n            '&#x1F493',\n            '&#x1F497',\n            '&#x1F496',\n            '&#x1F498',\n            '&#x1F49D',\n            '&#x1F49F',\n            '&#x262E',\n            '&#x271D',\n            '&#x262A',\n            '&#x1F549',\n            '&#x1F52F',\n            '&#x1F54E',\n            '&#x262F',\n            '&#x1F6D0',\n            '&#x26CE',\n            '&#x264A',\n            '&#x264B',\n            '&#x264C',\n            '&#x264D',\n            '&#x264E',\n            '&#x264F',\n            '&#x1F194',\n            '&#x269B',\n            '&#x1F251',\n            '&#x1F4F4',\n            '&#x1F4F3',\n            '&#x1F236',\n            '&#x1F21A',\n            '&#x1F238',\n            '&#x1F23A',\n            '&#x1F237',\n            '&#x1F19A',\n            '&#x1F4AE',\n            '&#x1F250',\n            '&#x1F234',\n            '&#x1F235',\n            '&#x1F239',\n            '&#x1F232',\n            '&#x1F170',\n            '&#x1F171',\n            '&#x1F18E',\n            '&#x1F191',\n            '&#x1F17E',\n            '&#x1F198',\n            '&#x274C',\n            '&#x2B55',\n            '&#x1F6D1',\n            '&#x26D4',\n            '&#x1F4DB',\n            '&#x1F6AB',\n            '&#x1F4AF',\n            '&#x1F4A2',\n            '&#x1F6B7',\n            '&#x1F6AF',\n            '&#x1F6B3',\n            '&#x1F6B1',\n            '&#x1F51E',\n            '&#x1F4F5',\n            '&#x1F6AD',\n            '&#x203C',\n            '&#x1F505',\n            '&#x1F506',\n            '&#x303D',\n            '&#x26A0',\n            '&#x1F6B8',\n            '&#x1F531',\n            '&#x269C',\n            '&#x1F530',\n            '&#x267B',\n            '&#x1F22F',\n            '&#x1F4B9',\n            '&#x274E',\n            '&#x1F310',\n            '&#x1F4A0',\n            '&#x24C2',\n            '&#x1F300',\n            '&#x1F4A4',\n            '&#x1F3E7',\n            '&#x1F6BE',\n            '&#x267F',\n            '&#x1F17F',\n            '&#x1F233',\n            '&#x1F202',\n            '&#x1F6C2',\n            '&#x1F6C3',\n            '&#x1F6C4',\n            '&#x1F6C5',\n            '&#x1F6D7',\n            '&#x1F6B9',\n            '&#x1F6BA',\n            '&#x1F6BC',\n            '&#x1F6BB',\n            '&#x1F6AE',\n            '&#x1F3A6',\n            '&#x1F4F6',\n            '&#x1F201',\n            '&#x1F523',\n            '&#x1F524',\n            '&#x1F521',\n            '&#x1F520',\n            '&#x1F196',\n            '&#x1F197',\n            '&#x1F199',\n            '&#x1F192',\n            '&#x1F195',\n            '&#x1F193',\n            '&#x0030',\n            '&#x0031',\n            '&#x0032',\n            '&#x0033',\n            '&#x0034',\n            '&#x0035',\n            '&#x0036',\n            '&#x0037',\n            '&#x0038',\n            '&#x0039',\n            '&#x1F51F',\n            '&#x1F522',\n            '&#x0023',\n            '&#x002A',\n            '&#x23CF',\n            '&#x25B6',\n            '&#x23F8',\n            '&#x23EF',\n            '&#x23F9',\n            '&#x23FA',\n            '&#x23ED',\n            '&#x23EE',\n            '&#x23E9',\n            '&#x23EA',\n            '&#x23EB',\n            '&#x23EC',\n            '&#x25C0',\n            '&#x1F53C',\n            '&#x1F53D',\n            '&#x27A1',\n            '&#x2B05',\n            '&#x2B06',\n            '&#x2B07',\n            '&#x21AA',\n            '&#x21A9',\n            '&#x1F500',\n            '&#x1F501',\n            '&#x1F502',\n            '&#x1F504',\n            '&#x1F503',\n            '&#x1F3B5',\n            '&#x1F3B6',\n            '&#x267E',\n            '&#x1F4B2',\n            '&#x1F4B1',\n            '&#x00A9',\n            '&#x00AE',\n            '&#x27B0',\n            '&#x27BF',\n            '&#x1F51A',\n            '&#x1F519',\n            '&#x1F51B',\n            '&#x1F51D',\n            '&#x1F51C',\n            '&#x1F518',\n            '&#x26AA',\n            '&#x26AB',\n            '&#x1F534',\n            '&#x1F535',\n            '&#x1F7E4',\n            '&#x1F7E3',\n            '&#x1F7E2',\n            '&#x1F7E1',\n            '&#x1F7E0',\n            '&#x1F53A',\n            '&#x1F53B',\n            '&#x1F538',\n            '&#x1F539',\n            '&#x1F536',\n            '&#x1F537',\n            '&#x1F533',\n            '&#x1F532',\n            '&#x25AA',\n            '&#x25AB',\n            '&#x25FE',\n            '&#x25FD',\n            '&#x25FC',\n            '&#x25FB',\n            '&#x2B1B',\n            '&#x2B1C',\n            '&#x1F7E7',\n            '&#x1F7E6',\n            '&#x1F7E5',\n            '&#x1F7EB',\n            '&#x1F7EA',\n            '&#x1F7E9',\n            '&#x1F7E8',\n            '&#x1F508',\n            '&#x1F507',\n            '&#x1F509',\n            '&#x1F50A',\n            '&#x1F514',\n            '&#x1F515',\n            '&#x1F4E3',\n            '&#x1F4E2',\n            '&#x1F5E8',\n            '&#x1F4AC',\n            '&#x1F4AD',\n            '&#x1F5EF',\n            '&#x1F0CF',\n            '&#x1F3B4',\n            '&#x1F004',\n            '&#x1F550',\n            '&#x1F551',\n            '&#x1F552',\n            '&#x1F553',\n            '&#x1F554',\n            '&#x1F555',\n            '&#x1F556',\n            '&#x1F557',\n            '&#x1F558',\n            '&#x1F559',\n            '&#x1F55A',\n            '&#x1F55B',\n            '&#x1F55C',\n            '&#x1F55D',\n            '&#x1F55E',\n            '&#x1F55F',\n            '&#x1F560',\n            '&#x1F561',\n            '&#x1F562',\n            '&#x1F563',\n            '&#x1F564',\n            '&#x1F565',\n            '&#x1F566',\n            '&#x1F567',\n            '&#x26A7',\n            '&#x1F3F3',\n            '&#x1F3F4',\n            '&#x1F3C1',\n            '&#x1F6A9',\n            '&#x1F1E6',\n            '&#x1F1E9',\n            '&#x1F1E7',\n            '&#x1F1EE',\n            '&#x1F1FB',\n            '&#x1F1F0',\n            '&#x1F1E8',\n            '&#x1F1F9',\n            '&#x1F1ED',\n            '&#x1F1EA',\n            '&#x1F1F8',\n            '&#x1F1EC',\n            '&#x1F1EB',\n            '&#x1F1F5',\n            '&#x1F1EF',\n            '&#x1F38C',\n            '&#x1F1FD',\n            '&#x1F1F1',\n            '&#x1F1F2',\n            '&#x1F1FE',\n            '&#x1F1F3',\n            '&#x1F1F4',\n            '&#x1F1F6',\n            '&#x1F1F7',\n            '&#x1F1FC',\n            '&#x1F1FF',\n            '&#x1F1FA',\n            '&#x1F3FB',\n            '&#x1F3FC',\n            '&#x1F3FD',\n            '&#x1F3FE',\n            '&#x1F3FF'\n        ]\n    };\n\n    // Add all emoji in a dropdown\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            // jshint camelcase:false\n            en: {\n                emoji: 'Add an emoji'\n            },\n            az: {\n                emoji: 'Emoji yerləşdir'\n            },\n            ca: {\n                emoji: 'Afegir una emoticona'\n            },\n            da: {\n                emoji: 'Tilføj et humørikon'\n            },\n            de: {\n                emoji: 'Emoticon einfügen'\n            },\n            es: {\n                emoji: 'Añadir un emoticono'\n            },\n            et: {\n                emoji: 'Lisa emotikon'\n            },\n            fr: {\n                emoji: 'Ajouter un emoji'\n            },\n            hu: {\n                emoji: 'Emoji beszúrás'\n            },\n            ja: {\n                emoji: '絵文字の挿入'\n            },\n            ko: {\n                emoji: '이모지 넣기'\n            },\n            ru: {\n                emoji: 'Вставить emoji'\n            },\n            sl: {\n                emoji: 'Vstavi emotikon'\n            },\n            tr: {\n                emoji: 'Emoji ekle'\n            },\n            zh_cn: {\n                emoji: '添加表情'\n            },\n        },\n        // jshint camelcase:true\n        plugins: {\n            emoji: {\n                init: function (trumbowyg) {\n                    trumbowyg.o.plugins.emoji = trumbowyg.o.plugins.emoji || defaultOptions;\n                    var emojiBtnDef = {\n                        dropdown: buildDropdown(trumbowyg)\n                    };\n                    trumbowyg.addBtnDef('emoji', emojiBtnDef);\n                }\n            }\n        }\n    });\n\n    function buildDropdown(trumbowyg) {\n        var dropdown = [];\n\n        $.each(trumbowyg.o.plugins.emoji.emojiList, function (i, emoji) {\n            if ($.isArray(emoji)) { // Custom emoji behaviour\n                var emojiCode = emoji[0],\n                    emojiUrl = emoji[1],\n                    emojiHtml = '<img src=\"' + emojiUrl + '\" alt=\"' + emojiCode + '\">',\n                    customEmojiBtnName = 'emoji-' + emojiCode.replace(/:/g, ''),\n                    customEmojiBtnDef = {\n                        hasIcon: false,\n                        text: emojiHtml,\n                        fn: function () {\n                            trumbowyg.execCmd('insertImage', emojiUrl, false, true);\n                            return true;\n                        }\n                    };\n\n                trumbowyg.addBtnDef(customEmojiBtnName, customEmojiBtnDef);\n                dropdown.push(customEmojiBtnName);\n            } else { // Default behaviour\n                var btn = emoji.replace(/:/g, ''),\n                    defaultEmojiBtnName = 'emoji-' + btn,\n                    defaultEmojiBtnDef = {\n                        text: emoji,\n                        fn: function () {\n                            var encodedEmoji = String.fromCodePoint(emoji.replace('&#', '0'));\n                            trumbowyg.execCmd('insertText', encodedEmoji);\n                            return true;\n                        }\n                    };\n\n                trumbowyg.addBtnDef(defaultEmojiBtnName, defaultEmojiBtnDef);\n                dropdown.push(defaultEmojiBtnName);\n            }\n        });\n\n        return dropdown;\n    }\n})(jQuery);\n\n\n(function ($) {\n    'use strict';\n\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            // jshint camelcase:false\n            en: {\n                fontFamily: 'Font'\n            },\n            az: {\n                fontFamily: 'Şrift'\n            },\n            by: {\n                fontFamily: 'Шрыфт'\n            },\n            ca: {\n                fontFamily: 'Font'\n            },\n            da: {\n                fontFamily: 'Skrifttype'\n            },\n            de: {\n                fontFamily: 'Schriftart'\n            },\n            es: {\n                fontFamily: 'Fuente'\n            },\n            et: {\n                fontFamily: 'Font'\n            },\n            fr: {\n                fontFamily: 'Police'\n            },\n            hu: {\n                fontFamily: 'Betűtípus'\n            },\n            ko: {\n                fontFamily: '글꼴'\n            },\n            nl: {\n                fontFamily: 'Lettertype'\n            },\n            pt_br: {\n                fontFamily: 'Fonte',\n            },\n            ru: {\n                fontFamily: 'Шрифт'\n            },\n            sl: {\n                fontFamily: 'Pisava'\n            },\n            tr: {\n                fontFamily: 'Yazı tipi'\n            },\n            zh_tw: {\n                fontFamily: '字體',\n            },\n        }\n    });\n    // jshint camelcase:true\n\n    var defaultOptions = {\n        fontList: [\n            {name: 'Arial', family: 'Arial, Helvetica, sans-serif'},\n            {name: 'Arial Black', family: 'Arial Black, Gadget, sans-serif'},\n            {name: 'Comic Sans', family: 'Comic Sans MS, Textile, cursive, sans-serif'},\n            {name: 'Courier New', family: 'Courier New, Courier, monospace'},\n            {name: 'Georgia', family: 'Georgia, serif'},\n            {name: 'Impact', family: 'Impact, Charcoal, sans-serif'},\n            {name: 'Lucida Console', family: 'Lucida Console, Monaco, monospace'},\n            {name: 'Lucida Sans', family: 'Lucida Sans Uncide, Lucida Grande, sans-serif'},\n            {name: 'Palatino', family: 'Palatino Linotype, Book Antiqua, Palatino, serif'},\n            {name: 'Tahoma', family: 'Tahoma, Geneva, sans-serif'},\n            {name: 'Times New Roman', family: 'Times New Roman, Times, serif'},\n            {name: 'Trebuchet', family: 'Trebuchet MS, Helvetica, sans-serif'},\n            {name: 'Verdana', family: 'Verdana, Geneva, sans-serif'}\n        ]\n    };\n\n    // Add dropdown with web safe fonts\n    $.extend(true, $.trumbowyg, {\n        plugins: {\n            fontfamily: {\n                init: function (trumbowyg) {\n                    trumbowyg.o.plugins.fontfamily = $.extend({},\n                      defaultOptions,\n                      trumbowyg.o.plugins.fontfamily || {}\n                    );\n\n                    trumbowyg.addBtnDef('fontfamily', {\n                        dropdown: buildDropdown(trumbowyg),\n                        hasIcon: false,\n                        text: trumbowyg.lang.fontFamily\n                    });\n                }\n            }\n        }\n    });\n\n    function buildDropdown(trumbowyg) {\n        var dropdown = [];\n\n        $.each(trumbowyg.o.plugins.fontfamily.fontList, function (index, font) {\n            trumbowyg.addBtnDef('fontfamily_' + index, {\n                title: '<span style=\"font-family: ' + font.family + ';\">' + font.name + '</span>',\n                hasIcon: false,\n                fn: function () {\n                    trumbowyg.execCmd('fontName', font.family, true);\n                }\n            });\n            dropdown.push('fontfamily_' + index);\n        });\n\n        return dropdown;\n    }\n})(jQuery);\n\n\n(function ($) {\n    'use strict';\n\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            // jshint camelcase:false\n            en: {\n                fontsize: 'Font size',\n                fontsizes: {\n                    'x-small': 'Extra small',\n                    'small': 'Small',\n                    'medium': 'Regular',\n                    'large': 'Large',\n                    'x-large': 'Extra large',\n                    'custom': 'Custom'\n                },\n                fontCustomSize: {\n                    title: 'Custom Font Size',\n                    label: 'Font Size',\n                    value: '48px'\n                }\n            },\n            az: {\n                fontsize: 'Şrift həcmi',\n                fontsizes: {\n                    'x-small': 'Daha kiçik',\n                    'small': 'Kiçik',\n                    'medium': 'Normal',\n                    'large': 'Böyük',\n                    'x-large': 'Daha böyük',\n                    'custom': 'Fərdi həcm'\n                },\n                fontCustomSize: {\n                    title: 'Fərdi şrift həcmi',\n                    label: 'Şrift həcmi',\n                    value: '48px'\n                }\n            },\n            by: {\n                fontsize: 'Памер шрыфта',\n                fontsizes: {\n                    'x-small': 'Вельмі маленькі',\n                    'small': 'Маленькі',\n                    'medium': 'Звычайны',\n                    'large': 'Вялікі',\n                    'x-large': 'Вельмі вялікі',\n                    'custom': 'Карыстальніцкі'\n                },\n                fontCustomSize: {\n                    title: 'Карыстальніцкі Памер Шрыфта',\n                    label: 'Памер Шрыфта',\n                    value: '48px'\n                }\n            },\n            ca: {\n                fontsize: 'Mida de la lletra',\n                fontsizes: {\n                    'x-small': 'Molt petita',\n                    'small': 'Petita',\n                    'medium': 'Normal',\n                    'large': 'Gran',\n                    'x-large': 'Molt Gran',\n                    'custom': 'Personalitzada'\n                },\n                fontCustomSize: {\n                    title: 'Mida de lletra personalitzada',\n                    label: 'Mida de lletra',\n                    value: '48px'\n                }\n            },\n            da: {\n                fontsize: 'Skriftstørrelse',\n                fontsizes: {\n                    'x-small': 'Ekstra lille',\n                    'small': 'Lille',\n                    'medium': 'Normal',\n                    'large': 'Stor',\n                    'x-large': 'Ekstra stor',\n                    'custom': 'Brugerdefineret'\n                }\n            },\n            de: {\n                fontsize: 'Schriftgröße',\n                fontsizes: {\n                    'x-small': 'Sehr klein',\n                    'small': 'Klein',\n                    'medium': 'Normal',\n                    'large': 'Groß',\n                    'x-large': 'Sehr groß',\n                    'custom': 'Benutzerdefiniert'\n                },\n                fontCustomSize: {\n                    title: 'Benutzerdefinierte Schriftgröße',\n                    label: 'Schriftgröße',\n                    value: '48px'\n                }\n            },\n            es: {\n                fontsize: 'Tamaño de Fuente',\n                fontsizes: {\n                    'x-small': 'Extra pequeña',\n                    'small': 'Pegueña',\n                    'medium': 'Regular',\n                    'large': 'Grande',\n                    'x-large': 'Extra Grande',\n                    'custom': 'Customizada'\n                },\n                fontCustomSize: {\n                    title: 'Tamaño de Fuente Customizada',\n                    label: 'Tamaño de Fuente',\n                    value: '48px'\n                }\n            },\n            et: {\n                fontsize: 'Teksti suurus',\n                fontsizes: {\n                    'x-small': 'Väga väike',\n                    'small': 'Väike',\n                    'medium': 'Tavaline',\n                    'large': 'Suur',\n                    'x-large': 'Väga suur',\n                    'custom': 'Määra ise'\n                },\n                fontCustomSize: {\n                    title: 'Kohandatud teksti suurus',\n                    label: 'Teksti suurus',\n                    value: '48px'\n                }\n            },\n            fr: {\n                fontsize: 'Taille de la police',\n                fontsizes: {\n                    'x-small': 'Très petit',\n                    'small': 'Petit',\n                    'medium': 'Normal',\n                    'large': 'Grand',\n                    'x-large': 'Très grand',\n                    'custom': 'Taille personnalisée'\n                },\n                fontCustomSize: {\n                    title: 'Taille de police personnalisée',\n                    label: 'Taille de la police',\n                    value: '48px'\n                }\n            },\n            hu: {\n                fontsize: 'Betű méret',\n                fontsizes: {\n                    'x-small': 'Extra kicsi',\n                    'small': 'Kicsi',\n                    'medium': 'Normális',\n                    'large': 'Nagy',\n                    'x-large': 'Extra nagy',\n                    'custom': 'Egyedi'\n                },\n                fontCustomSize: {\n                    title: 'Egyedi betű méret',\n                    label: 'Betű méret',\n                    value: '48px'\n                }\n            },\n            it: {\n                fontsize: 'Dimensioni del testo',\n                fontsizes: {\n                    'x-small': 'Molto piccolo',\n                    'small': 'piccolo',\n                    'regular': 'normale',\n                    'large': 'grande',\n                    'x-large': 'Molto grande',\n                    'custom': 'Personalizzato'\n                },\n                fontCustomSize: {\n                    title: 'Dimensioni del testo personalizzato',\n                    label: 'Dimensioni del testo',\n                    value: '48px'\n                }\n            },\n            ko: {\n                fontsize: '글꼴 크기',\n                fontsizes: {\n                    'x-small': '아주 작게',\n                    'small': '작게',\n                    'medium': '보통',\n                    'large': '크게',\n                    'x-large': '아주 크게',\n                    'custom': '사용자 지정'\n                },\n                fontCustomSize: {\n                    title: '사용자 지정 글꼴 크기',\n                    label: '글꼴 크기',\n                    value: '48px'\n                }\n            },\n            nl: {\n                fontsize: 'Lettergrootte',\n                fontsizes: {\n                    'x-small': 'Extra klein',\n                    'small': 'Klein',\n                    'medium': 'Normaal',\n                    'large': 'Groot',\n                    'x-large': 'Extra groot',\n                    'custom': 'Handmatig'\n                },\n                fontCustomSize: {\n                    title: 'Handmatige lettergrootte',\n                    label: 'Lettergrootte',\n                    value: '48px'\n                }\n            },\n            pt_br: {\n                fontsize: 'Tamanho da fonte',\n                fontsizes: {\n                    'x-small': 'Extra pequeno',\n                    'small': 'Pequeno',\n                    'regular': 'Médio',\n                    'large': 'Grande',\n                    'x-large': 'Extra grande',\n                    'custom': 'Personalizado'\n                },\n                fontCustomSize: {\n                    title: 'Tamanho de Fonte Personalizado',\n                    label: 'Tamanho de Fonte',\n                    value: '48px'\n                }\n            },\n            ru: {\n                fontsize: 'Размер шрифта',\n                fontsizes: {\n                    'x-small': 'Очень маленький',\n                    'small': 'Маленький',\n                    'medium': 'Обычный',\n                    'large': 'Большой',\n                    'x-large': 'Очень большой',\n                    'custom': 'Пользовательский'\n                },\n                fontCustomSize: {\n                    title: 'Пользовательский Размер Шрифта',\n                    label: 'Размер Шрифта',\n                    value: '48px'\n                }\n            },\n            sl: {\n                fontsize: 'Velikost pisave',\n                fontsizes: {\n                    'x-small': 'Ekstra majhna',\n                    'small': 'Majhna',\n                    'medium': 'Navadno',\n                    'large': 'Velika',\n                    'x-large': 'Ekstra velika',\n                    'custom': 'Poljubna'\n                },\n                fontCustomSize: {\n                    title: 'Poljubna velikost pisave',\n                    label: 'Velikost pisave',\n                    value: '48px'\n                }\n            },\n            tr: {\n                fontsize: 'Yazı boyutu',\n                fontsizes: {\n                    'x-small': 'Çok küçük',\n                    'small': 'Küçük',\n                    'medium': 'Normal',\n                    'large': 'Büyük',\n                    'x-large': 'Çok büyük',\n                    'custom': 'Özel'\n                },\n                fontCustomSize: {\n                    title: 'Özel Yazı Boyutu',\n                    label: 'Yazı Boyutu',\n                    value: '48px'\n                }\n            },\n            zh_tw: {\n                fontsize: '字體大小',\n                fontsizes: {\n                    'x-small': '最小',\n                    'small': '小',\n                    'medium': '中',\n                    'large': '大',\n                    'x-large': '最大',\n                    'custom': '自訂大小',\n                },\n                fontCustomSize: {\n                    title: '自訂義字體大小',\n                    label: '字體大小',\n                    value: '48px'\n                }\n            },\n        }\n    });\n    // jshint camelcase:true\n\n    var defaultOptions = {\n        sizeList: [\n            'x-small',\n            'small',\n            'medium',\n            'large',\n            'x-large'\n        ],\n        allowCustomSize: true\n    };\n\n    // Add dropdown with font sizes\n    $.extend(true, $.trumbowyg, {\n        plugins: {\n            fontsize: {\n                init: function (trumbowyg) {\n                    trumbowyg.o.plugins.fontsize = $.extend({},\n                      defaultOptions,\n                      trumbowyg.o.plugins.fontsize || {}\n                    );\n\n                    trumbowyg.addBtnDef('fontsize', {\n                        dropdown: buildDropdown(trumbowyg)\n                    });\n                }\n            }\n        }\n    });\n\n    function setFontSize(trumbowyg, size) {\n        trumbowyg.$ed.focus();\n        trumbowyg.saveRange();\n\n        // Temporary size\n        trumbowyg.execCmd('fontSize', '1');\n\n        var fontElements = trumbowyg.$ed.find('font[size=\"1\"]');\n\n        // Remove previous font-size span tags. Needed to prevent Firefox from\n        // nesting multiple spans on font-size changes.\n        // (see https://github.com/Alex-D/Trumbowyg/issues/1252)\n        fontElements.find('span[style*=\"font-size\"]').contents().unwrap();\n\n        // Find <font> elements that were added and change to <span> with chosen size\n        fontElements.replaceWith(function() {\n            return $('<span/>', {\n                css: { 'font-size': size },\n                html: this.innerHTML,\n            });\n        });\n\n        // Remove and leftover <span> elements\n        $(trumbowyg.range.startContainer.parentElement).find('span[style=\"\"]').contents().unwrap();\n\n        trumbowyg.restoreRange();\n        trumbowyg.syncCode();\n        trumbowyg.$c.trigger('tbwchange');\n    }\n\n    function buildDropdown(trumbowyg) {\n        var dropdown = [];\n\n        $.each(trumbowyg.o.plugins.fontsize.sizeList, function (index, size) {\n            trumbowyg.addBtnDef('fontsize_' + size, {\n                text: '<span style=\"font-size: ' + size + ';\">' + (trumbowyg.lang.fontsizes[size] || size) + '</span>',\n                hasIcon: false,\n                fn: function () {\n                    setFontSize(trumbowyg, size);\n                }\n            });\n            dropdown.push('fontsize_' + size);\n        });\n\n        if (trumbowyg.o.plugins.fontsize.allowCustomSize) {\n            var customSizeButtonName = 'fontsize_custom';\n            var customSizeBtnDef = {\n                fn: function () {\n                    trumbowyg.openModalInsert(trumbowyg.lang.fontCustomSize.title,\n                        {\n                            size: {\n                                label: trumbowyg.lang.fontCustomSize.label,\n                                value: trumbowyg.lang.fontCustomSize.value\n                            }\n                        },\n                        function (form) {\n                            setFontSize(trumbowyg, form.size);\n                            return true;\n                        }\n                    );\n                },\n                text: '<span style=\"font-size: medium;\">' + trumbowyg.lang.fontsizes.custom + '</span>',\n                hasIcon: false\n            };\n            trumbowyg.addBtnDef(customSizeButtonName, customSizeBtnDef);\n            dropdown.push(customSizeButtonName);\n        }\n\n        return dropdown;\n    }\n})(jQuery);\n\n\n(function ($) {\n  'use strict';\n\n  $.extend(true, $.trumbowyg, {\n    langs: {\n      // jshint camelcase:false\n      en: {\n        giphy: 'Insert GIF',\n      },\n      az: {\n        giphy: 'GIF yerləşdir',\n      },\n      by: {\n        giphy: 'Уставіць GIF',\n      },\n      et: {\n        giphy: 'Sisesta GIF',\n      },\n      fr: {\n        giphy: 'Insérer un GIF',\n      },\n      hu: {\n        giphy: 'GIF beszúrás',\n      },\n      ru: {\n        giphy: 'Вставить GIF',\n      },\n      sl: {\n        giphy: 'Vstavi GIF',\n      },\n      tr: {\n        giphy: 'GIF ekle',\n      },\n      // jshint camelcase:true\n    }\n  });\n\n  var giphyLogo = '<svg viewBox=\"0 0 231 53\" xmlns=\"http://www.w3.org/2000/svg\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" stroke-linejoin=\"round\" stroke-miterlimit=\"2\"><path d=\"M48.32 22.386c0-1.388-.252-1.892-1.767-1.85-3.448.126-6.855.042-10.303.042H25.443c-.927 0-1.346.211-1.305 1.22.085 2.86.085 5.72.043 8.58 0 .883.252 1.169 1.169 1.135 2.018-.084 3.995-.042 6.014 0 1.64 0 4.164-.546 4.752.252.841 1.169.421 3.364.337 5.089-.043.547-.547 1.304-1.094 1.598-2.692 1.556-5.678 2.018-8.747 1.892-5.342-.21-9.336-2.439-11.481-7.527-1.388-3.364-1.725-6.855-1.01-10.43 1.01-4.963 3.407-8.747 8.58-10.051 5.215-1.305 10.136-.547 14.467 2.817 1.219.967 1.798.715 2.691-.294 1.514-1.724 3.154-3.322 4.753-4.963 1.892-1.933 1.892-1.892-.169-3.7C38.429.813 31.238-.617 23.5.224 12.818 1.393 5.248 6.658 1.59 17.045-.177 22.008-.428 27.097.623 32.227c1.682 7.914 5.551 14.12 13.289 17.368 6.898 2.901 14.046 3.448 21.321 1.598 4.331-1.093 8.411-2.608 11.354-6.223 1.136-1.388 1.725-2.902 1.682-4.71l.043-17.873.008-.001zm125.153 3.784l.042-23.046c0-1.136-.168-1.598-1.472-1.556a238.02 238.02 0 0 1-11.017 0c-1.136-.042-1.439.337-1.439 1.439v15.645c0 1.345-.421 1.556-1.641 1.556a422.563 422.563 0 0 0-14.593 0c-1.262.042-1.472-.421-1.439-1.556l.043-15.813c0-.926-.169-1.304-1.17-1.262h-11.513c-.927 0-1.304.169-1.304 1.22v46.764c0 .967.252 1.262 1.219 1.262h11.512c1.169.042 1.262-.462 1.262-1.388l-.042-15.644c0-1.053.251-1.346 1.304-1.346h15.14c1.22 0 1.388.421 1.388 1.472l-.042 15.477c0 1.093.21 1.472 1.388 1.439 3.615-.085 7.233-.085 10.807 0 1.304.042 1.598-.337 1.598-1.598l-.042-23.047.011-.018zM106.565 1.654c-8.369-.211-16.728-.126-25.065-.211-1.346 0-1.767.337-1.767 1.724l.043 23.004v23.215c0 1.009.168 1.439 1.304 1.387a271.22 271.22 0 0 1 11.691 0c1.094 0 1.346-.336 1.346-1.345l-.042-10.64c0-1.052.294-1.345 1.345-1.345 3.322.042 6.645.085 9.967-.085 4.407-.21 8.621-1.219 12.111-4.12 5.551-4.584 7.613-12.701 5.131-20.061-2.313-6.561-8.747-11.354-16.064-11.522v-.001zm-3.028 24.013c-2.818.042-5.594-.043-8.411.042-1.169.042-1.439-.378-1.345-1.439.084-1.556 0-3.069 0-4.626v-5.131c-.043-.841.251-1.094 1.052-1.052 2.986.042 5.929-.085 8.915.042 3.616.126 5.887 2.692 5.846 6.266-.126 3.658-2.313 5.846-6.055 5.887l-.002.011zM229.699 1.569c-4.458 0-8.915-.042-13.415.043-.629 0-1.472.503-1.85 1.052a505.695 505.695 0 0 0-8.957 14.214c-.884 1.472-1.22 1.169-1.977-.084l-8.496-14.089c-.503-.841-1.052-1.136-2.018-1.136l-13.078.043c-.462 0-.967.125-1.439.21.21.378.378.799.629 1.169l17.412 27.167c.462.715.715 1.682.757 2.524v16.653c0 1.052.168 1.514 1.388 1.472 3.784-.084 7.57-.084 11.354 0 1.136.043 1.304-.377 1.304-1.387l-.042-8.58c0-2.734-.084-5.51.042-8.243.043-.926.337-1.933.841-2.649l18.167-27.041c.252-.337.337-.758.547-1.17a3.636 3.636 0 0 0-1.169-.168zM70.104 2.661c0-1.009-.294-1.219-1.262-1.219H57.69c-1.262-.043-1.472.377-1.472 1.513l.042 23.004v23.34c0 1.053.126 1.514 1.346 1.473 3.7-.085 7.444-.043 11.152 0 .966 0 1.387-.085 1.387-1.262l-.042-46.857.001.008z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>'; // jshint ignore:line\n\n  var CANCEL_EVENT = 'tbwcancel';\n\n  // Throttle helper\n  function trumbowygThrottle(callback, delay) {\n    var last;\n    var timer;\n\n    return function () {\n      var context = this;\n      var now = +new Date();\n      var args = arguments;\n\n      if (last && now < last + delay) {\n        clearTimeout(timer);\n        timer = setTimeout(function () {\n          last = now;\n          callback.apply(context, args);\n        }, delay);\n      } else {\n        last = now;\n        callback.apply(context, args);\n      }\n    };\n  }\n\n  // Fills modal with response gifs\n  function renderGifs(response, $giphyModal, trumbowyg, mustEmpty) {\n    var width = ($giphyModal.width() - 20) / 3;\n\n    var html = response.data\n      .filter(function (gifData) {\n        // jshint camelcase:false\n        var downsized = gifData.images.downsized || gifData.images.downsized_medium;\n        // jshint camelcase:true\n        return !!downsized.url;\n      })\n      .map(function (gifData) {\n        // jshint camelcase:false\n        var downsized = gifData.images.downsized || gifData.images.downsized_medium;\n        // jshint camelcase:true\n        var image = downsized,\n            imageRatio = image.height / image.width,\n            altText = gifData.title;\n\n        var imgHtml = '<img src=' + image.url + ' width=\"' + width + '\" height=\"' + imageRatio * width + '\" alt=\"' + altText + '\" loading=\"lazy\" />';\n        return '<div class=\"img-container\">' + imgHtml + '</div>';\n      })\n      .join('')\n    ;\n\n    if (mustEmpty === true) {\n      if (html.length === 0) {\n        if ($('.' + trumbowyg.o.prefix + 'giphy-no-result', $giphyModal).length > 0) {\n          return;\n        }\n\n        html = '<img class=\"' + trumbowyg.o.prefix + 'giphy-no-result\" src=\"' + trumbowyg.o.plugins.giphy.noResultGifUrl + '\"/>';\n      }\n\n      $giphyModal.empty();\n    }\n    $giphyModal.append(html);\n\n    // Remove gray overlay on image load\n    // moved here from inline callback definition due to CSP issue\n    // Note: this is being done post-factum because load event doesn't bubble up and so can't be delegated\n    var addLoadedClass = function (img) { img.classList.add('tbw-loaded'); };\n    $('img', $giphyModal).each(function (){\n      var img = this;\n      if (img.complete){ // images load instantly when cached and esp. when loaded in previous modal open\n        addLoadedClass(img);\n      } else {\n        img.addEventListener('load', function(){ addLoadedClass(this); });\n      }\n    });\n\n    $('img', $giphyModal).on('click', function () {\n      var src = $(this).attr('src'),\n          alt = $(this).attr('alt');\n      trumbowyg.restoreRange();\n      trumbowyg.execCmd('insertImage', src, false, true);\n\n      // relay alt tag into inserted image\n      if (alt){\n        var $img = $('img[src=\"' + src + '\"]:not([alt])',trumbowyg.$box);\n        $img.attr('alt', alt);\n        // Note: This seems to fire relatively early and could be wrapped in a setTimeout if needed\n        trumbowyg.syncCode();\n      }\n      $('img', $giphyModal).off();\n      trumbowyg.closeModal();\n    });\n  }\n\n  var defaultOptions = {\n    rating: 'g',\n    apiKey: null,\n    throttleDelay: 300,\n    noResultGifUrl: 'https://media.giphy.com/media/2Faz9FbRzmwxY0pZS/giphy.gif'\n  };\n\n  // Add dropdown with font sizes\n  $.extend(true, $.trumbowyg, {\n    plugins: {\n      giphy: {\n        init: function (trumbowyg) {\n          trumbowyg.o.plugins.giphy = $.extend({},\n            defaultOptions,\n            trumbowyg.o.plugins.giphy || {}\n          );\n\n          trumbowyg.addBtnDef('giphy', {\n            fn: function() {\n              if (trumbowyg.o.plugins.giphy.apiKey === null) {\n                throw new Error('You must set a Giphy API Key');\n              }\n\n              var BASE_URL = 'https://api.giphy.com/v1/gifs/search?api_key=' + trumbowyg.o.plugins.giphy.apiKey + '&rating=' + trumbowyg.o.plugins.giphy.rating,\n                  DEFAULT_URL = BASE_URL.replace('/search', '/trending');\n              var previousAjaxCall = {abort: function () {}};\n              var prefix = trumbowyg.o.prefix;\n\n              // Create and open the modal\n              var searchInput = '<input name=\"\" class=\"' + prefix + 'giphy-search\" placeholder=\"Search a GIF\" autofocus=\"autofocus\">',\n                  closeButton = '<button class=\"' + prefix + 'giphy-close\" title=\"' + trumbowyg.lang.close + '\"><svg><use xlink:href=\"' + trumbowyg.svgPath + '#' + prefix + 'close\"/></svg></button>',\n                  poweredByGiphy = '<div class=\"' + prefix + 'powered-by-giphy\"><span>Powered by</span>' + giphyLogo + '</div>',\n                  giphyModalHtml = searchInput + closeButton + poweredByGiphy + '<div class=\"' + prefix + 'giphy-modal-scroll\"><div class=\"' + prefix + 'giphy-modal\"></div></div>';\n\n              trumbowyg\n                .openModal(null, giphyModalHtml, false)\n                .one(CANCEL_EVENT, function () {\n                  try {\n                    previousAjaxCall.abort();\n                  } catch (e) {}\n\n                  trumbowyg.closeModal();\n                });\n\n              var $giphyInput = $('.' + prefix + 'giphy-search'),\n                  $giphyClose = $('.' + prefix + 'giphy-close'),\n                  $giphyModal = $('.' + prefix + 'giphy-modal');\n\n              var ajaxError = function () {\n                if (!navigator.onLine && !$('.' + prefix + 'giphy-offline', $giphyModal).length) {\n                  $giphyModal.empty();\n                  $giphyModal.append('<p class=\"' + prefix + 'giphy-offline\">You are offline</p>');\n                }\n              };\n\n              // Load trending gifs as default\n              $.ajax({\n                url: DEFAULT_URL,\n                dataType: 'json',\n\n                success: function(response) {\n                  renderGifs(response, $giphyModal, trumbowyg, true);\n                },\n                error: ajaxError\n              });\n\n              var searchGifsOnInput = function () {\n                var query = $giphyInput.val();\n\n                if (query.length === 0) {\n                  return;\n                }\n\n                try {\n                  previousAjaxCall.abort();\n                } catch (e) {}\n\n                previousAjaxCall = $.ajax({\n                  url: BASE_URL + '&q=' + encodeURIComponent(query),\n                  dataType: 'json',\n\n                  success: function(response) {\n                    renderGifs(response, $giphyModal, trumbowyg, true);\n                  },\n                  error: ajaxError\n                });\n              };\n              var throttledInputRequest = trumbowygThrottle(searchGifsOnInput, trumbowyg.o.plugins.giphy.throttleDelay);\n\n              $giphyInput.on('input', throttledInputRequest);\n              $giphyInput.focus();\n\n              $giphyClose.one('click', function() {\n                $giphyModal.trigger(CANCEL_EVENT);\n              });\n            },\n          });\n        }\n      }\n    }\n  });\n})(jQuery);\n\n\n/*/* ===========================================================\n * trumbowyg.history.js v1.0\n * history plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author : Sven Dunemann [dunemann@forelabs.eu]\n */\n\n(function ($) {\n    'use strict';\n    $.extend(true, $.trumbowyg, {\n        plugins: {\n            history: {\n                destroy: function (t) {\n                    t.$c.off('tbwinit.history tbwchange.history');\n                },\n                init: function (t) {\n                    t.o.plugins.history = $.extend(true, {\n                        _stack: [],\n                        _index: -1,\n                        _focusEl: undefined\n                    }, t.o.plugins.history || {});\n\n                    var btnBuildDefRedo = {\n                        title: t.lang.redo,\n                        ico: 'redo',\n                        key: 'Y',\n                        fn: function () {\n                            if (t.o.plugins.history._index < t.o.plugins.history._stack.length - 1) {\n                                t.o.plugins.history._index += 1;\n                                var index = t.o.plugins.history._index;\n                                var newState = t.o.plugins.history._stack[index];\n\n                                t.execCmd('html', newState);\n                                // because of some semantic optimisations we have to save the state back\n                                // to history\n                                t.o.plugins.history._stack[index] = t.$ed.html();\n\n                                carretToEnd();\n                                toggleButtonStates();\n                            }\n                        }\n                    };\n\n                    var btnBuildDefUndo = {\n                        title: t.lang.undo,\n                        ico: 'undo',\n                        key: 'Z',\n                        fn: function () {\n                            if (t.o.plugins.history._index > 0) {\n                                t.o.plugins.history._index -= 1;\n                                var index = t.o.plugins.history._index,\n                                    newState = t.o.plugins.history._stack[index];\n\n                                t.execCmd('html', newState);\n                                // because of some semantic optimisations we have to save the state back\n                                // to history\n                                t.o.plugins.history._stack[index] = t.$ed.html();\n\n                                carretToEnd();\n                                toggleButtonStates();\n                            }\n                        }\n                    };\n\n                    var pushToHistory = function () {\n                        var index = t.o.plugins.history._index,\n                            stack = t.o.plugins.history._stack,\n                            latestState = stack.slice(-1)[0] || '<p></p>',\n                            prevState = stack[index],\n                            newState = t.$ed.html(),\n                            focusEl = t.doc.getSelection().focusNode,\n                            focusElText = '',\n                            latestStateTagsList,\n                            newStateTagsList,\n                            prevFocusEl = t.o.plugins.history._focusEl;\n\n                        latestStateTagsList = $('<div>' + latestState + '</div>').find('*').map(function () {\n                            return this.localName;\n                        });\n                        newStateTagsList = $('<div>' + newState + '</div>').find('*').map(function () {\n                            return this.localName;\n                        });\n                        if (focusEl) {\n                            t.o.plugins.history._focusEl = focusEl;\n                            focusElText = focusEl.outerHTML || focusEl.textContent;\n                        }\n\n                        if (newState !== prevState) {\n                            // a new stack entry is defined when current insert ends on a whitespace character\n                            // or count of node elements has been changed\n                            // or focused element differs from previous one\n                            if (focusElText.slice(-1).match(/\\s/) ||\n                                !arraysAreIdentical(latestStateTagsList, newStateTagsList) ||\n                                t.o.plugins.history._index <= 0 || focusEl !== prevFocusEl)\n                            {\n                                t.o.plugins.history._index += 1;\n                                // remove newer entries in history when something new was added\n                                // because timeline was changes with interaction\n                                t.o.plugins.history._stack = stack.slice(\n                                    0, t.o.plugins.history._index\n                                );\n                                // now add new state to modified history\n                                t.o.plugins.history._stack.push(newState);\n                            } else {\n                                // modify last stack entry\n                                t.o.plugins.history._stack[index] = newState;\n                            }\n\n                            toggleButtonStates();\n                        }\n                    };\n\n                    var toggleButtonStates = function () {\n                        var index = t.o.plugins.history._index,\n                            stackSize = t.o.plugins.history._stack.length,\n                            undoState = (index > 0),\n                            redoState = (stackSize !== 0 && index !== stackSize - 1);\n\n                        toggleButtonState('historyUndo', undoState);\n                        toggleButtonState('historyRedo', redoState);\n                    };\n\n                    var toggleButtonState = function (btn, enable) {\n                        var button = t.$box.find('.trumbowyg-' + btn + '-button');\n\n                        if (enable) {\n                            button.removeClass('trumbowyg-disable');\n                        } else if (!button.hasClass('trumbowyg-disable')) {\n                            button.addClass('trumbowyg-disable');\n                        }\n                    };\n\n                    var arraysAreIdentical = function (a, b) {\n                        if (a === b) {\n                            return true;\n                        }\n                        if (a == null || b == null) {\n                            return false;\n                        }\n                        if (a.length !== b.length) {\n                            return false;\n                        }\n\n                        for (var i = 0; i < a.length; i += 1) {\n                            if (a[i] !== b[i]) {\n                                return false;\n                            }\n                        }\n                        return true;\n                    };\n\n                    var carretToEnd = function () {\n                        var node = t.doc.getSelection().focusNode,\n                            range = t.doc.createRange();\n\n                        if (node.childNodes.length > 0) {\n                            range.setStartAfter(node.childNodes[node.childNodes.length - 1]);\n                            range.setEndAfter(node.childNodes[node.childNodes.length - 1]);\n                            t.doc.getSelection().removeAllRanges();\n                            t.doc.getSelection().addRange(range);\n                        }\n                    };\n\n                    t.$c.on('tbwinit.history tbwchange.history', pushToHistory);\n\n                    t.addBtnDef('historyRedo', btnBuildDefRedo);\n                    t.addBtnDef('historyUndo', btnBuildDefUndo);\n                }\n            }\n        }\n    });\n})(jQuery);\n\n\n\n/* ===========================================================\n * trumbowyg.indent.js v1.0\n * Indent or Outdent plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author : Fabacks\n *          Website : https://github.com/Fabacks\n */\n\n (function ($) {\n    'use strict';\n\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            // jshint camelcase:false\n            en: {\n                indent: 'Indent',\n                outdent: 'Outdent'\n            },\n            az: {\n                indent: 'Girinti',\n                outdent: 'Çıxıntı'\n            },\n            by: {\n                indent: 'Водступ',\n                outdent: 'Выступ'\n            },\n            et: {\n                indent: 'Taande suurendamine',\n                outdent: 'Taande vähendamine'\n            },\n            fr: {\n                indent: 'Augmenter le retrait',\n                outdent: 'Diminuer le retrait'\n            },\n            pt_br: {\n                indent: 'Aumentar Recuo',\n                outdent: 'Diminuir Recuo'\n            },\n            ru: {\n                indent: 'Отступ',\n                outdent: 'Выступ'\n            },\n            sl: {\n                indent: 'Povečaj zamik',\n                outdent: 'Zmanjšaj zamik'\n            },\n            tr: {\n                indent: 'Girinti',\n                outdent: 'Çıkıntı'\n            },\n            // jshint camelcase:true\n        }\n    });\n\n    // Adds the extra button definition\n    $.extend(true, $.trumbowyg, {\n        plugins: {\n            paragraph: {\n                init: function (trumbowyg) {\n                    var indentBtnDef = {\n                        fn: 'indent',\n                        title: trumbowyg.lang.indent,\n                        isSupported: function () {\n                            return !!document.queryCommandSupported && !!document.queryCommandSupported('indent');\n                        },\n                        ico: 'indent'\n                    };\n\n                    var outdentBtnDef = {\n                        fn: 'outdent',\n                        title: trumbowyg.lang.outdent,\n                        isSupported: function () {\n                            return !!document.queryCommandSupported && !!document.queryCommandSupported('outdent');\n                        },\n                        ico: 'outdent'\n                    };\n\n                    trumbowyg.addBtnDef('indent', indentBtnDef);\n                    trumbowyg.addBtnDef('outdent', outdentBtnDef);\n                }\n            }\n        }\n    });\n})(jQuery);\n\n\n/*/* ===========================================================\n * trumbowyg.insertaudio.js v1.0\n * InsertAudio plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author : Adam Hess (AdamHess)\n */\n\n(function ($) {\n    'use strict';\n\n    var insertAudioOptions = {\n        src: {\n            label: 'URL',\n            required: true\n        },\n        autoplay: {\n            label: 'AutoPlay',\n            required: false,\n            type: 'checkbox'\n        },\n        muted: {\n            label: 'Muted',\n            required: false,\n            type: 'checkbox'\n        },\n        preload: {\n            label: 'preload options',\n            required: false\n        }\n    };\n\n\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            // jshint camelcase:false\n            en: {\n                insertAudio: 'Insert Audio'\n            },\n            az: {\n                insertAudio: 'Səs yerləşdir'\n            },\n            by: {\n                insertAudio: 'Уставіць аўдыё'\n            },\n            ca: {\n                insertAudio: 'Inserir Audio'\n            },\n            da: {\n                insertAudio: 'Indsæt lyd'\n            },\n            es: {\n                insertAudio: 'Insertar Audio'\n            },\n            et: {\n                insertAudio: 'Lisa helifail'\n            },\n            fr: {\n                insertAudio: 'Insérer un son'\n            },\n            hu: {\n                insertAudio: 'Audio beszúrás'\n            },\n            ja: {\n                insertAudio: '音声の挿入'\n            },\n            ko: {\n                insertAudio: '소리 넣기'\n            },\n            pt_br: {\n                insertAudio: 'Inserir áudio'\n            },\n            ru: {\n                insertAudio: 'Вставить аудио'\n            },\n            sl: {\n                insertAudio: 'Vstavi zvočno datoteko'\n            },\n            tr: {\n                insertAudio: 'Ses Ekle'\n            },\n            // jshint camelcase:true\n        },\n        plugins: {\n            insertAudio: {\n                init: function (trumbowyg) {\n                    var btnDef = {\n                        fn: function () {\n                            var insertAudioCallback = function (v) {\n                                // controls should always be show otherwise the audio will\n                                // be invisible defeating the point of a wysiwyg\n                                var html = '<audio controls';\n                                if (v.src) {\n                                    html += ' src=\\'' + v.src + '\\'';\n                                }\n                                if (v.autoplay) {\n                                    html += ' autoplay';\n                                }\n                                if (v.muted) {\n                                    html += ' muted';\n                                }\n                                if (v.preload) {\n                                    html += ' preload=\\'' + v + '\\'';\n                                }\n                                html += '></audio>';\n                                var node = $(html)[0];\n                                trumbowyg.range.deleteContents();\n                                trumbowyg.range.insertNode(node);\n                                return true;\n                            };\n\n                            trumbowyg.openModalInsert(trumbowyg.lang.insertAudio, insertAudioOptions, insertAudioCallback);\n                        }\n                    };\n\n                    trumbowyg.addBtnDef('insertAudio', btnDef);\n                }\n            }\n        }\n    });\n})(jQuery);\n\n\n(function ($) {\n    'use strict';\n\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            // jshint camelcase:false\n            en: {\n                lineheight: 'Line height',\n                lineheights: {\n                    '0.9': 'Small',\n                    'normal': 'Regular',\n                    '1.5': 'Large',\n                    '2.0': 'Extra large'\n                }\n            },\n            az: {\n                lineheight: 'Sətir yüksəkliyi',\n                lineheights: {\n                    '0.9': 'Kiçik',\n                    'normal': 'Normal',\n                    '1.5': 'Böyük',\n                    '2.0': 'Daha böyük'\n                }\n            },\n            by: {\n                lineheight: 'Міжрадковы інтэрвал',\n                lineheights: {\n                    '0.9': 'Маленькі',\n                    'normal': 'Звычайны',\n                    '1.5': 'Вялікі',\n                    '2.0': 'Вельмі вялікі'\n                }\n            },\n            da: {\n                lineheight: 'Linjehøjde',\n                lineheights: {\n                    '0.9': 'Lille',\n                    'normal': 'Normal',\n                    '1.5': 'Stor',\n                    '2.0': 'Ekstra stor'\n                }\n            },\n            et: {\n                lineheight: 'Reavahe',\n                lineheights: {\n                    '0.9': 'Väike',\n                    'normal': 'Tavaline',\n                    '1.5': 'Suur',\n                    '2.0': 'Väga suur'\n                }\n            },\n            fr: {\n                lineheight: 'Hauteur de ligne',\n                lineheights: {\n                    '0.9': 'Petite',\n                    'normal': 'Normale',\n                    '1.5': 'Grande',\n                    '2.0': 'Très grande'\n                }\n            },\n            hu: {\n                lineheight: 'Line height',\n                lineheights: {\n                    '0.9': 'Small',\n                    'normal': 'Regular',\n                    '1.5': 'Large',\n                    '2.0': 'Extra large'\n                }\n            },\n            it: {\n                lineheight: 'Altezza linea',\n                lineheights: {\n                    '0.9': 'Bassa',\n                    'normal': 'Normale',\n                    '1.5': 'Alta',\n                    '2.0': 'Molto alta'\n                }\n            },\n            ko: {\n                lineheight: '줄 간격',\n                lineheights: {\n                    '0.9': '좁게',\n                    'normal': '보통',\n                    '1.5': '넓게',\n                    '2.0': '아주 넓게'\n                }\n            },\n            nl: {\n                lineheight: 'Regelhoogte',\n                lineheights: {\n                    '0.9': 'Klein',\n                    'normal': 'Normaal',\n                    '1.5': 'Groot',\n                    '2.0': 'Extra groot'\n                }\n            },\n            pt_br: {\n                lineheight: 'Altura de linha',\n                lineheights: {\n                    '0.9': 'Pequena',\n                    'normal': 'Regular',\n                    '1.5': 'Grande',\n                    '2.0': 'Extra grande'\n                }\n            },\n            ru: {\n                lineheight: 'Межстрочный интервал',\n                lineheights: {\n                    '0.9': 'Маленький',\n                    'normal': 'Обычный',\n                    '1.5': 'Большой',\n                    '2.0': 'Очень большой'\n                }\n            },\n            sl: {\n                lineheight: 'Višina vrstice',\n                lineheights: {\n                    '0.9': 'Majhna',\n                    'normal': 'Navadna',\n                    '1.5': 'Velika',\n                    '2.0': 'Ekstra velika'\n                }\n            },\n            tr: {\n                lineheight: 'Satır yüksekliği',\n                lineheights: {\n                    '0.9': 'Küçük',\n                    'normal': 'Normal',\n                    '1.5': 'Büyük',\n                    '2.0': 'Çok Büyük'\n                }\n            },\n            zh_tw: {\n                lineheight: '文字間距',\n                lineheights: {\n                    '0.9': '小',\n                    'normal': '正常',\n                    '1.5': '大',\n                    '2.0': '特大'\n                }\n            },\n        }\n    });\n    // jshint camelcase:true\n\n    var defaultOptions = {\n        sizeList: [\n            '0.9',\n            'normal',\n            '1.5',\n            '2.0'\n        ]\n    };\n\n    // Add dropdown with font sizes\n    $.extend(true, $.trumbowyg, {\n        plugins: {\n            lineheight: {\n                init: function (trumbowyg) {\n                    trumbowyg.o.plugins.lineheight = $.extend({},\n                      defaultOptions,\n                      trumbowyg.o.plugins.lineheight || {}\n                    );\n\n                    trumbowyg.addBtnDef('lineheight', {\n                        dropdown: buildDropdown(trumbowyg)\n                    });\n                }\n            }\n        }\n    });\n\n    // Build the dropdown\n    function buildDropdown(trumbowyg) {\n        var dropdown = [];\n\n        $.each(trumbowyg.o.plugins.lineheight.sizeList, function(index, size) {\n            trumbowyg.addBtnDef('lineheight_' + size, {\n                text: trumbowyg.lang.lineheights[size] || size,\n                hasIcon: false,\n                fn: function(){\n                    trumbowyg.saveRange();\n                    var text = trumbowyg.getRangeText();\n                    if (text.replace(/\\s/g, '') !== '') {\n                        try {\n                            var parent = getSelectionParentElement();\n                            $(parent).css('lineHeight', size);\n                        } catch (e) {\n                        }\n                    }\n                }\n            });\n            dropdown.push('lineheight_' + size);\n        });\n\n        return dropdown;\n    }\n\n    // Get the selection's parent\n    function getSelectionParentElement() {\n        var parentEl = null,\n            selection;\n        if (window.getSelection) {\n            selection = window.getSelection();\n            if (selection.rangeCount) {\n                parentEl = selection.getRangeAt(0).commonAncestorContainer;\n                if (parentEl.nodeType !== 1) {\n                    parentEl = parentEl.parentNode;\n                }\n            }\n        } else if ((selection = document.selection) && selection.type !== 'Control') {\n            parentEl = selection.createRange().parentElement();\n        }\n        return parentEl;\n    }\n})(jQuery);\n\n\n/* ===========================================================\n * trumbowyg.mathMl.js v1.0\n * MathML plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author : loclamor\n */\n\n/* globals MathJax */\n(function ($) {\n    'use strict';\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            // jshint camelcase:false\n            en: {\n                mathml: 'Insert Formulas',\n                formulas: 'Formulas',\n                inline: 'Inline'\n            },\n            az: {\n                mathml: 'Düstur əlavə et',\n                formulas: 'Düsturlar',\n                inline: 'Sətir içi'\n            },\n            by: {\n                mathml: 'Уставіць формулу',\n                formulas: 'Формула',\n                inline: 'Inline-элемент'\n            },\n            ca: {\n                mathml: 'Inserir Fórmula',\n                formulas: 'Fórmula',\n                inline: 'En línia'\n            },\n            da: {\n                mathml: 'Indsæt formler',\n                formulas: 'Formler',\n                inline: 'Inline'\n            },\n            es: {\n                mathml: 'Insertar Fórmula',\n                formulas: 'Fórmula',\n                inline: 'En línea'\n            },\n            et: {\n                mathml: 'Sisesta valem',\n                formulas: 'Valemid',\n                inline: 'Teksti sees'\n            },\n            fr: {\n                mathml: 'Inserer une formule',\n                formulas: 'Formule',\n                inline: 'En ligne'\n            },\n            hu: {\n                mathml: 'Formulák beszúrás',\n                formulas: 'Formulák',\n                inline: 'Inline'\n            },\n            ko: {\n                mathml: '수식 넣기',\n                formulas: '수식',\n                inline: '글 안에 넣기'\n            },\n            pt_br: {\n                mathml: 'Inserir fórmulas',\n                formulas: 'Fórmulas',\n                inline: 'Em linha'\n            },\n            ru: {\n                mathml: 'Вставить формулу',\n                formulas: 'Формула',\n                inline: 'Строчный элемент'\n            },\n            sl: {\n                mathml: 'Vstavi matematični izraz',\n                formulas: 'Formula',\n                inline: 'V vrstici'\n            },\n            tr: {\n                mathml: 'Formül Ekle',\n                formulas: 'Formüller',\n                inline: 'Satır içi'\n            },\n            zh_tw: {\n                mathml: '插入方程式',\n                formulas: '方程式',\n                inline: '內嵌'\n            },\n        },\n        // jshint camelcase:true\n\n        plugins: {\n            mathml: {\n                init: function (trumbowyg) {\n                    var mathMlOptions = {\n                        formulas: {\n                            label: trumbowyg.lang.formulas,\n                            required: true,\n                            value: ''\n                        },\n                        inline: {\n                            label: trumbowyg.lang.inline,\n                            attributes: {\n                                checked: true\n                            },\n                            type: 'checkbox',\n                            required: false,\n                        }\n                    };\n\n                    var mathmlCallback = function (v) {\n                        var delimiter = v.inline ? '$' : '$$';\n                        if (trumbowyg.currentMathNode) {\n                            $(trumbowyg.currentMathNode)\n                                .html(delimiter + ' ' + v.formulas + ' ' + delimiter)\n                                .attr('formulas', v.formulas)\n                                .attr('inline', (v.inline ? 'true' : 'false'));\n                        } else {\n                            var html = '<span contenteditable=\"false\" formulas=\"' + v.formulas + '\" inline=\"' + (v.inline ? 'true' : 'false') + '\" >' + delimiter + ' ' + v.formulas + ' ' + delimiter + '</span>';\n                            var node = $(html)[0];\n                            node.onclick = openModal;\n\n                            trumbowyg.range.deleteContents();\n                            trumbowyg.range.insertNode(node);\n                        }\n\n                        trumbowyg.currentMathNode = false;\n                        MathJax.Hub.Queue(['Typeset', MathJax.Hub]);\n                        return true;\n                    };\n\n                    var openModal = function () {\n                        trumbowyg.currentMathNode = this;\n                        mathMlOptions.formulas.value = $(this).attr('formulas');\n\n                        if ($(this).attr('inline') === 'true') {\n                            mathMlOptions.inline.attributes.checked = true;\n                        } else {\n                            delete mathMlOptions.inline.attributes.checked;\n                        }\n\n                        trumbowyg.openModalInsert(trumbowyg.lang.mathml, mathMlOptions, mathmlCallback);\n                    };\n\n                    var btnDef = {\n                        fn: function () {\n                            trumbowyg.saveRange();\n\n                            mathMlOptions.formulas.value = trumbowyg.getRangeText();\n                            mathMlOptions.inline.attributes.checked = true;\n                            trumbowyg.openModalInsert(trumbowyg.lang.mathml, mathMlOptions, mathmlCallback);\n                        }\n                    };\n\n                    trumbowyg.$ta.on('tbwinit', function () {\n                        var nodes = trumbowyg.$ed.find('[formulas]');\n\n                        nodes.each(function (i, elem) {\n                            elem.onclick = openModal;\n                        });\n                    });\n\n                    trumbowyg.addBtnDef('mathml', btnDef);\n                }\n            }\n        }\n    });\n})(jQuery);\n\n\n/* ===========================================================\n * trumbowyg.mention.js v0.1\n * Mention plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author : Viper\n *          Github: https://github.com/Globulopolis\n *          Website: http://киноархив.com\n */\n\n(function ($) {\n    'use strict';\n\n    var defaultOptions = {\n        source: [],\n        formatDropdownItem: formatDropdownItem,\n        formatResult: formatResult\n    };\n\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            // jshint camelcase:false\n            en: {\n                mention: 'Mention'\n            },\n            az: {\n                mention: 'Bildirmək'\n            },\n            by: {\n                mention: 'Згадаць'\n            },\n            da: {\n                mention: 'Nævn'\n            },\n            et: {\n                mention: 'Maini'\n            },\n            fr: {\n                mention: 'Mentionner'\n            },\n            hu: {\n                mention: 'Említ'\n            },\n            ko: {\n                mention: '언급'\n            },\n            pt_br: {\n                mention: 'Menção'\n            },\n            ru: {\n                mention: 'Упомянуть'\n            },\n            sl: {\n                mention: 'Omeni'\n            },\n            tr: {\n                mention: 'Bahset'\n            },\n            zh_tw: {\n                mention: '標記'\n            },\n            // jshint camelcase:true\n        },\n\n        plugins: {\n            mention: {\n                init: function (trumbowyg) {\n                    trumbowyg.o.plugins.mention = $.extend(true, {}, defaultOptions, trumbowyg.o.plugins.mention || {});\n\n                    var btnDef = {\n                        dropdown: buildDropdown(trumbowyg.o.plugins.mention.source, trumbowyg)\n                    };\n\n                    trumbowyg.addBtnDef('mention', btnDef);\n                }\n            }\n        }\n    });\n\n    /**\n     * Build dropdown list\n     *\n     * @param {Array}   items      Items\n     * @param {object}  trumbowyg  Editor\n     *\n     * @return {Array}\n     */\n    function buildDropdown(items, trumbowyg) {\n        var dropdown = [];\n\n        $.each(items, function (i, item) {\n            var btn = 'mention-' + i,\n                btnDef = {\n                    hasIcon: false,\n                    text: trumbowyg.o.plugins.mention.formatDropdownItem(item),\n                    fn: function () {\n                        trumbowyg.execCmd('insertHTML', trumbowyg.o.plugins.mention.formatResult(item));\n\n                        return true;\n                    }\n                };\n\n            trumbowyg.addBtnDef(btn, btnDef);\n            dropdown.push(btn);\n        });\n\n        return dropdown;\n    }\n\n    /**\n     * Format item in dropdown.\n     *\n     * @param   {object}  item  Item object.\n     *\n     * @return  {string}\n     */\n    function formatDropdownItem(item) {\n        return item.login;\n    }\n\n    /**\n     * Format result pasted in editor.\n     *\n     * @param   {object}  item  Item object.\n     *\n     * @return  {string}\n     */\n    function formatResult(item) {\n        return '@' + item.login + ' ';\n    }\n})(jQuery);\n\n\n/* ===========================================================\n * trumbowyg.noembed.js v1.0\n * noEmbed plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author : Jake Johns (jakejohns)\n */\n\n(function ($) {\n    'use strict';\n\n    var defaultOptions = {\n        proxy: 'https://noembed.com/embed?nowrap=on',\n        urlFiled: 'url',\n        data: [],\n        success: undefined,\n        error: undefined\n    };\n\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            // jshint camelcase:false\n            en: {\n                noembed: 'Noembed',\n                noembedError: 'Error'\n            },\n            az: {\n                noembed: 'Noembed',\n                noembedError: 'Xəta'\n            },\n            by: {\n                noembedError: 'Памылка'\n            },\n            cs: {\n                noembedError: 'Chyba'\n            },\n            da: {\n                noembedError: 'Fejl'\n            },\n            et: {\n                noembed: 'Noembed',\n                noembedError: 'Viga'\n            },\n            fr: {\n                noembedError: 'Erreur'\n            },\n            hu: {\n                noembed: 'Noembed',\n                noembedError: 'Hiba'\n            },\n            ja: {\n                noembedError: 'エラー'\n            },\n            ko: {\n                noembed: 'oEmbed 넣기',\n                noembedError: '에러'\n            },\n            pt_br: {\n                noembed: 'Incorporar',\n                noembedError: 'Erro'\n            },\n            ru: {\n                noembedError: 'Ошибка'\n            },\n            sl: {\n                noembed: 'Noembed',\n                noembedError: 'Napaka'\n            },\n            sk: {\n                noembedError: 'Chyba'\n            },\n            tr: {\n                noembedError: 'Hata'\n            },\n            zh_tw: {\n                noembed: '插入影片',\n                noembedError: '錯誤'\n            },\n            // jshint camelcase:true\n        },\n\n        plugins: {\n            noembed: {\n                init: function (trumbowyg) {\n                    trumbowyg.o.plugins.noembed = $.extend(true, {}, defaultOptions, trumbowyg.o.plugins.noembed || {});\n\n                    var btnDef = {\n                        fn: function () {\n                            var $modal = trumbowyg.openModalInsert(\n                                // Title\n                                trumbowyg.lang.noembed,\n\n                                // Fields\n                                {\n                                    url: {\n                                        label: 'URL',\n                                        required: true\n                                    }\n                                },\n\n                                // Callback\n                                function (data) {\n                                    $.ajax({\n                                        url: trumbowyg.o.plugins.noembed.proxy,\n                                        type: 'GET',\n                                        data: data,\n                                        cache: false,\n                                        dataType: 'json',\n\n                                        success: function (data) {\n                                            if (trumbowyg.o.plugins.noembed.success) {\n                                                trumbowyg.o.plugins.noembed.success(data, trumbowyg, $modal);\n                                                return;\n                                            }\n\n                                            if (!data.html) {\n                                                trumbowyg.addErrorOnModalField(\n                                                    $('input[type=text]', $modal),\n                                                    data.error\n                                                );\n                                                return;\n                                            }\n\n                                            trumbowyg.execCmd('insertHTML', data.html);\n                                            setTimeout(function () {\n                                                trumbowyg.closeModal();\n                                            }, 250);\n                                        },\n                                        error: trumbowyg.o.plugins.noembed.error || function () {\n                                            trumbowyg.addErrorOnModalField(\n                                                $('input[type=text]', $modal),\n                                                trumbowyg.lang.noembedError\n                                            );\n                                        }\n                                    });\n                                }\n                            );\n                        }\n                    };\n\n                    trumbowyg.addBtnDef('noembed', btnDef);\n                }\n            }\n        }\n    });\n})(jQuery);\n\n\n/* ===========================================================\n * trumbowyg.pasteembed.js v1.0\n * Url paste to iframe with noembed. Plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author : Max Seelig\n *          Facebook : https://facebook.com/maxse\n *          Website : https://www.maxmade.nl/\n */\n\n(function($) {\n    'use strict';\n\n    var defaultOptions = {\n        enabled: true,\n        endpoints: [\n            'https://noembed.com/embed?nowrap=on',\n            'https://api.maxmade.nl/url2iframe/embed'\n        ]\n    };\n\n    $.extend(true, $.trumbowyg, {\n        plugins: {\n            pasteEmbed: {\n                init: function(trumbowyg) {\n                    trumbowyg.o.plugins.pasteEmbed = $.extend(true, {}, defaultOptions, trumbowyg.o.plugins.pasteEmbed || {});\n\n                    if (!trumbowyg.o.plugins.pasteEmbed.enabled) {\n                        return;\n                    }\n\n                    trumbowyg.pasteHandlers.push(function(pasteEvent) {\n                        try {\n                            var clipboardData = (pasteEvent.originalEvent || pasteEvent).clipboardData,\n                                pastedData = clipboardData.getData('Text'),\n                                endpoints = trumbowyg.o.plugins.pasteEmbed.endpoints,\n                                request = null;\n\n                            if (pastedData.startsWith('http')) {\n                                pasteEvent.stopPropagation();\n                                pasteEvent.preventDefault();\n\n                                var query = {\n                                    url: pastedData.trim()\n                                };\n                                var content = '';\n                                var index = 0;\n\n                                if (request && request.transport) {\n                                    request.transport.abort();\n                                }\n\n                                request = $.ajax({\n                                    crossOrigin: true,\n                                    url: endpoints[index],\n                                    type: 'GET',\n                                    data: query,\n                                    cache: false,\n                                    dataType: 'jsonp',\n                                    success: function(res) {\n                                        if (res.html) {\n                                            index = 0;\n                                            content = res.html;\n                                        } else {\n                                            index += 1;\n                                        }\n                                    },\n                                    error: function() {\n                                        index += 1;\n                                    },\n                                    complete: function() {\n                                        if (content.length === 0 && index < endpoints.length - 1) {\n                                            this.url = endpoints[index];\n                                            this.data = query;\n                                            $.ajax(this);\n                                        }\n                                        if (index === endpoints.length - 1) {\n                                            content = $('<a>', {\n                                                href: pastedData,\n                                                text: pastedData\n                                            }).prop('outerHTML');\n                                        }\n                                        if (content.length > 0) {\n                                            index = 0;\n                                            trumbowyg.execCmd('insertHTML', content);\n                                        }\n                                    }\n                                });\n                            }\n                        } catch (c) {}\n                    });\n                }\n            }\n        }\n    });\n})(jQuery);\n\n\n/* ===========================================================\n * trumbowyg.pasteimage.js v1.0\n * Basic base64 paste plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author : Alexandre Demode (Alex-D)\n *          Twitter : @AlexandreDemode\n *          Website : alex-d.fr\n */\n\n(function ($) {\n    'use strict';\n\n    $.extend(true, $.trumbowyg, {\n        plugins: {\n            pasteImage: {\n                init: function (trumbowyg) {\n                    trumbowyg.pasteHandlers.push(function (pasteEvent) {\n                        try {\n                            var items = (pasteEvent.originalEvent || pasteEvent).clipboardData.items,\n                                mustPreventDefault = false,\n                                reader;\n\n                            for (var i = items.length - 1; i >= 0; i -= 1) {\n                                if (items[i].type.match(/^image\\//)) {\n                                    reader = new FileReader();\n                                    /* jshint -W083 */\n                                    reader.onloadend = function (event) {\n                                        trumbowyg.execCmd('insertImage', event.target.result, false, true);\n                                    };\n                                    /* jshint +W083 */\n                                    reader.readAsDataURL(items[i].getAsFile());\n\n                                    mustPreventDefault = true;\n                                }\n                            }\n\n                            if (mustPreventDefault) {\n                                pasteEvent.stopPropagation();\n                                pasteEvent.preventDefault();\n                            }\n                        } catch (c) {\n                        }\n                    });\n                }\n            }\n        }\n    });\n})(jQuery);\n\n\n/* ===========================================================\n * trumbowyg.preformatted.js v1.0\n * Preformatted plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author : Casella Edoardo (Civile)\n */\n\n\n(function ($) {\n    'use strict';\n\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            // jshint camelcase:false\n            en: {\n                preformatted: 'Code sample <pre>'\n            },\n            az: {\n                preformatted: 'Kod nümunəsi <pre>'\n            },\n            by: {\n                preformatted: 'Прыклад кода <pre>'\n            },\n            da: {\n                preformatted: 'Præformateret <pre>'\n            },\n            et: {\n                preformatted: 'Eelvormindatud tekst <pre>'\n            },\n            fr: {\n                preformatted: 'Exemple de code <pre>'\n            },\n            hu: {\n                preformatted: 'Kód minta <pre>'\n            },\n            it: {\n                preformatted: 'Codice <pre>'\n            },\n            ja: {\n                preformatted: 'コードサンプル <pre>'\n            },\n            ko: {\n                preformatted: '코드 예제 <pre>'\n            },\n            pt_br: {\n                preformatted: 'Exemple de código <pre>'\n            },\n            ru: {\n                preformatted: 'Пример кода <pre>'\n            },\n            sl: {\n                preformatted: 'Vstavi neformatiran tekst <pre>'\n            },\n            tr: {\n                preformatted: 'Kod örneği <pre>'\n            },\n            zh_cn: {\n                preformatted: '代码示例 <pre>'\n            },\n            zh_tw: {\n                preformatted: '代碼範例 <pre>'\n            },\n        },\n        // jshint camelcase:true\n\n        plugins: {\n            preformatted: {\n                init: function (trumbowyg) {\n                    var btnDef = {\n                        fn: function () {\n                            trumbowyg.saveRange();\n                            var text = trumbowyg.getRangeText();\n                            if (text.replace(/\\s/g, '') !== '') {\n                                try {\n                                    var curtag = getSelectionParentElement().tagName.toLowerCase();\n                                    if (curtag === 'code' || curtag === 'pre') {\n                                        return unwrapCode();\n                                    }\n                                    else {\n                                        trumbowyg.execCmd('insertHTML', '<pre><code>' + strip(text) + '</code></pre>');\n                                    }\n                                } catch (e) {\n                                }\n                            }\n                        },\n                        tag: 'pre'\n                    };\n\n                    trumbowyg.addBtnDef('preformatted', btnDef);\n                }\n            }\n        }\n    });\n\n    /*\n     * GetSelectionParentElement\n     */\n    function getSelectionParentElement() {\n        var parentEl = null,\n            selection;\n\n        if (window.getSelection) {\n            selection = window.getSelection();\n            if (selection.rangeCount) {\n                parentEl = selection.getRangeAt(0).commonAncestorContainer;\n                if (parentEl.nodeType !== 1) {\n                    parentEl = parentEl.parentNode;\n                }\n            }\n        } else if ((selection = document.selection) && selection.type !== 'Control') {\n            parentEl = selection.createRange().parentElement();\n        }\n\n        return parentEl;\n    }\n\n    /*\n     * Strip\n     * returns a text without HTML tags\n     */\n    function strip(html) {\n        var tmp = document.createElement('DIV');\n        tmp.innerHTML = html;\n        return tmp.textContent || tmp.innerText || '';\n    }\n\n    /*\n     * UnwrapCode\n     * ADD/FIX: to improve, works but can be better\n     * \"paranoic\" solution\n     */\n    function unwrapCode() {\n        var container = null;\n\n        if (document.selection) { //for IE\n            container = document.selection.createRange().parentElement();\n        } else {\n            var select = window.getSelection();\n            if (select.rangeCount > 0) {\n                container = select.getRangeAt(0).startContainer.parentNode;\n            }\n        }\n\n        //'paranoic' unwrap\n        var ispre = $(container).contents().closest('pre').length;\n        var iscode = $(container).contents().closest('code').length;\n\n        if (ispre && iscode) {\n            $(container).contents().unwrap('code').unwrap('pre');\n        } else if (ispre) {\n            $(container).contents().unwrap('pre');\n        } else if (iscode) {\n            $(container).contents().unwrap('code');\n        }\n    }\n})(jQuery);\n\n\n; (function ($) {\n    'use strict';\n\n    var defaultOptions = {\n        minSize: 32,\n        step: 4\n    };\n\n    function preventDefault(e) {\n        e.stopPropagation();\n        e.preventDefault();\n    }\n\n    var ResizeWithCanvas = function (trumbowyg) {\n        // variable to create canvas and save img in resize mode\n        this.resizeCanvas = document.createElement('canvas');\n        // to allow canvas to get focus\n        this.resizeCanvas.setAttribute('tabindex', '0');\n        this.resizeCanvas.id = 'trumbowyg-resizimg-' + (+new Date());\n        this.ctx = null;\n        this.resizeImg = null;\n\n        this.pressEscape = function (obj) {\n            obj.reset();\n        };\n        this.pressBackspaceOrDelete = function (obj) {\n            $(obj.resizeCanvas).remove();\n            obj.resizeImg = null;\n            if (trumbowyg !== null){\n                trumbowyg.syncCode();\n                // notify changes\n                trumbowyg.$c.trigger('tbwchange');\n            }\n        };\n\n        // PRIVATE FUNCTION\n        var focusedNow = false;\n        var isCursorSeResize = false;\n\n        // calculate offset to change mouse over square in the canvas\n        var offsetX, offsetY;\n        var reOffset = function (canvas) {\n            var BB = canvas.getBoundingClientRect();\n            offsetX = BB.left;\n            offsetY = BB.top;\n        };\n\n        var updateCanvas = function (canvas, ctx, img, canvasWidth, canvasHeight) {\n            ctx.translate(0.5, 0.5);\n            ctx.lineWidth = 1;\n\n            // image\n            ctx.drawImage(img, 5, 5, canvasWidth - 10, canvasHeight - 10);\n\n            // border\n            ctx.beginPath();\n            ctx.rect(5, 5, canvasWidth - 10, canvasHeight - 10);\n            ctx.stroke();\n\n            // square in the angle\n            ctx.beginPath();\n            ctx.fillStyle = 'rgb(255, 255, 255)';\n            ctx.rect(canvasWidth - 10, canvasHeight - 10, 9, 9);\n            ctx.fill();\n            ctx.stroke();\n\n            // get the offset to change the mouse cursor\n            reOffset(canvas);\n\n            return ctx;\n        };\n\n        // PUBLIC FUNCTION\n        // necessary to correctly print cursor over square. Called once for instance. Useless with trumbowyg.\n        this.init = function () {\n            var _this = this;\n            $(window).on('scroll resize', function () {\n                _this.reCalcOffset();\n            });\n        };\n\n        this.reCalcOffset = function () {\n            reOffset(this.resizeCanvas);\n        };\n\n        this.canvasId = function () {\n            return this.resizeCanvas.id;\n        };\n\n        this.isActive = function () {\n            return this.resizeImg !== null;\n        };\n\n        this.isFocusedNow = function () {\n            return focusedNow;\n        };\n\n        this.blurNow = function () {\n            focusedNow = false;\n        };\n\n        // restore image in the HTML of the editor\n        this.reset = function () {\n            if (this.resizeImg === null) {\n                return;\n            }\n\n            // set style of image to avoid issue on resize because this attribute have priority over width and height attribute\n            this.resizeImg.setAttribute('style', 'width: 100%; max-width: ' + (this.resizeCanvas.clientWidth - 10) + 'px; height: auto; max-height: ' + (this.resizeCanvas.clientHeight - 10) + 'px;');\n\n            $(this.resizeCanvas).replaceWith($(this.resizeImg));\n\n            // reset canvas style\n            this.resizeCanvas.removeAttribute('style');\n            this.resizeImg = null;\n        };\n\n        // setup canvas with points and border to allow the resizing operation\n        this.setup = function (img, resizableOptions) {\n            this.resizeImg = img;\n\n            if (!this.resizeCanvas.getContext) {\n                return false;\n            }\n\n            focusedNow = true;\n\n            // draw canvas\n            this.resizeCanvas.width = $(this.resizeImg).width() + 10;\n            this.resizeCanvas.height = $(this.resizeImg).height() + 10;\n            this.resizeCanvas.style.margin = '-5px';\n            this.ctx = this.resizeCanvas.getContext('2d');\n\n            // replace image with canvas\n            $(this.resizeImg).replaceWith($(this.resizeCanvas));\n\n            updateCanvas(this.resizeCanvas, this.ctx, this.resizeImg, this.resizeCanvas.width, this.resizeCanvas.height);\n\n            // enable resize\n            $(this.resizeCanvas).resizableSafe(resizableOptions)\n                .on('mousedown', preventDefault);\n\n            var _this = this;\n            $(this.resizeCanvas)\n                .on('mousemove', function (e) {\n                    var mouseX = Math.round(e.clientX - offsetX);\n                    var mouseY = Math.round(e.clientY - offsetY);\n\n                    var wasCursorSeResize = isCursorSeResize;\n\n                    _this.ctx.rect(_this.resizeCanvas.width - 10, _this.resizeCanvas.height - 10, 9, 9);\n                    isCursorSeResize = _this.ctx.isPointInPath(mouseX, mouseY);\n                    if (wasCursorSeResize !== isCursorSeResize) {\n                        this.style.cursor = isCursorSeResize ? 'se-resize' : 'default';\n                    }\n                })\n                .on('keydown', function (e) {\n                    if (!_this.isActive()) {\n                        return;\n                    }\n\n                    var x = e.keyCode;\n                    if (x === 27) { // ESC\n                        _this.pressEscape(_this);\n                    } else if (x === 8 || x === 46) { // BACKSPACE or DELETE\n                        _this.pressBackspaceOrDelete(_this);\n                    }\n                })\n                .on('focus', preventDefault)\n                .on('blur', function () {\n                    _this.reset();\n                    // save changes\n                    if (trumbowyg !== null){\n                        trumbowyg.syncCode();\n                        // notify changes\n                        trumbowyg.$c.trigger('tbwchange');\n                    }\n                });\n\n            this.resizeCanvas.focus();\n\n            return true;\n        };\n\n        // update the canvas after the resizing\n        this.refresh = function () {\n            if (!this.resizeCanvas.getContext) {\n                return;\n            }\n\n            this.resizeCanvas.width = this.resizeCanvas.clientWidth;\n            this.resizeCanvas.height = this.resizeCanvas.clientHeight;\n            updateCanvas(this.resizeCanvas, this.ctx, this.resizeImg, this.resizeCanvas.width, this.resizeCanvas.height);\n        };\n    };\n\n    $.extend(true, $.trumbowyg, {\n        plugins: {\n            resizimg: {\n                destroyResizable: function () {},\n                init: function (trumbowyg) {\n                    var destroyResizable = this.destroyResizable;\n\n                    // object to interact with canvas\n                    var resizeWithCanvas = new ResizeWithCanvas(trumbowyg);\n\n                    this.destroyResizable = function () {\n                        // clean html code\n                        trumbowyg.$ed.find('canvas.resizable')\n                            .resizableSafe('destroy')\n                            .off('mousedown', preventDefault)\n                            .removeClass('resizable');\n\n                        resizeWithCanvas.reset();\n\n                        trumbowyg.syncCode();\n                    };\n\n                    trumbowyg.o.plugins.resizimg = $.extend(true, {},\n                        defaultOptions,\n                        trumbowyg.o.plugins.resizimg || {},\n                        {\n                            resizable: {\n                                resizeWidth: false,\n                                onDragStart: function (ev, $el) {\n                                    var opt = trumbowyg.o.plugins.resizimg;\n                                    var x = ev.pageX - $el.offset().left;\n                                    var y = ev.pageY - $el.offset().top;\n                                    if (x < $el.width() - opt.minSize || y < $el.height() - opt.minSize) {\n                                        return false;\n                                    }\n                                },\n                                onDrag: function (ev, $el, newWidth, newHeight) {\n                                    var opt = trumbowyg.o.plugins.resizimg;\n                                    if (newHeight < opt.minSize) {\n                                        newHeight = opt.minSize;\n                                    }\n                                    newHeight -= newHeight % opt.step;\n                                    $el.height(newHeight);\n                                    return false;\n                                },\n                                onDragEnd: function () {\n                                    // resize update canvas information\n                                    resizeWithCanvas.refresh();\n                                    trumbowyg.syncCode();\n                                }\n                            }\n                        }\n                    );\n\n                    function initResizable() {\n                        trumbowyg.$ed.find('img')\n                            .off('click')\n                            .on('click', function (e) {\n                                // if I'm already do a resize, reset it\n                                if (resizeWithCanvas.isActive()) {\n                                    resizeWithCanvas.reset();\n                                }\n                                // initialize resize of image\n                                resizeWithCanvas.setup(this, trumbowyg.o.plugins.resizimg.resizable);\n\n                                preventDefault(e);\n                            });\n                    }\n\n                    trumbowyg.$c.on('tbwinit', function () {\n                        initResizable();\n\n                        // disable resize when click on other items\n                        trumbowyg.$ed.on('click', function (e) {\n                            // check if I've clicked out of canvas or image to reset it\n                            if ($(e.target).is('img') || e.target.id === resizeWithCanvas.canvasId()) {\n                                return;\n                            }\n\n                            preventDefault(e);\n                            resizeWithCanvas.reset();\n                            //sync\n                            trumbowyg.syncCode();\n                            // notify changes\n                            trumbowyg.$c.trigger('tbwchange');\n                        });\n\n                        trumbowyg.$ed.on('scroll', function () {\n                            resizeWithCanvas.reCalcOffset();\n                        });\n                    });\n\n                    trumbowyg.$c.on('tbwfocus tbwchange', initResizable);\n                    trumbowyg.$c.on('tbwresize', function () {\n                        resizeWithCanvas.reCalcOffset();\n                    });\n\n                    // Destroy\n                    trumbowyg.$c.on('tbwblur', function () {\n                        // when canvas is created the tbwblur is called\n                        // this code avoid to destroy the canvas that allow the image resizing\n                        if (resizeWithCanvas.isFocusedNow()) {\n                            resizeWithCanvas.blurNow();\n                        } else {\n                            destroyResizable();\n                        }\n                    });\n                },\n                destroy: function () {\n                    this.destroyResizable();\n                }\n            }\n        }\n    });\n})(jQuery);\n\n\n/* ===========================================================\n * trumbowyg.specialchars.js v0.99\n * Unicode characters picker plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author : Renaud Hoyoux (geektortoise)\n*/\n\n(function ($) {\n    'use strict';\n\n    var defaultOptions = {\n        symbolList: [\n            // currencies\n            '0024', '20AC', '00A3', '00A2', '00A5', '00A4', '2030', null,\n            // legal signs\n            '00A9', '00AE', '2122', null,\n            // textual sign\n            '00A7', '00B6', '00C6', '00E6', '0152', '0153', null,\n            '2022', '25CF', '2023', '25B6', '2B29', '25C6', null,\n            //maths\n            '00B1', '00D7', '00F7', '21D2', '21D4', '220F', '2211', '2243', '2264', '2265'\n        ]\n    };\n\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            en: {\n                specialChars: 'Special characters'\n            },\n            az: {\n                specialChars: 'Xüsusi simvollar'\n            },\n            by: {\n                specialChars: 'Спецыяльныя сімвалы'\n            },\n            et: {\n                specialChars: 'Erimärgid'\n            },\n            fr: {\n                specialChars: 'Caractères spéciaux'\n            },\n            hu: {\n                specialChars: 'Speciális karakterek'\n            },\n            ko: {\n                specialChars: '특수문자'\n            },\n            ru: {\n                specialChars: 'Специальные символы'\n            },\n            sl: {\n                specialChars: 'Posebni znaki'\n            },\n            tr: {\n                specialChars: 'Özel karakterler'\n            },\n        },\n        plugins: {\n            specialchars: {\n                init: function (trumbowyg) {\n                    trumbowyg.o.plugins.specialchars = trumbowyg.o.plugins.specialchars || defaultOptions;\n                    var specialCharsBtnDef = {\n                        dropdown: buildDropdown(trumbowyg)\n                    };\n\n                    trumbowyg.addBtnDef('specialChars', specialCharsBtnDef);\n                }\n            }\n        }\n    });\n\n    function buildDropdown(trumbowyg) {\n        var dropdown = [];\n        $.each(trumbowyg.o.plugins.specialchars.symbolList, function (i, symbol) {\n            if (symbol === null) {\n                symbol = '&nbsp';\n            } else {\n                symbol = '&#x' + symbol;\n            }\n\n            var btn = symbol.replace(/:/g, ''),\n                defaultSymbolBtnName = 'symbol-' + btn,\n                defaultSymbolBtnDef = {\n                    text: symbol,\n                    hasIcon: false,\n                    fn: function () {\n                        var encodedSymbol = String.fromCodePoint(parseInt(symbol.replace('&#', '0')));\n                        trumbowyg.execCmd('insertText', encodedSymbol);\n                        return true;\n                    }\n                };\n\n            trumbowyg.addBtnDef(defaultSymbolBtnName, defaultSymbolBtnDef);\n            dropdown.push(defaultSymbolBtnName);\n        });\n\n        return dropdown;\n    }\n})(jQuery);\n\n\n/* ===========================================================\n * trumbowyg.table.js v3.0\n * Table plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author : Alexandre Demode (Alex-D)\n *          Twitter : @AlexandreDemode\n *          Website : alex-d.fr\n * Original Author : Sven Dunemann [dunemann@forelabs.eu]\n */\n\n(function ($) {\n    'use strict';\n\n    var defaultOptions = {\n        rows: 8,\n        columns: 8,\n        allowHorizontalResize: true,\n        colorList: [\n            'ffffff', '000000', 'eeece1', '1f497d', '4f81bd', 'c0504d', '9bbb59', '8064a2', '4bacc6', 'f79646', 'ffff00',\n            'f2f2f2', '7f7f7f', 'ddd9c3', 'c6d9f0', 'dbe5f1', 'f2dcdb', 'ebf1dd', 'e5e0ec', 'dbeef3', 'fdeada', 'fff2ca',\n            'd8d8d8', '595959', 'c4bd97', '8db3e2', 'b8cce4', 'e5b9b7', 'd7e3bc', 'ccc1d9', 'b7dde8', 'fbd5b5', 'ffe694',\n            'bfbfbf', '3f3f3f', '938953', '548dd4', '95b3d7', 'd99694', 'c3d69b', 'b2a2c7', 'b7dde8', 'fac08f', 'f2c314',\n            'a5a5a5', '262626', '494429', '17365d', '366092', '953734', '76923c', '5f497a', '92cddc', 'e36c09', 'c09100',\n            '7f7f7f', '0c0c0c', '1d1b10', '0f243e', '244061', '632423', '4f6128', '3f3151', '31859b', '974806', '7f6000'\n        ],\n        backgroundColorList: null, // fallbacks on colorList\n        allowCustomBackgroundColor: true,\n        displayBackgroundColorsAsList: false,\n        borderColorList: null, // fallbacks on colorList\n        allowCustomBorderColor: true,\n        displayBorderColorsAsList: false,\n        dropdown: [\n            {\n                title: 'tableRows',\n                buttons: [\n                    'tableAddHeaderRow',\n                    'tableAddRowAbove',\n                    'tableAddRow',\n                    'tableDeleteRow',\n                ],\n            },\n            {\n                title: 'tableColumns',\n                buttons: [\n                    'tableAddColumnLeft',\n                    'tableAddColumn',\n                    'tableDeleteColumn',\n                ],\n            },\n            {\n                title: 'tableVerticalAlign',\n                buttons: [\n                    'tableVerticalAlignTop',\n                    'tableVerticalAlignMiddle',\n                    'tableVerticalAlignBottom',\n               ],\n            },\n            {\n                title: 'tableOthers',\n                buttons: [\n                    // Cell merge/split\n                    'tableMergeCells',\n                    'tableUnmergeCells',\n                    'tableDestroy',\n                ]\n            }\n        ],\n    };\n\n    function ucFirst(value) {\n        return value[0].toUpperCase() + value.slice(1);\n    }\n\n    function hex(x) {\n        return ('0' + parseInt(x).toString(16)).slice(-2);\n    }\n\n    function colorToHex(rgb) {\n        if (rgb.search('rgb') === -1) {\n            return rgb.replace('#', '');\n        } else if (rgb === 'rgba(0, 0, 0, 0)') {\n            return 'transparent';\n        } else {\n            rgb = rgb.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d?(.\\d+)))?\\)$/);\n            if (rgb == null) {\n                return 'transparent'; // No match, return transparent as unkown color\n            }\n            return hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3]);\n        }\n    }\n\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            // jshint camelcase:false\n            en: {\n                table: 'Insert table',\n                tableRows: 'Rows',\n                tableColumns: 'Columns',\n                tableVerticalAlign: 'Vertical align',\n                tableOthers: 'Others',\n                tableAddHeaderRow: 'Insert head row',\n                tableAddRowAbove: 'Insert row above',\n                tableAddRow: 'Insert row below',\n                tableAddColumnLeft: 'Insert column to the left',\n                tableAddColumn: 'Insert column to the right',\n                tableDeleteRow: 'Delete row',\n                tableDeleteColumn: 'Delete column',\n                tableDestroy: 'Delete table',\n                tableMergeCells: 'Merge cells',\n                tableUnmergeCells: 'Unmerge cells',\n                tableVerticalAlignTop: 'Align text to top',\n                tableVerticalAlignMiddle: 'Center text vertically',\n                tableVerticalAlignBottom: 'Align text to bottom',\n                tableCellBackgroundColor: 'Cell background color'\n            },\n            az: {\n                table: 'Cədvəl yerləşdir',\n                tableAddRow: 'Sətir əlavə et',\n                tableAddRowAbove: 'Yuxarı sətir əlavə et',\n                tableAddColumnLeft: 'Sola sütun əlavə et',\n                tableAddColumn: 'Sağa sütun əlavə et',\n                tableDeleteRow: 'Sətri sil',\n                tableDeleteColumn: 'Sütunu sil',\n                tableDestroy: 'Cədvəli sil',\n            },\n            ca: {\n                table: 'Inserir taula',\n                tableAddRow: 'Afegir fila',\n                tableAddRowAbove: 'Afegir fila a dalt',\n                tableAddColumnLeft: 'Afegir columna a l\\'esquerra',\n                tableAddColumn: 'Afegir columna a la dreta',\n                tableDeleteRow: 'Esborrar fila',\n                tableDeleteColumn: 'Esborrar columna',\n                tableDestroy: 'Esborrar taula',\n                error: 'Error'\n            },\n            cs: {\n                table: 'Vytvořit příkaz Table',\n                tableAddRow: 'Přidat řádek',\n                tableAddRowAbove: 'Přidat řádek',\n                tableAddColumnLeft: 'Přidat sloupec',\n                tableAddColumn: 'Přidat sloupec',\n            },\n            da: {\n                table: 'Indsæt tabel',\n                tableAddRow: 'Tilføj række',\n                tableAddRowAbove: 'Tilføj række',\n                tableAddColumnLeft: 'Tilføj kolonne',\n                tableAddColumn: 'Tilføj kolonne',\n                tableDeleteRow: 'Slet række',\n                tableDeleteColumn: 'Slet kolonne',\n                tableDestroy: 'Slet tabel',\n            },\n            de: {\n                table: 'Tabelle einfügen',\n                tableAddRow: 'Zeile hinzufügen',\n                tableAddRowAbove: 'Zeile hinzufügen',\n                tableAddColumnLeft: 'Spalte hinzufügen',\n                tableAddColumn: 'Spalte hinzufügen',\n                tableDeleteRow: 'Zeile löschen',\n                tableDeleteColumn: 'Spalte löschen',\n                tableDestroy: 'Tabelle löschen',\n            },\n            et: {\n                table: 'Sisesta tabel',\n                tableAddRow: 'Lisa rida',\n                tableAddRowAbove: 'Lisa rida üles',\n                tableAddColumnLeft: 'Lisa tulp vasakule',\n                tableAddColumn: 'Lisa tulp paremale',\n                tableDeleteRow: 'Kustuta rida',\n                tableDeleteColumn: 'Kustuta tulp',\n                tableDestroy: 'Kustuta tabel',\n            },\n            fr: {\n                table: 'Insérer un tableau',\n                tableRows: 'Lignes',\n                tableColumns: 'Colonnes',\n                tableVerticalAlign: 'Alignement vertical',\n                tableOthers: 'Autres',\n                tableAddHeaderRow: 'Insérer une line d\\'en-tête',\n                tableAddRowAbove: 'Insérer une ligne au dessus',\n                tableAddRow: 'Insérer une ligne en dessous',\n                tableAddColumnLeft: 'Insérer une colonne à gauche',\n                tableAddColumn: 'Insérer une colonne à droite',\n                tableDeleteRow: 'Supprimer la ligne',\n                tableDeleteColumn: 'Supprimer la colonne',\n                tableDestroy: 'Supprimer le tableau',\n                tableMergeCells: 'Fusionner les cellules',\n                tableUnmergeCells: 'Dissocier les cellules',\n                tableVerticalAlignTop: 'Aligner en haut',\n                tableVerticalAlignMiddle: 'Aligner au milieu',\n                tableVerticalAlignBottom: 'Aligner en bas',\n                tableCellBackgroundColor: 'Couleur de fond des cellules',\n                tableBorderColor: 'Couleur de la bordure du tableau'\n            },\n            hu: {\n                table: 'Táblázat beszúrás',\n                tableAddRow: 'Sor hozzáadás',\n                tableAddRowAbove: 'Sor beszúrás fönt',\n                tableAddColumnLeft: 'Sor beszúrás balra',\n                tableAddColumn: 'Sor beszúrás jobbra',\n                tableDeleteRow: 'Sor törlés',\n                tableDeleteColumn: 'Oszlop törlés',\n                tableDestroy: 'Táblázat törlés',\n            },\n            id: {\n                table: 'Sisipkan tabel',\n                tableAddRow: 'Sisipkan baris',\n                tableAddRowAbove: 'Sisipkan baris',\n                tableAddColumnLeft: 'Sisipkan kolom',\n                tableAddColumn: 'Sisipkan kolom',\n                tableDeleteRow: 'Hapus baris',\n                tableDeleteColumn: 'Hapus kolom',\n                tableDestroy: 'Hapus tabel',\n            },\n            ja: {\n                table: '表の挿入',\n                tableAddRow: '行の追加',\n                tableAddRowAbove: '行の追加',\n                tableAddColumnLeft: '列の追加',\n                tableAddColumn: '列の追加',\n            },\n            ko: {\n                table: '표 넣기',\n                tableAddRow: '줄 추가',\n                tableAddRowAbove: '줄 추가',\n                tableAddColumnLeft: '칸 추가',\n                tableAddColumn: '칸 추가',\n                tableDeleteRow: '줄 삭제',\n                tableDeleteColumn: '칸 삭제',\n                tableDestroy: '표 지우기',\n            },\n            pt_br: {\n                table: 'Inserir tabela',\n                tableAddRow: 'Adicionar linha',\n                tableAddRowAbove: 'Adicionar linha',\n                tableAddColumnLeft: 'Adicionar coluna',\n                tableAddColumn: 'Adicionar coluna',\n                tableDeleteRow: 'Deletar linha',\n                tableDeleteColumn: 'Deletar coluna',\n                tableDestroy: 'Deletar tabela',\n            },\n            ru: {\n                table: 'Вставить таблицу',\n                tableAddRow: 'Добавить строку',\n                tableAddRowAbove: 'Добавить строку',\n                tableAddColumnLeft: 'Добавить столбец',\n                tableAddColumn: 'Добавить столбец',\n                tableDeleteRow: 'Удалить строку',\n                tableDeleteColumn: 'Удалить столбец',\n                tableDestroy: 'Удалить таблицу',\n            },\n            sl: {\n                table: 'Dodaj tabelo',\n                tableAddRow: 'Dodaj vrstico',\n                tableAddRowAbove: 'Vrini vrstico',\n                tableAddColumnLeft: 'Vrini stolpec',\n                tableAddColumn: 'Dodaj stolpec',\n                tableDeleteRow: 'Izbriši vrstico',\n                tableDeleteColumn: 'Izbriši stolpec',\n                tableDestroy: 'Izbriši tabelo',\n            },\n            sk: {\n                table: 'Vytvoriť tabuľky',\n                tableAddRow: 'Pridať riadok',\n                tableAddRowAbove: 'Pridať riadok',\n                tableAddColumnLeft: 'Pridať stĺpec',\n                tableAddColumn: 'Pridať stĺpec',\n            },\n            tr: {\n                table: 'Tablo ekle',\n                tableAddRow: 'Satır ekle',\n                tableAddRowAbove: 'Yukarıya satır ekle',\n                tableAddColumnLeft: 'Sola sütun ekle',\n                tableAddColumn: 'Sağa sütun ekle',\n                tableDeleteRow: 'Satırı sil',\n                tableDeleteColumn: 'Sütunu sil',\n                tableDestroy: 'Tabloyu sil',\n            },\n            zh_tw: {\n                table: '插入表格',\n                tableAddRow: '加入行',\n                tableAddRowAbove: '加入行',\n                tableAddColumnLeft: '加入列',\n                tableAddColumn: '加入列',\n                tableDeleteRow: '刪除行',\n                tableDeleteColumn: '刪除列',\n                tableDestroy: '刪除表格',\n            },\n            es: {\n                table: 'Insertar tabla',\n                tableAddRow: 'Agregar fila',\n                tableAddRowAbove: 'Agregar fila arriba',\n                tableAddColumnLeft: 'Agregar columna a la izquierda',\n                tableAddColumn: 'Agregar columna a la derecha',\n                tableDeleteRow: 'Borrar fila',\n                tableDeleteColumn: 'Borrar columna',\n                tableDestroy: 'Borrar tabla',\n            }// jshint camelcase:true\n        },\n\n        plugins: {\n            table: {\n                // jshint maxstatements:false\n                init: function (t) {\n                    t.o.plugins.table = $.extend(true, {}, defaultOptions, t.o.plugins.table || {});\n\n                    // State\n                    var tableSelectedCells;\n\n                    ////////////////////////////////////////////////////\n                    // Dropdown\n\n                    var buildButtonDef = {\n                        fn: function () {\n                            t.saveRange();\n\n                            var btnName = 'table';\n\n                            var dropdownPrefix = t.o.prefix + 'dropdown',\n                                dropdownOptions = { // the dropdown\n                                    class: dropdownPrefix + '-' + btnName + ' ' + dropdownPrefix + ' ' + t.o.prefix + 'fixed-top'\n                                };\n                            dropdownOptions['data-' + dropdownPrefix] = btnName;\n                            var $dropdown = $('<div/>', dropdownOptions);\n\n                            if (t.$box.find('.' + dropdownPrefix + '-' + btnName).length === 0) {\n                                t.$box.append($dropdown.hide());\n                            } else {\n                                $dropdown = t.$box.find('.' + dropdownPrefix + '-' + btnName);\n                            }\n\n                            // clear dropdown\n                            $dropdown.html('');\n\n                            // when active table show AddRow / AddColumn\n                            if (t.$box.find('.' + t.o.prefix + 'table-button').hasClass(t.o.prefix + 'active-button')) {\n                                var $table = $(t.doc.getSelection().anchorNode).closest('table');\n                                var tableState = getTableState($table);\n                                var hasSelectedCells = tableSelectedCells !== undefined;\n                                $(t.o.plugins.table.dropdown).each(function (_, buttonGroup) {\n                                    $dropdown.append($('<div/>', {\n                                        html: t.lang[buttonGroup.title] ? t.lang[buttonGroup.title] : buttonGroup.title,\n                                        class: t.o.prefix + 'table-dropdown-title'\n                                    })).text();\n                                    var $buttonGroup = $('<div/>', {\n                                        class: t.o.prefix + 'dropdown-button-group'\n                                    });\n\n                                    $(buttonGroup.buttons).each(function (_, buttonName) {\n                                        // Conditional thead button\n                                        if (buttonName === 'tableAddHeaderRow') {\n                                            var hasThead = $('thead', $table).length !== 0;\n                                            if (hasThead) {\n                                                return;\n                                            }\n                                        }\n\n                                        // Conditional merge button\n                                        if (buttonName === 'tableMergeCells' && !hasSelectedCells) {\n                                            return;\n                                        }\n\n                                        // Conditional unmerge button\n                                        if (buttonName === 'tableUnmergeCells') {\n                                            var hasAtLeastOneMergedCell = false;\n                                            foreachSelectedCell(function ($cell) {\n                                                var isMergedCell = $cell.is('[colspan]') || $cell.is('[rowspan]');\n                                                hasAtLeastOneMergedCell = hasAtLeastOneMergedCell || isMergedCell;\n                                            }, tableState);\n                                            if (!hasAtLeastOneMergedCell) {\n                                                return;\n                                            }\n                                        }\n\n                                        $buttonGroup.append(t.buildSubBtn(buttonName));\n                                    });\n\n                                    $dropdown.append($buttonGroup);\n                                });\n                            } else {\n                                var $tableSelect = $('<table/>');\n                                $('<tbody/>').appendTo($tableSelect);\n                                for (var i = 0; i < t.o.plugins.table.rows; i += 1) {\n                                    var row = $('<tr/>').appendTo($tableSelect);\n                                    for (var j = 0; j < t.o.plugins.table.columns; j += 1) {\n                                        $('<td/>').appendTo(row);\n                                    }\n                                }\n                                $tableSelect.find('td').on('mouseover', toggleActiveDropdownCells);\n                                $tableSelect.find('td').on('mousedown', tableBuild);\n\n                                $dropdown.append($tableSelect);\n                                $dropdown.append($('<div class=\"trumbowyg-table-size\">1x1</div>'));\n                            }\n\n                            t.dropdown(btnName);\n                        },\n                        class: t.o.prefix + 'open-dropdown'\n                    };\n\n                    var toggleActiveDropdownCells = function (columnEvent) {\n                        var column = $(columnEvent.target),\n                            table = column.closest('table'),\n                            colIndex = this.cellIndex,\n                            rowIndex = this.parentNode.rowIndex;\n\n                        // reset all columns\n                        table.find('td').removeClass('active');\n\n                        for (var i = 0; i <= rowIndex; i += 1) {\n                            for (var j = 0; j <= colIndex; j += 1) {\n                                table.find('tr:nth-of-type(' + (i + 1) + ')').find('td:nth-of-type(' + (j + 1) + ')').addClass('active');\n                            }\n                        }\n\n                        // set label\n                        table.next('.trumbowyg-table-size').html((colIndex + 1) + 'x' + (rowIndex + 1));\n                    };\n\n                    var applyTagClassesToElement = function (element) {\n                        var tagClasses = t.o.tagClasses[element.tagName.toLowerCase()];\n                        if (!tagClasses) {\n                            return;\n                        }\n                        $(element).addClass(tagClasses);\n                    };\n                    var applyTagClasses = function ($table) {\n                        applyTagClassesToElement($table[0]);\n                        $('*', $table).each(function (_, element) {\n                            applyTagClassesToElement(element);\n                        });\n                    };\n                    var tableBuild = function () {\n                        t.saveRange();\n\n                        var $newTable = $('<table/>');\n\n                        // Build thead\n                        var $thead = $('<thead/>');\n                        var $theadTr = $('<tr/>');\n                        $theadTr.appendTo($thead);\n                        for (var th = 0; th <= this.cellIndex; th += 1) {\n                            $('<th/>', {scope: 'col'}).appendTo($theadTr);\n                        }\n                        $thead.appendTo($newTable);\n\n                        // Build tbody\n                        var $tbody = $('<tbody/>');\n\n                        var colIndex = this.cellIndex,\n                            rowIndex = this.parentNode.rowIndex;\n\n                        for (var i = 0; i <= rowIndex; i += 1) {\n                            var row = $('<tr/>').appendTo($tbody);\n                            for (var j = 0; j <= colIndex; j += 1) {\n                                $('<td/>').appendTo(row);\n                            }\n                        }\n\n                        $tbody.appendTo($newTable);\n\n                        // Apply tag classes\n                        applyTagClasses($newTable);\n\n                        // Find first parent element\n                        var rangeNode = t.range.endContainer;\n                        while (rangeNode.nodeType !== Node.ELEMENT_NODE) {\n                            rangeNode = rangeNode.parentNode;\n                        }\n\n                        // Put range after the parent of the selected element\n                        if (rangeNode !== t.$ed[0]) {\n                            t.range.setEndAfter(rangeNode);\n                        }\n\n                        // Insert table after the range\n                        t.range.collapse();\n                        t.range.insertNode($newTable[0]);\n\n                        // Remove empty paragraph\n                        if (rangeNode.nodeName === 'P' && rangeNode.textContent.trim().length === 0) {\n                            rangeNode.remove();\n                        }\n\n                        t.syncCode();\n\n                        rebuildResizeLayers();\n                    };\n\n                    var getTableState = function ($table) {\n                        var $tableRows = $('tr', $table);\n                        var tableState = [];\n                        for (var i = 0; i < $tableRows.length; i += 1) {\n                            tableState.push([]);\n                        }\n\n                        $tableRows.each(function (rowIndex, row) {\n                            var columnIndex = 0;\n                            $('td, th', $(row)).each(function (cellIndex, cell) {\n                                var $cell = $(cell);\n                                var colspanAttr = $cell.attr('colspan');\n                                var rowspanAttr = $cell.attr('rowspan');\n                                var colspan = parseInt(colspanAttr ? colspanAttr : 1, 10);\n                                var rowspan = parseInt(rowspanAttr ? rowspanAttr : 1, 10);\n\n                                while (tableState[rowIndex][columnIndex] !== undefined) {\n                                    columnIndex += 1;\n                                }\n\n                                tableState[rowIndex][columnIndex] = {\n                                    tag: cell.tagName,\n                                    element: cell,\n                                    colspan: colspan,\n                                    rowspan: rowspan,\n                                };\n\n                                for (var cols = 1; cols < colspan; cols += 1) {\n                                    tableState[rowIndex][columnIndex + cols] = {\n                                        mergedIn: [rowIndex, columnIndex]\n                                    };\n                                }\n\n                                for (var rows = 1; rows < rowspan; rows += 1) {\n                                    tableState[rowIndex + rows][columnIndex] = {\n                                        mergedIn: [rowIndex, columnIndex]\n                                    };\n\n                                    for (var colsInRow = 1; colsInRow < colspan; colsInRow += 1) {\n                                        tableState[rowIndex + rows][columnIndex + colsInRow] = {\n                                            mergedIn: [rowIndex, columnIndex]\n                                        };\n                                    }\n                                }\n\n                                columnIndex += colspan;\n                            });\n                        });\n\n                        return tableState;\n                    };\n\n\n                    ////////////////////////////////////////////////////\n                    // Buttons\n\n                    var tableButtonAction = function (callback) {\n                        return function () {\n                            t.saveRange();\n\n                            var node = t.doc.getSelection().anchorNode;\n                            var $table = $(node).closest('table');\n\n                            if ($table.length === 0) {\n                                return;\n                            }\n\n                            if (node.tagName === 'TR') {\n                                node = $('td, th', node)[0];\n                            }\n                            var $focusedRow = $(node).closest('tr');\n\n                            var tableState = getTableState($table);\n\n                            callback($table, $focusedRow, node, tableState);\n\n                            t.syncCode();\n                        };\n                    };\n\n\n                    ////// Rows\n\n                    var addRowButtonAction = function (isBefore = false) {\n                        return tableButtonAction(function ($table, $focusedRow, node, tableState) {\n                            var $rows = $('tr', $table);\n                            var $newRow = $('<tr/>');\n\n                            // Shift one row before if insert before\n                            var focusedRowIndex = $rows.index($focusedRow);\n                            if (isBefore) {\n                                focusedRowIndex = Math.max(0, focusedRowIndex - 1);\n                                $focusedRow = $($rows[focusedRowIndex]);\n                            } else {\n                                var rawCellRowspan = $(node).closest('td, th').attr('rowspan');\n                                var cellRowspan = parseInt(rawCellRowspan ? rawCellRowspan : 1, 10);\n                                focusedRowIndex += cellRowspan - 1;\n                                $focusedRow = $($rows[focusedRowIndex]);\n                            }\n\n                            // Cannot add line to thead, so move to first tbody row\n                            var $tbodyRows = $('tbody tr', $table);\n                            var isFocusInHead = $focusedRow.closest('thead').length !== 0;\n                            if (isFocusInHead) {\n                                $focusedRow = $tbodyRows.first();\n                            }\n\n                            // add columns according to current columns count\n                            var focusedRowState = tableState[focusedRowIndex];\n                            var nextRowState = tableState[focusedRowIndex + 1];\n                            var columnCount = tableState[0].length;\n                            for (var columnIndex = 0; columnIndex < columnCount; columnIndex += 1) {\n                                if (nextRowState !== undefined) {\n                                    var originCellState = focusedRowState[columnIndex];\n                                    var originCellMergedInState = getCellState(tableState, originCellState.mergedIn);\n                                    var nextCellState = nextRowState[columnIndex];\n                                    var nextCellMergedInState = getCellState(tableState, nextCellState.mergedIn);\n\n                                    var realOriginCellState = originCellState.element ? originCellState : originCellMergedInState;\n                                    var originCellElement = realOriginCellState.element;\n                                    var nextCellElement = nextCellState.element ? nextCellState.element : nextCellMergedInState.element;\n\n                                    if (originCellElement === nextCellElement) {\n                                        originCellElement.setAttribute('rowspan', realOriginCellState.rowspan + 1);\n\n                                        continue;\n                                    }\n                                }\n\n                                $('<td/>').appendTo($newRow);\n                            }\n\n                            // add row to table\n                            if (focusedRowIndex === 0 && (isBefore || isFocusInHead)) {\n                                $focusedRow.before($newRow);\n                            } else {\n                                $focusedRow.after($newRow);\n                            }\n\n                            applyTagClasses($table);\n                            rebuildResizeLayers();\n                        });\n                    };\n\n                    var addRowAbove = {\n                        title: t.lang.tableAddRowAbove,\n                        text: t.lang.tableAddRowAbove,\n                        ico: 'row-above',\n\n                        fn: addRowButtonAction(true),\n                    };\n\n                    var addRowBelow = {\n                        title: t.lang.tableAddRow,\n                        text: t.lang.tableAddRow,\n                        ico: 'row-below',\n\n                        fn: addRowButtonAction(false),\n                    };\n\n                    var addHeaderRow = {\n                        title: t.lang.tableAddHeaderRow,\n                        text: t.lang.tableAddHeaderRow,\n                        ico: 'header-row',\n\n                        fn: tableButtonAction(function ($table, $focusedRow, node, tableState) {\n                            var hasThead = $('thead', $table).length !== 0;\n                            if (hasThead) {\n                                return false;\n                            }\n\n                            var columnCount = tableState[0].length;\n\n                            var $thead = $('<thead/>');\n                            var $theadRow = $('<tr/>').appendTo($thead);\n\n                            // add columns according to current columns count\n                            for (var columnIndex = 0; columnIndex < columnCount; columnIndex += 1) {\n                                $('<th/>').appendTo($theadRow);\n                            }\n\n                            // add thead to table\n                            $table.prepend($thead);\n\n                            applyTagClasses($table);\n                            rebuildResizeLayers();\n                        }),\n                    };\n\n\n                    ////// Columns\n\n                    var addColumnButtonAction = function (isBefore = false) {\n                        return tableButtonAction(function ($table, $focusedRow, node, tableState) {\n                            var $rows = $('tr', $table);\n                            var focusedRowIndex = $rows.index($focusedRow);\n                            var focusedRowState = tableState[focusedRowIndex];\n                            var $focusedCell = $(node).closest('td, th');\n\n                            // Shift one column before if insert before\n                            var cellIndex = getCellIndex($focusedCell[0], focusedRowState);\n                            if (isBefore) {\n                                cellIndex = Math.max(0, cellIndex - 1);\n                            } else {\n                                var rawCellColspan = $focusedCell.attr('colspan');\n                                var cellColspan = parseInt(rawCellColspan ? rawCellColspan : 1, 10);\n                                cellIndex += cellColspan - 1;\n                            }\n\n                            // add a cell to each row\n                            var rowCount = tableState.length;\n                            var mustInsertBefore = isBefore && cellIndex === 0;\n                            for (var rowIndex = 0; rowIndex < rowCount; rowIndex += 1) {\n                                var rowState = tableState[rowIndex];\n                                var nextCellState = mustInsertBefore ? undefined : rowState[cellIndex + 1];\n                                if (nextCellState !== undefined) {\n                                    var originCellState = rowState[cellIndex];\n                                    var originCellMergedInState = getCellState(tableState, originCellState.mergedIn);\n                                    var nextCellMergedInState = getCellState(tableState, nextCellState.mergedIn);\n\n                                    var realOriginCellState = originCellState.element ? originCellState : originCellMergedInState;\n                                    var originCellElement = realOriginCellState.element;\n                                    var nextCellElement = nextCellState.element ? nextCellState.element : nextCellMergedInState.element;\n\n                                    if (originCellElement === nextCellElement) {\n                                        originCellElement.setAttribute('colspan', realOriginCellState.colspan + 1);\n\n                                        continue;\n                                    }\n                                }\n\n                                // Get previous real cell state\n                                var previousRealCellState;\n                                var previousColumnShift = 0;\n                                do {\n                                    var newIndex = cellIndex - previousColumnShift;\n                                    if (newIndex < 0) {\n                                        break;\n                                    }\n\n                                    previousRealCellState = rowState[newIndex];\n                                    previousColumnShift += 1;\n                                } while (previousRealCellState.mergedIn !== undefined);\n\n                                // Create and append the cell next to the previous\n                                var $previousCell = previousRealCellState.element;\n                                var newCellElement = t.doc.createElement($previousCell.tagName);\n                                if (cellIndex === 0 && isBefore) {\n                                    $previousCell.before(newCellElement);\n                                } else {\n                                    $previousCell.after(newCellElement);\n                                }\n                            }\n\n                            applyTagClasses($table);\n                            rebuildResizeLayers();\n                        });\n                    };\n\n                    var addColumnLeft = {\n                        title: t.lang.tableAddColumnLeft,\n                        text: t.lang.tableAddColumnLeft,\n                        ico: 'col-left',\n\n                        fn: addColumnButtonAction(true)\n                    };\n\n                    var addColumnRight = {\n                        title: t.lang.tableAddColumn,\n                        text: t.lang.tableAddColumn,\n                        ico: 'col-right',\n\n                        fn: addColumnButtonAction(false)\n                    };\n\n\n                    ////// Delete\n\n                    var destroy = {\n                        title: t.lang.tableDestroy,\n                        text: t.lang.tableDestroy,\n                        ico: 'table-delete',\n\n                        fn: tableButtonAction(function ($table) {\n                            $table.remove();\n                        })\n                    };\n\n                    var deleteRow = {\n                        title: t.lang.tableDeleteRow,\n                        text: t.lang.tableDeleteRow,\n                        ico: 'row-delete',\n\n                        fn: tableButtonAction(function ($table, $focusedRow, node, tableState) {\n                            // Only one row is remaining in the table, remove the table\n                            if ($('tbody tr', $table).length === 1) {\n                                $table.remove();\n                                return;\n                            }\n\n                            // Pick element to remove\n                            var $elementToRemove = $focusedRow;\n                            var $focusedRowParent = $focusedRow.parent();\n                            if ($focusedRowParent.is('thead')) {\n                                $elementToRemove = $focusedRowParent;\n                            }\n\n                            // Manage merged cells\n                            var $rows = $('tr', $table);\n                            var rowIndex = $rows.index($(node).closest('tr'));\n                            for (var y = 0; y < tableState[0].length; y += 1) {\n                                var cellState = getCellState(tableState, [rowIndex, y], false);\n\n                                if (cellState.rowspan === 1) {\n                                    continue;\n                                }\n\n                                var originCellState = getCellState(tableState, [rowIndex, y]);\n                                originCellState.element.setAttribute('rowspan', originCellState.rowspan - 1);\n\n                                // If origin cell is not in this row, continue\n                                if (cellState.mergedIn !== undefined) {\n                                    continue;\n                                }\n\n                                // If origin cell is in this row, move it to the next row\n                                var originCellIndex = getCellIndex(cellState.element, tableState[rowIndex]);\n                                if (originCellIndex === 0) {\n                                    $($rows[rowIndex + 1]).prepend(originCellState.element);\n                                    continue;\n                                }\n                                var nextRowPreviousColumnCellState = getCellState(tableState, [\n                                    rowIndex + 1,\n                                    originCellIndex - 1\n                                ]);\n                                $(nextRowPreviousColumnCellState.element).after(originCellState.element);\n                            }\n\n                            $elementToRemove.remove();\n                            simplifyCells($table);\n                            redrawResizeLayers();\n                        }),\n                    };\n\n                    var deleteColumn = {\n                        title: t.lang.tableDeleteColumn,\n                        text: t.lang.tableDeleteColumn,\n                        ico: 'col-delete',\n\n                        fn: tableButtonAction(function ($table, $focusedRow, node, tableState) {\n                            var $rows = $('tr', $table);\n                            var rowIndex = $rows.index($(node).closest('tr'));\n                            var columnIndex = getCellIndex($(node).closest('td, th')[0], tableState[rowIndex]);\n\n                            for (var x = 0; x < tableState.length; x += 1) {\n                                var cellState = getCellState(tableState, [x, columnIndex], false);\n\n                                // Reduce cell colspan by 1\n                                if (cellState.colspan > 1) {\n                                    var originCellState = getCellState(tableState, [x, columnIndex]);\n                                    originCellState.element.setAttribute('colspan', originCellState.colspan - 1);\n                                    continue;\n                                }\n\n                                // Delete cell if not merged\n                                cellState.element.remove();\n                            }\n\n                            simplifyCells();\n                            redrawResizeLayers();\n                        })\n                    };\n\n\n                    ////// Cell merging\n\n                    var getCellState = function (tableState, cellCoordinates, mustGetDeep = true) {\n                        if (cellCoordinates === undefined) {\n                            return undefined;\n                        }\n\n                        var cellState = tableState[cellCoordinates[0]][cellCoordinates[1]];\n\n                        if (mustGetDeep && cellState.mergedIn !== undefined) {\n                            cellState = tableState[cellState.mergedIn[0]][cellState.mergedIn[1]];\n                        }\n\n                        return cellState;\n                    };\n\n                    var canMergeSelectedCells = function (tableState) {\n                        if (tableSelectedCells.length === 0) {\n                            return false;\n                        }\n\n                        // Check that all tags are the same\n                        var firstCellStateCoordinates = tableSelectedCells[0];\n                        var firstSelectedCellTag = getCellState(tableState, firstCellStateCoordinates).tag;\n                        var allTagsAreTheSame = tableSelectedCells.every(function (cellCoordinates) {\n                            var cellState = getCellState(tableState, cellCoordinates);\n\n                            return cellState.tag === firstSelectedCellTag;\n                        });\n\n                        if (!allTagsAreTheSame) {\n                            return false;\n                        }\n\n                        // Check that all selected cells make a rectangle\n                        var minByRow = [];\n                        var maxByRow = [];\n                        $(tableSelectedCells).each(function (_, tableSelectedCell) {\n                            var y = tableSelectedCell[0];\n                            var x = tableSelectedCell[1];\n                            var cellState = tableState[y][x];\n\n                            var cellRowspan = cellState.rowspan;\n                            var maxRow = y + cellRowspan;\n\n                            for (; y < maxRow; y += 1) {\n                                if (minByRow[y] === undefined) {\n                                    minByRow[y] = tableState[0].length;\n                                }\n\n                                if (maxByRow[y] === undefined) {\n                                    maxByRow[y] = 0;\n                                }\n\n                                minByRow[y] = Math.min(minByRow[y], x);\n                                maxByRow[y] = Math.max(maxByRow[y], x + cellState.colspan);\n                            }\n                        });\n\n                        if (minByRow.length === 0 || maxByRow.length === 0) {\n                            return false;\n                        }\n\n                        var allMinAreTheSame = minByRow.every(function (value) {\n                            return value === minByRow[minByRow.length - 1];\n                        });\n\n                        var allMaxAreTheSame = maxByRow.every(function (value) {\n                            return value === maxByRow[maxByRow.length - 1];\n                        });\n\n                        return allMinAreTheSame && allMaxAreTheSame;\n                    };\n\n                    var findTopLeftCellInSelection = function () {\n                        var MAX_VALUE = 999999;\n                        var topLeftY = MAX_VALUE;\n                        var topLeftX = MAX_VALUE;\n\n                        $(tableSelectedCells).each(function (_, cell) {\n                            topLeftY = Math.min(cell[0], topLeftY);\n                            topLeftX = Math.min(cell[1], topLeftX);\n                        });\n\n                        if (topLeftX === MAX_VALUE || topLeftY === MAX_VALUE) {\n                            return undefined;\n                        }\n\n                        return [topLeftY, topLeftX];\n                    };\n\n                    var simplifyCells = function ($table) {\n                        var tableState = getTableState($table);\n\n                        // Remove rowspan if a row is empty\n                        var $rows = $('tr', $table);\n                        $(tableState).each(function (rowIndex, rowState) {\n                            var isRowEmpty = rowState.every(function (cellState) {\n                                return cellState.mergedIn !== undefined;\n                            });\n\n                            if (!isRowEmpty) {\n                                return;\n                            }\n\n                            // Reduce by 1 the rowspan on each cell in previous row\n                            $(tableState[rowIndex - 1]).each(function (_, cellState) {\n                                if (cellState.mergedIn !== undefined) {\n                                    cellState = getCellState(tableState, cellState.mergedIn);\n                                }\n                                cellState.rowspan -= 1;\n\n                                if (cellState.rowspan <= 1) {\n                                    cellState.element.removeAttribute('rowspan');\n                                    return;\n                                }\n\n                                cellState.element.setAttribute('rowspan', cellState.rowspan);\n                            });\n\n                            // Remove empty tr\n                            $rows[rowIndex].remove();\n                        });\n\n                        // Remove empty attributes\n                        $('[class=\"\"]', $table).removeAttr('class');\n                        $('[style=\"\"]', $table).removeAttr('style');\n                    };\n\n                    var mergeCells = {\n                        title: t.lang.tableMergeCells,\n                        text: t.lang.tableMergeCells,\n                        ico: 'table-merge',\n\n                        fn: tableButtonAction(function ($table, $focusedRow, node, tableState) {\n                            if (!canMergeSelectedCells(tableState)) {\n                                return;\n                            }\n\n                            var topLeftCellCoordinates = findTopLeftCellInSelection();\n                            if (topLeftCellCoordinates === undefined) {\n                                return;\n                            }\n\n                            var topLeftCellState = getCellState(tableState, topLeftCellCoordinates);\n                            var $topLeftCell = $(topLeftCellState.element);\n                            var minY = 999999;\n                            var maxY = 0;\n                            var minX = 999999;\n                            var maxX = 0;\n                            $(tableSelectedCells).each(function (_, selectedCell) {\n                                var y = selectedCell[0];\n                                var x = selectedCell[1];\n                                var cellState = tableState[y][x];\n\n                                minY = Math.min(minY, y);\n                                maxY = Math.max(maxY, y + cellState.rowspan - 1);\n                                minX = Math.min(minX, x);\n                                maxX = Math.max(maxX, x + cellState.colspan - 1);\n\n                                if (cellState.element === $topLeftCell[0]) {\n                                    return;\n                                }\n\n                                cellState.element.remove();\n                            });\n\n                            var cellHeight = maxY - minY + 1;\n                            var cellWidth = maxX - minX + 1;\n\n                            if (cellHeight > 1) {\n                                $topLeftCell.attr('rowspan', cellHeight);\n                            }\n                            if (cellWidth > 1) {\n                                $topLeftCell.attr('colspan', cellWidth);\n                            }\n\n                            simplifyCells($table);\n\n                            rebuildResizeLayers();\n                        }),\n                    };\n\n                    var unmergeCells = {\n                        title: t.lang.tableUnmergeCells,\n                        text: t.lang.tableUnmergeCells,\n                        ico: 'table-unmerge',\n\n                        fn: tableButtonAction(function ($table, $focusedRow, node, tableState) {\n                            foreachSelectedCell(function ($cell) {\n                                $cell.removeAttr('colspan').removeAttr('rowspan');\n                                var $rows = $('tr', $table);\n\n                                var cellRowIndex = $rows.index($cell.closest('tr'));\n                                var cellColumnIndex = getCellIndex($cell[0], tableState[cellRowIndex]);\n                                var cellState = tableState[cellRowIndex][cellColumnIndex];\n\n                                for (var rowIndex = 0; rowIndex < cellState.rowspan; rowIndex += 1) {\n                                    var colIndex = (rowIndex === 0) ? 1 : 0;\n                                    var previousCellState = getCellState(tableState, [\n                                        cellRowIndex + rowIndex,\n                                        cellColumnIndex + colIndex - 1\n                                    ]);\n                                    var previousCellElement = previousCellState.element;\n                                    for (; colIndex < cellState.colspan; colIndex += 1) {\n                                        var newCellElement = t.doc.createElement(previousCellElement.tagName);\n                                        $(previousCellElement).after(newCellElement);\n                                    }\n                                }\n                            }, tableState);\n\n                            applyTagClasses($table);\n                            rebuildResizeLayers();\n                        }),\n                    };\n\n\n                    ////// Cell selection\n\n                    var getCellIndex = function (cellElement, rowState) {\n                        return rowState.findIndex(function (rowStateCell) {\n                            if (rowStateCell.element === undefined) {\n                                return false;\n                            }\n\n                            return rowStateCell.element === cellElement;\n                        });\n                    };\n\n                    var resetTableMouseHacks = function () {\n                        $('table', t.$ed).off('mousedown.tbwTable');\n                        $('table', t.$ed).on('mousedown.tbwTable', function (e) {\n                            // Cells drag and drop while changing cell selection\n                            t.doc.getSelection().removeAllRanges();\n\n                            // Prevent Ctrl+Click on Firefox\n                            if (!e.ctrlKey) {\n                                return;\n                            }\n\n                            e.preventDefault();\n                        });\n                    };\n\n                    var tableCellSelectionModeClass = t.o.prefix + 'table-cell-selection-mode';\n                    var tableCellSelectedClass = t.o.prefix + 'table-cell-selected';\n                    setTimeout(function () { // Wait for init\n                        resetTableMouseHacks();\n                        t.$c.on('tbwchange.tbwTable', function () {\n                            resetTableMouseHacks();\n                            rebuildResizeLayers();\n                        });\n\n                        rebuildResizeLayers();\n\n                        $(t.doc).on('selectionchange.tbwTable', function () {\n                            tableSelectedCells = undefined;\n\n                            var selection = t.doc.getSelection();\n                            var rangeCount = selection.rangeCount;\n\n                            var anchorNode = selection.anchorNode;\n                            var focusNode = selection.focusNode;\n\n                            // Firefox create one range by cell\n                            if (rangeCount > 1) {\n                                var firstRange = selection.getRangeAt(0);\n                                var lastRange = selection.getRangeAt(rangeCount - 1);\n\n                                anchorNode = firstRange.startContainer.childNodes[firstRange.startOffset];\n                                focusNode = lastRange.startContainer.childNodes[lastRange.startOffset];\n                            }\n\n                            var $anchorSelectedCell = $(anchorNode).closest('td, th');\n                            var $focusSelectedCell = $(focusNode).closest('td, th');\n\n                            var $tableAnchor = $anchorSelectedCell.closest('table');\n                            var $tableFocus = $focusSelectedCell.closest('table');\n\n                            $('[class=\"' + tableCellSelectedClass + '\"]', t.$ed).removeAttr('class');\n                            $('.' + tableCellSelectedClass, t.$ed).removeClass(tableCellSelectedClass);\n\n                            if (($tableAnchor.length === 0 && $tableFocus.length === 0) ||\n                                $tableAnchor[0] !== $tableFocus[0] ||\n                                $anchorSelectedCell[0] === $focusSelectedCell[0]\n                            ) {\n                                $('.' + tableCellSelectionModeClass, t.$ed).removeClass(tableCellSelectionModeClass);\n                                return;\n                            }\n\n                            // Toggle table to selection mode\n                            $tableAnchor.addClass(tableCellSelectionModeClass);\n\n                            // Get table state\n                            var tableState = getTableState($tableAnchor);\n\n                            // Find cells to set as selected\n                            var $allRows = $('tr', $tableAnchor);\n\n                            var $anchorSelectedRow = $anchorSelectedCell.closest('tr');\n                            var anchorSelectedRowIndex = $allRows.index($anchorSelectedRow);\n                            var $focusSelectedRow = $focusSelectedCell.closest('tr');\n                            var focusSelectedRowIndex = $allRows.index($focusSelectedRow);\n\n                            var anchorSelectedCellIndex = getCellIndex($anchorSelectedCell[0], tableState[anchorSelectedRowIndex]);\n                            var focusSelectedCellIndex = getCellIndex($focusSelectedCell[0], tableState[focusSelectedRowIndex]);\n\n                            var firstSelectedRowIndex = Math.min(anchorSelectedRowIndex, focusSelectedRowIndex);\n                            var lastSelectedRowIndex = Math.max(anchorSelectedRowIndex, focusSelectedRowIndex);\n                            var firstSelectedCellIndex = Math.min(anchorSelectedCellIndex, focusSelectedCellIndex);\n                            var lastSelectedCellIndex = Math.max(anchorSelectedCellIndex, focusSelectedCellIndex);\n\n                            // Set cells as selected\n                            var selectedCellsCoordinates = [];\n                            $allRows.each(function (rowIndex, rowElement) {\n                                if (rowIndex < firstSelectedRowIndex || rowIndex > lastSelectedRowIndex) {\n                                    return;\n                                }\n\n                                $('td, th', rowElement).each(function (_, cellElement) {\n                                    var cellIndex = getCellIndex(cellElement, tableState[rowIndex]);\n                                    if (cellIndex < firstSelectedCellIndex || cellIndex > lastSelectedCellIndex) {\n                                        return;\n                                    }\n\n                                    selectedCellsCoordinates.push([rowIndex, cellIndex]);\n                                    $(cellElement).addClass(tableCellSelectedClass);\n                                });\n                            });\n\n                            tableSelectedCells = selectedCellsCoordinates;\n                        });\n                    });\n\n                    var foreachSelectedCell = function (callback, tableState) {\n                        if (tableSelectedCells === undefined) {\n                            var $cell = $(t.doc.getSelection().anchorNode).closest('td, th');\n                            if ($cell.length === 0) {\n                                return;\n                            }\n\n                            callback($cell);\n                            return;\n                        }\n\n                        $(tableSelectedCells).each(function (_, cellCoordinates) {\n                            var cellState = getCellState(tableState, cellCoordinates, false);\n                            if (cellState.mergedIn !== undefined) {\n                                return;\n                            }\n\n                            callback($(cellState.element));\n                        });\n                    };\n\n\n                    ////// Cell resize\n\n                    var TRUMBOWYG_TABLE_HANDLE_FOR = 'trumbowyg-table-handle-for';\n                    var rebuildResizeLayers = function () {\n                        if (!t.o.plugins.table.allowHorizontalResize) {\n                            return;\n                        }\n\n                        var tableState;\n                        var targetColumnIndex;\n                        var $table;\n\n                        var $resizeLayers = $(t.o.prefix + 'table-resize-layers');\n                        var hasResizeLayers = $resizeLayers.length > 0;\n                        if (!hasResizeLayers) {\n                            $resizeLayers = $('<div/>', {\n                                class: t.o.prefix + 'table-resize-layers',\n                            }).appendTo(t.$edBox);\n\n                            $(t.o.prefix + 'table-resize-vertical-handle', $resizeLayers).each(function (_, handle) {\n                                $(handle)\n                                    .off()\n                                    .remove();\n                            });\n                        }\n\n                        $('table', t.$ed).each(function (_tableIndex, table) {\n                            $('td, th', $(table)).each(function (_cellIndex, cell) {\n                                // Vertical handles\n                                $('<div/>', {\n                                    class: t.o.prefix + 'table-resize-vertical-handle',\n                                })\n                                    .prop(TRUMBOWYG_TABLE_HANDLE_FOR, cell)\n                                    .on('mousedown.tbwTable', function (e) {\n                                        e.preventDefault();\n                                        e.stopPropagation();\n                                        var targetCell = $(e.target).prop(TRUMBOWYG_TABLE_HANDLE_FOR);\n                                        $table = $(targetCell).closest('table');\n                                        tableState = getTableState($table);\n                                        var $allRows = $('tr', $table);\n                                        var $row = $(targetCell).closest('tr');\n                                        var rowIndex = $allRows.index($row);\n                                        var rowState = tableState[rowIndex];\n                                        var columnIndex = getCellIndex(targetCell, rowState);\n                                        var targetCellState = tableState[rowIndex][columnIndex];\n                                        if (targetCellState.mergedIn !== undefined) {\n                                            targetCellState = tableState[targetCellState.mergedIn[0]][targetCellState.mergedIn[1]];\n                                        }\n\n                                        targetColumnIndex = columnIndex + targetCellState.colspan - 1;\n\n                                        ensureColgroupExists($table, tableState);\n                                        setColWidthInPixels($table, tableState);\n\n                                        $table.css({\n                                            maxWidth: '',\n                                        });\n                                    })\n                                    .appendTo($resizeLayers);\n                            });\n                        });\n                        redrawResizeLayers();\n\n                        // If resize layer was here\n                        // We do not need to add following events\n                        if (hasResizeLayers) {\n                            return;\n                        }\n\n                        $(t.doc)\n                            .on('mousemove.tbwTable', function (e) {\n                                if (targetColumnIndex === undefined) {\n                                    return;\n                                }\n                                e.preventDefault();\n                                e.stopPropagation();\n\n                                var tableRect = $table[0].getBoundingClientRect();\n                                var tableLeftInPixels = e.pageX - tableRect.left;\n\n                                var cellState = findFirstCellAtIndex(tableState, targetColumnIndex);\n\n                                var cellElement = cellState.element;\n                                var cellRect = cellElement.getBoundingClientRect();\n                                var cellLeftInPixels = cellRect.left - tableRect.left;\n\n                                var cellWidthInPixels = tableLeftInPixels - cellLeftInPixels;\n\n                                var colElement = $('col', $table)[targetColumnIndex];\n                                $(colElement).css({\n                                    width: cellWidthInPixels,\n                                });\n\n                                redrawResizeLayers();\n                            })\n                            .on('mouseup.tbwTable', function (e) {\n                                if (targetColumnIndex === undefined) {\n                                    return;\n                                }\n                                e.preventDefault();\n                                e.stopPropagation();\n\n                                // Fix width\n                                ensureColgroupExists($table, tableState);\n                                setColWidthInPercents($table, tableState);\n\n                                // Reset resize state\n                                $table = undefined;\n                                tableState = undefined;\n                                targetColumnIndex = undefined;\n\n                                // Update HTML\n                                t.syncCode();\n                                redrawResizeLayers();\n                            });\n\n                        $(window)\n                            .on('resize.tbwTable', function () {\n                                redrawResizeLayers();\n                            });\n                    };\n\n                    var ensureColgroupExists = function ($table, tableState) {\n                        var $colgroup = $('colgroup', $table);\n                        if ($colgroup.length === 0) {\n                            $colgroup = $('<colgroup/>').prependTo($table);\n                        }\n\n                        var columnCount = tableState[0].length;\n                        var currentColCount = $('col', $colgroup).length;\n                        for (; currentColCount < columnCount; currentColCount += 1) {\n                            $('<col/>').appendTo($colgroup);\n                        }\n                    };\n\n                    var findFirstCellAtIndex = function (tableState, cellIndex) {\n                        var cellState;\n                        var rowIndex = 0;\n                        do {\n                            cellState = tableState[rowIndex][cellIndex];\n                            rowIndex += 1;\n                        } while (cellState.element === undefined || cellState.colspan !== 1);\n\n                        return cellState;\n                    };\n\n                    var setColWidths = function ($table, tableState, isUnitPercent = false) {\n                        var $colgroup = $('colgroup', $table);\n                        var $cols = $('col', $colgroup);\n                        var tableWidth = $table[0].offsetWidth;\n                        $table.css({\n                            maxWidth: $table[0].offsetWidth,\n                        });\n\n                        var columnCount = tableState[0].length;\n                        var colWidths = [];\n                        for (var columnIndex = 0; columnIndex < columnCount; columnIndex += 1) {\n                            var cellElement = findFirstCellAtIndex(tableState, columnIndex).element;\n                            var cellWidth = cellElement.getBoundingClientRect().width;\n\n                            if (isUnitPercent) {\n                                cellWidth = ((cellWidth / tableWidth) * 100) + '%';\n                            }\n\n                            colWidths[columnIndex] = cellWidth;\n                        }\n\n                        for (var colIndex = 0; colIndex < columnCount; colIndex += 1) {\n                            $($cols[colIndex]).css({\n                                width: colWidths[colIndex],\n                            });\n                        }\n                    };\n\n                    var setColWidthInPixels = function ($table, tableState) {\n                        setColWidths($table, tableState, false);\n                    };\n\n                    var setColWidthInPercents = function ($table, tableState) {\n                        setColWidths($table, tableState, true);\n                    };\n\n                    var redrawResizeLayers = function () {\n                        var $resizeLayers = $('.' + t.o.prefix + 'table-resize-layers', t.$edBox);\n\n                        var resizeLayersBoundingClientRect = $resizeLayers[0].getBoundingClientRect();\n                        var resizeLayersTop = resizeLayersBoundingClientRect.top;\n                        var resizeLayersLeft = resizeLayersBoundingClientRect.left;\n\n                        $('.' + t.o.prefix + 'table-resize-vertical-handle', $resizeLayers).each(function (_, cellHandle) {\n                            var $cellHandle = $(cellHandle);\n                            var cell = $cellHandle.prop(TRUMBOWYG_TABLE_HANDLE_FOR);\n                            var cellBoundingClientRect = cell.getBoundingClientRect();\n                            $cellHandle.css({\n                                top: cellBoundingClientRect.top - resizeLayersTop,\n                                left: cellBoundingClientRect.left - resizeLayersLeft + cellBoundingClientRect.width,\n                                height: cellBoundingClientRect.height,\n                            });\n                        });\n                    };\n\n\n                    ////// Vertical alignment\n\n                    var tableVerticalAlign = function (alignPosition) {\n                        return tableButtonAction(function ($table, $focusedRow, node, tableState) {\n                            foreachSelectedCell(function ($cell) {\n                                $cell.css({\n                                    verticalAlign: alignPosition,\n                                });\n                            }, tableState);\n                        });\n                    };\n\n                    var verticalAlignTop = {\n                        title: t.lang.tableVerticalAlignTop,\n                        text: t.lang.tableVerticalAlignTop,\n                        ico: 'align-top',\n\n                        fn: tableVerticalAlign('top'),\n                    };\n\n                    var verticalAlignMiddle = {\n                        title: t.lang.tableVerticalAlignMiddle,\n                        text: t.lang.tableVerticalAlignMiddle,\n                        ico: 'align-middle',\n\n                        fn: tableVerticalAlign('middle'),\n                    };\n\n                    var verticalAlignBottom = {\n                        title: t.lang.tableVerticalAlignBottom,\n                        text: t.lang.tableVerticalAlignBottom,\n                        ico: 'align-bottom',\n\n                        fn: tableVerticalAlign('bottom'),\n                    };\n\n\n                    ////// Cell Background color\n\n                    var getColorDropdownClass = function (mustDisplayAsList) {\n                        return mustDisplayAsList ? t.o.prefix + 'dropdown--color-list' : '';\n                    };\n\n                    var buildColorDropdown = function (name, colorList, mustDisplayAsList, allowCustomColor, callback) {\n                        var dropdown = [];\n                        var trumbowygTableOptions = t.o.plugins.table;\n\n                        $.each(colorList, function (i, color) {\n                            var btn = name + color;\n                            var btnDef = {\n                                fn: callback('#' + color),\n                                hasIcon: false,\n                                text: t.lang['#' + color] || ('#' + color),\n                                style: 'background-color: #' + color + ';'\n                            };\n\n                            t.addBtnDef(btn, btnDef);\n                            dropdown.push(btn);\n                        });\n\n                        // Remove color\n                        var removeColorButtonName = 'remove' + ucFirst(name),\n                            removeColorBtnDef = {\n                                fn: callback(''),\n                                hasIcon: false,\n                                style: 'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAG0lEQVQIW2NkQAAfEJMRmwBYhoGBYQtMBYoAADziAp0jtJTgAAAAAElFTkSuQmCC);'\n                            };\n\n                        if (mustDisplayAsList) {\n                            removeColorBtnDef.style = '';\n                        }\n\n                        t.addBtnDef(removeColorButtonName, removeColorBtnDef);\n                        dropdown.push(removeColorButtonName);\n\n                        // Custom color\n                        if (trumbowygTableOptions.allowCustomBackgroundColor) {\n                            var freeColorBtnDef = {\n                                fn: function () {\n                                    t.openModalInsert(t.lang.backgroundColor,\n                                        {\n                                            color: {\n                                                label: 'backgroundColor',\n                                                forceCss: true,\n                                                type: 'color',\n                                                value: '#FFFFFF'\n                                            }\n                                        },\n                                        // callback\n                                        function (values) {\n                                            callback(values.color)();\n                                            return true;\n                                        }\n                                    );\n                                },\n                                hasIcon: false,\n                                text: '#',\n                                // style adjust for displaying the text\n                                style: 'text-indent: 0; line-height: 20px; padding: 0 5px;'\n                            };\n\n                            var freeColorButtonName = 'free' + ucFirst(name);\n                            t.addBtnDef(freeColorButtonName, freeColorBtnDef);\n                            dropdown.push(freeColorButtonName);\n                        }\n\n                        return dropdown;\n                    };\n                    var applyBackgroundColorToSelectedCells = function (color) {\n                        return function () {\n                            var $table = $(t.doc.getSelection().anchorNode).closest('table');\n\n                            if ($table.length === 0) {\n                                return;\n                            }\n\n                            var tableState = getTableState($table);\n                            foreachSelectedCell(function ($cell) {\n                                $cell.css({\n                                    backgroundColor: color,\n                                });\n                            }, tableState);\n\n                            simplifyCells($table);\n                        };\n                    };\n                    var cellBackgroundColorBtnDef = {\n                        dropdown: buildColorDropdown(\n                            'tableCellBackgroundColor',\n                            t.o.plugins.table.backgroundColorList || t.o.plugins.table.colorList,\n                            t.o.plugins.table.displayBackgroundColorsAsList,\n                            t.o.plugins.table.allowCustomBackgroundColor,\n                            applyBackgroundColorToSelectedCells\n                        ),\n                        dropdownClass: getColorDropdownClass(t.o.plugins.table.displayBackgroundColorsAsList),\n                    };\n\n\n                    ////// Table border color\n\n                    var applyBorderColor = function (color) {\n                        return function () {\n                            var $table = $(t.doc.getSelection().anchorNode).closest('table');\n\n                            if ($table.length === 0) {\n                                return;\n                            }\n\n                            var border = {\n                                borderColor: color,\n                            };\n                            if (parseInt($table.css('border-width'), 10) === 0) {\n                                border.borderWidth = '2px';\n                                border.borderStyle = 'solid';\n                            }\n\n                            if (color === '') {\n                                border.borderWidth = '';\n                                border.borderStyle = '';\n                            }\n\n                            $table.css(border);\n                        };\n                    };\n                    var tableBorderColorBtnDef = {\n                        dropdown: buildColorDropdown(\n                            'tableBorderColor',\n                            t.o.plugins.table.borderColorList || t.o.plugins.table.colorList,\n                            t.o.plugins.table.displayBorderColorsAsList,\n                            t.o.plugins.table.allowCustomBorderColor,\n                            applyBorderColor\n                        ),\n                        dropdownClass: getColorDropdownClass(t.o.plugins.table.displayBorderColorsAsList),\n                    };\n\n\n\n                    ////// Register buttons\n\n                    t.addBtnDef('table', buildButtonDef);\n\n                    t.addBtnDef('tableAddHeaderRow', addHeaderRow);\n\n                    t.addBtnDef('tableAddRowAbove', addRowAbove);\n                    t.addBtnDef('tableAddRow', addRowBelow);\n\n                    t.addBtnDef('tableAddColumnLeft', addColumnLeft);\n                    t.addBtnDef('tableAddColumn', addColumnRight);\n\n                    t.addBtnDef('tableMergeCells', mergeCells);\n                    t.addBtnDef('tableUnmergeCells', unmergeCells);\n\n                    t.addBtnDef('tableVerticalAlignTop', verticalAlignTop);\n                    t.addBtnDef('tableVerticalAlignMiddle', verticalAlignMiddle);\n                    t.addBtnDef('tableVerticalAlignBottom', verticalAlignBottom);\n\n                    t.addBtnDef('tableCellBackgroundColor', cellBackgroundColorBtnDef);\n                    t.addBtnDef('tableBorderColor', tableBorderColorBtnDef);\n\n                    t.addBtnDef('tableDeleteRow', deleteRow);\n                    t.addBtnDef('tableDeleteColumn', deleteColumn);\n                    t.addBtnDef('tableDestroy', destroy);\n                },\n                destroy: function (t) {\n                    $(window)\n                        .off('resize.tbwTable');\n\n                    $(t.doc)\n                        .off('selectionchange.tbwTable')\n                        .off('mousemove.tbwTable')\n                        .off('mouseup.tbwTable');\n\n                    t.$c\n                        .off('tbwchange.tbwTable');\n\n                    $('table', t.$ed)\n                        .off('mousedown.tbwTable');\n                },\n                tagHandler: function (element, t) {\n                    var tags = [];\n\n                    if (element.tagName === 'TABLE') {\n                        tags.push('table');\n\n                        var elementBorderColor = element.style.borderColor;\n                        if (elementBorderColor !== '') {\n                            var borderColor = colorToHex(elementBorderColor);\n                            if (t.o.plugins.table.colorList.indexOf(borderColor) >= 0) {\n                                tags.push('tableBorderColor' + borderColor);\n                            } else {\n                                tags.push('freeTableBorderColor');\n                            }\n                        }\n                    }\n\n                    if (!element.style) {\n                        return tags;\n                    }\n\n                    var elementVerticalAlign = element.style.verticalAlign;\n                    if (elementVerticalAlign !== '') {\n                        tags.push('tableVerticalAlign' + ucFirst(elementVerticalAlign));\n                    }\n\n                    var elementBackgroundColor = element.style.backgroundColor;\n                    if ((element.tagName === 'TH' || element.tagName === 'TD') && elementBackgroundColor !== '') {\n                        var backgroundColor = colorToHex(elementBackgroundColor);\n                        if (t.o.plugins.table.colorList.indexOf(backgroundColor) >= 0) {\n                            tags.push('tableCellBackgroundColor' + backgroundColor);\n                        } else {\n                            tags.push('freeTableCellBackgroundColor');\n                        }\n                    }\n\n                    return tags;\n                },\n            }\n        }\n    });\n})(jQuery);\n\n\n(function ($) {\n    'use strict';\n\n    // Adds the language variables\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            // jshint camelcase:false\n            en: {\n                template: 'Template'\n            },\n            az: {\n                template: 'Şablon'\n            },\n            by: {\n                template: 'Шаблон'\n            },\n            da: {\n                template: 'Skabelon'\n            },\n            de: {\n                template: 'Vorlage'\n            },\n            et: {\n                template: 'Mall'\n            },\n            fr: {\n                template: 'Patron'\n            },\n            hu: {\n                template: 'Sablon'\n            },\n            ja: {\n                template: 'テンプレート'\n            },\n            ko: {\n                template: '서식'\n            },\n            nl: {\n                template: 'Sjabloon'\n            },\n            pt_br: {\n                template: 'Modelo'\n            },\n            ru: {\n                template: 'Шаблон'\n            },\n            sl: {\n                template: 'Predloga'\n            },\n            tr: {\n                template: 'Şablon'\n            },\n            zh_tw: {\n                template: '模板',\n            },\n            // jshint camelcase:true\n        }\n    });\n\n    // Adds the extra button definition\n    $.extend(true, $.trumbowyg, {\n        plugins: {\n            template: {\n                shouldInit: function (trumbowyg) {\n                    return trumbowyg.o.plugins.hasOwnProperty('templates');\n                },\n                init: function (trumbowyg) {\n                    trumbowyg.addBtnDef('template', {\n                        dropdown: templateSelector(trumbowyg),\n                        hasIcon: false,\n                        text: trumbowyg.lang.template\n                    });\n                }\n            }\n        }\n    });\n\n    // Creates the template-selector dropdown.\n    function templateSelector(trumbowyg) {\n        var available = trumbowyg.o.plugins.templates;\n        var templates = [];\n\n        $.each(available, function (index, template) {\n            trumbowyg.addBtnDef('template_' + index, {\n                fn: function () {\n                    trumbowyg.html(template.html);\n                },\n                hasIcon: false,\n                title: template.name\n            });\n            templates.push('template_' + index);\n        });\n\n        return templates;\n    }\n})(jQuery);\n\n\n/* ===========================================================\n * trumbowyg.upload.js v1.2\n * Upload plugin for Trumbowyg\n * http://alex-d.github.com/Trumbowyg\n * ===========================================================\n * Author : Alexandre Demode (Alex-D)\n *          Twitter : @AlexandreDemode\n *          Website : alex-d.fr\n * Mod by : Aleksandr-ru\n *          Twitter : @Aleksandr_ru\n *          Website : aleksandr.ru\n */\n\n(function ($) {\n    'use strict';\n\n    var defaultOptions = {\n        serverPath: '',\n        fileFieldName: 'fileToUpload',\n        data: [],                       // Additional data for ajax [{name: 'key', value: 'value'}]\n        headers: {},                    // Additional headers\n        xhrFields: {},                  // Additional fields\n        urlPropertyName: 'file',        // How to get url from the json response (for instance 'url' for {url: ....})\n        statusPropertyName: 'success',  // How to get status from the json response\n        success: undefined,             // Success callback: function (data, trumbowyg, $modal, values) {}\n        error: undefined,               // Error callback: function () {}\n        imageWidthModalEdit: false      // Add ability to edit image width\n    };\n\n    function getDeep(object, propertyParts) {\n        var mainProperty = propertyParts.shift(),\n            otherProperties = propertyParts;\n\n        if (object !== null) {\n            if (otherProperties.length === 0) {\n                return object[mainProperty];\n            }\n\n            if (typeof object === 'object') {\n                return getDeep(object[mainProperty], otherProperties);\n            }\n        }\n        return object;\n    }\n\n    addXhrProgressEvent();\n\n    $.extend(true, $.trumbowyg, {\n        langs: {\n            // jshint camelcase:false\n            en: {\n                upload: 'Upload',\n                file: 'File',\n                uploadError: 'Error'\n            },\n            az: {\n                upload: 'Yüklə',\n                file: 'Fayl',\n                uploadError: 'Xəta'\n            },\n            by: {\n                upload: 'Загрузка',\n                file: 'Файл',\n                uploadError: 'Памылка'\n            },\n            ca: {\n                upload: 'Pujar fitxer',\n                file: 'Fitxer',\n                uploadError: 'Error'\n            },\n            cs: {\n                upload: 'Nahrát obrázek',\n                file: 'Soubor',\n                uploadError: 'Chyba'\n            },\n            da: {\n                upload: 'Upload',\n                file: 'Fil',\n                uploadError: 'Fejl'\n            },\n            de: {\n                upload: 'Hochladen',\n                file: 'Datei',\n                uploadError: 'Fehler'\n            },\n            es: {\n                upload: 'Subir archivo',\n                file: 'Archivo',\n                uploadError: 'Error'\n            },\n            et: {\n                upload: 'Lae üles',\n                file: 'Fail',\n                uploadError: 'Viga'\n            },\n            fr: {\n                upload: 'Envoi',\n                file: 'Fichier',\n                uploadError: 'Erreur'\n            },\n            hu: {\n                upload: 'Feltöltés',\n                file: 'Fájl',\n                uploadError: 'Hiba'\n            },\n            ja: {\n                upload: 'アップロード',\n                file: 'ファイル',\n                uploadError: 'エラー'\n            },\n            ko: {\n                upload: '그림 올리기',\n                file: '파일',\n                uploadError: '에러'\n            },\n            pt_br: {\n                upload: 'Enviar do local',\n                file: 'Arquivo',\n                uploadError: 'Erro'\n            },\n            ru: {\n                upload: 'Загрузка',\n                file: 'Файл',\n                uploadError: 'Ошибка'\n            },\n            sl: {\n                upload: 'Naloži datoteko',\n                file: 'Datoteka',\n                uploadError: 'Napaka'\n            },\n            sk: {\n                upload: 'Nahrať',\n                file: 'Súbor',\n                uploadError: 'Chyba'\n            },\n            tr: {\n                upload: 'Yükle',\n                file: 'Dosya',\n                uploadError: 'Hata'\n            },\n            zh_cn: {\n                upload: '上传',\n                file: '文件',\n                uploadError: '错误'\n            },\n            zh_tw: {\n                upload: '上傳',\n                file: '文件',\n                uploadError: '錯誤'\n            },\n        },\n        // jshint camelcase:true\n\n        plugins: {\n            upload: {\n                init: function (trumbowyg) {\n                    trumbowyg.o.plugins.upload = $.extend(true, {}, defaultOptions, trumbowyg.o.plugins.upload || {});\n                    var btnDef = {\n                        fn: function () {\n                            trumbowyg.saveRange();\n\n                            var file,\n                                prefix = trumbowyg.o.prefix;\n\n                            var fields = {\n                                file: {\n                                    type: 'file',\n                                    required: true,\n                                    attributes: {\n                                        accept: 'image/*'\n                                    }\n                                },\n                                alt: {\n                                    label: 'description',\n                                    value: trumbowyg.getRangeText()\n                                }\n                            };\n\n                            if (trumbowyg.o.plugins.upload.imageWidthModalEdit) {\n                                fields.width = {\n                                    value: ''\n                                };\n                            }\n\n                            // Prevent multiple submissions while uploading\n                            var isUploading = false;\n\n                            var $modal = trumbowyg.openModalInsert(\n                                // Title\n                                trumbowyg.lang.upload,\n\n                                // Fields\n                                fields,\n\n                                // Callback\n                                function (values) {\n                                    if (isUploading) {\n                                        return;\n                                    }\n                                    isUploading = true;\n\n                                    var data = new FormData();\n                                    data.append(trumbowyg.o.plugins.upload.fileFieldName, file);\n\n                                    trumbowyg.o.plugins.upload.data.map(function (cur) {\n                                        data.append(cur.name, cur.value);\n                                    });\n\n                                    $.map(values, function (curr, key) {\n                                        if (key !== 'file') {\n                                            data.append(key, curr);\n                                        }\n                                    });\n\n                                    if ($('.' + prefix + 'progress', $modal).length === 0) {\n                                        $('.' + prefix + 'modal-title', $modal)\n                                            .after(\n                                                $('<div/>', {\n                                                    'class': prefix + 'progress'\n                                                }).append(\n                                                    $('<div/>', {\n                                                        'class': prefix + 'progress-bar'\n                                                    })\n                                                )\n                                            );\n                                    }\n\n                                    $.ajax({\n                                        url: trumbowyg.o.plugins.upload.serverPath,\n                                        headers: trumbowyg.o.plugins.upload.headers,\n                                        xhrFields: trumbowyg.o.plugins.upload.xhrFields,\n                                        type: 'POST',\n                                        data: data,\n                                        cache: false,\n                                        dataType: 'json',\n                                        processData: false,\n                                        contentType: false,\n\n                                        progressUpload: function (e) {\n                                            $('.' + prefix + 'progress-bar').css('width', Math.round(e.loaded * 100 / e.total) + '%');\n                                        },\n\n                                        success: function (data) {\n                                            if (trumbowyg.o.plugins.upload.success) {\n                                                trumbowyg.o.plugins.upload.success(data, trumbowyg, $modal, values);\n                                            } else {\n                                                if (!!getDeep(data, trumbowyg.o.plugins.upload.statusPropertyName.split('.'))) {\n                                                    var url = getDeep(data, trumbowyg.o.plugins.upload.urlPropertyName.split('.'));\n                                                    trumbowyg.execCmd('insertImage', url, false, true);\n                                                    var $img = $('img[src=\"' + url + '\"]:not([alt])', trumbowyg.$box);\n                                                    $img.attr('alt', values.alt);\n                                                    if (trumbowyg.o.plugins.upload.imageWidthModalEdit && parseInt(values.width) > 0) {\n                                                        $img.attr({\n                                                            width: values.width\n                                                        });\n                                                    }\n                                                    setTimeout(function () {\n                                                        trumbowyg.closeModal();\n                                                    }, 250);\n                                                    trumbowyg.$c.trigger('tbwuploadsuccess', [trumbowyg, data, url]);\n                                                } else {\n                                                    trumbowyg.addErrorOnModalField(\n                                                        $('input[type=file]', $modal),\n                                                        trumbowyg.lang[data.message]\n                                                    );\n                                                    trumbowyg.$c.trigger('tbwuploaderror', [trumbowyg, data]);\n                                                }\n                                            }\n\n                                            isUploading = false;\n                                        },\n\n                                        error: trumbowyg.o.plugins.upload.error || function () {\n                                            trumbowyg.addErrorOnModalField(\n                                                $('input[type=file]', $modal),\n                                                trumbowyg.lang.uploadError\n                                            );\n                                            trumbowyg.$c.trigger('tbwuploaderror', [trumbowyg]);\n\n                                            isUploading = false;\n                                        }\n                                    });\n                                }\n                            );\n\n                            $('input[type=file]').on('change', function (e) {\n                                try {\n                                    // If multiple files allowed, we just get the first.\n                                    file = e.target.files[0];\n                                } catch (err) {\n                                    // In IE8, multiple files not allowed\n                                    file = e.target.value;\n                                }\n                            });\n                        }\n                    };\n\n                    trumbowyg.addBtnDef('upload', btnDef);\n                }\n            }\n        }\n    });\n\n    function addXhrProgressEvent() {\n        if (!$.trumbowyg.addedXhrProgressEvent) {   // Avoid adding progress event multiple times\n            var originalXhr = $.ajaxSettings.xhr;\n            $.ajaxSetup({\n                xhr: function () {\n                    var that = this,\n                        req = originalXhr();\n\n                    if (req && typeof req.upload === 'object' && that.progressUpload !== undefined) {\n                        req.upload.addEventListener('progress', function (e) {\n                            that.progressUpload(e);\n                        }, false);\n                    }\n\n                    return req;\n                }\n            });\n            $.trumbowyg.addedXhrProgressEvent = true;\n        }\n    }\n})(jQuery);\n\n\n"],"names":["$","defaultOptions","allowedTags","removableTags","extend","trumbowyg","plugins","allowTagsFromPaste","init","o","removeformatPasted","length","tagsToRemove","not","get","pasteHandlers","push","setTimeout","processNodes","$ed","html","each","iterator","tagName","replace","RegExp","jQuery","isSupported","FileReader","langs","en","base64","file","errFileReaderNotSupported","errInvalidImage","az","by","cs","da","et","fr","hu","ja","ko","nl","pt_br","ru","sl","tr","zh_cn","zh_tw","shouldInit","addBtnDef","fn","saveRange","$modal","openModalInsert","lang","type","required","attributes","accept","alt","label","value","getRangeText","values","fReader","onloadend","e","target","result","test","execCmd","join","$box","attr","closeModal","addErrorOnModalField","readAsDataURL","on","files","cleanPaste","pasteEvent","theString","pastedData","clipboardData","originalEvent","getData","node","doc","getSelection","focusNode","range","createRange","cleanedPaste","trim","match","toLowerCase","match2","attributeName","indexOf","newNode","createTextNode","appendChild","setStartAfter","setEndAfter","removeAllRanges","addRange","insertNode","stopPropagation","preventDefault","syncCode","$c","trigger","c","hex","x","parseInt","toString","slice","colorToHex","rgb","search","foreColor","backColor","foreColorRemove","backColorRemove","ca","de","es","sk","colorList","foreColorList","backColorList","allowCustomForeColor","allowCustomBackColor","displayAsList","buildDropdown","dropdown","trumbowygColorOptions","colors","i","color","btn","btnDef","forceCss","hasIcon","text","param","style","removeColorButtonName","removeColorBtnDef","charAt","toUpperCase","substr","freeColorButtonName","dropdownClass","prefix","foreColorBtnDef","backColorBtnDef","tagHandler","element","tags","backgroundColor","hasAttribute","getAttribute","emojiList","emoji","emojiBtnDef","isArray","emojiCode","emojiUrl","emojiHtml","customEmojiBtnName","defaultEmojiBtnName","encodedEmoji","String","fromCodePoint","fontFamily","fontList","name","family","fontfamily","index","font","title","fontsize","fontsizes","fontCustomSize","it","sizeList","allowCustomSize","setFontSize","size","focus","fontElements","find","contents","unwrap","replaceWith","css","innerHTML","startContainer","parentElement","restoreRange","customSizeButtonName","customSizeBtnDef","form","custom","giphy","CANCEL_EVENT","renderGifs","response","$giphyModal","mustEmpty","width","data","filter","gifData","downsized","images","downsized_medium","url","map","imageRatio","image","height","altText","noResultGifUrl","empty","append","addLoadedClass","img","classList","add","complete","addEventListener","src","$img","off","rating","apiKey","throttleDelay","Error","callback","delay","last","timer","BASE_URL","DEFAULT_URL","previousAjaxCall","abort","closeButton","close","svgPath","giphyModalHtml","searchInput","openModal","one","$giphyInput","$giphyClose","ajaxError","navigator","onLine","ajax","dataType","success","error","throttledInputRequest","query","val","encodeURIComponent","context","now","Date","args","arguments","clearTimeout","apply","history","destroy","t","_stack","_index","_focusEl","undefined","btnBuildDefRedo","redo","ico","key","newState","carretToEnd","toggleButtonStates","btnBuildDefUndo","undo","stackSize","toggleButtonState","enable","button","removeClass","hasClass","addClass","arraysAreIdentical","a","b","childNodes","latestStateTagsList","newStateTagsList","stack","latestState","prevState","focusEl","focusElText","prevFocusEl","localName","outerHTML","textContent","indent","outdent","paragraph","indentBtnDef","document","queryCommandSupported","outdentBtnDef","insertAudioOptions","autoplay","muted","preload","insertAudio","v","deleteContents","lineheight","lineheights","selection","parentEl","parent","window","rangeCount","getRangeAt","commonAncestorContainer","nodeType","parentNode","mathml","formulas","inline","mathMlOptions","checked","mathmlCallback","delimiter","currentMathNode","onclick","MathJax","Hub","Queue","$ta","nodes","elem","source","formatDropdownItem","item","login","formatResult","mention","items","proxy","urlFiled","noembed","noembedError","cache","enabled","endpoints","pasteEmbed","request","startsWith","content","transport","crossOrigin","res","href","prop","pasteImage","reader","mustPreventDefault","event","getAsFile","preformatted","tmp","curtag","getSelectionParentElement","unwrapCode","container","select","ispre","closest","iscode","createElement","innerText","tag","minSize","step","ResizeWithCanvas","resizeCanvas","setAttribute","id","ctx","resizeImg","pressEscape","obj","reset","pressBackspaceOrDelete","remove","offsetX","offsetY","focusedNow","isCursorSeResize","reOffset","canvas","BB","getBoundingClientRect","left","top","updateCanvas","canvasWidth","canvasHeight","translate","lineWidth","drawImage","beginPath","rect","stroke","fillStyle","fill","_this","reCalcOffset","canvasId","isActive","isFocusedNow","blurNow","clientWidth","clientHeight","removeAttribute","setup","resizableOptions","getContext","margin","resizableSafe","mouseX","Math","round","clientX","mouseY","clientY","wasCursorSeResize","isPointInPath","cursor","keyCode","refresh","resizimg","destroyResizable","resizeWithCanvas","initResizable","resizable","resizeWidth","onDragStart","ev","$el","opt","pageX","offset","y","pageY","onDrag","newWidth","newHeight","onDragEnd","is","symbolList","specialChars","specialchars","specialCharsBtnDef","symbol","defaultSymbolBtnName","defaultSymbolBtnDef","encodedSymbol","rows","columns","allowHorizontalResize","backgroundColorList","allowCustomBackgroundColor","displayBackgroundColorsAsList","borderColorList","allowCustomBorderColor","displayBorderColorsAsList","buttons","ucFirst","table","tableRows","tableColumns","tableVerticalAlign","tableOthers","tableAddHeaderRow","tableAddRowAbove","tableAddRow","tableAddColumnLeft","tableAddColumn","tableDeleteRow","tableDeleteColumn","tableDestroy","tableMergeCells","tableUnmergeCells","tableVerticalAlignTop","tableVerticalAlignMiddle","tableVerticalAlignBottom","tableCellBackgroundColor","tableBorderColor","tableSelectedCells","buildButtonDef","btnName","dropdownPrefix","dropdownOptions","class","$dropdown","hide","$table","anchorNode","tableState","getTableState","hasSelectedCells","_","buttonGroup","$buttonGroup","buttonName","hasAtLeastOneMergedCell","foreachSelectedCell","$cell","isMergedCell","buildSubBtn","$tableSelect","appendTo","row","j","toggleActiveDropdownCells","tableBuild","columnEvent","column","colIndex","cellIndex","rowIndex","next","applyTagClassesToElement","tagClasses","applyTagClasses","$newTable","$thead","$theadTr","th","scope","$tbody","rangeNode","endContainer","Node","ELEMENT_NODE","collapse","nodeName","rebuildResizeLayers","$tableRows","columnIndex","cell","colspanAttr","rowspanAttr","colspan","rowspan","cols","mergedIn","colsInRow","tableButtonAction","$focusedRow","addRowButtonAction","isBefore","$rows","$newRow","focusedRowIndex","max","cellRowspan","rawCellRowspan","$tbodyRows","isFocusInHead","first","focusedRowState","nextRowState","columnCount","originCellState","originCellMergedInState","getCellState","nextCellState","nextCellMergedInState","realOriginCellState","originCellElement","before","after","addRowAbove","addRowBelow","addHeaderRow","$theadRow","prepend","addColumnButtonAction","$focusedCell","getCellIndex","cellColspan","rawCellColspan","rowCount","mustInsertBefore","previousRealCellState","rowState","previousColumnShift","newIndex","$previousCell","newCellElement","addColumnLeft","addColumnRight","deleteRow","$elementToRemove","$focusedRowParent","cellState","originCellIndex","nextRowPreviousColumnCellState","simplifyCells","redrawResizeLayers","deleteColumn","cellCoordinates","mustGetDeep","canMergeSelectedCells","firstSelectedCellTag","every","minByRow","maxByRow","tableSelectedCell","maxRow","min","allMinAreTheSame","allMaxAreTheSame","findTopLeftCellInSelection","topLeftY","topLeftX","removeAttr","mergeCells","topLeftCellCoordinates","$topLeftCell","topLeftCellState","minY","maxY","minX","maxX","selectedCell","cellHeight","cellWidth","unmergeCells","cellRowIndex","cellColumnIndex","previousCellElement","previousCellState","cellElement","findIndex","rowStateCell","resetTableMouseHacks","ctrlKey","tableCellSelectionModeClass","tableCellSelectedClass","firstRange","lastRange","startOffset","$anchorSelectedCell","$focusSelectedCell","$tableAnchor","$tableFocus","$allRows","$anchorSelectedRow","anchorSelectedRowIndex","$focusSelectedRow","focusSelectedRowIndex","anchorSelectedCellIndex","focusSelectedCellIndex","firstSelectedRowIndex","lastSelectedRowIndex","firstSelectedCellIndex","lastSelectedCellIndex","selectedCellsCoordinates","rowElement","TRUMBOWYG_TABLE_HANDLE_FOR","targetColumnIndex","$resizeLayers","hasResizeLayers","$edBox","handle","_tableIndex","_cellIndex","targetCell","$row","targetCellState","ensureColgroupExists","setColWidthInPixels","maxWidth","tableRect","tableLeftInPixels","cellLeftInPixels","cellRect","findFirstCellAtIndex","colElement","setColWidthInPercents","$colgroup","prependTo","currentColCount","setColWidths","isUnitPercent","$cols","tableWidth","offsetWidth","colWidths","resizeLayersBoundingClientRect","resizeLayersTop","resizeLayersLeft","cellHandle","$cellHandle","cellBoundingClientRect","alignPosition","verticalAlign","verticalAlignTop","verticalAlignMiddle","verticalAlignBottom","getColorDropdownClass","mustDisplayAsList","buildColorDropdown","allowCustomColor","trumbowygTableOptions","cellBackgroundColorBtnDef","tableBorderColorBtnDef","border","borderColor","borderWidth","borderStyle","elementBorderColor","elementVerticalAlign","elementBackgroundColor","template","hasOwnProperty","available","templates","serverPath","fileFieldName","headers","xhrFields","urlPropertyName","statusPropertyName","imageWidthModalEdit","getDeep","object","propertyParts","mainProperty","shift","otherProperties","addXhrProgressEvent","addedXhrProgressEvent","originalXhr","ajaxSettings","xhr","ajaxSetup","that","req","upload","progressUpload","uploadError","fields","isUploading","FormData","cur","curr","processData","contentType","loaded","total","split","message","err"],"mappings":"CAYA,AAAC,SAAUA,CAAC,EACR,aAEA,IAAIC,EAAiB,CAGjBC,YAAa,EAAE,CAEfC,cAAe,CACX,IACA,OACA,UACA,IACA,MACA,MACA,aACA,KACA,OACA,OACA,MACA,MACA,UACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,MACA,MACA,OACA,QACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,QACA,OACA,SACA,MACA,UACA,MACA,OACA,IACA,MACA,MACA,MACA,MACA,OACA,SACA,aACA,SACA,UACA,QACA,SACA,QACA,QACA,KACA,KACA,KACA,KACA,KACA,KACA,QACA,UACA,KACA,KACA,KACA,QACA,QACA,QACA,MACA,WACA,QACA,MACA,IACA,OACA,QACA,WACA,SACA,SACA,WACA,SACA,QACA,WACA,SACA,WACA,SACA,SACA,SACA,OACA,MACA,SACA,SACA,SACA,OACA,UACA,UACA,QACA,SACA,SACA,WACA,QACA,SACA,QACH,AACL,EAEAH,EAAEI,MAAM,CAAC,CAAA,EAAMJ,EAAEK,SAAS,CAAE,CACxBC,QAAS,CACLC,mBAAoB,CAChBC,KAAM,SAAUH,CAAS,EACrB,GAAKA,EAAUI,CAAC,CAACH,OAAO,CAACC,kBAAkB,EAK3CF,EAAUI,CAAC,CAACC,kBAAkB,CAAG,CAAA,EAEjC,IAAIR,EAAcG,EAAUI,CAAC,CAACH,OAAO,CAACC,kBAAkB,CAACL,WAAW,EAAID,EAAeC,WAAW,CAC9FC,EAAgBE,EAAUI,CAAC,CAACH,OAAO,CAACC,kBAAkB,CAACJ,aAAa,EAAIF,EAAeE,aAAa,CAExG,GAAID,AAAuB,IAAvBA,EAAYS,MAAM,EAKtB,IAAIC,EAAeZ,EAAEG,GAAeU,GAAG,CAACX,GAAaY,GAAG,GAExDT,EAAUU,aAAa,CAACC,IAAI,CAAC,WACzBC,WAAW,WACP,IAAIC,EAAeb,EAAUc,GAAG,CAACC,IAAI,GACrCpB,EAAEqB,IAAI,CAACT,EAAc,SAAUU,CAAQ,CAAEC,CAAO,EAC5CL,EAAeA,EAAaM,OAAO,CAAC,AAAIC,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A,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,UACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,UACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,UACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,UACA,UACA,WACA,UACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,UACA,UACA,WACA,WACA,WACA,UACA,WACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,UACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,UACA,UACA,WACA,WACA,UACA,WACA,UACA,WACA,WACA,UACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACA,WACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACA,WACA,UACA,UACA,UACA,UACA,UACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,UACA,UACA,UACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACH,AACL,EAGAvK,EAAEI,MAAM,CAAC,CAAA,EAAMJ,EAAEK,SAAS,CAAE,CACxBwB,MAAO,CAEHC,GAAI,CACA0I,MAAO,cACX,EACArI,GAAI,CACAqI,MAAO,iBACX,EACAxC,GAAI,CACAwC,MAAO,sBACX,EACAlI,GAAI,CACAkI,MAAO,2BACX,EACAvC,GAAI,CACAuC,MAAO,sBACX,EACAtC,GAAI,CACAsC,MAAO,wBACX,EACAjI,GAAI,CACAiI,MAAO,eACX,EACAhI,GAAI,CACAgI,MAAO,kBACX,EACA/H,GAAI,CACA+H,MAAO,sBACX,EACA9H,GAAI,CACA8H,MAAO,QACX,EACA7H,GAAI,CACA6H,MAAO,QACX,EACA1H,GAAI,CACA0H,MAAO,gBACX,EACAzH,GAAI,CACAyH,MAAO,iBACX,EACAxH,GAAI,CACAwH,MAAO,YACX,EACAvH,MAAO,CACHuH,MAAO,MACX,CACJ,EAEAlK,QAAS,CACLkK,MAAO,CACHhK,KAAM,SAAUH,CAAS,EACrBA,EAAUI,CAAC,CAACH,OAAO,CAACkK,KAAK,CAAGnK,EAAUI,CAAC,CAACH,OAAO,CAACkK,KAAK,EAAIvK,EACzD,IASOI,EACfsI,EAVY8B,EAAc,CACd9B,QAAQ,EAQLtI,EARqBA,EASpCsI,EAAW,EAAE,CAEjB3I,EAAEqB,IAAI,CAAChB,EAAUI,CAAC,CAACH,OAAO,CAACkK,KAAK,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AAU,sBACVC,UAAW,CACP,UAAW,mBACX,MAAS,aACT,OAAU,UACV,MAAS,SACT,UAAW,eACX,OAAU,aACd,EACAC,eAAgB,CACZH,MAAO,kCACP3H,MAAO,sBACPC,MAAO,MACX,CACJ,EACAzB,GAAI,CACAoJ,SAAU,gBACVC,UAAW,CACP,UAAW,mBACX,MAAS,WACT,OAAU,WACV,MAAS,OACT,UAAW,eACX,OAAU,iBACd,EACAC,eAAgB,CACZH,MAAO,2BACP3H,MAAO,gBACPC,MAAO,MACX,CACJ,EACAxB,GAAI,CACAmJ,SAAU,sBACVC,UAAW,CACP,UAAW,gBACX,MAAS,QACT,OAAU,SACV,MAAS,QACT,UAAW,gBACX,OAAU,yBACd,EACAC,eAAgB,CACZH,MAAO,oCACP3H,MAAO,sBACPC,MAAO,MACX,CACJ,EACAvB,GAAI,CACAkJ,SAAU,gBACVC,UAAW,CACP,UAAW,cACX,MAAS,QACT,OAAU,cACV,MAAS,OACT,UAAW,aACX,OAAU,QACd,EACAC,eAAgB,CACZH,MAAO,uBACP3H,MAAO,gBACPC,MAAO,MACX,CACJ,EACA8H,GAAI,CACAH,SAAU,uBACVC,UAAW,CACP,UAAW,gBACX,MAAS,UACT,QAAW,UACX,MAAS,SACT,UAAW,eACX,OAAU,gBACd,EACAC,eAAgB,CACZH,MAAO,sCACP3H,MAAO,uBACPC,MAAO,MACX,CACJ,EACArB,GAAI,CACAgJ,SAAU,QACVC,UAAW,CACP,UAAW,QACX,MAAS,KACT,OAAU,KACV,MAAS,KACT,UAAW,QACX,OAAU,QACd,EACAC,eAAgB,CACZH,MAAO,eACP3H,MAAO,QACPC,MAAO,MACX,CACJ,EACApB,GAAI,CACA+I,SAAU,gBACVC,UAAW,CACP,UAAW,cACX,MAAS,QACT,OAAU,UACV,MAAS,QACT,UAAW,cACX,OAAU,WACd,EACAC,eAAgB,CACZH,MAAO,2BACP3H,MAAO,gBACPC,MAAO,MACX,CACJ,EACAnB,MAAO,CACH8I,SAAU,mBACVC,UAAW,CACP,UAAW,gBACX,MAAS,UACT,QAAW,WACX,MAAS,SACT,UAAW,eACX,OAAU,eACd,E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"}
