{"version":3,"sources":["<anon>"],"sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n  var WRAP_CLASS = \"CodeMirror-activeline\";\n  var BACK_CLASS = \"CodeMirror-activeline-background\";\n  var GUTT_CLASS = \"CodeMirror-activeline-gutter\";\n\n  CodeMirror.defineOption(\"styleActiveLine\", false, function(cm, val, old) {\n    var prev = old == CodeMirror.Init ? false : old;\n    if (val == prev) return\n    if (prev) {\n      cm.off(\"beforeSelectionChange\", selectionChange);\n      clearActiveLines(cm);\n      delete cm.state.activeLines;\n    }\n    if (val) {\n      cm.state.activeLines = [];\n      updateActiveLines(cm, cm.listSelections());\n      cm.on(\"beforeSelectionChange\", selectionChange);\n    }\n  });\n\n  function clearActiveLines(cm) {\n    for (var i = 0; i < cm.state.activeLines.length; i++) {\n      cm.removeLineClass(cm.state.activeLines[i], \"wrap\", WRAP_CLASS);\n      cm.removeLineClass(cm.state.activeLines[i], \"background\", BACK_CLASS);\n      cm.removeLineClass(cm.state.activeLines[i], \"gutter\", GUTT_CLASS);\n    }\n  }\n\n  function sameArray(a, b) {\n    if (a.length != b.length) return false;\n    for (var i = 0; i < a.length; i++)\n      if (a[i] != b[i]) return false;\n    return true;\n  }\n\n  function updateActiveLines(cm, ranges) {\n    var active = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i];\n      var option = cm.getOption(\"styleActiveLine\");\n      if (typeof option == \"object\" && option.nonEmpty ? range.anchor.line != range.head.line : !range.empty())\n        continue\n      var line = cm.getLineHandleVisualStart(range.head.line);\n      if (active[active.length - 1] != line) active.push(line);\n    }\n    if (sameArray(cm.state.activeLines, active)) return;\n    cm.operation(function() {\n      clearActiveLines(cm);\n      for (var i = 0; i < active.length; i++) {\n        cm.addLineClass(active[i], \"wrap\", WRAP_CLASS);\n        cm.addLineClass(active[i], \"background\", BACK_CLASS);\n        cm.addLineClass(active[i], \"gutter\", GUTT_CLASS);\n      }\n      cm.state.activeLines = active;\n    });\n  }\n\n  function selectionChange(cm, sel) {\n    updateActiveLines(cm, sel.ranges);\n  }\n});\n"],"names":["mod","exports","module","require","define","amd","CodeMirror","WRAP_CLASS","BACK_CLASS","GUTT_CLASS","clearActiveLines","cm","i","state","activeLines","length","removeLineClass","updateActiveLines","ranges","active","range","option","getOption","nonEmpty","anchor","line","head","empty","getLineHandleVisualStart","push","sameArray","a","b","operation","addLineClass","selectionChange","sel","defineOption","val","old","prev","Init","off","listSelections","on"],"mappings":"CAGA,AAAC,SAASA,CAAG,EACP,AAAkB,UAAlB,OAAOC,SAAuB,AAAiB,UAAjB,OAAOC,OACvCF,EAAIG,QAAQ,yBACL,AAAiB,YAAjB,OAAOC,QAAwBA,OAAOC,GAAG,CAChDD,OAAO,CAAC,uBAAuB,CAAEJ,GAEjCA,EAAIM,WACR,EAAG,SAASA,CAAU,EACpB,aACA,IAAIC,EAAa,wBACbC,EAAa,mCACbC,EAAa,+BAiBjB,SAASC,EAAiBC,CAAE,EAC1B,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAGE,KAAK,CAACC,WAAW,CAACC,MAAM,CAAEH,IAC/CD,EAAGK,eAAe,CAACL,EAAGE,KAAK,CAACC,WAAW,CAACF,EAAE,CAAE,OAAQL,GACpDI,EAAGK,eAAe,CAACL,EAAGE,KAAK,CAACC,WAAW,CAACF,EAAE,CAAE,aAAcJ,GAC1DG,EAAGK,eAAe,CAACL,EAAGE,KAAK,CAACC,WAAW,CAACF,EAAE,CAAE,SAAUH,EAE1D,CASA,SAASQ,EAAkBN,CAAE,CAAEO,CAAM,EAEnC,IAAK,IADDC,EAAS,EAAE,CACNP,EAAI,EAAGA,EAAIM,EAAOH,MAAM,CAAEH,IAAK,CACtC,IAAIQ,EAAQF,CAAM,CAACN,EAAE,CACjBS,EAASV,EAAGW,SAAS,CAAC,mBAC1B,GAAI,AAAiB,UAAjB,OAAOD,GAAsBA,EAAOE,QAAQ,CAAGH,EAAMI,MAAM,CAACC,IAAI,EAAIL,EAAMM,IAAI,CAACD,IAAI,EAAG,CAACL,EAAMO,KAAK,IAEtG,IAAIF,EAAOd,EAAGiB,wBAAwB,CAACR,EAAMM,IAAI,CAACD,IAAI,CAClDN,CAAAA,CAAM,CAACA,EAAOJ,MAAM,CAAG,EAAE,EAAIU,GAAMN,EAAOU,IAAI,CAACJ,GACrD,EACIK,AAjBN,SAAmBC,CAAC,CAAEC,CAAC,EACrB,GAAID,EAAEhB,MAAM,EAAIiB,EAAEjB,MAAM,CAAE,MAAO,CAAA,EACjC,IAAK,IAAIH,EAAI,EAAGA,EAAImB,EAAEhB,MAAM,CAAEH,IAC5B,GAAImB,CAAC,CAACnB,EAAE,EAAIoB,CAAC,CAACpB,EAAE,CAAE,MAAO,CAAA,EAC3B,MAAO,CAAA,CACT,EAYgBD,EAAGE,KAAK,CAACC,WAAW,CAAEK,IACpCR,EAAGsB,SAAS,CAAC,WACXvB,EAAiBC,GACjB,IAAK,IAAIC,EAAI,EAAGA,EAAIO,EAAOJ,MAAM,CAAEH,IACjCD,EAAGuB,YAAY,CAACf,CAAM,CAACP,EAAE,CAAE,OAAQL,GACnCI,EAAGuB,YAAY,CAACf,CAAM,CAACP,EAAE,CAAE,aAAcJ,GACzCG,EAAGuB,YAAY,CAACf,CAAM,CAACP,EAAE,CAAE,SAAUH,EAEvCE,CAAAA,EAAGE,KAAK,CAACC,WAAW,CAAGK,CACzB,EACF,CAEA,SAASgB,EAAgBxB,CAAE,CAAEyB,CAAG,EAC9BnB,EAAkBN,EAAIyB,EAAIlB,MAAM,CAClC,CAtDAZ,EAAW+B,YAAY,CAAC,kBAAmB,CAAA,EAAO,SAAS1B,CAAE,CAAE2B,CAAG,CAAEC,CAAG,EACrE,IAAIC,EAAOD,GAAOjC,EAAWmC,IAAI,EAAWF,EACxCD,GAAOE,IACPA,IACF7B,EAAG+B,GAAG,CAAC,wBAAyBP,GAChCzB,EAAiBC,GACjB,OAAOA,EAAGE,KAAK,CAACC,WAAW,EAEzBwB,IACF3B,EAAGE,KAAK,CAACC,WAAW,CAAG,EAAE,CACzBG,EAAkBN,EAAIA,EAAGgC,cAAc,IACvChC,EAAGiC,EAAE,CAAC,wBAAyBT,IAEnC,EA0CF"}
