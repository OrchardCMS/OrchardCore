!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(r,t){var n,a,i=r.indentUnit,o=t.statementIndent,u=t.jsonld,s=t.json||u,f=!1!==t.trackScope,c=t.typescript,l=t.wordCharacters||/[\w$\xa1-\uffff]/,d=function(){function e(e){return{type:e,style:"keyword"}}var r=e("keyword a"),t=e("keyword b"),n=e("keyword c"),a=e("keyword d"),i=e("operator"),o={type:"atom",style:"atom"};return{if:e("if"),while:r,with:r,else:t,do:t,try:t,finally:t,return:a,break:a,continue:a,new:e("new"),delete:n,void:n,throw:n,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:o,false:o,null:o,undefined:o,NaN:o,Infinity:o,this:e("this"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n,await:n}}(),p=/[+\-*&%=<>!?|~^@]/,m=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function k(e,r,t){return n=e,a=t,r}function v(e,r){var t,n=e.next();if('"'==n||"'"==n){;return t=n,r.tokenize=function(e,r){var n,a=!1;if(u&&"@"==e.peek()&&e.match(m))return r.tokenize=v,k("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=t||a);)a=!a&&"\\"==n;return a||(r.tokenize=v),k("string","string")},r.tokenize(e,r)}if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return k("number","number");if("."==n&&e.match(".."))return k("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return k(n);if("="==n&&e.eat(">"))return k("=>","operator");else if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return k("number","number");else if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),k("number","number");else if("/"==n)return e.eat("*")?(r.tokenize=y,y(e,r)):e.eat("/")?(e.skipToEnd(),k("comment","comment")):eX(e,r,1)?(function(e){for(var r,t=!1,n=!1;null!=(r=e.next());){if(!t){if("/"==r&&!n)return;"["==r?n=!0:n&&"]"==r&&(n=!1)}t=!t&&"\\"==r}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),k("regexp","string-2")):(e.eat("="),k("operator","operator",e.current()));else if("`"==n)return r.tokenize=w,w(e,r);else if("#"==n&&"!"==e.peek())return e.skipToEnd(),k("meta","meta");else if("#"==n&&e.eatWhile(l))return k("variable","property");else if("<"==n&&e.match("!--")||"-"==n&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),k("comment","comment");else if(p.test(n))return((">"!=n||!r.lexical||">"!=r.lexical.type)&&(e.eat("=")?("!"==n||"="==n)&&e.eat("="):/[<>*+\-|&?]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat("."))?k("."):k("operator","operator",e.current());else if(l.test(n)){e.eatWhile(l);var a=e.current();if("."!=r.lastType){if(d.propertyIsEnumerable(a)){var i=d[a];return k(i.type,i.style,a)}if("async"==a&&e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return k("async","keyword",a)}return k("variable","variable",a)}}function y(e,r){for(var t,n=!1;t=e.next();){if("/"==t&&n){r.tokenize=v;break}n="*"==t}return k("comment","comment")}function w(e,r){for(var t,n=!1;null!=(t=e.next());){if(!n&&("`"==t||"$"==t&&e.eat("{"))){r.tokenize=v;break}n=!n&&"\\"==t}return k("quasi","string-2",e.current())}function b(e,r){r.fatArrowAt&&(r.fatArrowAt=null);var t=e.string.indexOf("=>",e.start);if(!(t<0)){if(c){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,t));n&&(t=n.index)}for(var a=0,i=!1,o=t-1;o>=0;--o){var u=e.string.charAt(o),s="([{}])".indexOf(u);if(s>=0&&s<3){if(!a){++o;break}if(0==--a){"("==u&&(i=!0);break}}else if(s>=3&&s<6)++a;else if(l.test(u))i=!0;else if(/["'\/`]/.test(u))for(;;--o){if(0==o)return;if(e.string.charAt(o-1)==u&&"\\"!=e.string.charAt(o-2)){o--;break}}else if(i&&!a){++o;break}}i&&!a&&(r.fatArrowAt=o)}}var x={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function h(e,r,t,n,a,i){this.indented=e,this.column=r,this.type=t,this.prev=a,this.info=i,null!=n&&(this.align=n)}function g(e,r,t,n,a){var i=e.cc;for(j.state=e,j.stream=a,j.marked=null,j.cc=i,j.style=r,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((i.length?i.pop():s?W:N)(t,n)){for(;i.length&&i[i.length-1].lex;)i.pop()();if(j.marked)return j.marked;if("variable"==t&&function(e,r){if(!f)return!1;for(var t=e.localVars;t;t=t.next)if(t.name==r)return!0;for(var n=e.context;n;n=n.prev)for(var t=n.vars;t;t=t.next)if(t.name==r)return!0}(e,n))return"variable-2";return r}}var j={state:null,column:null,marked:null,cc:null};function M(){for(var e=arguments.length-1;e>=0;e--)j.cc.push(arguments[e])}function A(){return M.apply(null,arguments),!0}function V(e,r){for(var t=r;t;t=t.next)if(t.name==e)return!0;return!1}function E(e){var r=j.state;if(j.marked="def",f){if(r.context){if("var"==r.lexical.info&&r.context&&r.context.block){var n=function e(r,t){if(!t)return null;if(t.block){var n=e(r,t.prev);return n?n==t.prev?t:new I(n,t.vars,!0):null}return V(r,t.vars)?t:new I(t.prev,new T(r,t.vars),!1)}(e,r.context);if(null!=n){r.context=n;return}}else if(!V(e,r.localVars)){r.localVars=new T(e,r.localVars);return}}t.globalVars&&!V(e,r.globalVars)&&(r.globalVars=new T(e,r.globalVars))}}function z(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function I(e,r,t){this.prev=e,this.vars=r,this.block=t}function T(e,r){this.name=e,this.next=r}var $=new T("this",new T("arguments",null));function q(){j.state.context=new I(j.state.context,j.state.localVars,!1),j.state.localVars=$}function C(){j.state.context=new I(j.state.context,j.state.localVars,!0),j.state.localVars=null}function S(){j.state.localVars=j.state.context.vars,j.state.context=j.state.context.prev}function _(e,r){var t=function(){var t=j.state,n=t.indented;if("stat"==t.lexical.type)n=t.lexical.indented;else for(var a=t.lexical;a&&")"==a.type&&a.align;a=a.prev)n=a.indented;t.lexical=new h(n,j.stream.column(),e,null,t.lexical,r)};return t.lex=!0,t}function O(){var e=j.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function P(e){return function r(t){return t==e?A():";"==e||"}"==t||")"==t||"]"==t?M():A(r)}}function N(e,r){if("var"==e)return A(_("vardef",r),eg,P(";"),O);if("keyword a"==e)return A(_("form"),F,N,O);if("keyword b"==e)return A(_("form"),N,O);if("keyword d"==e)return j.stream.match(/^\s*$/,!1)?A():A(_("stat"),D,P(";"),O);if("debugger"==e)return A(P(";"));if("{"==e)return A(_("}"),C,eo,O,S);if(";"==e)return A();if("if"==e)return"else"==j.state.lexical.info&&j.state.cc[j.state.cc.length-1]==O&&j.state.cc.pop()(),A(_("form"),F,N,O,ez);if("function"==e)return A(eq);if("for"==e)return A(_("form"),C,eI,N,S,O);if("class"==e||c&&"interface"==r)return j.marked="keyword",A(_("form","class"==e?e:r),eP,O);if("variable"==e){if(c&&"declare"==r)return j.marked="keyword",A(N);if(c&&("module"==r||"enum"==r||"type"==r)&&j.stream.match(/^\s*\w/,!1))return(j.marked="keyword","enum"==r)?A(eQ):"type"==r?A(eS,P("operator"),el,P(";")):A(_("form"),ej,P("{"),_("}"),eo,O,O);if(c&&"namespace"==r)return j.marked="keyword",A(_("form"),W,N,O);else if(c&&"abstract"==r)return j.marked="keyword",A(N);else return A(_("stat"),Z)}return"switch"==e?A(_("form"),F,P("{"),_("}","switch"),C,eo,O,O,S):"case"==e?A(W,P(":")):"default"==e?A(P(":")):"catch"==e?A(_("form"),q,U,N,O,S):"export"==e?A(_("stat"),eB,O):"import"==e?A(_("stat"),eH,O):"async"==e?A(N):"@"==r?A(W,N):M(_("stat"),W,P(";"),O)}function U(e){if("("==e)return A(e_,P(")"))}function W(e,r){return H(e,r,!1)}function B(e,r){return H(e,r,!0)}function F(e){return"("!=e?M():A(_(")"),D,P(")"),O)}function H(e,r,t){if(j.state.fatArrowAt==j.stream.start){var n,a=t?R:Q;if("("==e)return A(q,_(")"),ea(e_,")"),O,P("=>"),a,S);if("variable"==e)return M(q,ej,P("=>"),a,S)}var i=t?J:G;return x.hasOwnProperty(e)?A(i):"function"==e?A(eq,i):"class"==e||c&&"interface"==r?(j.marked="keyword",A(_("form"),eO,O)):"keyword c"==e||"async"==e?A(t?B:W):"("==e?A(_(")"),D,P(")"),O,i):"operator"==e||"spread"==e?A(t?B:W):"["==e?A(_("]"),eL,O,i):"{"==e?ei(er,"}",null,i):"quasi"==e?M(K,i):"new"==e?A((n=t,function(e){return"."==e?A(n?Y:X):"variable"==e&&c?A(eb,n?J:G):M(n?B:W)})):A()}function D(e){return e.match(/[;\}\)\],]/)?M():M(W)}function G(e,r){return","==e?A(D):J(e,r,!1)}function J(e,r,t){var n=!1==t?G:J,a=!1==t?W:B;if("=>"==e)return A(q,t?R:Q,S);if("operator"==e)return/\+\+|--/.test(r)||c&&"!"==r?A(n):c&&"<"==r&&j.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?A(_(">"),ea(el,">"),O,n):"?"==r?A(W,P(":"),a):A(a);if("quasi"==e)return M(K,n);if(";"!=e){if("("==e)return ei(B,")","call",n);if("."==e)return A(ee,n);if("["==e)return A(_("]"),D,P("]"),O,n);if(c&&"as"==r)return j.marked="keyword",A(el,n);if("regexp"==e)return j.state.lastType=j.marked="operator",j.stream.backUp(j.stream.pos-j.stream.start-1),A(a)}}function K(e,r){return"quasi"!=e?M():"${"!=r.slice(r.length-2)?A(K):A(D,L)}function L(e){if("}"==e)return j.marked="string-2",j.state.tokenize=w,A(K)}function Q(e){return b(j.stream,j.state),M("{"==e?N:W)}function R(e){return b(j.stream,j.state),M("{"==e?N:B)}function X(e,r){if("target"==r)return j.marked="keyword",A(G)}function Y(e,r){if("target"==r)return j.marked="keyword",A(J)}function Z(e){return":"==e?A(O,N):M(G,P(";"),O)}function ee(e){if("variable"==e)return j.marked="property",A()}function er(e,r){if("async"==e)return j.marked="property",A(er);if("variable"==e||"keyword"==j.style){var t;return(j.marked="property","get"==r||"set"==r)?A(et):(c&&j.state.fatArrowAt==j.stream.start&&(t=j.stream.match(/^\s*:\s*/,!1))&&(j.state.fatArrowAt=j.stream.pos+t[0].length),A(en))}if("number"==e||"string"==e)return j.marked=u?"property":j.style+" property",A(en);if("jsonld-keyword"==e)return A(en);if(c&&z(r))return j.marked="keyword",A(er);else if("["==e)return A(W,eu,P("]"),en);else if("spread"==e)return A(B,en);else if("*"==r)return j.marked="keyword",A(er);else if(":"==e)return M(en)}function et(e){return"variable"!=e?M(en):(j.marked="property",A(eq))}function en(e){return":"==e?A(B):"("==e?M(eq):void 0}function ea(e,r,t){function n(a,i){if(t?t.indexOf(a)>-1:","==a){var o=j.state.lexical;return"call"==o.info&&(o.pos=(o.pos||0)+1),A(function(t,n){return t==r||n==r?M():M(e)},n)}return a==r||i==r?A():t&&t.indexOf(";")>-1?M(e):A(P(r))}return function(t,a){return t==r||a==r?A():M(e,n)}}function ei(e,r,t){for(var n=3;n<arguments.length;n++)j.cc.push(arguments[n]);return A(_(r,t),ea(e,r),O)}function eo(e){return"}"==e?A():M(N,eo)}function eu(e,r){if(c){if(":"==e)return A(el);if("?"==r)return A(eu)}}function es(e,r){if(c&&(":"==e||"in"==r))return A(el)}function ef(e){if(c&&":"==e)return j.stream.match(/^\s*\w+\s+is\b/,!1)?A(W,ec,el):A(el)}function ec(e,r){if("is"==r)return j.marked="keyword",A()}function el(e,r){return"keyof"==r||"typeof"==r||"infer"==r||"readonly"==r?(j.marked="keyword",A("typeof"==r?B:el)):"variable"==e||"void"==r?(j.marked="type",A(ew)):"|"==r||"&"==r?A(el):"string"==e||"number"==e||"atom"==e?A(ew):"["==e?A(_("]"),ea(el,"]",","),O,ew):"{"==e?A(_("}"),ep,O,ew):"("==e?A(ea(ey,")"),ed,ew):"<"==e?A(ea(el,">"),el):"quasi"==e?M(ek,ew):void 0}function ed(e){if("=>"==e)return A(el)}function ep(e){return e.match(/[\}\)\]]/)?A():","==e||";"==e?A(ep):M(em,ep)}function em(e,r){if("variable"==e||"keyword"==j.style)return j.marked="property",A(em);if("?"==r||"number"==e||"string"==e)return A(em);if(":"==e)return A(el);if("["==e)return A(P("variable"),es,P("]"),em);if("("==e)return M(eC,em);else if(!e.match(/[;\}\)\],]/))return A()}function ek(e,r){return"quasi"!=e?M():"${"!=r.slice(r.length-2)?A(ek):A(el,ev)}function ev(e){if("}"==e)return j.marked="string-2",j.state.tokenize=w,A(ek)}function ey(e,r){return"variable"==e&&j.stream.match(/^\s*[?:]/,!1)||"?"==r?A(ey):":"==e?A(el):"spread"==e?A(ey):M(el)}function ew(e,r){return"<"==r?A(_(">"),ea(el,">"),O,ew):"|"==r||"."==e||"&"==r?A(el):"["==e?A(el,P("]"),ew):"extends"==r||"implements"==r?(j.marked="keyword",A(el)):"?"==r?A(el,P(":"),el):void 0}function eb(e,r){if("<"==r)return A(_(">"),ea(el,">"),O,ew)}function ex(){return M(el,eh)}function eh(e,r){if("="==r)return A(el)}function eg(e,r){return"enum"==r?(j.marked="keyword",A(eQ)):M(ej,eu,eV,eE)}function ej(e,r){return c&&z(r)?(j.marked="keyword",A(ej)):"variable"==e?(E(r),A()):"spread"==e?A(ej):"["==e?ei(eA,"]"):"{"==e?ei(eM,"}"):void 0}function eM(e,r){return"variable"!=e||j.stream.match(/^\s*:/,!1)?("variable"==e&&(j.marked="property"),"spread"==e)?A(ej):"}"==e?M():"["==e?A(W,P("]"),P(":"),eM):A(P(":"),ej,eV):(E(r),A(eV))}function eA(){return M(ej,eV)}function eV(e,r){if("="==r)return A(B)}function eE(e){if(","==e)return A(eg)}function ez(e,r){if("keyword b"==e&&"else"==r)return A(_("form","else"),N,O)}function eI(e,r){return"await"==r?A(eI):"("==e?A(_(")"),eT,O):void 0}function eT(e){return"var"==e?A(eg,e$):"variable"==e?A(e$):M(e$)}function e$(e,r){return")"==e?A():";"==e?A(e$):"in"==r||"of"==r?(j.marked="keyword",A(W,e$)):M(W,e$)}function eq(e,r){return"*"==r?(j.marked="keyword",A(eq)):"variable"==e?(E(r),A(eq)):"("==e?A(q,_(")"),ea(e_,")"),O,ef,N,S):c&&"<"==r?A(_(">"),ea(ex,">"),O,eq):void 0}function eC(e,r){return"*"==r?(j.marked="keyword",A(eC)):"variable"==e?(E(r),A(eC)):"("==e?A(q,_(")"),ea(e_,")"),O,ef,S):c&&"<"==r?A(_(">"),ea(ex,">"),O,eC):void 0}function eS(e,r){return"keyword"==e||"variable"==e?(j.marked="type",A(eS)):"<"==r?A(_(">"),ea(ex,">"),O):void 0}function e_(e,r){return("@"==r&&A(W,e_),"spread"==e)?A(e_):c&&z(r)?(j.marked="keyword",A(e_)):c&&"this"==e?A(eu,eV):M(ej,eu,eV)}function eO(e,r){return"variable"==e?eP(e,r):eN(e,r)}function eP(e,r){if("variable"==e)return E(r),A(eN)}function eN(e,r){return"<"==r?A(_(">"),ea(ex,">"),O,eN):"extends"==r||"implements"==r||c&&","==e?("implements"==r&&(j.marked="keyword"),A(c?el:W,eN)):"{"==e?A(_("}"),eU,O):void 0}function eU(e,r){return"async"==e||"variable"==e&&("static"==r||"get"==r||"set"==r||c&&z(r))&&j.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(j.marked="keyword",A(eU)):"variable"==e||"keyword"==j.style?(j.marked="property",A(eW,eU)):"number"==e||"string"==e?A(eW,eU):"["==e?A(W,eu,P("]"),eW,eU):"*"==r?(j.marked="keyword",A(eU)):c&&"("==e?M(eC,eU):";"==e||","==e?A(eU):"}"==e?A():"@"==r?A(W,eU):void 0}function eW(e,r){if("!"==r||"?"==r)return A(eW);if(":"==e)return A(el,eV);if("="==r)return A(B);var t=j.state.lexical.prev;return M(t&&"interface"==t.info?eC:eq)}function eB(e,r){return"*"==r?(j.marked="keyword",A(eK,P(";"))):"default"==r?(j.marked="keyword",A(W,P(";"))):"{"==e?A(ea(eF,"}"),eK,P(";")):M(N)}function eF(e,r){return"as"==r?(j.marked="keyword",A(P("variable"))):"variable"==e?M(B,eF):void 0}function eH(e){return"string"==e?A():"("==e?M(W):"."==e?M(G):M(eD,eG,eK)}function eD(e,r){return"{"==e?ei(eD,"}"):("variable"==e&&E(r),"*"==r&&(j.marked="keyword"),A(eJ))}function eG(e){if(","==e)return A(eD,eG)}function eJ(e,r){if("as"==r)return j.marked="keyword",A(eD)}function eK(e,r){if("from"==r)return j.marked="keyword",A(W)}function eL(e){return"]"==e?A():M(ea(B,"]"))}function eQ(){return M(_("form"),ej,P("{"),_("}"),ea(eR,"}"),O,O)}function eR(){return M(ej,eV)}function eX(e,r,t){return r.tokenize==v&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(r.lastType)||"quasi"==r.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(t||0)))}return q.lex=C.lex=!0,S.lex=!0,O.lex=!0,{startState:function(e){var r={tokenize:v,lastType:"sof",cc:[],lexical:new h((e||0)-i,0,"block",!1),localVars:t.localVars,context:t.localVars&&new I(null,null,!1),indented:e||0};return t.globalVars&&"object"==typeof t.globalVars&&(r.globalVars=t.globalVars),r},token:function(e,r){if(e.sol()&&(r.lexical.hasOwnProperty("align")||(r.lexical.align=!1),r.indented=e.indentation(),b(e,r)),r.tokenize!=y&&e.eatSpace())return null;var t=r.tokenize(e,r);return"comment"==n?t:(r.lastType="operator"==n&&("++"==a||"--"==a)?"incdec":n,g(r,t,n,a,e))},indent:function(r,n){if(r.tokenize==y||r.tokenize==w)return e.Pass;if(r.tokenize!=v)return 0;var a,u=n&&n.charAt(0),s=r.lexical;if(!/^\s*else\b/.test(n))for(var f=r.cc.length-1;f>=0;--f){var c=r.cc[f];if(c==O)s=s.prev;else if(c!=ez&&c!=S)break}for(;("stat"==s.type||"form"==s.type)&&("}"==u||(a=r.cc[r.cc.length-1])&&(a==G||a==J)&&!/^[,\.=+\-*:?[\(]/.test(n));)s=s.prev;o&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var l=s.type,d=u==l;if("vardef"==l)return s.indented+("operator"==r.lastType||","==r.lastType?s.info.length+1:0);if("form"==l&&"{"==u)return s.indented;if("form"==l)return s.indented+i;if("stat"==l)return s.indented+("operator"==r.lastType||","==r.lastType||p.test(n.charAt(0))||/[,.]/.test(n.charAt(0))?o||i:0);if("switch"==s.info&&!d&&!1!=t.doubleIndentSwitch)return s.indented+(/^(?:case|default)\b/.test(n)?i:2*i);else if(s.align)return s.column+ +!d;else return s.indented+(d?0:i)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:s?null:"/*",blockCommentEnd:s?null:"*/",blockCommentContinue:s?null:" * ",lineComment:s?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:s?"json":"javascript",jsonldMode:u,jsonMode:s,expressionAllowed:eX,skipExpression:function(r){g(r,"atom","atom","true",new e.StringStream("",2,null))}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})});
