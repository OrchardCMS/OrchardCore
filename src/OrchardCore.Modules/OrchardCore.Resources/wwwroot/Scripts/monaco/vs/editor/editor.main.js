/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.27.0(730c98dfd4e771a851edf1bc944ea5c5018ee8cb)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var ee=["require","exports","vs/base/common/lifecycle","vs/editor/common/core/range","vs/nls","vs/nls!vs/editor/editor.main","vs/base/common/event","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/css!vs/editor/editor.main","vs/platform/theme/common/themeService","vs/base/common/errors","vs/editor/common/core/position","vs/editor/browser/editorExtensions","vs/base/common/async","vs/platform/contextkey/common/contextkey","vs/base/common/platform","vs/editor/common/modes","vs/base/common/arrays","vs/base/common/types","vs/editor/common/core/selection","vs/platform/theme/common/colorRegistry","vs/base/common/cancellation","vs/base/common/uri","vs/editor/common/editorContextKeys","vs/platform/commands/common/commands","vs/base/common/codicons","vs/editor/browser/services/codeEditorService","vs/base/common/color","vs/base/browser/fastDomNode","vs/editor/common/model/textModel","vs/platform/registry/common/platform","vs/platform/actions/common/actions","vs/platform/notification/common/notification","vs/editor/common/config/editorOptions","vs/editor/common/services/modelService","vs/platform/keybinding/common/keybinding","vs/platform/configuration/common/configuration","vs/base/browser/browser","vs/editor/common/controller/cursorCommon","vs/base/common/keyCodes","vs/base/common/objects","vs/base/common/resources","vs/base/browser/ui/aria/aria","vs/editor/common/modes/languageConfigurationRegistry","vs/base/common/network","vs/editor/browser/view/viewPart","vs/editor/common/view/editorColorRegistry","vs/base/common/map","vs/base/common/actions","vs/base/browser/keyboardEvent","vs/base/browser/ui/widget","vs/editor/common/model","vs/base/common/iterator","vs/base/browser/mouseEvent","vs/editor/common/core/editOperation","vs/editor/common/services/modeService","vs/platform/opener/common/opener","vs/platform/progress/common/progress","vs/base/browser/touch","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/viewModel/viewModel","vs/editor/common/standaloneStrings","vs/platform/accessibility/common/accessibility","vs/editor/browser/config/configuration","vs/editor/browser/core/editorState","vs/base/common/filters","vs/editor/common/services/resolverService","vs/platform/contextview/browser/contextView","vs/platform/log/common/log","vs/platform/storage/common/storage","vs/base/common/linkedList","vs/base/common/path","vs/base/common/severity","vs/platform/instantiation/common/extensions","vs/editor/common/services/editorWorkerService","vs/editor/common/modes/nullMode","vs/platform/quickinput/common/quickInput","vs/platform/theme/common/iconRegistry","vs/base/common/functional","vs/base/common/stopwatch","vs/base/common/htmlContent","vs/editor/common/core/stringBuilder","vs/base/browser/ui/actionbar/actionbar","vs/editor/common/core/lineTokens","vs/platform/clipboard/common/clipboardService","vs/platform/markers/common/markers","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/telemetry/common/telemetry","vs/base/common/decorators","vs/base/browser/event","vs/base/common/hash","vs/base/browser/globalMouseMoveMonitor","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/common/model/textModelEvents","vs/editor/browser/view/dynamicViewOverlay","vs/platform/configuration/common/configurationRegistry","vs/platform/quickinput/common/quickAccess","vs/platform/theme/common/theme","vs/base/browser/ui/tree/tree","vs/base/common/numbers","vs/base/common/buffer","vs/base/common/iconLabels","vs/base/browser/ui/iconLabel/iconLabels","vs/base/common/mime","vs/base/browser/ui/sash/sash","vs/base/browser/ui/list/listWidget","vs/editor/common/controller/wordCharacterClassifier","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/modes/languageConfiguration","vs/editor/common/view/renderingContext","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/common/viewModel/viewEventHandler","vs/editor/contrib/snippet/snippetParser","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/contrib/gotoSymbol/referencesModel","vs/editor/standalone/common/standaloneThemeService","vs/platform/dialogs/common/dialogs","vs/platform/label/common/label","vs/platform/theme/common/styler","vs/editor/contrib/suggest/suggest","vs/editor/contrib/peekView/peekView","vs/base/common/idGenerator","vs/base/common/range","vs/base/common/scrollable","vs/base/common/diff/diff","vs/base/common/uint","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/common/config/editorZoom","vs/editor/common/core/token","vs/editor/common/model/wordHelper","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/codeAction/types","vs/editor/browser/services/bulkEditService","vs/editor/common/modes/languageFeatureRegistry","vs/editor/common/model/tokensStore","vs/editor/common/controller/cursorWordOperations","vs/editor/common/services/textResourceConfigurationService","vs/platform/instantiation/common/serviceCollection","vs/platform/layout/browser/layoutService","vs/editor/browser/core/markdownRenderer","vs/editor/common/modes/modesRegistry","vs/editor/contrib/find/findModel","vs/editor/browser/controller/coreCommands","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/codeAction/codeAction","vs/editor/contrib/message/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/base/common/lazy","vs/base/browser/canIUse","vs/base/common/extpath","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/common/labels","vs/base/browser/dnd","vs/base/browser/ui/checkbox/checkbox","vs/base/browser/ui/list/listView","vs/editor/browser/editorDom","vs/editor/common/config/fontInfo","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/model/textModelSearch","vs/editor/common/modes/supports","vs/editor/common/modes/supports/richEditBrackets","vs/editor/common/standalone/standaloneEnums","vs/editor/common/view/viewEvents","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewModel/viewModelEventDispatcher","vs/editor/contrib/folding/foldingRanges","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/inputbox/inputBox","vs/base/common/keybindingLabels","vs/editor/common/services/markersDecorationService","vs/editor/common/commands/shiftCommand","vs/editor/common/controller/cursorMoveOperations","vs/editor/common/controller/cursorDeleteOperations","vs/editor/common/controller/cursorTypeOperations","vs/editor/contrib/parameterHints/provideSignatureHelp","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/commonEditorConfig","vs/editor/browser/controller/mouseTarget","vs/platform/actions/browser/menuEntryActionViewItem","vs/platform/workspace/common/workspace","vs/editor/standalone/browser/simpleServices","vs/editor/contrib/snippet/snippetController2","vs/base/browser/iframe","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/assert","vs/base/common/collections","vs/base/browser/ui/tree/treeIcons","vs/base/common/glob","vs/base/common/marshalling","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/base/browser/ui/splitview/splitview","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/rgba","vs/editor/common/editorAction","vs/editor/common/model/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/standalone/standaloneBase","vs/editor/common/view/overviewZoneManager","vs/editor/common/viewModel/prefixSumComputer","vs/editor/browser/viewParts/margin/margin","vs/editor/contrib/comment/blockCommentCommand","vs/editor/contrib/folding/syntaxRangeProvider","vs/editor/contrib/format/formattingEdit","vs/editor/contrib/gotoSymbol/link/clickLinkGesture","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/hover/hoverTypes","vs/editor/contrib/indentation/indentUtils","vs/editor/contrib/inlineCompletions/ghostText","vs/editor/contrib/smartSelect/bracketSelections","vs/editor/contrib/suggest/resizable","vs/editor/standalone/common/monarch/monarchCommon","vs/base/browser/ui/findinput/findInputCheckboxes","vs/base/browser/ui/tree/objectTree","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/platform/instantiation/common/descriptors","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/controller/cursorAtomicMoveOperations","vs/editor/common/controller/cursorMoveCommands","vs/editor/common/controller/cursor","vs/editor/common/modes/textToHtmlTokenizer","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/contrib/documentSymbols/outlineModel","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/codelens","vs/editor/contrib/colorPicker/color","vs/platform/contextkey/common/contextkeys","vs/platform/keybinding/common/keybindingResolver","vs/editor/common/services/editorWorkerServiceImpl","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/suggest/suggestWidgetDetails","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/editorNavigationQuickAccess","vs/editor/contrib/symbolIcons/symbolIcons","vs/editor/standalone/browser/standaloneCodeServiceImpl","vs/editor/contrib/colorPicker/colorDetector","vs/editor/contrib/format/format","vs/editor/contrib/gotoSymbol/goToSymbol","vs/editor/contrib/inlineCompletions/inlineCompletionsModel","vs/editor/contrib/codeAction/codeActionCommands","vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/editor/contrib/wordOperations/wordOperations","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/find/findController","vs/editor/contrib/gotoError/gotoError","vs/editor/common/services/modelServiceImpl","vs/editor/contrib/gotoSymbol/peek/referencesController","vs/editor/contrib/gotoSymbol/goToCommands","vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/editor/standalone/browser/standaloneServices","vs/editor/contrib/snippet/snippetSession","vs/editor/contrib/suggest/suggestController","vs/editor/contrib/inlineCompletions/ghostTextController","vs/editor/contrib/hover/hover","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/navigator","vs/base/common/history","vs/base/common/process","vs/base/browser/ui/list/rangeMap","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/common/comparers","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/search","vs/base/common/fuzzyScorer","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/markdownRenderer","vs/base/common/uuid","vs/base/parts/storage/common/storage","vs/base/worker/defaultWorkerFactory","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/list/listPaging","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/base/browser/ui/table/tableWidget","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/bracketMatching","vs/css!vs/editor/contrib/codeAction/lightBulbWidget","vs/css!vs/editor/contrib/codelens/codelensWidget","vs/css!vs/editor/contrib/colorPicker/colorPicker","vs/css!vs/editor/contrib/dnd/dnd","vs/css!vs/editor/contrib/find/findWidget","vs/css!vs/editor/contrib/folding/folding","vs/css!vs/editor/contrib/gotoError/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/css!vs/editor/contrib/inlineCompletions/ghostText","vs/css!vs/editor/contrib/links/links","vs/css!vs/editor/contrib/message/messageController","vs/css!vs/editor/contrib/parameterHints/parameterHints","vs/css!vs/editor/contrib/peekView/media/peekViewWidget","vs/css!vs/editor/contrib/rename/renameInputField","vs/css!vs/editor/contrib/snippet/snippetSession","vs/css!vs/editor/contrib/suggest/media/suggest","vs/css!vs/editor/contrib/zoneWidget/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/config/charWidthReader","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/diff/diffComputer","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/modes/abstractMode","vs/editor/common/modes/languageSelector","vs/editor/common/modes/linkComputer","vs/editor/common/modes/supports/characterPair","vs/editor/common/modes/supports/indentRules","vs/editor/common/modes/supports/inplaceReplaceSupport","vs/editor/common/modes/supports/onEnter","vs/editor/common/modes/supports/electricCharacter","vs/editor/common/modes/supports/tokenization","vs/editor/common/modes/tokenizationRegistry","vs/editor/common/services/semanticTokensDto","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/common/view/viewContext","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/model/mirrorTextModel","vs/editor/common/services/editorSimpleWorker","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/moveCaretCommand","vs/editor/contrib/colorPicker/colorPickerModel","vs/editor/contrib/comment/lineCommentCommand","vs/editor/contrib/dnd/dragAndDropCommand","vs/editor/contrib/find/replaceAllCommand","vs/editor/contrib/find/replacePattern","vs/editor/contrib/folding/foldingModel","vs/editor/contrib/folding/hiddenRangeModel","vs/editor/contrib/folding/intializingRangeProvider","vs/editor/contrib/hover/hoverWidgets","vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand","vs/editor/contrib/inlineCompletions/utils","vs/editor/contrib/linesOperations/copyLinesCommand","vs/editor/contrib/linesOperations/sortLinesCommand","vs/editor/contrib/smartSelect/wordSelections","vs/editor/contrib/suggest/completionModel","vs/editor/contrib/suggest/suggestCommitCharacters","vs/editor/contrib/suggest/suggestOvertypingCapturer","vs/editor/contrib/suggest/wordDistance","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputCheckboxes","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/menu/menu","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/nls!vs/base/common/actions","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/parts/quickinput/browser/quickInputBox","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/coreCommands","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/core/keybindingCancellation","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/commonEditorConfig","vs/nls!vs/editor/common/config/editorOptions","vs/editor/common/viewModel/viewModelDecorations","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/modes/modesRegistry","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/view/editorColorRegistry","vs/nls!vs/editor/contrib/anchorSelect/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/caretOperations","vs/nls!vs/editor/contrib/caretOperations/transpose","vs/nls!vs/editor/contrib/clipboard/clipboard","vs/nls!vs/editor/contrib/codeAction/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/codelensController","vs/nls!vs/editor/contrib/comment/comment","vs/nls!vs/editor/contrib/contextmenu/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/cursorUndo","vs/nls!vs/editor/contrib/find/findController","vs/nls!vs/editor/contrib/find/findWidget","vs/nls!vs/editor/contrib/folding/folding","vs/nls!vs/editor/contrib/folding/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/fontZoom","vs/nls!vs/editor/contrib/format/format","vs/nls!vs/editor/contrib/format/formatActions","vs/nls!vs/editor/contrib/gotoError/gotoError","vs/nls!vs/editor/contrib/gotoError/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/symbolNavigation","vs/nls!vs/editor/contrib/hover/hover","vs/nls!vs/editor/contrib/hover/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/indentation","vs/nls!vs/editor/contrib/inlineCompletions/ghostTextController","vs/nls!vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/nls!vs/editor/contrib/linesOperations/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/linkedEditing","vs/nls!vs/editor/contrib/links/links","vs/nls!vs/editor/contrib/message/messageController","vs/nls!vs/editor/contrib/multicursor/multicursor","vs/nls!vs/editor/contrib/parameterHints/parameterHints","vs/nls!vs/editor/contrib/parameterHints/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/peekView","vs/nls!vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/rename/rename","vs/nls!vs/editor/contrib/rename/renameInputField","vs/nls!vs/editor/contrib/smartSelect/smartSelect","vs/nls!vs/editor/contrib/snippet/snippetController2","vs/nls!vs/editor/contrib/snippet/snippetVariables","vs/nls!vs/editor/contrib/suggest/suggest","vs/nls!vs/editor/contrib/suggest/suggestController","vs/nls!vs/editor/contrib/suggest/suggestWidget","vs/nls!vs/editor/contrib/suggest/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/tokenization","vs/nls!vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/platform/clipboard/browser/clipboardService","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/instantiation/common/graph","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/model/textModelTokens","vs/editor/common/controller/cursorColumnSelection","vs/editor/common/controller/oneCursor","vs/editor/common/controller/cursorCollection","vs/editor/common/viewModel/splitLinesCollection","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/folding/indentRangeProvider","vs/editor/contrib/linesOperations/moveLinesCommand","vs/editor/contrib/zoneWidget/zoneWidget","vs/editor/standalone/browser/colorizer","vs/editor/contrib/documentSymbols/documentSymbols","vs/editor/contrib/links/getLinks","vs/editor/contrib/parameterHints/parameterHintsModel","vs/editor/contrib/suggest/suggestAlternatives","vs/editor/contrib/suggest/wordContextKey","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/resolvedKeybindingItem","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/contextview/browser/contextViewService","vs/editor/common/services/webWorker","vs/editor/contrib/gotoError/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/hover/modesGlyphHover","vs/platform/quickinput/browser/pickerQuickAccess","vs/editor/common/services/getIconClasses","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/common/services/languagesRegistry","vs/editor/common/services/modeServiceImpl","vs/platform/accessibility/common/accessibilityService","vs/platform/configuration/common/configurationModels","vs/platform/contextkey/browser/contextKeyService","vs/platform/browser/contextScopedHistoryWidget","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/editor/contrib/codelens/codeLensCache","vs/editor/contrib/suggest/suggestMemory","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/commandsQuickAccess","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/codeEditorServiceImpl","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/services/markerDecorationsServiceImpl","vs/editor/contrib/codeAction/lightBulbWidget","vs/editor/contrib/codelens/codelensWidget","vs/editor/contrib/colorPicker/colorPickerWidget","vs/editor/contrib/find/findDecorations","vs/editor/contrib/find/findOptionsWidget","vs/editor/contrib/find/findState","vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/editor/contrib/inlineCompletions/ghostTextWidget","vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/editor/contrib/rename/renameInputField","vs/editor/standalone/common/themes","vs/editor/browser/core/keybindingCancellation","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/view/viewImpl","vs/editor/contrib/anchorSelect/anchorSelect","vs/editor/contrib/bracketMatching/bracketMatching","vs/editor/contrib/caretOperations/caretOperations","vs/editor/contrib/caretOperations/transpose","vs/editor/contrib/clipboard/clipboard","vs/editor/contrib/codeAction/codeActionMenu","vs/editor/contrib/codeAction/codeActionModel","vs/editor/contrib/codelens/codelensController","vs/editor/contrib/comment/comment","vs/editor/contrib/contextmenu/contextmenu","vs/editor/contrib/cursorUndo/cursorUndo","vs/editor/contrib/dnd/dnd","vs/editor/contrib/fontZoom/fontZoom","vs/editor/contrib/format/formatActions","vs/editor/contrib/gotoSymbol/symbolNavigation","vs/editor/contrib/hover/colorHoverParticipant","vs/editor/contrib/hover/getHover","vs/editor/contrib/hover/markdownHoverParticipant","vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/editor/contrib/indentation/indentation","vs/editor/contrib/inlayHints/inlayHintsController","vs/editor/contrib/linesOperations/linesOperations","vs/editor/contrib/linkedEditing/linkedEditing","vs/editor/contrib/links/links","vs/editor/contrib/codeAction/codeActionUi","vs/editor/contrib/codeAction/codeActionContributions","vs/editor/contrib/rename/rename","vs/editor/contrib/smartSelect/smartSelect","vs/editor/contrib/tokenization/tokenization","vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/editor/contrib/wordHighlighter/wordHighlighter","vs/editor/contrib/wordPartOperations/wordPartOperations","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputServiceImpl","vs/platform/severityIcon/common/severityIcon","vs/editor/contrib/gotoError/gotoErrorWidget","vs/editor/browser/widget/diffReview","vs/editor/contrib/find/findWidget","vs/editor/contrib/folding/foldingDecorations","vs/editor/contrib/folding/folding","vs/editor/contrib/hover/markerHoverParticipant","vs/editor/contrib/multicursor/multicursor","vs/editor/contrib/parameterHints/parameterHintsWidget","vs/editor/contrib/parameterHints/parameterHints","vs/editor/contrib/suggest/suggestWidgetRenderer","vs/editor/contrib/suggest/suggestWidget","vs/platform/theme/browser/iconsStyleSheet","vs/editor/standalone/browser/standaloneThemeServiceImpl","vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/editor/contrib/viewportSemanticTokens/viewportSemanticTokens","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/platform/workspaces/common/workspaces","vs/editor/contrib/snippet/snippetVariables","vs/editor/contrib/suggest/suggestModel","vs/editor/contrib/inlineCompletions/suggestWidgetAdapterModel","vs/editor/contrib/inlineCompletions/ghostTextModel","vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant","vs/editor/contrib/hover/modesContentHover","vs/editor/contrib/colorPicker/colorContributions","vs/editor/editor.all","vs/base/common/marked/marked","vs/base/common/insane/insane","vs/editor/edcore.main"],te=function(G){for(var e=[],b=0,k=G.length;b<k;b++)e[b]=ee[G[b]];return e},kt;(function(G){var e=function(){function k(){this._pendingLoads=0}return k.prototype.attachListeners=function(T,L,S,p){var C=function(){L.removeEventListener("load",i),L.removeEventListener("error",v)},i=function(r){C(),S()},v=function(r){C(),p(r)};L.addEventListener("load",i),L.addEventListener("error",v)},k.prototype._onLoad=function(T,L){this._pendingLoads--,L()},k.prototype._onLoadError=function(T,L,S){this._pendingLoads--,L(S)},k.prototype._insertLinkNode=function(T){this._pendingLoads++;var L=document.head||document.getElementsByTagName("head")[0],S=L.getElementsByTagName("link")||L.getElementsByTagName("script");S.length>0?L.insertBefore(T,S[S.length-1]):L.appendChild(T)},k.prototype.createLinkTag=function(T,L,S,p){var C=this,i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("data-name",T);var v=function(){return C._onLoad(T,S)},r=function(a){return C._onLoadError(T,p,a)};return this.attachListeners(T,i,v,r),i.setAttribute("href",L),i},k.prototype._linkTagExists=function(T,L){var S,p,C,i,v=document.getElementsByTagName("link");for(S=0,p=v.length;S<p;S++)if(C=v[S].getAttribute("data-name"),i=v[S].getAttribute("href"),C===T||i===L)return!0;return!1},k.prototype.load=function(T,L,S,p){if(this._linkTagExists(T,L)){S();return}var C=this.createLinkTag(T,L,S,p);this._insertLinkNode(C)},k}(),b=function(){function k(){this._cssLoader=new e}return k.prototype.load=function(T,L,S,p){p=p||{};var C=p["vs/css"]||{};if(C.disabled){S({});return}var i=L.toUrl(T+".css");this._cssLoader.load(T,i,function(v){S({})},function(v){typeof S.error=="function"&&S.error("Could not find "+i+" or it was empty")})},k}();G.CSSPlugin=b,define("vs/css",new b)})(kt||(kt={}));var oi=this&&this.__spreadArrays||function(){for(var G=0,e=0,b=arguments.length;e<b;e++)G+=arguments[e].length;for(var k=Array(G),T=0,e=0;e<b;e++)for(var L=arguments[e],S=0,p=L.length;S<p;S++,T++)k[T]=L[S];return k},Tt;(function(G){var e=function(){function p(){this._detected=!1,this._isPseudo=!1}return Object.defineProperty(p.prototype,"isPseudo",{get:function(){return this._detect(),this._isPseudo},enumerable:!0,configurable:!0}),p.prototype._detect=function(){this._detected||(this._detected=!0,this._isPseudo=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0)},p}();function b(p,C,i){var v;return C.length===0?v=p:v=p.replace(/\{(\d+)\}/g,function(r,a){var l=a[0],c=C[l],u=r;return typeof c=="string"?u=c:(typeof c=="number"||typeof c=="boolean"||c===void 0||c===null)&&(u=String(c)),u}),i.isPseudo&&(v="\uFF3B"+v.replace(/[aouei]/g,"$&$&")+"\uFF3D"),v}function k(p,C){var i=p[C];return i||(i=p["*"],i)?i:null}function T(p,C,i){for(var v=[],r=3;r<arguments.length;r++)v[r-3]=arguments[r];return b(i,v,p)}function L(p,C){return function(i,v){var r=Array.prototype.slice.call(arguments,2);return b(p[i],r,C)}}var S=function(){function p(C){var i=this;this._env=C,this.localize=function(v,r){for(var a=[],l=2;l<arguments.length;l++)a[l-2]=arguments[l];return T.apply(void 0,oi([i._env,v,r],a))}}return p.prototype.setPseudoTranslation=function(C){this._env._isPseudo=C},p.prototype.create=function(C,i){return{localize:L(i[C],this._env)}},p.prototype.load=function(C,i,v,r){var a=this;if(r=r||{},!C||C.length===0)v({localize:this.localize});else{var l=r["vs/nls"]||{},c=l.availableLanguages?k(l.availableLanguages,C):null,u=".nls";c!==null&&c!==p.DEFAULT_TAG&&(u=u+"."+c);var s=function(n){Array.isArray(n)?n.localize=L(n,a._env):n.localize=L(n[C],a._env),v(n)};typeof l.loadBundle=="function"?l.loadBundle(C,c,function(n,d){n?i([C+".nls"],s):s(d)}):i([C+u],s)}},p.DEFAULT_TAG="i-default",p}();G.NLSPlugin=S,define("vs/nls",new S(new e))})(Tt||(Tt={})),define(ee[30],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class b{constructor(L){this.domNode=L,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(L){this._maxWidth!==L&&(this._maxWidth=L,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(L){this._width!==L&&(this._width=L,this.domNode.style.width=this._width+"px")}setHeight(L){this._height!==L&&(this._height=L,this.domNode.style.height=this._height+"px")}setTop(L){this._top!==L&&(this._top=L,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(L){this._left!==L&&(this._left=L,this.domNode.style.left=this._left+"px")}setBottom(L){this._bottom!==L&&(this._bottom=L,this.domNode.style.bottom=this._bottom+"px")}setRight(L){this._right!==L&&(this._right=L,this.domNode.style.right=this._right+"px")}setFontFamily(L){this._fontFamily!==L&&(this._fontFamily=L,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(L){this._fontWeight!==L&&(this._fontWeight=L,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(L){this._fontSize!==L&&(this._fontSize=L,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(L){this._fontFeatureSettings!==L&&(this._fontFeatureSettings=L,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(L){this._lineHeight!==L&&(this._lineHeight=L,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(L){this._letterSpacing!==L&&(this._letterSpacing=L,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(L){this._className!==L&&(this._className=L,this.domNode.className=this._className)}toggleClassName(L,S){this.domNode.classList.toggle(L,S),this._className=this.domNode.className}setDisplay(L){this._display!==L&&(this._display=L,this.domNode.style.display=this._display)}setPosition(L){this._position!==L&&(this._position=L,this.domNode.style.position=this._position)}setVisibility(L){this._visibility!==L&&(this._visibility=L,this.domNode.style.visibility=this._visibility)}setBackgroundColor(L){this._backgroundColor!==L&&(this._backgroundColor=L,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(L){this._layerHint!==L&&(this._layerHint=L,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(L){this._boxShadow!==L&&(this._boxShadow=L,this.domNode.style.boxShadow=L)}setContain(L){this._contain!==L&&(this._contain=L,this.domNode.style.contain=this._contain)}setAttribute(L,S){this.domNode.setAttribute(L,S)}removeAttribute(L){this.domNode.removeAttribute(L)}appendChild(L){this.domNode.appendChild(L.domNode)}removeChild(L){this.domNode.removeChild(L.domNode)}}e.FastDomNode=b;function k(T){return new b(T)}e.createFastDomNode=k}),define(ee[196],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let b=!1,k=null;function T(S){if(!S.parent||S.parent===S)return null;try{let p=S.location,C=S.parent.location;if(p.origin!=="null"&&C.origin!=="null"&&(p.protocol!==C.protocol||p.hostname!==C.hostname||p.port!==C.port))return b=!0,null}catch(p){return b=!0,null}return S.parent}class L{static getSameOriginWindowChain(){if(!k){k=[];let p=window,C;do C=T(p),C?k.push({window:p,iframeElement:p.frameElement||null}):k.push({window:p,iframeElement:null}),p=C;while(p)}return k.slice(0)}static hasDifferentOriginAncestor(){return k||this.getSameOriginWindowChain(),b}static getPositionOfChildWindowRelativeToAncestorWindow(p,C){if(!C||p===C)return{top:0,left:0};let i=0,v=0,r=this.getSameOriginWindowChain();for(const a of r){if(i+=a.window.scrollY,v+=a.window.scrollX,a.window===C||!a.iframeElement)break;let l=a.iframeElement.getBoundingClientRect();i+=l.top,v+=l.left}return{top:i,left:v}}}e.IframeUtils=L}),define(ee[283],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class b extends Error{constructor(T,L){super(`ListError [${T}] ${L}`)}}e.ListError=b}),define(ee[284],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class b{constructor(T){this.spliceables=T}splice(T,L,S){this.spliceables.forEach(p=>p.splice(T,L,S))}}e.CombinedSpliceable=b}),define(ee[197],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const b=20;class k{constructor(L,S,p,C,i,v){this._scrollbarSize=Math.round(S),this._oppositeScrollbarSize=Math.round(p),this._arrowSize=Math.round(L),this._visibleSize=C,this._scrollSize=i,this._scrollPosition=v,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new k(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(L){const S=Math.round(L);return this._visibleSize!==S?(this._visibleSize=S,this._refreshComputedValues(),!0):!1}setScrollSize(L){const S=Math.round(L);return this._scrollSize!==S?(this._scrollSize=S,this._refreshComputedValues(),!0):!1}setScrollPosition(L){const S=Math.round(L);return this._scrollPosition!==S?(this._scrollPosition=S,this._refreshComputedValues(),!0):!1}setScrollbarSize(L){this._scrollbarSize=Math.round(L)}setOppositeScrollbarSize(L){this._oppositeScrollbarSize=Math.round(L)}static _computeValues(L,S,p,C,i){const v=Math.max(0,p-L),r=Math.max(0,v-2*S),a=C>0&&C>p;if(!a)return{computedAvailableSize:Math.round(v),computedIsNeeded:a,computedSliderSize:Math.round(r),computedSliderRatio:0,computedSliderPosition:0};const l=Math.round(Math.max(b,Math.floor(p*r/C))),c=(r-l)/(C-p),u=i*c;return{computedAvailableSize:Math.round(v),computedIsNeeded:a,computedSliderSize:Math.round(l),computedSliderRatio:c,computedSliderPosition:Math.round(u)}}_refreshComputedValues(){const L=k._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=L.computedAvailableSize,this._computedIsNeeded=L.computedIsNeeded,this._computedSliderSize=L.computedSliderSize,this._computedSliderRatio=L.computedSliderRatio,this._computedSliderPosition=L.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(L){if(!this._computedIsNeeded)return 0;const S=L-this._arrowSize-this._computedSliderSize/2;return Math.round(S/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(L){if(!this._computedIsNeeded)return 0;const S=L-this._arrowSize;let p=this._scrollPosition;return S<this._computedSliderPosition?p-=this._visibleSize:p+=this._visibleSize,p}getDesiredScrollPositionFromDelta(L){if(!this._computedIsNeeded)return 0;const S=this._computedSliderPosition+L;return Math.round(S/this._computedSliderRatio)}}e.ScrollbarState=k}),define(ee[101],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var b;(function(L){L[L.Unknown=0]="Unknown",L[L.Twistie=1]="Twistie",L[L.Element=2]="Element"})(b=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class k extends Error{constructor(S,p){super(`TreeError [${S}] ${p}`)}}e.TreeError=k;class T{constructor(S){this.fn=S,this._map=new WeakMap}map(S){let p=this._map.get(S);return p||(p=this.fn(S),this._map.set(S,p)),p}}e.WeakMapper=T}),define(ee[19],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayQueue=e.splice=e.insertInto=e.asArray=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.flatten=e.firstOrDefault=e.distinctES6=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function b(g,f=0){return g[g.length-(1+f)]}e.tail=b;function k(g){if(g.length===0)throw new Error("Invalid tail call");return[g.slice(0,g.length-1),g[g.length-1]]}e.tail2=k;function T(g,f,_=(D,N)=>D===N){if(g===f)return!0;if(!g||!f||g.length!==f.length)return!1;for(let D=0,N=g.length;D<N;D++)if(!_(g[D],f[D]))return!1;return!0}e.equals=T;function L(g,f,_){let D=0,N=g.length-1;for(;D<=N;){const I=(D+N)/2|0,M=_(g[I],f);if(M<0)D=I+1;else if(M>0)N=I-1;else return I}return-(D+1)}e.binarySearch=L;function S(g,f){let _=0,D=g.length;if(D===0)return 0;for(;_<D;){const N=Math.floor((_+D)/2);f(g[N])?D=N:_=N+1}return _}e.findFirstInSorted=S;function p(g,f,_){if(g=g|0,g>=f.length)throw new TypeError("invalid index");let D=f[Math.floor(f.length*Math.random())],N=[],I=[],M=[];for(let O of f){const R=_(O,D);R<0?N.push(O):R>0?I.push(O):M.push(O)}return g<N.length?p(g,N,_):g<N.length+M.length?M[0]:p(g-(N.length+M.length),I,_)}e.quickSelect=p;function C(g,f){const _=[];let D;for(const N of g.slice(0).sort(f))!D||f(D[0],N)!==0?(D=[N],_.push(D)):D.push(N);return _}e.groupBy=C;function i(g){return g.filter(f=>!!f)}e.coalesce=i;function v(g){return!Array.isArray(g)||g.length===0}e.isFalsyOrEmpty=v;function r(g){return Array.isArray(g)&&g.length>0}e.isNonEmptyArray=r;function a(g,f){if(!f)return g.filter((D,N)=>g.indexOf(D)===N);const _=Object.create(null);return g.filter(D=>{const N=f(D);return _[N]?!1:(_[N]=!0,!0)})}e.distinct=a;function l(g){const f=new Set;return g.filter(_=>f.has(_)?!1:(f.add(_),!0))}e.distinctES6=l;function c(g,f){return g.length>0?g[0]:f}e.firstOrDefault=c;function u(g){return[].concat(...g)}e.flatten=u;function s(g,f){let _=typeof f=="number"?g:0;typeof f=="number"?_=g:(_=0,f=g);const D=[];if(_<=f)for(let N=_;N<f;N++)D.push(N);else for(let N=_;N>f;N--)D.push(N);return D}e.range=s;function n(g,f,_){const D=g.slice(0,f),N=g.slice(f);return D.concat(_,N)}e.arrayInsert=n;function d(g,f){const _=g.indexOf(f);_>-1&&(g.splice(_,1),g.unshift(f))}e.pushToStart=d;function t(g,f){const _=g.indexOf(f);_>-1&&(g.splice(_,1),g.push(f))}e.pushToEnd=t;function o(g){return Array.isArray(g)?g:[g]}e.asArray=o;function h(g,f,_){const D=y(g,f),N=g.length,I=_.length;g.length=N+I;for(let M=N-1;M>=D;M--)g[M+I]=g[M];for(let M=0;M<I;M++)g[M+D]=_[M]}e.insertInto=h;function m(g,f,_,D){const N=y(g,f),I=g.splice(N,_);return h(g,N,D),I}e.splice=m;function y(g,f){return f<0?Math.max(f+g.length,0):Math.min(f,g.length)}class w{constructor(f){this.items=f,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(f){let _=this.firstIdx;for(;_<this.items.length&&f(this.items[_]);)_++;const D=_===this.firstIdx?null:this.items.slice(this.firstIdx,_);return this.firstIdx=_,D}takeFromEndWhile(f){let _=this.lastIdx;for(;_>=0&&f(this.items[_]);)_--;const D=_===this.lastIdx?null:this.items.slice(_+1,this.lastIdx+1);return this.lastIdx=_,D}}e.ArrayQueue=w}),define(ee[198],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function b(k,T){if(!k)throw new Error(T?`Assertion failed (${T})`:"Assertion Failed")}e.ok=b}),define(ee[199],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.forEach=void 0;const b=Object.prototype.hasOwnProperty;function k(L,S){for(let p in L)if(b.call(L,p)&&S({key:p,value:L[p]},function(){delete L[p]})===!1)return}e.forEach=k;class T{constructor(){this.map=new Map}add(S,p){let C=this.map.get(S);C||(C=new Set,this.map.set(S,C)),C.add(p)}delete(S,p){const C=this.map.get(S);!C||(C.delete(p),C.size===0&&this.map.delete(S))}forEach(S,p){const C=this.map.get(S);!C||C.forEach(p)}}e.SetMap=T}),define(ee[29],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function b(p,C){const i=Math.pow(10,C);return Math.round(p*i)/i}class k{constructor(C,i,v,r=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,C))|0,this.g=Math.min(255,Math.max(0,i))|0,this.b=Math.min(255,Math.max(0,v))|0,this.a=b(Math.max(Math.min(1,r),0),3)}static equals(C,i){return C.r===i.r&&C.g===i.g&&C.b===i.b&&C.a===i.a}}e.RGBA=k;class T{constructor(C,i,v,r){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,C),0)|0,this.s=b(Math.max(Math.min(1,i),0),3),this.l=b(Math.max(Math.min(1,v),0),3),this.a=b(Math.max(Math.min(1,r),0),3)}static equals(C,i){return C.h===i.h&&C.s===i.s&&C.l===i.l&&C.a===i.a}static fromRGBA(C){const i=C.r/255,v=C.g/255,r=C.b/255,a=C.a,l=Math.max(i,v,r),c=Math.min(i,v,r);let u=0,s=0;const n=(c+l)/2,d=l-c;if(d>0){switch(s=Math.min(n<=.5?d/(2*n):d/(2-2*n),1),l){case i:u=(v-r)/d+(v<r?6:0);break;case v:u=(r-i)/d+2;break;case r:u=(i-v)/d+4;break}u*=60,u=Math.round(u)}return new T(u,s,n,a)}static _hue2rgb(C,i,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?C+(i-C)*6*v:v<1/2?i:v<2/3?C+(i-C)*(2/3-v)*6:C}static toRGBA(C){const i=C.h/360,{s:v,l:r,a}=C;let l,c,u;if(v===0)l=c=u=r;else{const s=r<.5?r*(1+v):r+v-r*v,n=2*r-s;l=T._hue2rgb(n,s,i+1/3),c=T._hue2rgb(n,s,i),u=T._hue2rgb(n,s,i-1/3)}return new k(Math.round(l*255),Math.round(c*255),Math.round(u*255),a)}}e.HSLA=T;class L{constructor(C,i,v,r){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,C),0)|0,this.s=b(Math.max(Math.min(1,i),0),3),this.v=b(Math.max(Math.min(1,v),0),3),this.a=b(Math.max(Math.min(1,r),0),3)}static equals(C,i){return C.h===i.h&&C.s===i.s&&C.v===i.v&&C.a===i.a}static fromRGBA(C){const i=C.r/255,v=C.g/255,r=C.b/255,a=Math.max(i,v,r),l=Math.min(i,v,r),c=a-l,u=a===0?0:c/a;let s;return c===0?s=0:a===i?s=((v-r)/c%6+6)%6:a===v?s=(r-i)/c+2:s=(i-v)/c+4,new L(Math.round(s*60),u,a,C.a)}static toRGBA(C){const{h:i,s:v,v:r,a}=C,l=r*v,c=l*(1-Math.abs(i/60%2-1)),u=r-l;let[s,n,d]=[0,0,0];return i<60?(s=l,n=c):i<120?(s=c,n=l):i<180?(n=l,d=c):i<240?(n=c,d=l):i<300?(s=c,d=l):i<=360&&(s=l,d=c),s=Math.round((s+u)*255),n=Math.round((n+u)*255),d=Math.round((d+u)*255),new k(s,n,d,a)}}e.HSVA=L;class S{constructor(C){if(C)if(C instanceof k)this.rgba=C;else if(C instanceof T)this._hsla=C,this.rgba=T.toRGBA(C);else if(C instanceof L)this._hsva=C,this.rgba=L.toRGBA(C);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(C){return S.Format.CSS.parseHex(C)||S.red}get hsla(){return this._hsla?this._hsla:T.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:L.fromRGBA(this.rgba)}equals(C){return!!C&&k.equals(this.rgba,C.rgba)&&T.equals(this.hsla,C.hsla)&&L.equals(this.hsva,C.hsva)}getRelativeLuminance(){const C=S._relativeLuminanceForComponent(this.rgba.r),i=S._relativeLuminanceForComponent(this.rgba.g),v=S._relativeLuminanceForComponent(this.rgba.b),r=.2126*C+.7152*i+.0722*v;return b(r,4)}static _relativeLuminanceForComponent(C){const i=C/255;return i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(C){const i=this.getRelativeLuminance(),v=C.getRelativeLuminance();return i>v}isDarkerThan(C){const i=this.getRelativeLuminance(),v=C.getRelativeLuminance();return i<v}lighten(C){return new S(new T(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*C,this.hsla.a))}darken(C){return new S(new T(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*C,this.hsla.a))}transparent(C){const{r:i,g:v,b:r,a}=this.rgba;return new S(new k(i,v,r,a*C))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new S(new k(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return""+S.Format.CSS.format(this)}static getLighterColor(C,i,v){if(C.isLighterThan(i))return C;v=v||.5;const r=C.getRelativeLuminance(),a=i.getRelativeLuminance();return v=v*(a-r)/a,C.lighten(v)}static getDarkerColor(C,i,v){if(C.isDarkerThan(i))return C;v=v||.5;const r=C.getRelativeLuminance(),a=i.getRelativeLuminance();return v=v*(r-a)/r,C.darken(v)}}e.Color=S,S.white=new S(new k(255,255,255,1)),S.black=new S(new k(0,0,0,1)),S.red=new S(new k(255,0,0,1)),S.blue=new S(new k(0,0,255,1)),S.cyan=new S(new k(0,255,255,1)),S.lightgrey=new S(new k(211,211,211,1)),S.transparent=new S(new k(0,0,0,0)),function(p){let C;(function(i){let v;(function(r){function a(m){return m.rgba.a===1?`rgb(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b})`:p.Format.CSS.formatRGBA(m)}r.formatRGB=a;function l(m){return`rgba(${m.rgba.r}, ${m.rgba.g}, ${m.rgba.b}, ${+m.rgba.a.toFixed(2)})`}r.formatRGBA=l;function c(m){return m.hsla.a===1?`hsl(${m.hsla.h}, ${(m.hsla.s*100).toFixed(2)}%, ${(m.hsla.l*100).toFixed(2)}%)`:p.Format.CSS.formatHSLA(m)}r.formatHSL=c;function u(m){return`hsla(${m.hsla.h}, ${(m.hsla.s*100).toFixed(2)}%, ${(m.hsla.l*100).toFixed(2)}%, ${m.hsla.a.toFixed(2)})`}r.formatHSLA=u;function s(m){const y=m.toString(16);return y.length!==2?"0"+y:y}function n(m){return`#${s(m.rgba.r)}${s(m.rgba.g)}${s(m.rgba.b)}`}r.formatHex=n;function d(m,y=!1){return y&&m.rgba.a===1?p.Format.CSS.formatHex(m):`#${s(m.rgba.r)}${s(m.rgba.g)}${s(m.rgba.b)}${s(Math.round(m.rgba.a*255))}`}r.formatHexA=d;function t(m){return m.isOpaque()?p.Format.CSS.formatHex(m):p.Format.CSS.formatRGBA(m)}r.format=t;function o(m){const y=m.length;if(y===0||m.charCodeAt(0)!==35)return null;if(y===7){const w=16*h(m.charCodeAt(1))+h(m.charCodeAt(2)),g=16*h(m.charCodeAt(3))+h(m.charCodeAt(4)),f=16*h(m.charCodeAt(5))+h(m.charCodeAt(6));return new p(new k(w,g,f,1))}if(y===9){const w=16*h(m.charCodeAt(1))+h(m.charCodeAt(2)),g=16*h(m.charCodeAt(3))+h(m.charCodeAt(4)),f=16*h(m.charCodeAt(5))+h(m.charCodeAt(6)),_=16*h(m.charCodeAt(7))+h(m.charCodeAt(8));return new p(new k(w,g,f,_/255))}if(y===4){const w=h(m.charCodeAt(1)),g=h(m.charCodeAt(2)),f=h(m.charCodeAt(3));return new p(new k(16*w+w,16*g+g,16*f+f))}if(y===5){const w=h(m.charCodeAt(1)),g=h(m.charCodeAt(2)),f=h(m.charCodeAt(3)),_=h(m.charCodeAt(4));return new p(new k(16*w+w,16*g+g,16*f+f,(16*_+_)/255))}return null}r.parseHex=o;function h(m){switch(m){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(v=i.CSS||(i.CSS={}))})(C=p.Format||(p.Format={}))}(S=e.Color||(e.Color={}))}),define(ee[90],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function b(k,T,L){let S=null,p=null;if(typeof L.value=="function"?(S="value",p=L.value,p.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof L.get=="function"&&(S="get",p=L.get),!p)throw new Error("not supported");const C=`$memoize$${T}`;L[S]=function(...i){return this.hasOwnProperty(C)||Object.defineProperty(this,C,{configurable:!1,enumerable:!1,writable:!1,value:p.apply(this,i)}),this[C]}}e.memoize=b}),define(ee[285],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class b{constructor(T,L,S,p){this.originalStart=T,this.originalLength=L,this.modifiedStart=S,this.modifiedLength=p}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=b}),define(ee[12],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.illegalState=e.illegalArgument=e.canceled=e.isPromiseCanceledError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class b{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(a){setTimeout(()=>{throw a.stack?new Error(a.message+`

`+a.stack):a},0)}}emit(a){this.listeners.forEach(l=>{l(a)})}onUnexpectedError(a){this.unexpectedErrorHandler(a),this.emit(a)}onUnexpectedExternalError(a){this.unexpectedErrorHandler(a)}}e.ErrorHandler=b,e.errorHandler=new b;function k(r){p(r)||e.errorHandler.onUnexpectedError(r)}e.onUnexpectedError=k;function T(r){p(r)||e.errorHandler.onUnexpectedExternalError(r)}e.onUnexpectedExternalError=T;function L(r){if(r instanceof Error){let{name:a,message:l}=r;const c=r.stacktrace||r.stack;return{$isError:!0,name:a,message:l,stack:c}}return r}e.transformErrorForSerialization=L;const S="Canceled";function p(r){return r instanceof Error&&r.name===S&&r.message===S}e.isPromiseCanceledError=p;function C(){const r=new Error(S);return r.name=r.message,r}e.canceled=C;function i(r){return r?new Error(`Illegal argument: ${r}`):new Error("Illegal argument")}e.illegalArgument=i;function v(r){return r?new Error(`Illegal state: ${r}`):new Error("Illegal state")}e.illegalState=v}),define(ee[80],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function b(k){const T=this;let L=!1,S;return function(){return L||(L=!0,S=k.apply(T,arguments)),S}}e.once=b}),define(ee[125],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class b{constructor(T){this._prefix=T,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=b,e.defaultGenerator=new b("id#")});let Mt;(function(){function G(e,b,k){function T(p,C){if(!b[p]){if(!e[p]){var i=typeof require=="function"&&require;if(!C&&i)return i(p,!0);if(L)return L(p,!0);var v=new Error("Cannot find module '"+p+"'");throw v.code="MODULE_NOT_FOUND",v}var r=b[p]={exports:{}};e[p][0].call(r.exports,function(a){var l=e[p][1][a];return T(l||a)},r,r.exports,G,e,b,k)}return b[p].exports}for(var L=typeof require=="function"&&require,S=0;S<k.length;S++)T(k[S]);return T}return G})()({1:[function(G,e,b){"use strict";var k=G("./toMap"),T=["background","base","cite","href","longdesc","src","usemap"];e.exports={uris:k(T)}},{"./toMap":10}],2:[function(G,e,b){"use strict";var k={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};e.exports=k},{}],3:[function(G,e,b){"use strict";var k=G("./toMap"),T=["area","br","col","hr","img","wbr","input","base","basefont","link","meta"];e.exports={voids:k(T)}},{"./toMap":10}],4:[function(G,e,b){"use strict";var k=G("he"),T=G("assignment"),L=G("./parser"),S=G("./sanitizer"),p=G("./defaults");function C(i,v,r){var a=[],l=r===!0?v:T({},p,v),c=S(a,l);return L(i,c),a.join("")}C.defaults=p,e.exports=C,Mt=C},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function(G,e,b){"use strict";e.exports=function(T){return typeof T=="string"?T.toLowerCase():T}},{}],6:[function(G,e,b){"use strict";function k(T){for(var L=Array.prototype.slice.call(arguments,1),S,p;L.length;){S=L.shift();for(p in S)S.hasOwnProperty(p)&&(Object.prototype.toString.call(T[p])==="[object Object]"?T[p]=k(T[p],S[p]):T[p]=S[p])}return T}e.exports=k},{}],7:[function(G,e,b){"use strict";var k=G("he"),T=G("./lowercase"),L=G("./attributes"),S=G("./elements"),p=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,C=/^<\s*\/\s*([\w:-]+)[^>]*>/,i=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,v=/^</,r=/^<\s*\//;function a(){var c=[];return c.lastItem=function(){return c[c.length-1]},c}function l(c,u){for(var s=a(),n=c,d;c;)t();g();function t(){d=!0,o();var f=c===n;n=c,f&&(c="")}function o(){c.substr(0,4)==="<!--"?m():r.test(c)?h(C,g):v.test(c)&&h(p,w),y()}function h(f,_){var D=c.match(f);D&&(c=c.substring(D[0].length),D[0].replace(f,_),d=!1)}function m(){var f=c.indexOf("-->");f>=0&&(u.comment&&u.comment(c.substring(4,f)),c=c.substring(f+3),d=!1)}function y(){if(!!d){var f,_=c.indexOf("<");_>=0?(f=c.substring(0,_),c=c.substring(_)):(f=c,c=""),u.chars&&u.chars(f)}}function w(f,_,D,N){var I={},M=T(_),O=S.voids[M]||!!N;D.replace(i,R),O||s.push(M),u.start&&u.start(M,I,O);function R(P,A,F,E,W){F===void 0&&E===void 0&&W===void 0?I[A]=void 0:I[A]=k.decode(F||E||W||"")}}function g(f,_){var D,N=0,I=T(_);if(I)for(N=s.length-1;N>=0&&s[N]!==I;N--);if(N>=0){for(D=s.length-1;D>=N;D--)u.end&&u.end(s[D]);s.length=N}}}e.exports=l},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function(G,e,b){"use strict";var k=G("he"),T=G("./lowercase"),L=G("./attributes"),S=G("./elements");function p(C,i){var v,r,a=i||{};return o(),{start:c,end:u,chars:n};function l(h){C.push(h)}function c(h,m,y){var w=T(h);if(r.ignoring){d(w);return}if((a.allowedTags||[]).indexOf(w)===-1){d(w);return}if(a.filter&&!a.filter({tag:w,attrs:m})){d(w);return}l("<"),l(w),Object.keys(m).forEach(g),l(y?"/>":">");function g(f){var _=m[f],D=(a.allowedClasses||{})[w]||[],N=(a.allowedAttributes||{})[w]||[];N=N.concat((a.allowedAttributes||{})["*"]||[]);var I,M=T(f);M==="class"&&N.indexOf(M)===-1?(_=_.split(" ").filter(O).join(" ").trim(),I=_.length):I=N.indexOf(M)!==-1&&(L.uris[M]!==!0||s(_)),I&&(l(" "),l(f),typeof _=="string"&&(l('="'),l(k.encode(_)),l('"')));function O(R){return D&&D.indexOf(R)!==-1}}}function u(h){var m=T(h),y=(a.allowedTags||[]).indexOf(m)!==-1;y&&r.ignoring===!1?(l("</"),l(m),l(">")):t(m)}function s(h){var m=h[0];if(m==="#"||m==="/")return!0;var y=h.indexOf(":");if(y===-1)return!0;var w=h.indexOf("?");if(w!==-1&&y>w)return!0;var g=h.indexOf("#");if(g!==-1&&y>g)return!0;return a.allowedSchemes.some(f);function f(_){return h.indexOf(_+":")===0}}function n(h){r.ignoring===!1&&l(a.transformText?a.transformText(h):h)}function d(h){S.voids[h]||(r.ignoring===!1?r={ignoring:h,depth:1}:r.ignoring===h&&r.depth++)}function t(h){r.ignoring===h&&--r.depth<=0&&o()}function o(){r={ignoring:!1,depth:0}}}e.exports=p},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function(G,e,b){"use strict";var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},T={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},L=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,S=/[&<>"']/g;function p(r){return k[r]}function C(r){return T[r]}function i(r){return r==null?"":String(r).replace(S,p)}function v(r){return r==null?"":String(r).replace(L,C)}i.options=v.options={},e.exports={encode:i,escape:i,decode:v,unescape:v,version:"1.0.0-browser"}},{}],10:[function(G,e,b){"use strict";function k(L){return L.reduce(T,{})}function T(L,S){return L[S]=!0,L}e.exports=k},{}]},{},[4]),define("vs/base/common/insane/insane",function(){return{insane:Mt}}),define(ee[54],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var b;(function(k){function T(h){return h&&typeof h=="object"&&typeof h[Symbol.iterator]=="function"}k.is=T;const L=Object.freeze([]);function S(){return L}k.empty=S;function*p(h){yield h}k.single=p;function C(h){return h||L}k.from=C;function i(h){return!h||h[Symbol.iterator]().next().done===!0}k.isEmpty=i;function v(h){return h[Symbol.iterator]().next().value}k.first=v;function r(h,m){for(const y of h)if(m(y))return!0;return!1}k.some=r;function a(h,m){for(const y of h)if(m(y))return y}k.find=a;function*l(h,m){for(const y of h)m(y)&&(yield y)}k.filter=l;function*c(h,m){let y=0;for(const w of h)yield m(w,y++)}k.map=c;function*u(...h){for(const m of h)for(const y of m)yield y}k.concat=u;function*s(h){for(const m of h)for(const y of m)yield y}k.concatNested=s;function n(h,m,y){let w=y;for(const g of h)w=m(w,g);return w}k.reduce=n;function*d(h,m,y=h.length){for(m<0&&(m+=h.length),y<0?y+=h.length:y>h.length&&(y=h.length);m<y;m++)yield h[m]}k.slice=d;function t(h,m=Number.POSITIVE_INFINITY){const y=[];if(m===0)return[y,h];const w=h[Symbol.iterator]();for(let g=0;g<m;g++){const f=w.next();if(f.done)return[y,k.empty()];y.push(f.value)}return[y,{[Symbol.iterator](){return w}}]}k.consume=t;function o(h,m,y=(w,g)=>w===g){const w=h[Symbol.iterator](),g=m[Symbol.iterator]();for(;;){const f=w.next(),_=g.next();if(f.done!==_.done)return!1;if(f.done)return!0;if(!y(f.value,_.value))return!1}}k.equals=o})(b=e.Iterable||(e.Iterable={}))}),define(ee[41],te([0,1,12]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=e.KeyChord=e.KeyCodeUtils=void 0;class k{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(s,n){this._keyCodeToStr[s]=n,this._strToKeyCode[n.toLowerCase()]=s}keyCodeToStr(s){return this._keyCodeToStr[s]}strToKeyCode(s){return this._strToKeyCode[s.toLowerCase()]||0}}const T=new k,L=new k,S=new k;(function(){function u(s,n,d=n,t=d){T.define(s,n),L.define(s,d),S.define(s,t)}u(0,"unknown"),u(1,"Backspace"),u(2,"Tab"),u(3,"Enter"),u(4,"Shift"),u(5,"Ctrl"),u(6,"Alt"),u(7,"PauseBreak"),u(8,"CapsLock"),u(9,"Escape"),u(10,"Space"),u(11,"PageUp"),u(12,"PageDown"),u(13,"End"),u(14,"Home"),u(15,"LeftArrow","Left"),u(16,"UpArrow","Up"),u(17,"RightArrow","Right"),u(18,"DownArrow","Down"),u(19,"Insert"),u(20,"Delete"),u(21,"0"),u(22,"1"),u(23,"2"),u(24,"3"),u(25,"4"),u(26,"5"),u(27,"6"),u(28,"7"),u(29,"8"),u(30,"9"),u(31,"A"),u(32,"B"),u(33,"C"),u(34,"D"),u(35,"E"),u(36,"F"),u(37,"G"),u(38,"H"),u(39,"I"),u(40,"J"),u(41,"K"),u(42,"L"),u(43,"M"),u(44,"N"),u(45,"O"),u(46,"P"),u(47,"Q"),u(48,"R"),u(49,"S"),u(50,"T"),u(51,"U"),u(52,"V"),u(53,"W"),u(54,"X"),u(55,"Y"),u(56,"Z"),u(57,"Meta"),u(58,"ContextMenu"),u(59,"F1"),u(60,"F2"),u(61,"F3"),u(62,"F4"),u(63,"F5"),u(64,"F6"),u(65,"F7"),u(66,"F8"),u(67,"F9"),u(68,"F10"),u(69,"F11"),u(70,"F12"),u(71,"F13"),u(72,"F14"),u(73,"F15"),u(74,"F16"),u(75,"F17"),u(76,"F18"),u(77,"F19"),u(78,"NumLock"),u(79,"ScrollLock"),u(80,";",";","OEM_1"),u(81,"=","=","OEM_PLUS"),u(82,",",",","OEM_COMMA"),u(83,"-","-","OEM_MINUS"),u(84,".",".","OEM_PERIOD"),u(85,"/","/","OEM_2"),u(86,"`","`","OEM_3"),u(110,"ABNT_C1"),u(111,"ABNT_C2"),u(87,"[","[","OEM_4"),u(88,"\\","\\","OEM_5"),u(89,"]","]","OEM_6"),u(90,"'","'","OEM_7"),u(91,"OEM_8"),u(92,"OEM_102"),u(93,"NumPad0"),u(94,"NumPad1"),u(95,"NumPad2"),u(96,"NumPad3"),u(97,"NumPad4"),u(98,"NumPad5"),u(99,"NumPad6"),u(100,"NumPad7"),u(101,"NumPad8"),u(102,"NumPad9"),u(103,"NumPad_Multiply"),u(104,"NumPad_Add"),u(105,"NumPad_Separator"),u(106,"NumPad_Subtract"),u(107,"NumPad_Decimal"),u(108,"NumPad_Divide")})();var p;(function(u){function s(h){return T.keyCodeToStr(h)}u.toString=s;function n(h){return T.strToKeyCode(h)}u.fromString=n;function d(h){return L.keyCodeToStr(h)}u.toUserSettingsUS=d;function t(h){return S.keyCodeToStr(h)}u.toUserSettingsGeneral=t;function o(h){return L.strToKeyCode(h)||S.strToKeyCode(h)}u.fromUserSettings=o})(p=e.KeyCodeUtils||(e.KeyCodeUtils={}));function C(u,s){const n=(s&65535)<<16>>>0;return(u|n)>>>0}e.KeyChord=C;function i(u,s){if(u===0)return null;const n=(u&65535)>>>0,d=(u&4294901760)>>>16;return d!==0?new a([v(n,s),v(d,s)]):new a([v(n,s)])}e.createKeybinding=i;function v(u,s){const n=!!(u&2048),d=!!(u&256),t=s===2?d:n,o=!!(u&1024),h=!!(u&512),m=s===2?n:d,y=u&255;return new r(t,o,h,m,y)}e.createSimpleKeybinding=v;class r{constructor(s,n,d,t,o){this.ctrlKey=s,this.shiftKey=n,this.altKey=d,this.metaKey=t,this.keyCode=o}equals(s){return this.ctrlKey===s.ctrlKey&&this.shiftKey===s.shiftKey&&this.altKey===s.altKey&&this.metaKey===s.metaKey&&this.keyCode===s.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new a([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=r;class a{constructor(s){if(s.length===0)throw(0,b.illegalArgument)("parts");this.parts=s}}e.ChordKeybinding=a;class l{constructor(s,n,d,t,o,h){this.ctrlKey=s,this.shiftKey=n,this.altKey=d,this.metaKey=t,this.keyLabel=o,this.keyAriaLabel=h}}e.ResolvedKeybindingPart=l;class c{}e.ResolvedKeybinding=c}),define(ee[155],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class b{constructor(T){this.executor=T,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(T){this._error=T}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=b}),define(ee[2],te([0,1,80,54]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.markAsSingleton=e.setDisposableTracker=void 0;const T=!1;let L=null;function S(h){L=h}if(e.setDisposableTracker=S,T){const h="__is_disposable_tracked__";S(new class{trackDisposable(m){const y=new Error("Potentially leaked disposable").stack;setTimeout(()=>{m[h]||console.log(y)},3e3)}setParent(m,y){if(m&&m!==d.None)try{m[h]=!0}catch(w){}}markAsDisposed(m){if(m&&m!==d.None)try{m[h]=!0}catch(y){}}markAsSingleton(m){}})}function p(h){return L==null||L.trackDisposable(h),h}function C(h){L==null||L.markAsDisposed(h)}function i(h,m){L==null||L.setParent(h,m)}function v(h,m){if(!!L)for(const y of h)L.setParent(y,m)}function r(h){return L==null||L.markAsSingleton(h),h}e.markAsSingleton=r;class a extends Error{constructor(m){super(`Encountered errors while disposing of store. Errors: [${m.join(", ")}]`);this.errors=m}}e.MultiDisposeError=a;function l(h){return typeof h.dispose=="function"&&h.dispose.length===0}e.isDisposable=l;function c(h){if(k.Iterable.is(h)){let m=[];for(const y of h)if(y)try{y.dispose()}catch(w){m.push(w)}if(m.length===1)throw m[0];if(m.length>1)throw new a(m);return Array.isArray(h)?[]:h}else if(h)return h.dispose(),h}e.dispose=c;function u(...h){const m=s(()=>c(h));return v(h,m),m}e.combinedDisposable=u;function s(h){const m=p({dispose:(0,b.once)(()=>{C(m),h()})});return m}e.toDisposable=s;class n{constructor(){this._toDispose=new Set,this._isDisposed=!1,p(this)}dispose(){this._isDisposed||(C(this),this._isDisposed=!0,this.clear())}clear(){try{c(this._toDispose.values())}finally{this._toDispose.clear()}}add(m){if(!m)return m;if(m===this)throw new Error("Cannot register a disposable on itself!");return i(m,this),this._isDisposed?n.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(m),m}}e.DisposableStore=n,n.DISABLE_DISPOSED_WARNING=!1;class d{constructor(){this._store=new n,p(this),i(this._store,this)}dispose(){C(this),this._store.dispose()}_register(m){if(m===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(m)}}e.Disposable=d,d.None=Object.freeze({dispose(){}});class t{constructor(){this._isDisposed=!1,p(this)}get value(){return this._isDisposed?void 0:this._value}set value(m){var y;this._isDisposed||m===this._value||((y=this._value)===null||y===void 0||y.dispose(),m&&i(m,this),this._value=m)}clear(){this.value=void 0}dispose(){var m;this._isDisposed=!0,C(this),(m=this._value)===null||m===void 0||m.dispose(),this._value=void 0}clearAndLeak(){const m=this._value;return this._value=void 0,m&&i(m,null),m}}e.MutableDisposable=t;class o{constructor(m){this.object=m}dispose(){}}e.ImmortalReference=o}),define(ee[72],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class b{constructor(L){this.element=L,this.next=b.Undefined,this.prev=b.Undefined}}b.Undefined=new b(void 0);class k{constructor(){this._first=b.Undefined,this._last=b.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===b.Undefined}clear(){let L=this._first;for(;L!==b.Undefined;){const S=L.next;L.prev=b.Undefined,L.next=b.Undefined,L=S}this._first=b.Undefined,this._last=b.Undefined,this._size=0}unshift(L){return this._insert(L,!1)}push(L){return this._insert(L,!0)}_insert(L,S){const p=new b(L);if(this._first===b.Undefined)this._first=p,this._last=p;else if(S){const i=this._last;this._last=p,p.prev=i,i.next=p}else{const i=this._first;this._first=p,p.next=i,i.prev=p}this._size+=1;let C=!1;return()=>{C||(C=!0,this._remove(p))}}shift(){if(this._first!==b.Undefined){const L=this._first.element;return this._remove(this._first),L}}pop(){if(this._last!==b.Undefined){const L=this._last.element;return this._remove(this._last),L}}_remove(L){if(L.prev!==b.Undefined&&L.next!==b.Undefined){const S=L.prev;S.next=L.next,L.next.prev=S}else L.prev===b.Undefined&&L.next===b.Undefined?(this._first=b.Undefined,this._last=b.Undefined):L.next===b.Undefined?(this._last=this._last.prev,this._last.next=b.Undefined):L.prev===b.Undefined&&(this._first=this._first.next,this._first.prev=b.Undefined);this._size-=1}*[Symbol.iterator](){let L=this._first;for(;L!==b.Undefined;)yield L.element,L=L.next}}e.LinkedList=k}),function(G,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e():typeof define=="function"&&define.amd?define("vs/base/common/marked/marked",e):(G=typeof globalThis!="undefined"?globalThis:G||self,G.marked=e())}(this,function(){"use strict";function G(Se,we){for(var ye=0;ye<we.length;ye++){var me=we[ye];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(Se,me.key,me)}}function e(Se,we,ye){return we&&G(Se.prototype,we),ye&&G(Se,ye),Se}function b(Se,we){if(!!Se){if(typeof Se=="string")return k(Se,we);var ye=Object.prototype.toString.call(Se).slice(8,-1);if(ye==="Object"&&Se.constructor&&(ye=Se.constructor.name),ye==="Map"||ye==="Set")return Array.from(Se);if(ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ye))return k(Se,we)}}function k(Se,we){(we==null||we>Se.length)&&(we=Se.length);for(var ye=0,me=new Array(we);ye<we;ye++)me[ye]=Se[ye];return me}function T(Se,we){var ye;if(typeof Symbol=="undefined"||Se[Symbol.iterator]==null){if(Array.isArray(Se)||(ye=b(Se))||we&&Se&&typeof Se.length=="number"){ye&&(Se=ye);var me=0;return function(){return me>=Se.length?{done:!0}:{done:!1,value:Se[me++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return ye=Se[Symbol.iterator](),ye.next.bind(ye)}function L(Se){var we={exports:{}};return Se(we,we.exports),we.exports}var S=L(function(Se){function we(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function ye(me){Se.exports.defaults=me}Se.exports={defaults:we(),getDefaults:we,changeDefaults:ye}}),p=/[&<>"']/,C=/[&<>"']/g,i=/[<>"']|&(?!#?\w+;)/,v=/[<>"']|&(?!#?\w+;)/g,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},a=function(we){return r[we]};function l(Se,we){if(we){if(p.test(Se))return Se.replace(C,a)}else if(i.test(Se))return Se.replace(v,a);return Se}var c=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function u(Se){return Se.replace(c,function(we,ye){return ye=ye.toLowerCase(),ye==="colon"?":":ye.charAt(0)==="#"?ye.charAt(1)==="x"?String.fromCharCode(parseInt(ye.substring(2),16)):String.fromCharCode(+ye.substring(1)):""})}var s=/(^|[^\[])\^/g;function n(Se,we){Se=Se.source||Se,we=we||"";var ye={replace:function(ve,ge){return ge=ge.source||ge,ge=ge.replace(s,"$1"),Se=Se.replace(ve,ge),ye},getRegex:function(){return new RegExp(Se,we)}};return ye}var d=/[^\w:]/g,t=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function o(Se,we,ye){if(Se){var me;try{me=decodeURIComponent(u(ye)).replace(d,"").toLowerCase()}catch(ve){return null}if(me.indexOf("javascript:")===0||me.indexOf("vbscript:")===0||me.indexOf("data:")===0)return null}we&&!t.test(ye)&&(ye=g(we,ye));try{ye=encodeURI(ye).replace(/%25/g,"%")}catch(ve){return null}return ye}var h={},m=/^[^:]+:\/*[^/]*$/,y=/^([^:]+:)[\s\S]*$/,w=/^([^:]+:\/*[^/]*)[\s\S]*$/;function g(Se,we){h[" "+Se]||(m.test(Se)?h[" "+Se]=Se+"/":h[" "+Se]=N(Se,"/",!0)),Se=h[" "+Se];var ye=Se.indexOf(":")===-1;return we.substring(0,2)==="//"?ye?we:Se.replace(y,"$1")+we:we.charAt(0)==="/"?ye?we:Se.replace(w,"$1")+we:Se+we}var f={exec:function(){}};function _(Se){for(var we=1,ye,me;we<arguments.length;we++){ye=arguments[we];for(me in ye)Object.prototype.hasOwnProperty.call(ye,me)&&(Se[me]=ye[me])}return Se}function D(Se,we){var ye=Se.replace(/\|/g,function(ge,fe,_e){for(var ke=!1,Ne=fe;--Ne>=0&&_e[Ne]==="\\";)ke=!ke;return ke?"|":" |"}),me=ye.split(/ \|/),ve=0;if(me.length>we)me.splice(we);else for(;me.length<we;)me.push("");for(;ve<me.length;ve++)me[ve]=me[ve].trim().replace(/\\\|/g,"|");return me}function N(Se,we,ye){var me=Se.length;if(me===0)return"";for(var ve=0;ve<me;){var ge=Se.charAt(me-ve-1);if(ge===we&&!ye)ve++;else if(ge!==we&&ye)ve++;else break}return Se.substr(0,me-ve)}function I(Se,we){if(Se.indexOf(we[1])===-1)return-1;for(var ye=Se.length,me=0,ve=0;ve<ye;ve++)if(Se[ve]==="\\")ve++;else if(Se[ve]===we[0])me++;else if(Se[ve]===we[1]&&(me--,me<0))return ve;return-1}function M(Se){Se&&Se.sanitize&&!Se.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function O(Se,we){if(we<1)return"";for(var ye="";we>1;)we&1&&(ye+=Se),we>>=1,Se+=Se;return ye+Se}var R={escape:l,unescape:u,edit:n,cleanUrl:o,resolveUrl:g,noopTest:f,merge:_,splitCells:D,rtrim:N,findClosingBracket:I,checkSanitizeDeprecation:M,repeatString:O},P=S.defaults,A=R.rtrim,F=R.splitCells,E=R.escape,W=R.findClosingBracket;function V(Se,we,ye){var me=we.href,ve=we.title?E(we.title):null,ge=Se[1].replace(/\\([\[\]])/g,"$1");return Se[0].charAt(0)!=="!"?{type:"link",raw:ye,href:me,title:ve,text:ge}:{type:"image",raw:ye,href:me,title:ve,text:E(ge)}}function $(Se,we){var ye=Se.match(/^(\s+)(?:```)/);if(ye===null)return we;var me=ye[1];return we.split(`
`).map(function(ve){var ge=ve.match(/^\s+/);if(ge===null)return ve;var fe=ge[0];return fe.length>=me.length?ve.slice(me.length):ve}).join(`
`)}var Z=function(){function Se(ye){this.options=ye||P}var we=Se.prototype;return we.space=function(me){var ve=this.rules.block.newline.exec(me);if(ve)return ve[0].length>1?{type:"space",raw:ve[0]}:{raw:`
`}},we.code=function(me){var ve=this.rules.block.code.exec(me);if(ve){var ge=ve[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ve[0],codeBlockStyle:"indented",text:this.options.pedantic?ge:A(ge,`
`)}}},we.fences=function(me){var ve=this.rules.block.fences.exec(me);if(ve){var ge=ve[0],fe=$(ge,ve[3]||"");return{type:"code",raw:ge,lang:ve[2]?ve[2].trim():ve[2],text:fe}}},we.heading=function(me){var ve=this.rules.block.heading.exec(me);if(ve){var ge=ve[2].trim();if(/#$/.test(ge)){var fe=A(ge,"#");(this.options.pedantic||!fe||/ $/.test(fe))&&(ge=fe.trim())}return{type:"heading",raw:ve[0],depth:ve[1].length,text:ge}}},we.nptable=function(me){var ve=this.rules.block.nptable.exec(me);if(ve){var ge={type:"table",header:F(ve[1].replace(/^ *| *\| *$/g,"")),align:ve[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:ve[3]?ve[3].replace(/\n$/,"").split(`
`):[],raw:ve[0]};if(ge.header.length===ge.align.length){var fe=ge.align.length,_e;for(_e=0;_e<fe;_e++)/^ *-+: *$/.test(ge.align[_e])?ge.align[_e]="right":/^ *:-+: *$/.test(ge.align[_e])?ge.align[_e]="center":/^ *:-+ *$/.test(ge.align[_e])?ge.align[_e]="left":ge.align[_e]=null;for(fe=ge.cells.length,_e=0;_e<fe;_e++)ge.cells[_e]=F(ge.cells[_e],ge.header.length);return ge}}},we.hr=function(me){var ve=this.rules.block.hr.exec(me);if(ve)return{type:"hr",raw:ve[0]}},we.blockquote=function(me){var ve=this.rules.block.blockquote.exec(me);if(ve){var ge=ve[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:ve[0],text:ge}}},we.list=function(me){var ve=this.rules.block.list.exec(me);if(ve){var ge=ve[0],fe=ve[2],_e=fe.length>1,ke={type:"list",raw:ge,ordered:_e,start:_e?+fe.slice(0,-1):"",loose:!1,items:[]},Ne=ve[0].match(this.rules.block.item),Ae=!1,Oe,Fe,Pe,xe,Be,ze,Ke,We,He=Ne.length;Pe=this.rules.block.listItemStart.exec(Ne[0]);for(var Ve=0;Ve<He;Ve++){if(Oe=Ne[Ve],ge=Oe,Ve!==He-1){if(xe=this.rules.block.listItemStart.exec(Ne[Ve+1]),this.options.pedantic?xe[1].length>Pe[1].length:xe[1].length>Pe[0].length||xe[1].length>3){Ne.splice(Ve,2,Ne[Ve]+`
`+Ne[Ve+1]),Ve--,He--;continue}else(!this.options.pedantic||this.options.smartLists?xe[2][xe[2].length-1]!==fe[fe.length-1]:_e===(xe[2].length===1))&&(Be=Ne.slice(Ve+1).join(`
`),ke.raw=ke.raw.substring(0,ke.raw.length-Be.length),Ve=He-1);Pe=xe}Fe=Oe.length,Oe=Oe.replace(/^ *([*+-]|\d+[.)]) ?/,""),~Oe.indexOf(`
 `)&&(Fe-=Oe.length,Oe=this.options.pedantic?Oe.replace(/^ {1,4}/gm,""):Oe.replace(new RegExp("^ {1,"+Fe+"}","gm"),"")),ze=Ae||/\n\n(?!\s*$)/.test(Oe),Ve!==He-1&&(Ae=Oe.charAt(Oe.length-1)===`
`,ze||(ze=Ae)),ze&&(ke.loose=!0),this.options.gfm&&(Ke=/^\[[ xX]\] /.test(Oe),We=void 0,Ke&&(We=Oe[1]!==" ",Oe=Oe.replace(/^\[[ xX]\] +/,""))),ke.items.push({type:"list_item",raw:ge,task:Ke,checked:We,loose:ze,text:Oe})}return ke}},we.html=function(me){var ve=this.rules.block.html.exec(me);if(ve)return{type:this.options.sanitize?"paragraph":"html",raw:ve[0],pre:!this.options.sanitizer&&(ve[1]==="pre"||ve[1]==="script"||ve[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ve[0]):E(ve[0]):ve[0]}},we.def=function(me){var ve=this.rules.block.def.exec(me);if(ve){ve[3]&&(ve[3]=ve[3].substring(1,ve[3].length-1));var ge=ve[1].toLowerCase().replace(/\s+/g," ");return{tag:ge,raw:ve[0],href:ve[2],title:ve[3]}}},we.table=function(me){var ve=this.rules.block.table.exec(me);if(ve){var ge={type:"table",header:F(ve[1].replace(/^ *| *\| *$/g,"")),align:ve[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:ve[3]?ve[3].replace(/\n$/,"").split(`
`):[]};if(ge.header.length===ge.align.length){ge.raw=ve[0];var fe=ge.align.length,_e;for(_e=0;_e<fe;_e++)/^ *-+: *$/.test(ge.align[_e])?ge.align[_e]="right":/^ *:-+: *$/.test(ge.align[_e])?ge.align[_e]="center":/^ *:-+ *$/.test(ge.align[_e])?ge.align[_e]="left":ge.align[_e]=null;for(fe=ge.cells.length,_e=0;_e<fe;_e++)ge.cells[_e]=F(ge.cells[_e].replace(/^ *\| *| *\| *$/g,""),ge.header.length);return ge}}},we.lheading=function(me){var ve=this.rules.block.lheading.exec(me);if(ve)return{type:"heading",raw:ve[0],depth:ve[2].charAt(0)==="="?1:2,text:ve[1]}},we.paragraph=function(me){var ve=this.rules.block.paragraph.exec(me);if(ve)return{type:"paragraph",raw:ve[0],text:ve[1].charAt(ve[1].length-1)===`
`?ve[1].slice(0,-1):ve[1]}},we.text=function(me){var ve=this.rules.block.text.exec(me);if(ve)return{type:"text",raw:ve[0],text:ve[0]}},we.escape=function(me){var ve=this.rules.inline.escape.exec(me);if(ve)return{type:"escape",raw:ve[0],text:E(ve[1])}},we.tag=function(me,ve,ge){var fe=this.rules.inline.tag.exec(me);if(fe)return!ve&&/^<a /i.test(fe[0])?ve=!0:ve&&/^<\/a>/i.test(fe[0])&&(ve=!1),!ge&&/^<(pre|code|kbd|script)(\s|>)/i.test(fe[0])?ge=!0:ge&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(fe[0])&&(ge=!1),{type:this.options.sanitize?"text":"html",raw:fe[0],inLink:ve,inRawBlock:ge,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(fe[0]):E(fe[0]):fe[0]}},we.link=function(me){var ve=this.rules.inline.link.exec(me);if(ve){var ge=ve[2].trim();if(!this.options.pedantic&&/^</.test(ge)){if(!/>$/.test(ge))return;var fe=A(ge.slice(0,-1),"\\");if((ge.length-fe.length)%2==0)return}else{var _e=W(ve[2],"()");if(_e>-1){var ke=ve[0].indexOf("!")===0?5:4,Ne=ke+ve[1].length+_e;ve[2]=ve[2].substring(0,_e),ve[0]=ve[0].substring(0,Ne).trim(),ve[3]=""}}var Ae=ve[2],Oe="";if(this.options.pedantic){var Fe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ae);Fe&&(Ae=Fe[1],Oe=Fe[3])}else Oe=ve[3]?ve[3].slice(1,-1):"";return Ae=Ae.trim(),/^</.test(Ae)&&(this.options.pedantic&&!/>$/.test(ge)?Ae=Ae.slice(1):Ae=Ae.slice(1,-1)),V(ve,{href:Ae&&Ae.replace(this.rules.inline._escapes,"$1"),title:Oe&&Oe.replace(this.rules.inline._escapes,"$1")},ve[0])}},we.reflink=function(me,ve){var ge;if((ge=this.rules.inline.reflink.exec(me))||(ge=this.rules.inline.nolink.exec(me))){var fe=(ge[2]||ge[1]).replace(/\s+/g," ");if(fe=ve[fe.toLowerCase()],!fe||!fe.href){var _e=ge[0].charAt(0);return{type:"text",raw:_e,text:_e}}return V(ge,fe,ge[0])}},we.emStrong=function(me,ve,ge){ge===void 0&&(ge="");var fe=this.rules.inline.emStrong.lDelim.exec(me);if(!!fe&&!(fe[3]&&ge.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var _e=fe[1]||fe[2]||"";if(!_e||_e&&(ge===""||this.rules.inline.punctuation.exec(ge))){var ke=fe[0].length-1,Ne,Ae,Oe=ke,Fe=0,Pe=fe[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Pe.lastIndex=0,ve=ve.slice(-1*me.length+ke);(fe=Pe.exec(ve))!=null;)if(Ne=fe[1]||fe[2]||fe[3]||fe[4]||fe[5]||fe[6],!!Ne){if(Ae=Ne.length,fe[3]||fe[4]){Oe+=Ae;continue}else if((fe[5]||fe[6])&&ke%3&&!((ke+Ae)%3)){Fe+=Ae;continue}if(Oe-=Ae,!(Oe>0)){if(Oe+Fe-Ae<=0&&!ve.slice(Pe.lastIndex).match(Pe)&&(Ae=Math.min(Ae,Ae+Oe+Fe)),Math.min(ke,Ae)%2)return{type:"em",raw:me.slice(0,ke+fe.index+Ae+1),text:me.slice(1,ke+fe.index+Ae)};if(Math.min(ke,Ae)%2==0)return{type:"strong",raw:me.slice(0,ke+fe.index+Ae+1),text:me.slice(2,ke+fe.index+Ae-1)}}}}}},we.codespan=function(me){var ve=this.rules.inline.code.exec(me);if(ve){var ge=ve[2].replace(/\n/g," "),fe=/[^ ]/.test(ge),_e=/^ /.test(ge)&&/ $/.test(ge);return fe&&_e&&(ge=ge.substring(1,ge.length-1)),ge=E(ge,!0),{type:"codespan",raw:ve[0],text:ge}}},we.br=function(me){var ve=this.rules.inline.br.exec(me);if(ve)return{type:"br",raw:ve[0]}},we.del=function(me){var ve=this.rules.inline.del.exec(me);if(ve)return{type:"del",raw:ve[0],text:ve[2]}},we.autolink=function(me,ve){var ge=this.rules.inline.autolink.exec(me);if(ge){var fe,_e;return ge[2]==="@"?(fe=E(this.options.mangle?ve(ge[1]):ge[1]),_e="mailto:"+fe):(fe=E(ge[1]),_e=fe),{type:"link",raw:ge[0],text:fe,href:_e,tokens:[{type:"text",raw:fe,text:fe}]}}},we.url=function(me,ve){var ge;if(ge=this.rules.inline.url.exec(me)){var fe,_e;if(ge[2]==="@")fe=E(this.options.mangle?ve(ge[0]):ge[0]),_e="mailto:"+fe;else{var ke;do ke=ge[0],ge[0]=this.rules.inline._backpedal.exec(ge[0])[0];while(ke!==ge[0]);fe=E(ge[0]),ge[1]==="www."?_e="http://"+fe:_e=fe}return{type:"link",raw:ge[0],text:fe,href:_e,tokens:[{type:"text",raw:fe,text:fe}]}}},we.inlineText=function(me,ve,ge){var fe=this.rules.inline.text.exec(me);if(fe){var _e;return ve?_e=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(fe[0]):E(fe[0]):fe[0]:_e=E(this.options.smartypants?ge(fe[0]):fe[0]),{type:"text",raw:fe[0],text:_e}}},Se}(),X=R.noopTest,J=R.edit,ie=R.merge,de={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:X,table:X,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};de._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,de._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,de.def=J(de.def).replace("label",de._label).replace("title",de._title).getRegex(),de.bullet=/(?:[*+-]|\d{1,9}[.)])/,de.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,de.item=J(de.item,"gm").replace(/bull/g,de.bullet).getRegex(),de.listItemStart=J(/^( *)(bull)/).replace("bull",de.bullet).getRegex(),de.list=J(de.list).replace(/bull/g,de.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+de.def.source+")").getRegex(),de._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",de._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,de.html=J(de.html,"i").replace("comment",de._comment).replace("tag",de._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),de.paragraph=J(de._paragraph).replace("hr",de.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",de._tag).getRegex(),de.blockquote=J(de.blockquote).replace("paragraph",de.paragraph).getRegex(),de.normal=ie({},de),de.gfm=ie({},de.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),de.gfm.nptable=J(de.gfm.nptable).replace("hr",de.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",de._tag).getRegex(),de.gfm.table=J(de.gfm.table).replace("hr",de.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",de._tag).getRegex(),de.pedantic=ie({},de.normal,{html:J(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",de._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:X,paragraph:J(de.normal._paragraph).replace("hr",de.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",de.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ue={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:X,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:X,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};ue._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ue.punctuation=J(ue.punctuation).replace(/punctuation/g,ue._punctuation).getRegex(),ue.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ue.escapedEmSt=/\\\*|\\_/g,ue._comment=J(de._comment).replace("(?:-->|$)","-->").getRegex(),ue.emStrong.lDelim=J(ue.emStrong.lDelim).replace(/punct/g,ue._punctuation).getRegex(),ue.emStrong.rDelimAst=J(ue.emStrong.rDelimAst,"g").replace(/punct/g,ue._punctuation).getRegex(),ue.emStrong.rDelimUnd=J(ue.emStrong.rDelimUnd,"g").replace(/punct/g,ue._punctuation).getRegex(),ue._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ue._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ue._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ue.autolink=J(ue.autolink).replace("scheme",ue._scheme).replace("email",ue._email).getRegex(),ue._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ue.tag=J(ue.tag).replace("comment",ue._comment).replace("attribute",ue._attribute).getRegex(),ue._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ue._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ue._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ue.link=J(ue.link).replace("label",ue._label).replace("href",ue._href).replace("title",ue._title).getRegex(),ue.reflink=J(ue.reflink).replace("label",ue._label).getRegex(),ue.reflinkSearch=J(ue.reflinkSearch,"g").replace("reflink",ue.reflink).replace("nolink",ue.nolink).getRegex(),ue.normal=ie({},ue),ue.pedantic=ie({},ue.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:J(/^!?\[(label)\]\((.*?)\)/).replace("label",ue._label).getRegex(),reflink:J(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ue._label).getRegex()}),ue.gfm=ie({},ue.normal,{escape:J(ue.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),ue.gfm.url=J(ue.gfm.url,"i").replace("email",ue.gfm._extended_email).getRegex(),ue.breaks=ie({},ue.gfm,{br:J(ue.br).replace("{2,}","*").getRegex(),text:J(ue.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var q={block:de,inline:ue},B=S.defaults,j=q.block,H=q.inline,z=R.repeatString;function Q(Se){return Se.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function x(Se){var we="",ye,me,ve=Se.length;for(ye=0;ye<ve;ye++)me=Se.charCodeAt(ye),Math.random()>.5&&(me="x"+me.toString(16)),we+="&#"+me+";";return we}var le=function(){function Se(ye){this.tokens=[],this.tokens.links=Object.create(null),this.options=ye||B,this.options.tokenizer=this.options.tokenizer||new Z,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var me={block:j.normal,inline:H.normal};this.options.pedantic?(me.block=j.pedantic,me.inline=H.pedantic):this.options.gfm&&(me.block=j.gfm,this.options.breaks?me.inline=H.breaks:me.inline=H.gfm),this.tokenizer.rules=me}Se.lex=function(me,ve){var ge=new Se(ve);return ge.lex(me)},Se.lexInline=function(me,ve){var ge=new Se(ve);return ge.inlineTokens(me)};var we=Se.prototype;return we.lex=function(me){return me=me.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(me,this.tokens,!0),this.inline(this.tokens),this.tokens},we.blockTokens=function(me,ve,ge){ve===void 0&&(ve=[]),ge===void 0&&(ge=!0),this.options.pedantic&&(me=me.replace(/^ +$/gm,""));for(var fe,_e,ke,Ne;me;){if(fe=this.tokenizer.space(me)){me=me.substring(fe.raw.length),fe.type&&ve.push(fe);continue}if(fe=this.tokenizer.code(me)){me=me.substring(fe.raw.length),Ne=ve[ve.length-1],Ne&&Ne.type==="paragraph"?(Ne.raw+=`
`+fe.raw,Ne.text+=`
`+fe.text):ve.push(fe);continue}if(fe=this.tokenizer.fences(me)){me=me.substring(fe.raw.length),ve.push(fe);continue}if(fe=this.tokenizer.heading(me)){me=me.substring(fe.raw.length),ve.push(fe);continue}if(fe=this.tokenizer.nptable(me)){me=me.substring(fe.raw.length),ve.push(fe);continue}if(fe=this.tokenizer.hr(me)){me=me.substring(fe.raw.length),ve.push(fe);continue}if(fe=this.tokenizer.blockquote(me)){me=me.substring(fe.raw.length),fe.tokens=this.blockTokens(fe.text,[],ge),ve.push(fe);continue}if(fe=this.tokenizer.list(me)){for(me=me.substring(fe.raw.length),ke=fe.items.length,_e=0;_e<ke;_e++)fe.items[_e].tokens=this.blockTokens(fe.items[_e].text,[],!1);ve.push(fe);continue}if(fe=this.tokenizer.html(me)){me=me.substring(fe.raw.length),ve.push(fe);continue}if(ge&&(fe=this.tokenizer.def(me))){me=me.substring(fe.raw.length),this.tokens.links[fe.tag]||(this.tokens.links[fe.tag]={href:fe.href,title:fe.title});continue}if(fe=this.tokenizer.table(me)){me=me.substring(fe.raw.length),ve.push(fe);continue}if(fe=this.tokenizer.lheading(me)){me=me.substring(fe.raw.length),ve.push(fe);continue}if(ge&&(fe=this.tokenizer.paragraph(me))){me=me.substring(fe.raw.length),ve.push(fe);continue}if(fe=this.tokenizer.text(me)){me=me.substring(fe.raw.length),Ne=ve[ve.length-1],Ne&&Ne.type==="text"?(Ne.raw+=`
`+fe.raw,Ne.text+=`
`+fe.text):ve.push(fe);continue}if(me){var Ae="Infinite loop on byte: "+me.charCodeAt(0);if(this.options.silent){console.error(Ae);break}else throw new Error(Ae)}}return ve},we.inline=function(me){var ve,ge,fe,_e,ke,Ne,Ae=me.length;for(ve=0;ve<Ae;ve++)switch(Ne=me[ve],Ne.type){case"paragraph":case"text":case"heading":{Ne.tokens=[],this.inlineTokens(Ne.text,Ne.tokens);break}case"table":{for(Ne.tokens={header:[],cells:[]},_e=Ne.header.length,ge=0;ge<_e;ge++)Ne.tokens.header[ge]=[],this.inlineTokens(Ne.header[ge],Ne.tokens.header[ge]);for(_e=Ne.cells.length,ge=0;ge<_e;ge++)for(ke=Ne.cells[ge],Ne.tokens.cells[ge]=[],fe=0;fe<ke.length;fe++)Ne.tokens.cells[ge][fe]=[],this.inlineTokens(ke[fe],Ne.tokens.cells[ge][fe]);break}case"blockquote":{this.inline(Ne.tokens);break}case"list":{for(_e=Ne.items.length,ge=0;ge<_e;ge++)this.inline(Ne.items[ge].tokens);break}}return me},we.inlineTokens=function(me,ve,ge,fe){ve===void 0&&(ve=[]),ge===void 0&&(ge=!1),fe===void 0&&(fe=!1);var _e,ke,Ne=me,Ae,Oe,Fe;if(this.tokens.links){var Pe=Object.keys(this.tokens.links);if(Pe.length>0)for(;(Ae=this.tokenizer.rules.inline.reflinkSearch.exec(Ne))!=null;)Pe.includes(Ae[0].slice(Ae[0].lastIndexOf("[")+1,-1))&&(Ne=Ne.slice(0,Ae.index)+"["+z("a",Ae[0].length-2)+"]"+Ne.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Ae=this.tokenizer.rules.inline.blockSkip.exec(Ne))!=null;)Ne=Ne.slice(0,Ae.index)+"["+z("a",Ae[0].length-2)+"]"+Ne.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Ae=this.tokenizer.rules.inline.escapedEmSt.exec(Ne))!=null;)Ne=Ne.slice(0,Ae.index)+"++"+Ne.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;me;){if(Oe||(Fe=""),Oe=!1,_e=this.tokenizer.escape(me)){me=me.substring(_e.raw.length),ve.push(_e);continue}if(_e=this.tokenizer.tag(me,ge,fe)){me=me.substring(_e.raw.length),ge=_e.inLink,fe=_e.inRawBlock;var xe=ve[ve.length-1];xe&&_e.type==="text"&&xe.type==="text"?(xe.raw+=_e.raw,xe.text+=_e.text):ve.push(_e);continue}if(_e=this.tokenizer.link(me)){me=me.substring(_e.raw.length),_e.type==="link"&&(_e.tokens=this.inlineTokens(_e.text,[],!0,fe)),ve.push(_e);continue}if(_e=this.tokenizer.reflink(me,this.tokens.links)){me=me.substring(_e.raw.length);var Be=ve[ve.length-1];_e.type==="link"?(_e.tokens=this.inlineTokens(_e.text,[],!0,fe),ve.push(_e)):Be&&_e.type==="text"&&Be.type==="text"?(Be.raw+=_e.raw,Be.text+=_e.text):ve.push(_e);continue}if(_e=this.tokenizer.emStrong(me,Ne,Fe)){me=me.substring(_e.raw.length),_e.tokens=this.inlineTokens(_e.text,[],ge,fe),ve.push(_e);continue}if(_e=this.tokenizer.codespan(me)){me=me.substring(_e.raw.length),ve.push(_e);continue}if(_e=this.tokenizer.br(me)){me=me.substring(_e.raw.length),ve.push(_e);continue}if(_e=this.tokenizer.del(me)){me=me.substring(_e.raw.length),_e.tokens=this.inlineTokens(_e.text,[],ge,fe),ve.push(_e);continue}if(_e=this.tokenizer.autolink(me,x)){me=me.substring(_e.raw.length),ve.push(_e);continue}if(!ge&&(_e=this.tokenizer.url(me,x))){me=me.substring(_e.raw.length),ve.push(_e);continue}if(_e=this.tokenizer.inlineText(me,fe,Q)){me=me.substring(_e.raw.length),_e.raw.slice(-1)!=="_"&&(Fe=_e.raw.slice(-1)),Oe=!0,ke=ve[ve.length-1],ke&&ke.type==="text"?(ke.raw+=_e.raw,ke.text+=_e.text):ve.push(_e);continue}if(me){var ze="Infinite loop on byte: "+me.charCodeAt(0);if(this.options.silent){console.error(ze);break}else throw new Error(ze)}}return ve},e(Se,null,[{key:"rules",get:function(){return{block:j,inline:H}}}]),Se}(),oe=S.defaults,K=R.cleanUrl,re=R.escape,ae=function(){function Se(ye){this.options=ye||oe}var we=Se.prototype;return we.code=function(me,ve,ge){var fe=(ve||"").match(/\S*/)[0];if(this.options.highlight){var _e=this.options.highlight(me,fe);_e!=null&&_e!==me&&(ge=!0,me=_e)}return me=me.replace(/\n$/,"")+`
`,fe?'<pre><code class="'+this.options.langPrefix+re(fe,!0)+'">'+(ge?me:re(me,!0))+`</code></pre>
`:"<pre><code>"+(ge?me:re(me,!0))+`</code></pre>
`},we.blockquote=function(me){return`<blockquote>
`+me+`</blockquote>
`},we.html=function(me){return me},we.heading=function(me,ve,ge,fe){return this.options.headerIds?"<h"+ve+' id="'+this.options.headerPrefix+fe.slug(ge)+'">'+me+"</h"+ve+`>
`:"<h"+ve+">"+me+"</h"+ve+`>
`},we.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},we.list=function(me,ve,ge){var fe=ve?"ol":"ul",_e=ve&&ge!==1?' start="'+ge+'"':"";return"<"+fe+_e+`>
`+me+"</"+fe+`>
`},we.listitem=function(me){return"<li>"+me+`</li>
`},we.checkbox=function(me){return"<input "+(me?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},we.paragraph=function(me){return"<p>"+me+`</p>
`},we.table=function(me,ve){return ve&&(ve="<tbody>"+ve+"</tbody>"),`<table>
<thead>
`+me+`</thead>
`+ve+`</table>
`},we.tablerow=function(me){return`<tr>
`+me+`</tr>
`},we.tablecell=function(me,ve){var ge=ve.header?"th":"td",fe=ve.align?"<"+ge+' align="'+ve.align+'">':"<"+ge+">";return fe+me+"</"+ge+`>
`},we.strong=function(me){return"<strong>"+me+"</strong>"},we.em=function(me){return"<em>"+me+"</em>"},we.codespan=function(me){return"<code>"+me+"</code>"},we.br=function(){return this.options.xhtml?"<br/>":"<br>"},we.del=function(me){return"<del>"+me+"</del>"},we.link=function(me,ve,ge){if(me=K(this.options.sanitize,this.options.baseUrl,me),me===null)return ge;var fe='<a href="'+re(me)+'"';return ve&&(fe+=' title="'+ve+'"'),fe+=">"+ge+"</a>",fe},we.image=function(me,ve,ge){if(me=K(this.options.sanitize,this.options.baseUrl,me),me===null)return ge;var fe='<img src="'+me+'" alt="'+ge+'"';return ve&&(fe+=' title="'+ve+'"'),fe+=this.options.xhtml?"/>":">",fe},we.text=function(me){return me},Se}(),he=function(){function Se(){}var we=Se.prototype;return we.strong=function(me){return me},we.em=function(me){return me},we.codespan=function(me){return me},we.del=function(me){return me},we.html=function(me){return me},we.text=function(me){return me},we.link=function(me,ve,ge){return""+ge},we.image=function(me,ve,ge){return""+ge},we.br=function(){return""},Se}(),U=function(){function Se(){this.seen={}}var we=Se.prototype;return we.serialize=function(me){return me.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},we.getNextSafeSlug=function(me,ve){var ge=me,fe=0;if(this.seen.hasOwnProperty(ge)){fe=this.seen[me];do fe++,ge=me+"-"+fe;while(this.seen.hasOwnProperty(ge))}return ve||(this.seen[me]=fe,this.seen[ge]=0),ge},we.slug=function(me,ve){ve===void 0&&(ve={});var ge=this.serialize(me);return this.getNextSafeSlug(ge,ve.dryrun)},Se}(),se=S.defaults,Y=R.unescape,ne=function(){function Se(ye){this.options=ye||se,this.options.renderer=this.options.renderer||new ae,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new he,this.slugger=new U}Se.parse=function(me,ve){var ge=new Se(ve);return ge.parse(me)},Se.parseInline=function(me,ve){var ge=new Se(ve);return ge.parseInline(me)};var we=Se.prototype;return we.parse=function(me,ve){ve===void 0&&(ve=!0);var ge="",fe,_e,ke,Ne,Ae,Oe,Fe,Pe,xe,Be,ze,Ke,We,He,Ve,Ue,Ze,$e,Qe=me.length;for(fe=0;fe<Qe;fe++)switch(Be=me[fe],Be.type){case"space":continue;case"hr":{ge+=this.renderer.hr();continue}case"heading":{ge+=this.renderer.heading(this.parseInline(Be.tokens),Be.depth,Y(this.parseInline(Be.tokens,this.textRenderer)),this.slugger);continue}case"code":{ge+=this.renderer.code(Be.text,Be.lang,Be.escaped);continue}case"table":{for(Pe="",Fe="",Ne=Be.header.length,_e=0;_e<Ne;_e++)Fe+=this.renderer.tablecell(this.parseInline(Be.tokens.header[_e]),{header:!0,align:Be.align[_e]});for(Pe+=this.renderer.tablerow(Fe),xe="",Ne=Be.cells.length,_e=0;_e<Ne;_e++){for(Oe=Be.tokens.cells[_e],Fe="",Ae=Oe.length,ke=0;ke<Ae;ke++)Fe+=this.renderer.tablecell(this.parseInline(Oe[ke]),{header:!1,align:Be.align[ke]});xe+=this.renderer.tablerow(Fe)}ge+=this.renderer.table(Pe,xe);continue}case"blockquote":{xe=this.parse(Be.tokens),ge+=this.renderer.blockquote(xe);continue}case"list":{for(ze=Be.ordered,Ke=Be.start,We=Be.loose,Ne=Be.items.length,xe="",_e=0;_e<Ne;_e++)Ve=Be.items[_e],Ue=Ve.checked,Ze=Ve.task,He="",Ve.task&&($e=this.renderer.checkbox(Ue),We?Ve.tokens.length>0&&Ve.tokens[0].type==="text"?(Ve.tokens[0].text=$e+" "+Ve.tokens[0].text,Ve.tokens[0].tokens&&Ve.tokens[0].tokens.length>0&&Ve.tokens[0].tokens[0].type==="text"&&(Ve.tokens[0].tokens[0].text=$e+" "+Ve.tokens[0].tokens[0].text)):Ve.tokens.unshift({type:"text",text:$e}):He+=$e),He+=this.parse(Ve.tokens,We),xe+=this.renderer.listitem(He,Ze,Ue);ge+=this.renderer.list(xe,ze,Ke);continue}case"html":{ge+=this.renderer.html(Be.text);continue}case"paragraph":{ge+=this.renderer.paragraph(this.parseInline(Be.tokens));continue}case"text":{for(xe=Be.tokens?this.parseInline(Be.tokens):Be.text;fe+1<Qe&&me[fe+1].type==="text";)Be=me[++fe],xe+=`
`+(Be.tokens?this.parseInline(Be.tokens):Be.text);ge+=ve?this.renderer.paragraph(xe):xe;continue}default:{var Ye='Token with "'+Be.type+'" type was not found.';if(this.options.silent){console.error(Ye);return}else throw new Error(Ye)}}return ge},we.parseInline=function(me,ve){ve=ve||this.renderer;var ge="",fe,_e,ke=me.length;for(fe=0;fe<ke;fe++)switch(_e=me[fe],_e.type){case"escape":{ge+=ve.text(_e.text);break}case"html":{ge+=ve.html(_e.text);break}case"link":{ge+=ve.link(_e.href,_e.title,this.parseInline(_e.tokens,ve));break}case"image":{ge+=ve.image(_e.href,_e.title,_e.text);break}case"strong":{ge+=ve.strong(this.parseInline(_e.tokens,ve));break}case"em":{ge+=ve.em(this.parseInline(_e.tokens,ve));break}case"codespan":{ge+=ve.codespan(_e.text);break}case"br":{ge+=ve.br();break}case"del":{ge+=ve.del(this.parseInline(_e.tokens,ve));break}case"text":{ge+=ve.text(_e.text);break}default:{var Ne='Token with "'+_e.type+'" type was not found.';if(this.options.silent){console.error(Ne);return}else throw new Error(Ne)}}return ge},Se}(),ce=R.merge,pe=R.checkSanitizeDeprecation,be=R.escape,Ee=S.getDefaults,Le=S.changeDefaults,Te=S.defaults;function De(Se,we,ye){if(typeof Se=="undefined"||Se===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Se!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Se)+", string expected");if(typeof we=="function"&&(ye=we,we=null),we=ce({},De.defaults,we||{}),pe(we),ye){var me=we.highlight,ve;try{ve=le.lex(Se,we)}catch(ke){return ye(ke)}var ge=function(Ne){var Ae;if(!Ne)try{Ae=ne.parse(ve,we)}catch(Oe){Ne=Oe}return we.highlight=me,Ne?ye(Ne):ye(null,Ae)};if(!me||me.length<3||(delete we.highlight,!ve.length))return ge();var fe=0;De.walkTokens(ve,function(ke){ke.type==="code"&&(fe++,setTimeout(function(){me(ke.text,ke.lang,function(Ne,Ae){if(Ne)return ge(Ne);Ae!=null&&Ae!==ke.text&&(ke.text=Ae,ke.escaped=!0),fe--,fe===0&&ge()})},0))}),fe===0&&ge();return}try{var _e=le.lex(Se,we);return we.walkTokens&&De.walkTokens(_e,we.walkTokens),ne.parse(_e,we)}catch(ke){if(ke.message+=`
Please report this to https://github.com/markedjs/marked.`,we.silent)return"<p>An error occurred:</p><pre>"+be(ke.message+"",!0)+"</pre>";throw ke}}De.options=De.setOptions=function(Se){return ce(De.defaults,Se),Le(De.defaults),De},De.getDefaults=Ee,De.defaults=Te,De.use=function(Se){var we=ce({},Se);if(Se.renderer&&function(){var me=De.defaults.renderer||new ae,ve=function(_e){var ke=me[_e];me[_e]=function(){for(var Ne=arguments.length,Ae=new Array(Ne),Oe=0;Oe<Ne;Oe++)Ae[Oe]=arguments[Oe];var Fe=Se.renderer[_e].apply(me,Ae);return Fe===!1&&(Fe=ke.apply(me,Ae)),Fe}};for(var ge in Se.renderer)ve(ge);we.renderer=me}(),Se.tokenizer&&function(){var me=De.defaults.tokenizer||new Z,ve=function(_e){var ke=me[_e];me[_e]=function(){for(var Ne=arguments.length,Ae=new Array(Ne),Oe=0;Oe<Ne;Oe++)Ae[Oe]=arguments[Oe];var Fe=Se.tokenizer[_e].apply(me,Ae);return Fe===!1&&(Fe=ke.apply(me,Ae)),Fe}};for(var ge in Se.tokenizer)ve(ge);we.tokenizer=me}(),Se.walkTokens){var ye=De.defaults.walkTokens;we.walkTokens=function(me){Se.walkTokens(me),ye&&ye(me)}}De.setOptions(we)},De.walkTokens=function(Se,we){for(var ye=T(Se),me;!(me=ye()).done;){var ve=me.value;switch(we(ve),ve.type){case"table":{for(var ge=T(ve.tokens.header),fe;!(fe=ge()).done;){var _e=fe.value;De.walkTokens(_e,we)}for(var ke=T(ve.tokens.cells),Ne;!(Ne=ke()).done;)for(var Ae=Ne.value,Oe=T(Ae),Fe;!(Fe=Oe()).done;){var Pe=Fe.value;De.walkTokens(Pe,we)}break}case"list":{De.walkTokens(ve.items,we);break}default:ve.tokens&&De.walkTokens(ve.tokens,we)}}},De.parseInline=function(Se,we){if(typeof Se=="undefined"||Se===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Se!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Se)+", string expected");we=ce({},De.defaults,we||{}),pe(we);try{var ye=le.lexInline(Se,we);return we.walkTokens&&De.walkTokens(ye,we.walkTokens),ne.parseInline(ye,we)}catch(me){if(me.message+=`
Please report this to https://github.com/markedjs/marked.`,we.silent)return"<p>An error occurred:</p><pre>"+be(me.message+"",!0)+"</pre>";throw me}},De.Parser=ne,De.parser=ne.parse,De.Renderer=ae,De.TextRenderer=he,De.Lexer=le,De.lexer=le.lex,De.Tokenizer=Z,De.Slugger=U,De.parse=De;var Me=De;return Me}),define(ee[286],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class b{constructor(T,L=0,S=T.length,p=L-1){this.items=T,this.start=L,this.end=S,this.index=p}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=b}),define(ee[287],te([0,1,286]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class k{constructor(L=[],S=10){this._initialize(L),this._limit=S,this._onChange()}add(L){this._history.delete(L),this._history.add(L),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(L){return this._history.has(L)}_onChange(){this._reduceToLimit();const L=this._elements;this._navigator=new b.ArrayNavigator(L,0,L.length,L.length)}_reduceToLimit(){const L=this._elements;L.length>this._limit&&this._initialize(L.slice(L.length-this._limit))}_currentPosition(){const L=this._navigator.current();return L?this._elements.indexOf(L):-1}_initialize(L){this._history=new Set;for(const S of L)this._history.add(S)}get _elements(){const L=[];return this._history.forEach(S=>L.push(S)),L}}e.HistoryNavigator=k}),define(ee[102],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovingAverage=e.clamp=void 0;function b(T,L,S){return Math.min(Math.max(T,L),S)}e.clamp=b;class k{constructor(){this._n=1,this._val=0}update(L){return this._val=this._val+(L-this._val)/this._n,this._n+=1,this}get value(){return this._val}}e.MovingAverage=k}),define(ee[17],te([0,1]),function(G,e){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),e.isLittleEndian=e.OS=e.setImmediate=e.userAgent=e.isIOS=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.isPreferringBrowserCodeLoad=e.browserCodeLoadingCacheStrategy=e.isElectronSandboxed=e.globals=void 0;const k="en";let T=!1,L=!1,S=!1,p=!1,C=!1,i=!1,v=!1,r,a=k,l,c;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let u;typeof e.globals.vscode!="undefined"&&typeof e.globals.vscode.process!="undefined"?u=e.globals.vscode.process:typeof process!="undefined"&&(u=process);const s=typeof((b=u==null?void 0:u.versions)===null||b===void 0?void 0:b.electron)=="string"&&u.type==="renderer";if(e.isElectronSandboxed=s&&(u==null?void 0:u.sandboxed),e.browserCodeLoadingCacheStrategy=(()=>{if(e.isElectronSandboxed)return"bypassHeatCheck";const h=u==null?void 0:u.env.VSCODE_BROWSER_CODE_LOADING;if(typeof h=="string")return h==="none"||h==="code"||h==="bypassHeatCheck"||h==="bypassHeatCheckAndEagerCompile"?h:"bypassHeatCheck"})(),e.isPreferringBrowserCodeLoad=typeof e.browserCodeLoadingCacheStrategy=="string",typeof navigator=="object"&&!s)c=navigator.userAgent,T=c.indexOf("Windows")>=0,L=c.indexOf("Macintosh")>=0,v=(c.indexOf("Macintosh")>=0||c.indexOf("iPad")>=0||c.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,S=c.indexOf("Linux")>=0,i=!0,r=navigator.language,a=r;else if(typeof u=="object"){T=u.platform==="win32",L=u.platform==="darwin",S=u.platform==="linux",p=S&&!!u.env.SNAP&&!!u.env.SNAP_REVISION,r=k,a=k;const h=u.env.VSCODE_NLS_CONFIG;if(h)try{const m=JSON.parse(h),y=m.availableLanguages["*"];r=m.locale,a=y||k,l=m._translationsConfigFile}catch(m){}C=!0}else console.error("Unable to resolve platform.");let n=0;L?n=1:T?n=3:S&&(n=2),e.isWindows=T,e.isMacintosh=L,e.isLinux=S,e.isNative=C,e.isWeb=i,e.isIOS=v,e.userAgent=c,e.setImmediate=function(){if(e.globals.setImmediate)return e.globals.setImmediate.bind(e.globals);if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let y=[];e.globals.addEventListener("message",g=>{if(g.data&&g.data.vscodeSetImmediateId)for(let f=0,_=y.length;f<_;f++){const D=y[f];if(D.id===g.data.vscodeSetImmediateId){y.splice(f,1),D.callback();return}}});let w=0;return g=>{const f=++w;y.push({id:f,callback:g}),e.globals.postMessage({vscodeSetImmediateId:f},"*")}}if(typeof(u==null?void 0:u.nextTick)=="function")return u.nextTick.bind(u);const m=Promise.resolve();return y=>m.then(y)}(),e.OS=L||v?2:T?1:3;let d=!0,t=!1;function o(){if(!t){t=!0;const h=new Uint8Array(2);h[0]=1,h[1]=2,d=new Uint16Array(h.buffer)[0]===(2<<8)+1}return d}e.isLittleEndian=o}),define(ee[288],te([0,1,17]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let k;if(typeof b.globals.vscode!="undefined"&&typeof b.globals.vscode.process!="undefined"){const T=b.globals.vscode.process;k={get platform(){return T.platform},get env(){return T.env},cwd(){return T.cwd()},nextTick(L){return(0,b.setImmediate)(L)}}}else typeof process!="undefined"?k={get platform(){return process.platform},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()},nextTick(T){return process.nextTick(T)}}:k={get platform(){return b.isWindows?"win32":b.isMacintosh?"darwin":"linux"},nextTick(T){return(0,b.setImmediate)(T)},get env(){return{}},cwd(){return"/"}};e.cwd=k.cwd,e.env=k.env,e.platform=k.platform}),define(ee[73],te([0,1,288]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const k=65,T=97,L=90,S=122,p=46,C=47,i=92,v=58,r=63;class a extends Error{constructor(o,h,m){let y;typeof h=="string"&&h.indexOf("not ")===0?(y="must not be",h=h.replace(/^not /,"")):y="must be";const w=o.indexOf(".")!==-1?"property":"argument";let g=`The "${o}" ${w} ${y} of type ${h}`;g+=`. Received type ${typeof m}`,super(g),this.code="ERR_INVALID_ARG_TYPE"}}function l(t,o){if(typeof t!="string")throw new a(o,"string",t)}function c(t){return t===C||t===i}function u(t){return t===C}function s(t){return t>=k&&t<=L||t>=T&&t<=S}function n(t,o,h,m){let y="",w=0,g=-1,f=0,_=0;for(let D=0;D<=t.length;++D){if(D<t.length)_=t.charCodeAt(D);else{if(m(_))break;_=C}if(m(_)){if(!(g===D-1||f===1))if(f===2){if(y.length<2||w!==2||y.charCodeAt(y.length-1)!==p||y.charCodeAt(y.length-2)!==p){if(y.length>2){const N=y.lastIndexOf(h);N===-1?(y="",w=0):(y=y.slice(0,N),w=y.length-1-y.lastIndexOf(h)),g=D,f=0;continue}else if(y.length!==0){y="",w=0,g=D,f=0;continue}}o&&(y+=y.length>0?`${h}..`:"..",w=2)}else y.length>0?y+=`${h}${t.slice(g+1,D)}`:y=t.slice(g+1,D),w=D-g-1;g=D,f=0}else _===p&&f!==-1?++f:f=-1}return y}function d(t,o){if(o===null||typeof o!="object")throw new a("pathObject","Object",o);const h=o.dir||o.root,m=o.base||`${o.name||""}${o.ext||""}`;return h?h===o.root?`${h}${m}`:`${h}${t}${m}`:m}e.win32={resolve(...t){let o="",h="",m=!1;for(let y=t.length-1;y>=-1;y--){let w;if(y>=0){if(w=t[y],l(w,"path"),w.length===0)continue}else o.length===0?w=b.cwd():(w=b.env[`=${o}`]||b.cwd(),(w===void 0||w.slice(0,2).toLowerCase()!==o.toLowerCase()&&w.charCodeAt(2)===i)&&(w=`${o}\\`));const g=w.length;let f=0,_="",D=!1;const N=w.charCodeAt(0);if(g===1)c(N)&&(f=1,D=!0);else if(c(N))if(D=!0,c(w.charCodeAt(1))){let I=2,M=I;for(;I<g&&!c(w.charCodeAt(I));)I++;if(I<g&&I!==M){const O=w.slice(M,I);for(M=I;I<g&&c(w.charCodeAt(I));)I++;if(I<g&&I!==M){for(M=I;I<g&&!c(w.charCodeAt(I));)I++;(I===g||I!==M)&&(_=`\\\\${O}\\${w.slice(M,I)}`,f=I)}}}else f=1;else s(N)&&w.charCodeAt(1)===v&&(_=w.slice(0,2),f=2,g>2&&c(w.charCodeAt(2))&&(D=!0,f=3));if(_.length>0)if(o.length>0){if(_.toLowerCase()!==o.toLowerCase())continue}else o=_;if(m){if(o.length>0)break}else if(h=`${w.slice(f)}\\${h}`,m=D,D&&o.length>0)break}return h=n(h,!m,"\\",c),m?`${o}\\${h}`:`${o}${h}`||"."},normalize(t){l(t,"path");const o=t.length;if(o===0)return".";let h=0,m,y=!1;const w=t.charCodeAt(0);if(o===1)return u(w)?"\\":t;if(c(w))if(y=!0,c(t.charCodeAt(1))){let f=2,_=f;for(;f<o&&!c(t.charCodeAt(f));)f++;if(f<o&&f!==_){const D=t.slice(_,f);for(_=f;f<o&&c(t.charCodeAt(f));)f++;if(f<o&&f!==_){for(_=f;f<o&&!c(t.charCodeAt(f));)f++;if(f===o)return`\\\\${D}\\${t.slice(_)}\\`;f!==_&&(m=`\\\\${D}\\${t.slice(_,f)}`,h=f)}}}else h=1;else s(w)&&t.charCodeAt(1)===v&&(m=t.slice(0,2),h=2,o>2&&c(t.charCodeAt(2))&&(y=!0,h=3));let g=h<o?n(t.slice(h),!y,"\\",c):"";return g.length===0&&!y&&(g="."),g.length>0&&c(t.charCodeAt(o-1))&&(g+="\\"),m===void 0?y?`\\${g}`:g:y?`${m}\\${g}`:`${m}${g}`},isAbsolute(t){l(t,"path");const o=t.length;if(o===0)return!1;const h=t.charCodeAt(0);return c(h)||o>2&&s(h)&&t.charCodeAt(1)===v&&c(t.charCodeAt(2))},join(...t){if(t.length===0)return".";let o,h;for(let w=0;w<t.length;++w){const g=t[w];l(g,"path"),g.length>0&&(o===void 0?o=h=g:o+=`\\${g}`)}if(o===void 0)return".";let m=!0,y=0;if(typeof h=="string"&&c(h.charCodeAt(0))){++y;const w=h.length;w>1&&c(h.charCodeAt(1))&&(++y,w>2&&(c(h.charCodeAt(2))?++y:m=!1))}if(m){for(;y<o.length&&c(o.charCodeAt(y));)y++;y>=2&&(o=`\\${o.slice(y)}`)}return e.win32.normalize(o)},relative(t,o){if(l(t,"from"),l(o,"to"),t===o)return"";const h=e.win32.resolve(t),m=e.win32.resolve(o);if(h===m||(t=h.toLowerCase(),o=m.toLowerCase(),t===o))return"";let y=0;for(;y<t.length&&t.charCodeAt(y)===i;)y++;let w=t.length;for(;w-1>y&&t.charCodeAt(w-1)===i;)w--;const g=w-y;let f=0;for(;f<o.length&&o.charCodeAt(f)===i;)f++;let _=o.length;for(;_-1>f&&o.charCodeAt(_-1)===i;)_--;const D=_-f,N=g<D?g:D;let I=-1,M=0;for(;M<N;M++){const R=t.charCodeAt(y+M);if(R!==o.charCodeAt(f+M))break;R===i&&(I=M)}if(M!==N){if(I===-1)return m}else{if(D>N){if(o.charCodeAt(f+M)===i)return m.slice(f+M+1);if(M===2)return m.slice(f+M)}g>N&&(t.charCodeAt(y+M)===i?I=M:M===2&&(I=3)),I===-1&&(I=0)}let O="";for(M=y+I+1;M<=w;++M)(M===w||t.charCodeAt(M)===i)&&(O+=O.length===0?"..":"\\..");return f+=I,O.length>0?`${O}${m.slice(f,_)}`:(m.charCodeAt(f)===i&&++f,m.slice(f,_))},toNamespacedPath(t){if(typeof t!="string")return t;if(t.length===0)return"";const o=e.win32.resolve(t);if(o.length<=2)return t;if(o.charCodeAt(0)===i){if(o.charCodeAt(1)===i){const h=o.charCodeAt(2);if(h!==r&&h!==p)return`\\\\?\\UNC\\${o.slice(2)}`}}else if(s(o.charCodeAt(0))&&o.charCodeAt(1)===v&&o.charCodeAt(2)===i)return`\\\\?\\${o}`;return t},dirname(t){l(t,"path");const o=t.length;if(o===0)return".";let h=-1,m=0;const y=t.charCodeAt(0);if(o===1)return c(y)?t:".";if(c(y)){if(h=m=1,c(t.charCodeAt(1))){let f=2,_=f;for(;f<o&&!c(t.charCodeAt(f));)f++;if(f<o&&f!==_){for(_=f;f<o&&c(t.charCodeAt(f));)f++;if(f<o&&f!==_){for(_=f;f<o&&!c(t.charCodeAt(f));)f++;if(f===o)return t;f!==_&&(h=m=f+1)}}}}else s(y)&&t.charCodeAt(1)===v&&(h=o>2&&c(t.charCodeAt(2))?3:2,m=h);let w=-1,g=!0;for(let f=o-1;f>=m;--f)if(c(t.charCodeAt(f))){if(!g){w=f;break}}else g=!1;if(w===-1){if(h===-1)return".";w=h}return t.slice(0,w)},basename(t,o){o!==void 0&&l(o,"ext"),l(t,"path");let h=0,m=-1,y=!0,w;if(t.length>=2&&s(t.charCodeAt(0))&&t.charCodeAt(1)===v&&(h=2),o!==void 0&&o.length>0&&o.length<=t.length){if(o===t)return"";let g=o.length-1,f=-1;for(w=t.length-1;w>=h;--w){const _=t.charCodeAt(w);if(c(_)){if(!y){h=w+1;break}}else f===-1&&(y=!1,f=w+1),g>=0&&(_===o.charCodeAt(g)?--g==-1&&(m=w):(g=-1,m=f))}return h===m?m=f:m===-1&&(m=t.length),t.slice(h,m)}for(w=t.length-1;w>=h;--w)if(c(t.charCodeAt(w))){if(!y){h=w+1;break}}else m===-1&&(y=!1,m=w+1);return m===-1?"":t.slice(h,m)},extname(t){l(t,"path");let o=0,h=-1,m=0,y=-1,w=!0,g=0;t.length>=2&&t.charCodeAt(1)===v&&s(t.charCodeAt(0))&&(o=m=2);for(let f=t.length-1;f>=o;--f){const _=t.charCodeAt(f);if(c(_)){if(!w){m=f+1;break}continue}y===-1&&(w=!1,y=f+1),_===p?h===-1?h=f:g!==1&&(g=1):h!==-1&&(g=-1)}return h===-1||y===-1||g===0||g===1&&h===y-1&&h===m+1?"":t.slice(h,y)},format:d.bind(null,"\\"),parse(t){l(t,"path");const o={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return o;const h=t.length;let m=0,y=t.charCodeAt(0);if(h===1)return c(y)?(o.root=o.dir=t,o):(o.base=o.name=t,o);if(c(y)){if(m=1,c(t.charCodeAt(1))){let I=2,M=I;for(;I<h&&!c(t.charCodeAt(I));)I++;if(I<h&&I!==M){for(M=I;I<h&&c(t.charCodeAt(I));)I++;if(I<h&&I!==M){for(M=I;I<h&&!c(t.charCodeAt(I));)I++;I===h?m=I:I!==M&&(m=I+1)}}}}else if(s(y)&&t.charCodeAt(1)===v){if(h<=2)return o.root=o.dir=t,o;if(m=2,c(t.charCodeAt(2))){if(h===3)return o.root=o.dir=t,o;m=3}}m>0&&(o.root=t.slice(0,m));let w=-1,g=m,f=-1,_=!0,D=t.length-1,N=0;for(;D>=m;--D){if(y=t.charCodeAt(D),c(y)){if(!_){g=D+1;break}continue}f===-1&&(_=!1,f=D+1),y===p?w===-1?w=D:N!==1&&(N=1):w!==-1&&(N=-1)}return f!==-1&&(w===-1||N===0||N===1&&w===f-1&&w===g+1?o.base=o.name=t.slice(g,f):(o.name=t.slice(g,w),o.base=t.slice(g,f),o.ext=t.slice(w,f))),g>0&&g!==m?o.dir=t.slice(0,g-1):o.dir=o.root,o},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...t){let o="",h=!1;for(let m=t.length-1;m>=-1&&!h;m--){const y=m>=0?t[m]:b.cwd();l(y,"path"),y.length!==0&&(o=`${y}/${o}`,h=y.charCodeAt(0)===C)}return o=n(o,!h,"/",u),h?`/${o}`:o.length>0?o:"."},normalize(t){if(l(t,"path"),t.length===0)return".";const o=t.charCodeAt(0)===C,h=t.charCodeAt(t.length-1)===C;return t=n(t,!o,"/",u),t.length===0?o?"/":h?"./":".":(h&&(t+="/"),o?`/${t}`:t)},isAbsolute(t){return l(t,"path"),t.length>0&&t.charCodeAt(0)===C},join(...t){if(t.length===0)return".";let o;for(let h=0;h<t.length;++h){const m=t[h];l(m,"path"),m.length>0&&(o===void 0?o=m:o+=`/${m}`)}return o===void 0?".":e.posix.normalize(o)},relative(t,o){if(l(t,"from"),l(o,"to"),t===o||(t=e.posix.resolve(t),o=e.posix.resolve(o),t===o))return"";const h=1,m=t.length,y=m-h,w=1,g=o.length-w,f=y<g?y:g;let _=-1,D=0;for(;D<f;D++){const I=t.charCodeAt(h+D);if(I!==o.charCodeAt(w+D))break;I===C&&(_=D)}if(D===f)if(g>f){if(o.charCodeAt(w+D)===C)return o.slice(w+D+1);if(D===0)return o.slice(w+D)}else y>f&&(t.charCodeAt(h+D)===C?_=D:D===0&&(_=0));let N="";for(D=h+_+1;D<=m;++D)(D===m||t.charCodeAt(D)===C)&&(N+=N.length===0?"..":"/..");return`${N}${o.slice(w+_)}`},toNamespacedPath(t){return t},dirname(t){if(l(t,"path"),t.length===0)return".";const o=t.charCodeAt(0)===C;let h=-1,m=!0;for(let y=t.length-1;y>=1;--y)if(t.charCodeAt(y)===C){if(!m){h=y;break}}else m=!1;return h===-1?o?"/":".":o&&h===1?"//":t.slice(0,h)},basename(t,o){o!==void 0&&l(o,"ext"),l(t,"path");let h=0,m=-1,y=!0,w;if(o!==void 0&&o.length>0&&o.length<=t.length){if(o===t)return"";let g=o.length-1,f=-1;for(w=t.length-1;w>=0;--w){const _=t.charCodeAt(w);if(_===C){if(!y){h=w+1;break}}else f===-1&&(y=!1,f=w+1),g>=0&&(_===o.charCodeAt(g)?--g==-1&&(m=w):(g=-1,m=f))}return h===m?m=f:m===-1&&(m=t.length),t.slice(h,m)}for(w=t.length-1;w>=0;--w)if(t.charCodeAt(w)===C){if(!y){h=w+1;break}}else m===-1&&(y=!1,m=w+1);return m===-1?"":t.slice(h,m)},extname(t){l(t,"path");let o=-1,h=0,m=-1,y=!0,w=0;for(let g=t.length-1;g>=0;--g){const f=t.charCodeAt(g);if(f===C){if(!y){h=g+1;break}continue}m===-1&&(y=!1,m=g+1),f===p?o===-1?o=g:w!==1&&(w=1):o!==-1&&(w=-1)}return o===-1||m===-1||w===0||w===1&&o===m-1&&o===h+1?"":t.slice(o,m)},format:d.bind(null,"/"),parse(t){l(t,"path");const o={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return o;const h=t.charCodeAt(0)===C;let m;h?(o.root="/",m=1):m=0;let y=-1,w=0,g=-1,f=!0,_=t.length-1,D=0;for(;_>=m;--_){const N=t.charCodeAt(_);if(N===C){if(!f){w=_+1;break}continue}g===-1&&(f=!1,g=_+1),N===p?y===-1?y=_:D!==1&&(D=1):y!==-1&&(D=-1)}if(g!==-1){const N=w===0&&h?1:w;y===-1||D===0||D===1&&y===g-1&&y===w+1?o.base=o.name=t.slice(N,g):(o.name=t.slice(N,y),o.base=t.slice(N,g),o.ext=t.slice(y,g))}return w>0?o.dir=t.slice(0,w-1):h&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=b.platform==="win32"?e.win32.normalize:e.posix.normalize,e.resolve=b.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=b.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=b.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=b.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=b.platform==="win32"?e.win32.extname:e.posix.extname,e.sep=b.platform==="win32"?e.win32.sep:e.posix.sep}),define(ee[126],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var b;(function(k){function T(C,i){if(C.start>=i.end||i.start>=C.end)return{start:0,end:0};const v=Math.max(C.start,i.start),r=Math.min(C.end,i.end);return r-v<=0?{start:0,end:0}:{start:v,end:r}}k.intersect=T;function L(C){return C.end-C.start<=0}k.isEmpty=L;function S(C,i){return!L(T(C,i))}k.intersects=S;function p(C,i){const v=[],r={start:C.start,end:Math.min(i.start,C.end)},a={start:Math.max(i.end,C.start),end:C.end};return L(r)||v.push(r),L(a)||v.push(a),v}k.relativeComplement=p})(b=e.Range||(e.Range={}))}),define(ee[289],te([0,1,126]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function k(C,i){const v=[];for(let r of i){if(C.start>=r.range.end)continue;if(C.end<r.range.start)break;const a=b.Range.intersect(C,r.range);b.Range.isEmpty(a)||v.push({range:a,size:r.size})}return v}e.groupIntersect=k;function T({start:C,end:i},v){return{start:C+v,end:i+v}}e.shift=T;function L(C){const i=[];let v=null;for(let r of C){const a=r.range.start,l=r.range.end,c=r.size;if(v&&c===v.size){v.range.end=l;continue}v={range:{start:a,end:l},size:c},i.push(v)}return i}e.consolidate=L;function S(...C){return L(C.reduce((i,v)=>i.concat(v),[]))}class p{constructor(){this.groups=[],this._size=0}splice(i,v,r=[]){const a=r.length-v,l=k({start:0,end:i},this.groups),c=k({start:i+v,end:Number.POSITIVE_INFINITY},this.groups).map(s=>({range:T(s.range,a),size:s.size})),u=r.map((s,n)=>({range:{start:i+n,end:i+n+1},size:s.size}));this.groups=S(l,u,c),this._size=this.groups.reduce((s,n)=>s+n.size*(n.range.end-n.range.start),0)}get count(){const i=this.groups.length;return i?this.groups[i-1].range.end:0}get size(){return this._size}indexAt(i){if(i<0)return-1;let v=0,r=0;for(let a of this.groups){const l=a.range.end-a.range.start,c=r+l*a.size;if(i<c)return v+Math.floor((i-r)/a.size);v+=l,r=c}return v}indexAfter(i){return Math.min(this.indexAt(i)+1,this.count)}positionAt(i){if(i<0)return-1;let v=0,r=0;for(let a of this.groups){const l=a.range.end-a.range.start,c=r+l;if(i<c)return v+(i-r)*a.size;v+=l*a.size,r=c}return-1}}e.RangeMap=p}),define(ee[81],te([0,1,17]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const k=b.globals.performance&&typeof b.globals.performance.now=="function";class T{constructor(S){this._highResolution=k&&S,this._startTime=this._now(),this._stopTime=-1}static create(S=!0){return new T(S)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?b.globals.performance.now():Date.now()}}e.StopWatch=T}),define(ee[6],te([0,1,12,2,72,81]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.DebounceEmitter=e.PauseableEmitter=e.Emitter=e.Event=void 0;var S;(function(u){u.None=()=>k.Disposable.None;function s(R){return(P,A=null,F)=>{let E=!1,W;return W=R(V=>{if(!E)return W?W.dispose():E=!0,P.call(A,V)},null,F),E&&W.dispose(),W}}u.once=s;function n(R,P){return y((A,F=null,E)=>R(W=>A.call(F,P(W)),null,E))}u.map=n;function d(R,P){return y((A,F=null,E)=>R(W=>{P(W),A.call(F,W)},null,E))}u.forEach=d;function t(R,P){return y((A,F=null,E)=>R(W=>P(W)&&A.call(F,W),null,E))}u.filter=t;function o(R){return R}u.signal=o;function h(...R){return(P,A=null,F)=>(0,k.combinedDisposable)(...R.map(E=>E(W=>P.call(A,W),null,F)))}u.any=h;function m(R,P,A){let F=A;return n(R,E=>(F=P(F,E),F))}u.reduce=m;function y(R){let P;const A=new v({onFirstListenerAdd(){P=R(A.fire,A)},onLastListenerRemove(){P.dispose()}});return A.event}function w(R,P,A=100,F=!1,E){let W,V,$,Z=0;const X=new v({leakWarningThreshold:E,onFirstListenerAdd(){W=R(J=>{Z++,V=P(V,J),F&&!$&&(X.fire(V),V=void 0),clearTimeout($),$=setTimeout(()=>{const ie=V;V=void 0,$=void 0,(!F||Z>1)&&X.fire(ie),Z=0},A)})},onLastListenerRemove(){W.dispose()}});return X.event}u.debounce=w;function g(R,P=(A,F)=>A===F){let A=!0,F;return t(R,E=>{const W=A||!P(E,F);return A=!1,F=E,W})}u.latch=g;function f(R,P){return[u.filter(R,P),u.filter(R,A=>!P(A))]}u.split=f;function _(R,P=!1,A=[]){let F=A.slice(),E=R($=>{F?F.push($):V.fire($)});const W=()=>{F&&F.forEach($=>V.fire($)),F=null},V=new v({onFirstListenerAdd(){E||(E=R($=>V.fire($)))},onFirstListenerDidAdd(){F&&(P?setTimeout(W):W())},onLastListenerRemove(){E&&E.dispose(),E=null}});return V.event}u.buffer=_;class D{constructor(P){this.event=P}map(P){return new D(n(this.event,P))}forEach(P){return new D(d(this.event,P))}filter(P){return new D(t(this.event,P))}reduce(P,A){return new D(m(this.event,P,A))}latch(){return new D(g(this.event))}debounce(P,A=100,F=!1,E){return new D(w(this.event,P,A,F,E))}on(P,A,F){return this.event(P,A,F)}once(P,A,F){return s(this.event)(P,A,F)}}function N(R){return new D(R)}u.chain=N;function I(R,P,A=F=>F){const F=(...$)=>V.fire(A(...$)),E=()=>R.on(P,F),W=()=>R.removeListener(P,F),V=new v({onFirstListenerAdd:E,onLastListenerRemove:W});return V.event}u.fromNodeEventEmitter=I;function M(R,P,A=F=>F){const F=(...$)=>V.fire(A(...$)),E=()=>R.addEventListener(P,F),W=()=>R.removeEventListener(P,F),V=new v({onFirstListenerAdd:E,onLastListenerRemove:W});return V.event}u.fromDOMEventEmitter=M;function O(R){return new Promise(P=>s(R)(P))}u.toPromise=O})(S=e.Event||(e.Event={}));class p{constructor(s){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${s}_${p._idPool++}`}start(s){this._stopWatch=new L.StopWatch(!0),this._listenerCount=s}stop(){if(this._stopWatch){const s=this._stopWatch.elapsed();this._elapsedOverall+=s,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${s.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}p._idPool=0;let C=-1;class i{constructor(s,n=Math.random().toString(18).slice(2,5)){this.customThreshold=s,this.name=n,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(s){let n=C;if(typeof this.customThreshold=="number"&&(n=this.customThreshold),n<=0||s<n)return;this._stacks||(this._stacks=new Map);const d=new Error().stack.split(`
`).slice(3).join(`
`),t=this._stacks.get(d)||0;if(this._stacks.set(d,t+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let o,h=0;for(const[m,y]of this._stacks)(!o||h<y)&&(o=m,h=y);console.warn(`[${this.name}] potential listener LEAK detected, having ${s} listeners already. MOST frequent listener (${h}):`),console.warn(o)}return()=>{const o=this._stacks.get(d)||0;this._stacks.set(d,o-1)}}}class v{constructor(s){var n;this._disposed=!1,this._options=s,this._leakageMon=C>0?new i(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((n=this._options)===null||n===void 0?void 0:n._profName)?new p(this._options._profName):void 0}get event(){return this._event||(this._event=(s,n,d)=>{var t;this._listeners||(this._listeners=new T.LinkedList);const o=this._listeners.isEmpty();o&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const h=this._listeners.push(n?[s,n]:s);o&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,s,n);const m=(t=this._leakageMon)===null||t===void 0?void 0:t.check(this._listeners.size),y=(0,k.toDisposable)(()=>{m&&m(),this._disposed||(h(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return d instanceof k.DisposableStore?d.add(y):Array.isArray(d)&&d.push(y),y}),this._event}fire(s){var n,d;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new T.LinkedList);for(let t of this._listeners)this._deliveryQueue.push([t,s]);for((n=this._perfMon)===null||n===void 0||n.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[t,o]=this._deliveryQueue.shift();try{typeof t=="function"?t.call(void 0,o):t[0].call(t[1],o)}catch(h){(0,b.onUnexpectedError)(h)}}(d=this._perfMon)===null||d===void 0||d.stop()}}dispose(){var s,n,d,t,o;this._disposed||(this._disposed=!0,(s=this._listeners)===null||s===void 0||s.clear(),(n=this._deliveryQueue)===null||n===void 0||n.clear(),(t=(d=this._options)===null||d===void 0?void 0:d.onLastListenerRemove)===null||t===void 0||t.call(d),(o=this._leakageMon)===null||o===void 0||o.dispose())}}e.Emitter=v;class r extends v{constructor(s){super(s);this._isPaused=0,this._eventQueue=new T.LinkedList,this._mergeFn=s==null?void 0:s.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const s=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(s))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(s){this._listeners&&(this._isPaused!==0?this._eventQueue.push(s):super.fire(s))}}e.PauseableEmitter=r;class a extends r{constructor(s){var n;super(s);this._delay=(n=s.delay)!==null&&n!==void 0?n:100}fire(s){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(s)}}e.DebounceEmitter=a;class l{constructor(){this.buffers=[]}wrapEvent(s){return(n,d,t)=>s(o=>{const h=this.buffers[this.buffers.length-1];h?h.push(()=>n.call(d,o)):n.call(d,o)},void 0,t)}bufferEvents(s){const n=[];this.buffers.push(n);const d=s();return this.buffers.pop(),n.forEach(t=>t()),d}}e.EventBufferer=l;class c{constructor(){this.listening=!1,this.inputEvent=S.None,this.inputEventListener=k.Disposable.None,this.emitter=new v({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(s){this.inputEvent=s,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=s(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=c}),define(ee[39],te([0,1,6]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getPixelRatio=e.getZoomFactor=e.onDidChangeZoomLevel=e.getTimeSinceLastZoomLevelChanged=e.getZoomLevel=void 0;class k{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new b.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let r=document.createElement("canvas").getContext("2d"),a=window.devicePixelRatio||1,l=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;return a/l}}k.INSTANCE=new k;function T(){return k.INSTANCE.getZoomLevel()}e.getZoomLevel=T;function L(){return k.INSTANCE.getTimeSinceLastZoomLevelChanged()}e.getTimeSinceLastZoomLevelChanged=L;function S(v){return k.INSTANCE.onDidChangeZoomLevel(v)}e.onDidChangeZoomLevel=S;function p(){return k.INSTANCE.getZoomFactor()}e.getZoomFactor=p;function C(){return k.INSTANCE.getPixelRatio()}e.getPixelRatio=C;const i=navigator.userAgent;e.isFirefox=i.indexOf("Firefox")>=0,e.isWebKit=i.indexOf("AppleWebKit")>=0,e.isChrome=i.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&i.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isAndroid=i.indexOf("Android")>=0,e.isStandalone=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches}),define(ee[156],te([0,1,39,17]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:k.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:k.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>k.isNative||b.isStandalone?0:navigator.keyboard||b.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(ee[91],te([0,1,6]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stopEvent=e.DomEmitter=void 0;class k{constructor(S,p,C){const i=v=>this.emitter.fire(v);this.emitter=new b.Emitter({onFirstListenerAdd:()=>S.addEventListener(p,i,C),onLastListenerRemove:()=>S.removeEventListener(p,i,C)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}e.DomEmitter=k;function T(L){return L.preventDefault(),L.stopPropagation(),L}e.stopEvent=T}),define(ee[51],te([0,1,39,41,17]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;let L=new Array(230),S=new Array(112);(function(){for(let c=0;c<S.length;c++)S[c]=-1;function l(c,u){L[c]=u,S[u]=c}l(3,7),l(8,1),l(9,2),l(13,3),l(16,4),l(17,5),l(18,6),l(19,7),l(20,8),l(27,9),l(32,10),l(33,11),l(34,12),l(35,13),l(36,14),l(37,15),l(38,16),l(39,17),l(40,18),l(45,19),l(46,20),l(48,21),l(49,22),l(50,23),l(51,24),l(52,25),l(53,26),l(54,27),l(55,28),l(56,29),l(57,30),l(65,31),l(66,32),l(67,33),l(68,34),l(69,35),l(70,36),l(71,37),l(72,38),l(73,39),l(74,40),l(75,41),l(76,42),l(77,43),l(78,44),l(79,45),l(80,46),l(81,47),l(82,48),l(83,49),l(84,50),l(85,51),l(86,52),l(87,53),l(88,54),l(89,55),l(90,56),l(93,58),l(96,93),l(97,94),l(98,95),l(99,96),l(100,97),l(101,98),l(102,99),l(103,100),l(104,101),l(105,102),l(106,103),l(107,104),l(108,105),l(109,106),l(110,107),l(111,108),l(112,59),l(113,60),l(114,61),l(115,62),l(116,63),l(117,64),l(118,65),l(119,66),l(120,67),l(121,68),l(122,69),l(123,70),l(124,71),l(125,72),l(126,73),l(127,74),l(128,75),l(129,76),l(130,77),l(144,78),l(145,79),l(186,80),l(187,81),l(188,82),l(189,83),l(190,84),l(191,85),l(192,86),l(193,110),l(194,111),l(219,87),l(220,88),l(221,89),l(222,90),l(223,91),l(226,92),l(229,109),b.isFirefox?(l(59,80),l(107,81),l(109,83),T.isMacintosh&&l(224,57)):b.isWebKit&&(l(91,57),T.isMacintosh?l(93,57):l(92,57))})();function p(l){if(l.charCode){let c=String.fromCharCode(l.charCode).toUpperCase();return k.KeyCodeUtils.fromString(c)}return L[l.keyCode]||0}const C=T.isMacintosh?256:2048,i=512,v=1024,r=T.isMacintosh?2048:256;class a{constructor(c){this._standardKeyboardEventBrand=!0;let u=c;this.browserEvent=u,this.target=u.target,this.ctrlKey=u.ctrlKey,this.shiftKey=u.shiftKey,this.altKey=u.altKey,this.metaKey=u.metaKey,this.keyCode=p(u),this.code=u.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(c){return this._asKeybinding===c}_computeKeybinding(){let c=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(c=this.keyCode);let u=0;return this.ctrlKey&&(u|=C),this.altKey&&(u|=i),this.shiftKey&&(u|=v),this.metaKey&&(u|=r),u|=c,u}_computeRuntimeKeybinding(){let c=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(c=this.keyCode),new k.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,c)}}e.StandardKeyboardEvent=a}),define(ee[55],te([0,1,39,196,17]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class L{constructor(C){this.timestamp=Date.now(),this.browserEvent=C,this.leftButton=C.button===0,this.middleButton=C.button===1,this.rightButton=C.button===2,this.buttons=C.buttons,this.target=C.target,this.detail=C.detail||1,C.type==="dblclick"&&(this.detail=2),this.ctrlKey=C.ctrlKey,this.shiftKey=C.shiftKey,this.altKey=C.altKey,this.metaKey=C.metaKey,typeof C.pageX=="number"?(this.posx=C.pageX,this.posy=C.pageY):(this.posx=C.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=C.clientY+document.body.scrollTop+document.documentElement.scrollTop);let i=k.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,C.view);this.posx-=i.left,this.posy-=i.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=L;class S{constructor(C,i=0,v=0){if(this.browserEvent=C||null,this.target=C?C.target||C.targetNode||C.srcElement:null,this.deltaY=v,this.deltaX=i,C){let r=C,a=C;if(typeof r.wheelDeltaY!="undefined")this.deltaY=r.wheelDeltaY/120;else if(typeof a.VERTICAL_AXIS!="undefined"&&a.axis===a.VERTICAL_AXIS)this.deltaY=-a.detail/3;else if(C.type==="wheel"){const l=C;l.deltaMode===l.DOM_DELTA_LINE?b.isFirefox&&!T.isMacintosh?this.deltaY=-C.deltaY/3:this.deltaY=-C.deltaY:this.deltaY=-C.deltaY/40}if(typeof r.wheelDeltaX!="undefined")b.isSafari&&T.isWindows?this.deltaX=-(r.wheelDeltaX/120):this.deltaX=r.wheelDeltaX/120;else if(typeof a.HORIZONTAL_AXIS!="undefined"&&a.axis===a.HORIZONTAL_AXIS)this.deltaX=-C.detail/3;else if(C.type==="wheel"){const l=C;l.deltaMode===l.DOM_DELTA_LINE?b.isFirefox&&!T.isMacintosh?this.deltaX=-C.deltaX/3:this.deltaX=-C.deltaX:this.deltaX=-C.deltaX/40}this.deltaY===0&&this.deltaX===0&&C.wheelDelta&&(this.deltaY=C.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}e.StandardWheelEvent=S}),define(ee[23],te([0,1,6]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const k=Object.freeze(function(p,C){const i=setTimeout(p.bind(C),0);return{dispose(){clearTimeout(i)}}});var T;(function(p){function C(i){return i===p.None||i===p.Cancelled||i instanceof L?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}p.isCancellationToken=C,p.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:b.Event.None}),p.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:k})})(T=e.CancellationToken||(e.CancellationToken={}));class L{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?k:(this._emitter||(this._emitter=new b.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class S{constructor(C){this._token=void 0,this._parentListener=void 0,this._parentListener=C&&C.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new L),this._token}cancel(){this._token?this._token instanceof L&&this._token.cancel():this._token=T.Cancelled}dispose(C=!1){C&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof L&&this._token.dispose():this._token=T.None}}e.CancellationTokenSource=S});var Ie=this&&this.__awaiter||function(G,e,b,k){function T(L){return L instanceof b?L:new b(function(S){S(L)})}return new(b||(b=Promise))(function(L,S){function p(v){try{i(k.next(v))}catch(r){S(r)}}function C(v){try{i(k.throw(v))}catch(r){S(r)}}function i(v){v.done?L(v.value):T(v.value).then(p,C)}i((k=k.apply(G,e||[])).next())})};define(ee[15],te([0,1,23,12,2]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Promises=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function L(t){return!!t&&typeof t.then=="function"}e.isThenable=L;function S(t){const o=new b.CancellationTokenSource,h=t(o.token),m=new Promise((y,w)=>{const g=o.token.onCancellationRequested(()=>{g.dispose(),o.dispose(),w((0,k.canceled)())});Promise.resolve(h).then(f=>{g.dispose(),o.dispose(),y(f)},f=>{g.dispose(),o.dispose(),w(f)})});return new class{cancel(){o.cancel()}then(y,w){return m.then(y,w)}catch(y){return this.then(void 0,y)}finally(y){return m.finally(y)}}}e.createCancelablePromise=S;function p(t,o,h){return Promise.race([t,new Promise(m=>o.onCancellationRequested(()=>m(h)))])}e.raceCancellation=p;class C{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(o){if(this.activePromise){if(this.queuedPromiseFactory=o,!this.queuedPromise){const h=()=>{this.queuedPromise=null;const m=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,m};this.queuedPromise=new Promise(m=>{this.activePromise.then(h,h).then(m)})}return new Promise((h,m)=>{this.queuedPromise.then(h,m)})}return this.activePromise=o(),new Promise((h,m)=>{this.activePromise.then(y=>{this.activePromise=null,h(y)},y=>{this.activePromise=null,m(y)})})}}e.Throttler=C;class i{constructor(o){this.defaultDelay=o,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(o,h=this.defaultDelay){return this.task=o,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((m,y)=>{this.doResolve=m,this.doReject=y}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const m=this.task;return this.task=null,m()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},h),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,k.canceled)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}e.Delayer=i;class v{constructor(o){this.delayer=new i(o),this.throttler=new C}trigger(o,h){return this.delayer.trigger(()=>this.throttler.queue(o),h)}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=v;function r(t,o){return o?new Promise((h,m)=>{const y=setTimeout(()=>{w.dispose(),h()},t),w=o.onCancellationRequested(()=>{clearTimeout(y),w.dispose(),m((0,k.canceled)())})}):S(h=>r(t,h))}e.timeout=r;function a(t,o=0){const h=setTimeout(t,o);return(0,T.toDisposable)(()=>clearTimeout(h))}e.disposableTimeout=a;function l(t,o=m=>!!m,h=null){let m=0;const y=t.length,w=()=>{if(m>=y)return Promise.resolve(h);const g=t[m++];return Promise.resolve(g()).then(_=>o(_)?Promise.resolve(_):w())};return w()}e.first=l;class c{constructor(o,h){this._token=-1,typeof o=="function"&&typeof h=="number"&&this.setIfNotSet(o,h)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(o,h){this.cancel(),this._token=setTimeout(()=>{this._token=-1,o()},h)}setIfNotSet(o,h){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,o()},h))}}e.TimeoutTimer=c;class u{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(o,h){this.cancel(),this._token=setInterval(()=>{o()},h)}}e.IntervalTimer=u;class s{constructor(o,h){this.timeoutToken=-1,this.runner=o,this.timeout=h,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(o=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,o)}get delay(){return this.timeout}set delay(o){this.timeout=o}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=s,function(){if(typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"){const t=Object.freeze({didTimeout:!0,timeRemaining(){return 15}});e.runWhenIdle=o=>{const h=setTimeout(()=>o(t));let m=!1;return{dispose(){m||(m=!0,clearTimeout(h))}}}}else e.runWhenIdle=(t,o)=>{const h=requestIdleCallback(t,typeof o=="number"?{timeout:o}:void 0);let m=!1;return{dispose(){m||(m=!0,cancelIdleCallback(h))}}}}();class n{constructor(o){this._didRun=!1,this._executor=()=>{try{this._value=o()}catch(h){this._error=h}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}}e.IdleValue=n;var d;(function(t){function o(h){return Ie(this,void 0,void 0,function*(){let m;const y=yield Promise.all(h.map(w=>w.then(g=>g,g=>{m||(m=g)})));if(typeof m!="undefined")throw m;return y})}t.settled=o})(d=e.Promises||(e.Promises={}))}),define(ee[290],te([0,1,15,2]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class T extends k.Disposable{constructor(S,p,C){super();this._visibility=S,this._visibleClassName=p,this._invisibleClassName=C,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new b.TimeoutTimer)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this._updateShouldBeVisible())}setShouldBeVisible(S){this._rawShouldBeVisible=S,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const S=this._applyVisibilitySetting();this._shouldBeVisible!==S&&(this._shouldBeVisible=S,this.ensureVisibility())}setIsNeeded(S){this._isNeeded!==S&&(this._isNeeded=S,this.ensureVisibility())}setDomNode(S){this._domNode=S,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(S){this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(S?" fade":"")))}}e.ScrollbarVisibilityController=T}),define(ee[27],te([0,1,6]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.Codicon=e.getCodiconAriaLabel=e.registerCodicon=e.iconRegistry=void 0;class k{constructor(){this._icons=new Map,this._onDidRegister=new b.Emitter}add(v){const r=this._icons.get(v.id);r?v.description?r.description=v.description:console.error(`Duplicate registration of codicon ${v.id}`):(this._icons.set(v.id,v),this._onDidRegister.fire(v))}get(v){return this._icons.get(v)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const T=new k;e.iconRegistry=T;function L(i,v){return new p(i,v)}e.registerCodicon=L;function S(i){return i?i.replace(/\$\((.*?)\)/g,(v,r)=>` ${r} `).trim():""}e.getCodiconAriaLabel=S;class p{constructor(v,r,a){this.id=v,this.definition=r,this.description=a,T.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}e.Codicon=p;var C;(function(i){i.iconNameSegment="[A-Za-z0-9]+",i.iconNameExpression="[A-Za-z0-9\\-]+",i.iconModifierExpression="~[A-Za-z]+";const v=new RegExp(`^(${i.iconNameExpression})(${i.iconModifierExpression})?$`);function r(c){if(c instanceof p)return["codicon","codicon-"+c.id];const u=v.exec(c.id);if(!u)return r(p.error);let[,s,n]=u;const d=["codicon","codicon-"+s];return n&&d.push("codicon-modifier-"+n.substr(1)),d}i.asClassNameArray=r;function a(c){return r(c).join(" ")}i.asClassName=a;function l(c){return"."+r(c).join(".")}i.asCSSSelector=l})(C=e.CSSIcon||(e.CSSIcon={})),function(i){i.add=new i("add",{fontCharacter:"\\ea60"}),i.plus=new i("plus",{fontCharacter:"\\ea60"}),i.gistNew=new i("gist-new",{fontCharacter:"\\ea60"}),i.repoCreate=new i("repo-create",{fontCharacter:"\\ea60"}),i.lightbulb=new i("lightbulb",{fontCharacter:"\\ea61"}),i.lightBulb=new i("light-bulb",{fontCharacter:"\\ea61"}),i.repo=new i("repo",{fontCharacter:"\\ea62"}),i.repoDelete=new i("repo-delete",{fontCharacter:"\\ea62"}),i.gistFork=new i("gist-fork",{fontCharacter:"\\ea63"}),i.repoForked=new i("repo-forked",{fontCharacter:"\\ea63"}),i.gitPullRequest=new i("git-pull-request",{fontCharacter:"\\ea64"}),i.gitPullRequestAbandoned=new i("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),i.recordKeys=new i("record-keys",{fontCharacter:"\\ea65"}),i.keyboard=new i("keyboard",{fontCharacter:"\\ea65"}),i.tag=new i("tag",{fontCharacter:"\\ea66"}),i.tagAdd=new i("tag-add",{fontCharacter:"\\ea66"}),i.tagRemove=new i("tag-remove",{fontCharacter:"\\ea66"}),i.person=new i("person",{fontCharacter:"\\ea67"}),i.personFollow=new i("person-follow",{fontCharacter:"\\ea67"}),i.personOutline=new i("person-outline",{fontCharacter:"\\ea67"}),i.personFilled=new i("person-filled",{fontCharacter:"\\ea67"}),i.gitBranch=new i("git-branch",{fontCharacter:"\\ea68"}),i.gitBranchCreate=new i("git-branch-create",{fontCharacter:"\\ea68"}),i.gitBranchDelete=new i("git-branch-delete",{fontCharacter:"\\ea68"}),i.sourceControl=new i("source-control",{fontCharacter:"\\ea68"}),i.mirror=new i("mirror",{fontCharacter:"\\ea69"}),i.mirrorPublic=new i("mirror-public",{fontCharacter:"\\ea69"}),i.star=new i("star",{fontCharacter:"\\ea6a"}),i.starAdd=new i("star-add",{fontCharacter:"\\ea6a"}),i.starDelete=new i("star-delete",{fontCharacter:"\\ea6a"}),i.starEmpty=new i("star-empty",{fontCharacter:"\\ea6a"}),i.comment=new i("comment",{fontCharacter:"\\ea6b"}),i.commentAdd=new i("comment-add",{fontCharacter:"\\ea6b"}),i.alert=new i("alert",{fontCharacter:"\\ea6c"}),i.warning=new i("warning",{fontCharacter:"\\ea6c"}),i.search=new i("search",{fontCharacter:"\\ea6d"}),i.searchSave=new i("search-save",{fontCharacter:"\\ea6d"}),i.logOut=new i("log-out",{fontCharacter:"\\ea6e"}),i.signOut=new i("sign-out",{fontCharacter:"\\ea6e"}),i.logIn=new i("log-in",{fontCharacter:"\\ea6f"}),i.signIn=new i("sign-in",{fontCharacter:"\\ea6f"}),i.eye=new i("eye",{fontCharacter:"\\ea70"}),i.eyeUnwatch=new i("eye-unwatch",{fontCharacter:"\\ea70"}),i.eyeWatch=new i("eye-watch",{fontCharacter:"\\ea70"}),i.circleFilled=new i("circle-filled",{fontCharacter:"\\ea71"}),i.primitiveDot=new i("primitive-dot",{fontCharacter:"\\ea71"}),i.closeDirty=new i("close-dirty",{fontCharacter:"\\ea71"}),i.debugBreakpoint=new i("debug-breakpoint",{fontCharacter:"\\ea71"}),i.debugBreakpointDisabled=new i("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),i.debugHint=new i("debug-hint",{fontCharacter:"\\ea71"}),i.primitiveSquare=new i("primitive-square",{fontCharacter:"\\ea72"}),i.edit=new i("edit",{fontCharacter:"\\ea73"}),i.pencil=new i("pencil",{fontCharacter:"\\ea73"}),i.info=new i("info",{fontCharacter:"\\ea74"}),i.issueOpened=new i("issue-opened",{fontCharacter:"\\ea74"}),i.gistPrivate=new i("gist-private",{fontCharacter:"\\ea75"}),i.gitForkPrivate=new i("git-fork-private",{fontCharacter:"\\ea75"}),i.lock=new i("lock",{fontCharacter:"\\ea75"}),i.mirrorPrivate=new i("mirror-private",{fontCharacter:"\\ea75"}),i.close=new i("close",{fontCharacter:"\\ea76"}),i.removeClose=new i("remove-close",{fontCharacter:"\\ea76"}),i.x=new i("x",{fontCharacter:"\\ea76"}),i.repoSync=new i("repo-sync",{fontCharacter:"\\ea77"}),i.sync=new i("sync",{fontCharacter:"\\ea77"}),i.clone=new i("clone",{fontCharacter:"\\ea78"}),i.desktopDownload=new i("desktop-download",{fontCharacter:"\\ea78"}),i.beaker=new i("beaker",{fontCharacter:"\\ea79"}),i.microscope=new i("microscope",{fontCharacter:"\\ea79"}),i.vm=new i("vm",{fontCharacter:"\\ea7a"}),i.deviceDesktop=new i("device-desktop",{fontCharacter:"\\ea7a"}),i.file=new i("file",{fontCharacter:"\\ea7b"}),i.fileText=new i("file-text",{fontCharacter:"\\ea7b"}),i.more=new i("more",{fontCharacter:"\\ea7c"}),i.ellipsis=new i("ellipsis",{fontCharacter:"\\ea7c"}),i.kebabHorizontal=new i("kebab-horizontal",{fontCharacter:"\\ea7c"}),i.mailReply=new i("mail-reply",{fontCharacter:"\\ea7d"}),i.reply=new i("reply",{fontCharacter:"\\ea7d"}),i.organization=new i("organization",{fontCharacter:"\\ea7e"}),i.organizationFilled=new i("organization-filled",{fontCharacter:"\\ea7e"}),i.organizationOutline=new i("organization-outline",{fontCharacter:"\\ea7e"}),i.newFile=new i("new-file",{fontCharacter:"\\ea7f"}),i.fileAdd=new i("file-add",{fontCharacter:"\\ea7f"}),i.newFolder=new i("new-folder",{fontCharacter:"\\ea80"}),i.fileDirectoryCreate=new i("file-directory-create",{fontCharacter:"\\ea80"}),i.trash=new i("trash",{fontCharacter:"\\ea81"}),i.trashcan=new i("trashcan",{fontCharacter:"\\ea81"}),i.history=new i("history",{fontCharacter:"\\ea82"}),i.clock=new i("clock",{fontCharacter:"\\ea82"}),i.folder=new i("folder",{fontCharacter:"\\ea83"}),i.fileDirectory=new i("file-directory",{fontCharacter:"\\ea83"}),i.symbolFolder=new i("symbol-folder",{fontCharacter:"\\ea83"}),i.logoGithub=new i("logo-github",{fontCharacter:"\\ea84"}),i.markGithub=new i("mark-github",{fontCharacter:"\\ea84"}),i.github=new i("github",{fontCharacter:"\\ea84"}),i.terminal=new i("terminal",{fontCharacter:"\\ea85"}),i.console=new i("console",{fontCharacter:"\\ea85"}),i.repl=new i("repl",{fontCharacter:"\\ea85"}),i.zap=new i("zap",{fontCharacter:"\\ea86"}),i.symbolEvent=new i("symbol-event",{fontCharacter:"\\ea86"}),i.error=new i("error",{fontCharacter:"\\ea87"}),i.stop=new i("stop",{fontCharacter:"\\ea87"}),i.variable=new i("variable",{fontCharacter:"\\ea88"}),i.symbolVariable=new i("symbol-variable",{fontCharacter:"\\ea88"}),i.array=new i("array",{fontCharacter:"\\ea8a"}),i.symbolArray=new i("symbol-array",{fontCharacter:"\\ea8a"}),i.symbolModule=new i("symbol-module",{fontCharacter:"\\ea8b"}),i.symbolPackage=new i("symbol-package",{fontCharacter:"\\ea8b"}),i.symbolNamespace=new i("symbol-namespace",{fontCharacter:"\\ea8b"}),i.symbolObject=new i("symbol-object",{fontCharacter:"\\ea8b"}),i.symbolMethod=new i("symbol-method",{fontCharacter:"\\ea8c"}),i.symbolFunction=new i("symbol-function",{fontCharacter:"\\ea8c"}),i.symbolConstructor=new i("symbol-constructor",{fontCharacter:"\\ea8c"}),i.symbolBoolean=new i("symbol-boolean",{fontCharacter:"\\ea8f"}),i.symbolNull=new i("symbol-null",{fontCharacter:"\\ea8f"}),i.symbolNumeric=new i("symbol-numeric",{fontCharacter:"\\ea90"}),i.symbolNumber=new i("symbol-number",{fontCharacter:"\\ea90"}),i.symbolStructure=new i("symbol-structure",{fontCharacter:"\\ea91"}),i.symbolStruct=new i("symbol-struct",{fontCharacter:"\\ea91"}),i.symbolParameter=new i("symbol-parameter",{fontCharacter:"\\ea92"}),i.symbolTypeParameter=new i("symbol-type-parameter",{fontCharacter:"\\ea92"}),i.symbolKey=new i("symbol-key",{fontCharacter:"\\ea93"}),i.symbolText=new i("symbol-text",{fontCharacter:"\\ea93"}),i.symbolReference=new i("symbol-reference",{fontCharacter:"\\ea94"}),i.goToFile=new i("go-to-file",{fontCharacter:"\\ea94"}),i.symbolEnum=new i("symbol-enum",{fontCharacter:"\\ea95"}),i.symbolValue=new i("symbol-value",{fontCharacter:"\\ea95"}),i.symbolRuler=new i("symbol-ruler",{fontCharacter:"\\ea96"}),i.symbolUnit=new i("symbol-unit",{fontCharacter:"\\ea96"}),i.activateBreakpoints=new i("activate-breakpoints",{fontCharacter:"\\ea97"}),i.archive=new i("archive",{fontCharacter:"\\ea98"}),i.arrowBoth=new i("arrow-both",{fontCharacter:"\\ea99"}),i.arrowDown=new i("arrow-down",{fontCharacter:"\\ea9a"}),i.arrowLeft=new i("arrow-left",{fontCharacter:"\\ea9b"}),i.arrowRight=new i("arrow-right",{fontCharacter:"\\ea9c"}),i.arrowSmallDown=new i("arrow-small-down",{fontCharacter:"\\ea9d"}),i.arrowSmallLeft=new i("arrow-small-left",{fontCharacter:"\\ea9e"}),i.arrowSmallRight=new i("arrow-small-right",{fontCharacter:"\\ea9f"}),i.arrowSmallUp=new i("arrow-small-up",{fontCharacter:"\\eaa0"}),i.arrowUp=new i("arrow-up",{fontCharacter:"\\eaa1"}),i.bell=new i("bell",{fontCharacter:"\\eaa2"}),i.bold=new i("bold",{fontCharacter:"\\eaa3"}),i.book=new i("book",{fontCharacter:"\\eaa4"}),i.bookmark=new i("bookmark",{fontCharacter:"\\eaa5"}),i.debugBreakpointConditionalUnverified=new i("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),i.debugBreakpointConditional=new i("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),i.debugBreakpointConditionalDisabled=new i("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),i.debugBreakpointDataUnverified=new i("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),i.debugBreakpointData=new i("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),i.debugBreakpointDataDisabled=new i("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),i.debugBreakpointLogUnverified=new i("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),i.debugBreakpointLog=new i("debug-breakpoint-log",{fontCharacter:"\\eaab"}),i.debugBreakpointLogDisabled=new i("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),i.briefcase=new i("briefcase",{fontCharacter:"\\eaac"}),i.broadcast=new i("broadcast",{fontCharacter:"\\eaad"}),i.browser=new i("browser",{fontCharacter:"\\eaae"}),i.bug=new i("bug",{fontCharacter:"\\eaaf"}),i.calendar=new i("calendar",{fontCharacter:"\\eab0"}),i.caseSensitive=new i("case-sensitive",{fontCharacter:"\\eab1"}),i.check=new i("check",{fontCharacter:"\\eab2"}),i.checklist=new i("checklist",{fontCharacter:"\\eab3"}),i.chevronDown=new i("chevron-down",{fontCharacter:"\\eab4"}),i.chevronLeft=new i("chevron-left",{fontCharacter:"\\eab5"}),i.chevronRight=new i("chevron-right",{fontCharacter:"\\eab6"}),i.chevronUp=new i("chevron-up",{fontCharacter:"\\eab7"}),i.chromeClose=new i("chrome-close",{fontCharacter:"\\eab8"}),i.chromeMaximize=new i("chrome-maximize",{fontCharacter:"\\eab9"}),i.chromeMinimize=new i("chrome-minimize",{fontCharacter:"\\eaba"}),i.chromeRestore=new i("chrome-restore",{fontCharacter:"\\eabb"}),i.circleOutline=new i("circle-outline",{fontCharacter:"\\eabc"}),i.debugBreakpointUnverified=new i("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),i.circleSlash=new i("circle-slash",{fontCharacter:"\\eabd"}),i.circuitBoard=new i("circuit-board",{fontCharacter:"\\eabe"}),i.clearAll=new i("clear-all",{fontCharacter:"\\eabf"}),i.clippy=new i("clippy",{fontCharacter:"\\eac0"}),i.closeAll=new i("close-all",{fontCharacter:"\\eac1"}),i.cloudDownload=new i("cloud-download",{fontCharacter:"\\eac2"}),i.cloudUpload=new i("cloud-upload",{fontCharacter:"\\eac3"}),i.code=new i("code",{fontCharacter:"\\eac4"}),i.collapseAll=new i("collapse-all",{fontCharacter:"\\eac5"}),i.colorMode=new i("color-mode",{fontCharacter:"\\eac6"}),i.commentDiscussion=new i("comment-discussion",{fontCharacter:"\\eac7"}),i.compareChanges=new i("compare-changes",{fontCharacter:"\\eafd"}),i.creditCard=new i("credit-card",{fontCharacter:"\\eac9"}),i.dash=new i("dash",{fontCharacter:"\\eacc"}),i.dashboard=new i("dashboard",{fontCharacter:"\\eacd"}),i.database=new i("database",{fontCharacter:"\\eace"}),i.debugContinue=new i("debug-continue",{fontCharacter:"\\eacf"}),i.debugDisconnect=new i("debug-disconnect",{fontCharacter:"\\ead0"}),i.debugPause=new i("debug-pause",{fontCharacter:"\\ead1"}),i.debugRestart=new i("debug-restart",{fontCharacter:"\\ead2"}),i.debugStart=new i("debug-start",{fontCharacter:"\\ead3"}),i.debugStepInto=new i("debug-step-into",{fontCharacter:"\\ead4"}),i.debugStepOut=new i("debug-step-out",{fontCharacter:"\\ead5"}),i.debugStepOver=new i("debug-step-over",{fontCharacter:"\\ead6"}),i.debugStop=new i("debug-stop",{fontCharacter:"\\ead7"}),i.debug=new i("debug",{fontCharacter:"\\ead8"}),i.deviceCameraVideo=new i("device-camera-video",{fontCharacter:"\\ead9"}),i.deviceCamera=new i("device-camera",{fontCharacter:"\\eada"}),i.deviceMobile=new i("device-mobile",{fontCharacter:"\\eadb"}),i.diffAdded=new i("diff-added",{fontCharacter:"\\eadc"}),i.diffIgnored=new i("diff-ignored",{fontCharacter:"\\eadd"}),i.diffModified=new i("diff-modified",{fontCharacter:"\\eade"}),i.diffRemoved=new i("diff-removed",{fontCharacter:"\\eadf"}),i.diffRenamed=new i("diff-renamed",{fontCharacter:"\\eae0"}),i.diff=new i("diff",{fontCharacter:"\\eae1"}),i.discard=new i("discard",{fontCharacter:"\\eae2"}),i.editorLayout=new i("editor-layout",{fontCharacter:"\\eae3"}),i.emptyWindow=new i("empty-window",{fontCharacter:"\\eae4"}),i.exclude=new i("exclude",{fontCharacter:"\\eae5"}),i.extensions=new i("extensions",{fontCharacter:"\\eae6"}),i.eyeClosed=new i("eye-closed",{fontCharacter:"\\eae7"}),i.fileBinary=new i("file-binary",{fontCharacter:"\\eae8"}),i.fileCode=new i("file-code",{fontCharacter:"\\eae9"}),i.fileMedia=new i("file-media",{fontCharacter:"\\eaea"}),i.filePdf=new i("file-pdf",{fontCharacter:"\\eaeb"}),i.fileSubmodule=new i("file-submodule",{fontCharacter:"\\eaec"}),i.fileSymlinkDirectory=new i("file-symlink-directory",{fontCharacter:"\\eaed"}),i.fileSymlinkFile=new i("file-symlink-file",{fontCharacter:"\\eaee"}),i.fileZip=new i("file-zip",{fontCharacter:"\\eaef"}),i.files=new i("files",{fontCharacter:"\\eaf0"}),i.filter=new i("filter",{fontCharacter:"\\eaf1"}),i.flame=new i("flame",{fontCharacter:"\\eaf2"}),i.foldDown=new i("fold-down",{fontCharacter:"\\eaf3"}),i.foldUp=new i("fold-up",{fontCharacter:"\\eaf4"}),i.fold=new i("fold",{fontCharacter:"\\eaf5"}),i.folderActive=new i("folder-active",{fontCharacter:"\\eaf6"}),i.folderOpened=new i("folder-opened",{fontCharacter:"\\eaf7"}),i.gear=new i("gear",{fontCharacter:"\\eaf8"}),i.gift=new i("gift",{fontCharacter:"\\eaf9"}),i.gistSecret=new i("gist-secret",{fontCharacter:"\\eafa"}),i.gist=new i("gist",{fontCharacter:"\\eafb"}),i.gitCommit=new i("git-commit",{fontCharacter:"\\eafc"}),i.gitCompare=new i("git-compare",{fontCharacter:"\\eafd"}),i.gitMerge=new i("git-merge",{fontCharacter:"\\eafe"}),i.githubAction=new i("github-action",{fontCharacter:"\\eaff"}),i.githubAlt=new i("github-alt",{fontCharacter:"\\eb00"}),i.globe=new i("globe",{fontCharacter:"\\eb01"}),i.grabber=new i("grabber",{fontCharacter:"\\eb02"}),i.graph=new i("graph",{fontCharacter:"\\eb03"}),i.gripper=new i("gripper",{fontCharacter:"\\eb04"}),i.heart=new i("heart",{fontCharacter:"\\eb05"}),i.home=new i("home",{fontCharacter:"\\eb06"}),i.horizontalRule=new i("horizontal-rule",{fontCharacter:"\\eb07"}),i.hubot=new i("hubot",{fontCharacter:"\\eb08"}),i.inbox=new i("inbox",{fontCharacter:"\\eb09"}),i.issueClosed=new i("issue-closed",{fontCharacter:"\\eba4"}),i.issueReopened=new i("issue-reopened",{fontCharacter:"\\eb0b"}),i.issues=new i("issues",{fontCharacter:"\\eb0c"}),i.italic=new i("italic",{fontCharacter:"\\eb0d"}),i.jersey=new i("jersey",{fontCharacter:"\\eb0e"}),i.json=new i("json",{fontCharacter:"\\eb0f"}),i.kebabVertical=new i("kebab-vertical",{fontCharacter:"\\eb10"}),i.key=new i("key",{fontCharacter:"\\eb11"}),i.law=new i("law",{fontCharacter:"\\eb12"}),i.lightbulbAutofix=new i("lightbulb-autofix",{fontCharacter:"\\eb13"}),i.linkExternal=new i("link-external",{fontCharacter:"\\eb14"}),i.link=new i("link",{fontCharacter:"\\eb15"}),i.listOrdered=new i("list-ordered",{fontCharacter:"\\eb16"}),i.listUnordered=new i("list-unordered",{fontCharacter:"\\eb17"}),i.liveShare=new i("live-share",{fontCharacter:"\\eb18"}),i.loading=new i("loading",{fontCharacter:"\\eb19"}),i.location=new i("location",{fontCharacter:"\\eb1a"}),i.mailRead=new i("mail-read",{fontCharacter:"\\eb1b"}),i.mail=new i("mail",{fontCharacter:"\\eb1c"}),i.markdown=new i("markdown",{fontCharacter:"\\eb1d"}),i.megaphone=new i("megaphone",{fontCharacter:"\\eb1e"}),i.mention=new i("mention",{fontCharacter:"\\eb1f"}),i.milestone=new i("milestone",{fontCharacter:"\\eb20"}),i.mortarBoard=new i("mortar-board",{fontCharacter:"\\eb21"}),i.move=new i("move",{fontCharacter:"\\eb22"}),i.multipleWindows=new i("multiple-windows",{fontCharacter:"\\eb23"}),i.mute=new i("mute",{fontCharacter:"\\eb24"}),i.noNewline=new i("no-newline",{fontCharacter:"\\eb25"}),i.note=new i("note",{fontCharacter:"\\eb26"}),i.octoface=new i("octoface",{fontCharacter:"\\eb27"}),i.openPreview=new i("open-preview",{fontCharacter:"\\eb28"}),i.package_=new i("package",{fontCharacter:"\\eb29"}),i.paintcan=new i("paintcan",{fontCharacter:"\\eb2a"}),i.pin=new i("pin",{fontCharacter:"\\eb2b"}),i.play=new i("play",{fontCharacter:"\\eb2c"}),i.run=new i("run",{fontCharacter:"\\eb2c"}),i.plug=new i("plug",{fontCharacter:"\\eb2d"}),i.preserveCase=new i("preserve-case",{fontCharacter:"\\eb2e"}),i.preview=new i("preview",{fontCharacter:"\\eb2f"}),i.project=new i("project",{fontCharacter:"\\eb30"}),i.pulse=new i("pulse",{fontCharacter:"\\eb31"}),i.question=new i("question",{fontCharacter:"\\eb32"}),i.quote=new i("quote",{fontCharacter:"\\eb33"}),i.radioTower=new i("radio-tower",{fontCharacter:"\\eb34"}),i.reactions=new i("reactions",{fontCharacter:"\\eb35"}),i.references=new i("references",{fontCharacter:"\\eb36"}),i.refresh=new i("refresh",{fontCharacter:"\\eb37"}),i.regex=new i("regex",{fontCharacter:"\\eb38"}),i.remoteExplorer=new i("remote-explorer",{fontCharacter:"\\eb39"}),i.remote=new i("remote",{fontCharacter:"\\eb3a"}),i.remove=new i("remove",{fontCharacter:"\\eb3b"}),i.replaceAll=new i("replace-all",{fontCharacter:"\\eb3c"}),i.replace=new i("replace",{fontCharacter:"\\eb3d"}),i.repoClone=new i("repo-clone",{fontCharacter:"\\eb3e"}),i.repoForcePush=new i("repo-force-push",{fontCharacter:"\\eb3f"}),i.repoPull=new i("repo-pull",{fontCharacter:"\\eb40"}),i.repoPush=new i("repo-push",{fontCharacter:"\\eb41"}),i.report=new i("report",{fontCharacter:"\\eb42"}),i.requestChanges=new i("request-changes",{fontCharacter:"\\eb43"}),i.rocket=new i("rocket",{fontCharacter:"\\eb44"}),i.rootFolderOpened=new i("root-folder-opened",{fontCharacter:"\\eb45"}),i.rootFolder=new i("root-folder",{fontCharacter:"\\eb46"}),i.rss=new i("rss",{fontCharacter:"\\eb47"}),i.ruby=new i("ruby",{fontCharacter:"\\eb48"}),i.saveAll=new i("save-all",{fontCharacter:"\\eb49"}),i.saveAs=new i("save-as",{fontCharacter:"\\eb4a"}),i.save=new i("save",{fontCharacter:"\\eb4b"}),i.screenFull=new i("screen-full",{fontCharacter:"\\eb4c"}),i.screenNormal=new i("screen-normal",{fontCharacter:"\\eb4d"}),i.searchStop=new i("search-stop",{fontCharacter:"\\eb4e"}),i.server=new i("server",{fontCharacter:"\\eb50"}),i.settingsGear=new i("settings-gear",{fontCharacter:"\\eb51"}),i.settings=new i("settings",{fontCharacter:"\\eb52"}),i.shield=new i("shield",{fontCharacter:"\\eb53"}),i.smiley=new i("smiley",{fontCharacter:"\\eb54"}),i.sortPrecedence=new i("sort-precedence",{fontCharacter:"\\eb55"}),i.splitHorizontal=new i("split-horizontal",{fontCharacter:"\\eb56"}),i.splitVertical=new i("split-vertical",{fontCharacter:"\\eb57"}),i.squirrel=new i("squirrel",{fontCharacter:"\\eb58"}),i.starFull=new i("star-full",{fontCharacter:"\\eb59"}),i.starHalf=new i("star-half",{fontCharacter:"\\eb5a"}),i.symbolClass=new i("symbol-class",{fontCharacter:"\\eb5b"}),i.symbolColor=new i("symbol-color",{fontCharacter:"\\eb5c"}),i.symbolConstant=new i("symbol-constant",{fontCharacter:"\\eb5d"}),i.symbolEnumMember=new i("symbol-enum-member",{fontCharacter:"\\eb5e"}),i.symbolField=new i("symbol-field",{fontCharacter:"\\eb5f"}),i.symbolFile=new i("symbol-file",{fontCharacter:"\\eb60"}),i.symbolInterface=new i("symbol-interface",{fontCharacter:"\\eb61"}),i.symbolKeyword=new i("symbol-keyword",{fontCharacter:"\\eb62"}),i.symbolMisc=new i("symbol-misc",{fontCharacter:"\\eb63"}),i.symbolOperator=new i("symbol-operator",{fontCharacter:"\\eb64"}),i.symbolProperty=new i("symbol-property",{fontCharacter:"\\eb65"}),i.wrench=new i("wrench",{fontCharacter:"\\eb65"}),i.wrenchSubaction=new i("wrench-subaction",{fontCharacter:"\\eb65"}),i.symbolSnippet=new i("symbol-snippet",{fontCharacter:"\\eb66"}),i.tasklist=new i("tasklist",{fontCharacter:"\\eb67"}),i.telescope=new i("telescope",{fontCharacter:"\\eb68"}),i.textSize=new i("text-size",{fontCharacter:"\\eb69"}),i.threeBars=new i("three-bars",{fontCharacter:"\\eb6a"}),i.thumbsdown=new i("thumbsdown",{fontCharacter:"\\eb6b"}),i.thumbsup=new i("thumbsup",{fontCharacter:"\\eb6c"}),i.tools=new i("tools",{fontCharacter:"\\eb6d"}),i.triangleDown=new i("triangle-down",{fontCharacter:"\\eb6e"}),i.triangleLeft=new i("triangle-left",{fontCharacter:"\\eb6f"}),i.triangleRight=new i("triangle-right",{fontCharacter:"\\eb70"}),i.triangleUp=new i("triangle-up",{fontCharacter:"\\eb71"}),i.twitter=new i("twitter",{fontCharacter:"\\eb72"}),i.unfold=new i("unfold",{fontCharacter:"\\eb73"}),i.unlock=new i("unlock",{fontCharacter:"\\eb74"}),i.unmute=new i("unmute",{fontCharacter:"\\eb75"}),i.unverified=new i("unverified",{fontCharacter:"\\eb76"}),i.verified=new i("verified",{fontCharacter:"\\eb77"}),i.versions=new i("versions",{fontCharacter:"\\eb78"}),i.vmActive=new i("vm-active",{fontCharacter:"\\eb79"}),i.vmOutline=new i("vm-outline",{fontCharacter:"\\eb7a"}),i.vmRunning=new i("vm-running",{fontCharacter:"\\eb7b"}),i.watch=new i("watch",{fontCharacter:"\\eb7c"}),i.whitespace=new i("whitespace",{fontCharacter:"\\eb7d"}),i.wholeWord=new i("whole-word",{fontCharacter:"\\eb7e"}),i.window=new i("window",{fontCharacter:"\\eb7f"}),i.wordWrap=new i("word-wrap",{fontCharacter:"\\eb80"}),i.zoomIn=new i("zoom-in",{fontCharacter:"\\eb81"}),i.zoomOut=new i("zoom-out",{fontCharacter:"\\eb82"}),i.listFilter=new i("list-filter",{fontCharacter:"\\eb83"}),i.listFlat=new i("list-flat",{fontCharacter:"\\eb84"}),i.listSelection=new i("list-selection",{fontCharacter:"\\eb85"}),i.selection=new i("selection",{fontCharacter:"\\eb85"}),i.listTree=new i("list-tree",{fontCharacter:"\\eb86"}),i.debugBreakpointFunctionUnverified=new i("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),i.debugBreakpointFunction=new i("debug-breakpoint-function",{fontCharacter:"\\eb88"}),i.debugBreakpointFunctionDisabled=new i("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),i.debugStackframeActive=new i("debug-stackframe-active",{fontCharacter:"\\eb89"}),i.debugStackframeDot=new i("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),i.debugStackframe=new i("debug-stackframe",{fontCharacter:"\\eb8b"}),i.debugStackframeFocused=new i("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),i.debugBreakpointUnsupported=new i("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),i.symbolString=new i("symbol-string",{fontCharacter:"\\eb8d"}),i.debugReverseContinue=new i("debug-reverse-continue",{fontCharacter:"\\eb8e"}),i.debugStepBack=new i("debug-step-back",{fontCharacter:"\\eb8f"}),i.debugRestartFrame=new i("debug-restart-frame",{fontCharacter:"\\eb90"}),i.callIncoming=new i("call-incoming",{fontCharacter:"\\eb92"}),i.callOutgoing=new i("call-outgoing",{fontCharacter:"\\eb93"}),i.menu=new i("menu",{fontCharacter:"\\eb94"}),i.expandAll=new i("expand-all",{fontCharacter:"\\eb95"}),i.feedback=new i("feedback",{fontCharacter:"\\eb96"}),i.groupByRefType=new i("group-by-ref-type",{fontCharacter:"\\eb97"}),i.ungroupByRefType=new i("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),i.account=new i("account",{fontCharacter:"\\eb99"}),i.bellDot=new i("bell-dot",{fontCharacter:"\\eb9a"}),i.debugConsole=new i("debug-console",{fontCharacter:"\\eb9b"}),i.library=new i("library",{fontCharacter:"\\eb9c"}),i.output=new i("output",{fontCharacter:"\\eb9d"}),i.runAll=new i("run-all",{fontCharacter:"\\eb9e"}),i.syncIgnored=new i("sync-ignored",{fontCharacter:"\\eb9f"}),i.pinned=new i("pinned",{fontCharacter:"\\eba0"}),i.githubInverted=new i("github-inverted",{fontCharacter:"\\eba1"}),i.debugAlt=new i("debug-alt",{fontCharacter:"\\eb91"}),i.serverProcess=new i("server-process",{fontCharacter:"\\eba2"}),i.serverEnvironment=new i("server-environment",{fontCharacter:"\\eba3"}),i.pass=new i("pass",{fontCharacter:"\\eba4"}),i.stopCircle=new i("stop-circle",{fontCharacter:"\\eba5"}),i.playCircle=new i("play-circle",{fontCharacter:"\\eba6"}),i.record=new i("record",{fontCharacter:"\\eba7"}),i.debugAltSmall=new i("debug-alt-small",{fontCharacter:"\\eba8"}),i.vmConnect=new i("vm-connect",{fontCharacter:"\\eba9"}),i.cloud=new i("cloud",{fontCharacter:"\\ebaa"}),i.merge=new i("merge",{fontCharacter:"\\ebab"}),i.exportIcon=new i("export",{fontCharacter:"\\ebac"}),i.graphLeft=new i("graph-left",{fontCharacter:"\\ebad"}),i.magnet=new i("magnet",{fontCharacter:"\\ebae"}),i.notebook=new i("notebook",{fontCharacter:"\\ebaf"}),i.redo=new i("redo",{fontCharacter:"\\ebb0"}),i.checkAll=new i("check-all",{fontCharacter:"\\ebb1"}),i.pinnedDirty=new i("pinned-dirty",{fontCharacter:"\\ebb2"}),i.passFilled=new i("pass-filled",{fontCharacter:"\\ebb3"}),i.circleLargeFilled=new i("circle-large-filled",{fontCharacter:"\\ebb4"}),i.circleLargeOutline=new i("circle-large-outline",{fontCharacter:"\\ebb5"}),i.combine=new i("combine",{fontCharacter:"\\ebb6"}),i.gather=new i("gather",{fontCharacter:"\\ebb6"}),i.table=new i("table",{fontCharacter:"\\ebb7"}),i.variableGroup=new i("variable-group",{fontCharacter:"\\ebb8"}),i.typeHierarchy=new i("type-hierarchy",{fontCharacter:"\\ebb9"}),i.typeHierarchySub=new i("type-hierarchy-sub",{fontCharacter:"\\ebba"}),i.typeHierarchySuper=new i("type-hierarchy-super",{fontCharacter:"\\ebbb"}),i.gitPullRequestCreate=new i("git-pull-request-create",{fontCharacter:"\\ebbc"}),i.runAbove=new i("run-above",{fontCharacter:"\\ebbd"}),i.runBelow=new i("run-below",{fontCharacter:"\\ebbe"}),i.notebookTemplate=new i("notebook-template",{fontCharacter:"\\ebbf"}),i.debugRerun=new i("debug-rerun",{fontCharacter:"\\ebc0"}),i.workspaceTrusted=new i("workspace-trusted",{fontCharacter:"\\ebc1"}),i.workspaceUntrusted=new i("workspace-untrusted",{fontCharacter:"\\ebc2"}),i.workspaceUnspecified=new i("workspace-unspecified",{fontCharacter:"\\ebc3"}),i.terminalCmd=new i("terminal-cmd",{fontCharacter:"\\ebc4"}),i.terminalDebian=new i("terminal-debian",{fontCharacter:"\\ebc5"}),i.terminalLinux=new i("terminal-linux",{fontCharacter:"\\ebc6"}),i.terminalPowershell=new i("terminal-powershell",{fontCharacter:"\\ebc7"}),i.terminalTmux=new i("terminal-tmux",{fontCharacter:"\\ebc8"}),i.terminalUbuntu=new i("terminal-ubuntu",{fontCharacter:"\\ebc9"}),i.terminalBash=new i("terminal-bash",{fontCharacter:"\\ebca"}),i.arrowSwap=new i("arrow-swap",{fontCharacter:"\\ebcb"}),i.copy=new i("copy",{fontCharacter:"\\ebcc"}),i.personAdd=new i("person-add",{fontCharacter:"\\ebcd"}),i.filterFilled=new i("filter-filled",{fontCharacter:"\\ebce"}),i.wand=new i("wand",{fontCharacter:"\\ebcf"}),i.debugLineByLine=new i("debug-line-by-line",{fontCharacter:"\\ebd0"}),i.inspect=new i("inspect",{fontCharacter:"\\ebd1"}),i.layers=new i("layers",{fontCharacter:"\\ebd2"}),i.layersDot=new i("layers-dot",{fontCharacter:"\\ebd3"}),i.layersActive=new i("layers-active",{fontCharacter:"\\ebd4"}),i.compass=new i("compass",{fontCharacter:"\\ebd5"}),i.compassDot=new i("compass-dot",{fontCharacter:"\\ebd6"}),i.compassActive=new i("compass-active",{fontCharacter:"\\ebd7"}),i.azure=new i("azure",{fontCharacter:"\\ebd8"}),i.issueDraft=new i("issue-draft",{fontCharacter:"\\ebd9"}),i.gitPullRequestClosed=new i("git-pull-request-closed",{fontCharacter:"\\ebda"}),i.gitPullRequestDraft=new i("git-pull-request-draft",{fontCharacter:"\\ebdb"}),i.debugAll=new i("debug-all",{fontCharacter:"\\ebdc"}),i.debugCoverage=new i("debug-coverage",{fontCharacter:"\\ebdd"}),i.dropDownButton=new i("drop-down-button",i.chevronDown.definition)}(p=e.Codicon||(e.Codicon={}))}),define(ee[200],te([0,1,27]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.treeItemLoadingIcon=e.treeFilterClearIcon=e.treeFilterOnTypeOffIcon=e.treeFilterOnTypeOnIcon=e.treeItemExpandedIcon=void 0,e.treeItemExpandedIcon=(0,b.registerCodicon)("tree-item-expanded",b.Codicon.chevronDown),e.treeFilterOnTypeOnIcon=(0,b.registerCodicon)("tree-filter-on-type-on",b.Codicon.listFilter),e.treeFilterOnTypeOffIcon=(0,b.registerCodicon)("tree-filter-on-type-off",b.Codicon.listSelection),e.treeFilterClearIcon=(0,b.registerCodicon)("tree-filter-clear",b.Codicon.close),e.treeItemLoadingIcon=(0,b.registerCodicon)("tree-item-loading",b.Codicon.loading)}),define(ee[291],te([0,1,15]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const k=new b.IdleValue(()=>{const p=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:p,collatorIsNumeric:p.resolvedOptions().numeric}});function T(p,C,i=!1){const v=p||"",r=C||"",a=k.value.collator.compare(v,r);return k.value.collatorIsNumeric&&a===0&&v!==r?v<r?-1:1:a}e.compareFileNames=T;function L(p,C,i){const v=p.toLowerCase(),r=C.toLowerCase(),a=S(p,C,i);if(a)return a;const l=v.endsWith(i),c=r.endsWith(i);if(l!==c)return l?-1:1;const u=T(v,r);return u!==0?u:v.localeCompare(r)}e.compareAnything=L;function S(p,C,i){const v=p.toLowerCase(),r=C.toLowerCase(),a=v.startsWith(i),l=r.startsWith(i);if(a!==l)return a?-1:1;if(a&&l){if(v.length<r.length)return-1;if(v.length>r.length)return 1}return 0}e.compareByPrefix=S}),define(ee[127],te([0,1,6,2]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class T{constructor(l,c,u,s,n,d){this._scrollStateBrand=void 0,l=l|0,c=c|0,u=u|0,s=s|0,n=n|0,d=d|0,this.rawScrollLeft=u,this.rawScrollTop=d,l<0&&(l=0),u+l>c&&(u=c-l),u<0&&(u=0),s<0&&(s=0),d+s>n&&(d=n-s),d<0&&(d=0),this.width=l,this.scrollWidth=c,this.scrollLeft=u,this.height=s,this.scrollHeight=n,this.scrollTop=d}equals(l){return this.rawScrollLeft===l.rawScrollLeft&&this.rawScrollTop===l.rawScrollTop&&this.width===l.width&&this.scrollWidth===l.scrollWidth&&this.scrollLeft===l.scrollLeft&&this.height===l.height&&this.scrollHeight===l.scrollHeight&&this.scrollTop===l.scrollTop}withScrollDimensions(l,c){return new T(typeof l.width!="undefined"?l.width:this.width,typeof l.scrollWidth!="undefined"?l.scrollWidth:this.scrollWidth,c?this.rawScrollLeft:this.scrollLeft,typeof l.height!="undefined"?l.height:this.height,typeof l.scrollHeight!="undefined"?l.scrollHeight:this.scrollHeight,c?this.rawScrollTop:this.scrollTop)}withScrollPosition(l){return new T(this.width,this.scrollWidth,typeof l.scrollLeft!="undefined"?l.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof l.scrollTop!="undefined"?l.scrollTop:this.rawScrollTop)}createScrollEvent(l,c){const u=this.width!==l.width,s=this.scrollWidth!==l.scrollWidth,n=this.scrollLeft!==l.scrollLeft,d=this.height!==l.height,t=this.scrollHeight!==l.scrollHeight,o=this.scrollTop!==l.scrollTop;return{inSmoothScrolling:c,oldWidth:l.width,oldScrollWidth:l.scrollWidth,oldScrollLeft:l.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:l.height,oldScrollHeight:l.scrollHeight,oldScrollTop:l.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:u,scrollWidthChanged:s,scrollLeftChanged:n,heightChanged:d,scrollHeightChanged:t,scrollTopChanged:o}}}e.ScrollState=T;class L extends k.Disposable{constructor(l,c){super();this._scrollableBrand=void 0,this._onScroll=this._register(new b.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=l,this._scheduleAtNextAnimationFrame=c,this._state=new T(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(l){this._smoothScrollDuration=l}validateScrollPosition(l){return this._state.withScrollPosition(l)}getScrollDimensions(){return this._state}setScrollDimensions(l,c){const u=this._state.withScrollDimensions(l,c);this._setState(u,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(l){const c=this._state.withScrollPosition(l);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(c,!1)}setScrollPositionSmooth(l,c){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(l);if(this._smoothScrolling){l={scrollLeft:typeof l.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:l.scrollLeft,scrollTop:typeof l.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:l.scrollTop};const u=this._state.withScrollPosition(l);if(this._smoothScrolling.to.scrollLeft===u.scrollLeft&&this._smoothScrolling.to.scrollTop===u.scrollTop)return;let s;c?s=new i(this._smoothScrolling.from,u,this._smoothScrolling.startTime,this._smoothScrolling.duration):s=this._smoothScrolling.combine(this._state,u,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=s}else{const u=this._state.withScrollPosition(l);this._smoothScrolling=i.start(this._state,u,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const l=this._smoothScrolling.tick(),c=this._state.withScrollPosition(l);if(this._setState(c,!0),!!this._smoothScrolling){if(l.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(l,c){const u=this._state;u.equals(l)||(this._state=l,this._onScroll.fire(this._state.createScrollEvent(u,c)))}}e.Scrollable=L;class S{constructor(l,c,u){this.scrollLeft=l,this.scrollTop=c,this.isDone=u}}e.SmoothScrollingUpdate=S;function p(a,l){const c=l-a;return function(u){return a+c*r(u)}}function C(a,l,c){return function(u){return u<c?a(u/c):l((u-c)/(1-c))}}class i{constructor(l,c,u,s){this.from=l,this.to=c,this.duration=s,this.startTime=u,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(l,c,u){if(Math.abs(l-c)>2.5*u){let n,d;return l<c?(n=l+.75*u,d=c-.75*u):(n=l-.75*u,d=c+.75*u),C(p(l,n),p(d,c),.33)}return p(l,c)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(l){this.to=l.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(l){const c=(l-this.startTime)/this.duration;if(c<1){const u=this.scrollLeft(c),s=this.scrollTop(c);return new S(u,s,!1)}return new S(this.to.scrollLeft,this.to.scrollTop,!0)}combine(l,c,u){return i.start(l,c,u)}static start(l,c,u){u=u+10;const s=Date.now()-10;return new i(l,c,s,u)}}e.SmoothScrollingOperation=i;function v(a){return Math.pow(a,3)}function r(a){return 1-v(1-a)}}),define(ee[8],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLeftDeleteOffset=e.breakBetweenGraphemeBreakType=e.getGraphemeBreakType=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsEmoji=e.containsRTL=e.decodeUTF8=e.prevCharLength=e.nextCharLength=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function b(U){return!U||typeof U!="string"?!0:U.trim().length===0}e.isFalsyOrWhitespace=b;const k=/{(\d+)}/g;function T(U,...se){return se.length===0?U:U.replace(k,function(Y,ne){const ce=parseInt(ne,10);return isNaN(ce)||ce<0||ce>=se.length?Y:se[ce]})}e.format=T;function L(U){return U.replace(/[<>&]/g,function(se){switch(se){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return se}})}e.escape=L;function S(U){return U.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=S;function p(U,se=" "){const Y=C(U,se);return i(Y,se)}e.trim=p;function C(U,se){if(!U||!se)return U;const Y=se.length;if(Y===0||U.length===0)return U;let ne=0;for(;U.indexOf(se,ne)===ne;)ne=ne+Y;return U.substring(ne)}e.ltrim=C;function i(U,se){if(!U||!se)return U;const Y=se.length,ne=U.length;if(Y===0||ne===0)return U;let ce=ne,pe=-1;for(;pe=U.lastIndexOf(se,ce-1),!(pe===-1||pe+Y!==ce);){if(pe===0)return"";ce=pe}return U.substring(0,ce)}e.rtrim=i;function v(U){return U.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=v;function r(U){return U.replace(/\*/g,"")}e.stripWildcards=r;function a(U,se,Y={}){if(!U)throw new Error("Cannot create regex from empty string");se||(U=S(U)),Y.wholeWord&&(/\B/.test(U.charAt(0))||(U="\\b"+U),/\B/.test(U.charAt(U.length-1))||(U=U+"\\b"));let ne="";return Y.global&&(ne+="g"),Y.matchCase||(ne+="i"),Y.multiline&&(ne+="m"),Y.unicode&&(ne+="u"),new RegExp(U,ne)}e.createRegExp=a;function l(U){return U.source==="^"||U.source==="^$"||U.source==="$"||U.source==="^\\s*$"?!1:!!(U.exec("")&&U.lastIndex===0)}e.regExpLeadsToEndlessLoop=l;function c(U){return(U.global?"g":"")+(U.ignoreCase?"i":"")+(U.multiline?"m":"")+(U.unicode?"u":"")}e.regExpFlags=c;function u(U){return U.split(/\r\n|\r|\n/)}e.splitLines=u;function s(U){for(let se=0,Y=U.length;se<Y;se++){const ne=U.charCodeAt(se);if(ne!==32&&ne!==9)return se}return-1}e.firstNonWhitespaceIndex=s;function n(U,se=0,Y=U.length){for(let ne=se;ne<Y;ne++){const ce=U.charCodeAt(ne);if(ce!==32&&ce!==9)return U.substring(se,ne)}return U.substring(se,Y)}e.getLeadingWhitespace=n;function d(U,se=U.length-1){for(let Y=se;Y>=0;Y--){const ne=U.charCodeAt(Y);if(ne!==32&&ne!==9)return Y}return-1}e.lastNonWhitespaceIndex=d;function t(U,se){return U<se?-1:U>se?1:0}e.compare=t;function o(U,se,Y=0,ne=U.length,ce=0,pe=se.length){for(;Y<ne&&ce<pe;Y++,ce++){let Le=U.charCodeAt(Y),Te=se.charCodeAt(ce);if(Le<Te)return-1;if(Le>Te)return 1}const be=ne-Y,Ee=pe-ce;return be<Ee?-1:be>Ee?1:0}e.compareSubstring=o;function h(U,se){return m(U,se,0,U.length,0,se.length)}e.compareIgnoreCase=h;function m(U,se,Y=0,ne=U.length,ce=0,pe=se.length){for(;Y<ne&&ce<pe;Y++,ce++){let Le=U.charCodeAt(Y),Te=se.charCodeAt(ce);if(Le===Te)continue;const De=Le-Te;if(!(De===32&&w(Te))&&!(De===-32&&w(Le)))return y(Le)&&y(Te)?De:o(U.toLowerCase(),se.toLowerCase(),Y,ne,ce,pe)}const be=ne-Y,Ee=pe-ce;return be<Ee?-1:be>Ee?1:0}e.compareSubstringIgnoreCase=m;function y(U){return U>=97&&U<=122}e.isLowerAsciiLetter=y;function w(U){return U>=65&&U<=90}e.isUpperAsciiLetter=w;function g(U){return y(U)||w(U)}function f(U,se){return U.length===se.length&&_(U,se)}e.equalsIgnoreCase=f;function _(U,se,Y=U.length){for(let ne=0;ne<Y;ne++){const ce=U.charCodeAt(ne),pe=se.charCodeAt(ne);if(ce!==pe){if(g(ce)&&g(pe)){const be=Math.abs(ce-pe);if(be!==0&&be!==32)return!1}else if(String.fromCharCode(ce).toLowerCase()!==String.fromCharCode(pe).toLowerCase())return!1}}return!0}function D(U,se){const Y=se.length;return se.length>U.length?!1:_(U,se,Y)}e.startsWithIgnoreCase=D;function N(U,se){let Y,ne=Math.min(U.length,se.length);for(Y=0;Y<ne;Y++)if(U.charCodeAt(Y)!==se.charCodeAt(Y))return Y;return ne}e.commonPrefixLength=N;function I(U,se){let Y,ne=Math.min(U.length,se.length);const ce=U.length-1,pe=se.length-1;for(Y=0;Y<ne;Y++)if(U.charCodeAt(ce-Y)!==se.charCodeAt(pe-Y))return Y;return ne}e.commonSuffixLength=I;function M(U){return 55296<=U&&U<=56319}e.isHighSurrogate=M;function O(U){return 56320<=U&&U<=57343}e.isLowSurrogate=O;function R(U,se){return(U-55296<<10)+(se-56320)+65536}e.computeCodePoint=R;function P(U,se,Y){const ne=U.charCodeAt(Y);if(M(ne)&&Y+1<se){const ce=U.charCodeAt(Y+1);if(O(ce))return R(ne,ce)}return ne}e.getNextCodePoint=P;function A(U,se){const Y=U.charCodeAt(se-1);if(O(Y)&&se>1){const ne=U.charCodeAt(se-2);if(M(ne))return R(ne,Y)}return Y}function F(U,se){const Y=le.getInstance(),ne=se,ce=U.length,pe=P(U,ce,se);se+=pe>=65536?2:1;let be=Y.getGraphemeBreakType(pe);for(;se<ce;){const Ee=P(U,ce,se),Le=Y.getGraphemeBreakType(Ee);if(x(be,Le))break;se+=Ee>=65536?2:1,be=Le}return se-ne}e.nextCharLength=F;function E(U,se){const Y=le.getInstance(),ne=se,ce=A(U,se);se-=ce>=65536?2:1;let pe=Y.getGraphemeBreakType(ce);for(;se>0;){const be=A(U,se),Ee=Y.getGraphemeBreakType(be);if(x(Ee,pe))break;se-=be>=65536?2:1,pe=Ee}return ne-se}e.prevCharLength=E;function W(U){const se=U.byteLength,Y=[];let ne=0;for(;ne<se;){const ce=U[ne];let pe;if(ce>=240&&ne+3<se?pe=(U[ne++]&7)<<18>>>0|(U[ne++]&63)<<12>>>0|(U[ne++]&63)<<6>>>0|(U[ne++]&63)<<0>>>0:ce>=224&&ne+2<se?pe=(U[ne++]&15)<<12>>>0|(U[ne++]&63)<<6>>>0|(U[ne++]&63)<<0>>>0:ce>=192&&ne+1<se?pe=(U[ne++]&31)<<6>>>0|(U[ne++]&63)<<0>>>0:pe=U[ne++],pe>=0&&pe<=55295||pe>=57344&&pe<=65535)Y.push(String.fromCharCode(pe));else if(pe>=65536&&pe<=1114111){const be=pe-65536,Ee=55296+((be&1047552)>>>10),Le=56320+((be&1023)>>>0);Y.push(String.fromCharCode(Ee)),Y.push(String.fromCharCode(Le))}else Y.push(String.fromCharCode(65533))}return Y.join("")}e.decodeUTF8=W;const V=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function $(U){return V.test(U)}e.containsRTL=$;const Z=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function X(U){return Z.test(U)}e.containsEmoji=X;const J=/^[\t\n\r\x20-\x7E]*$/;function ie(U){return J.test(U)}e.isBasicASCII=ie,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function de(U){return e.UNUSUAL_LINE_TERMINATORS.test(U)}e.containsUnusualLineTerminators=de;function ue(U){for(let se=0,Y=U.length;se<Y;se++)if(q(U.charCodeAt(se)))return!0;return!1}e.containsFullWidthCharacter=ue;function q(U){return U=+U,U>=11904&&U<=55215||U>=63744&&U<=64255||U>=65281&&U<=65374}e.isFullWidthCharacter=q;function B(U){return U>=127462&&U<=127487||U===8986||U===8987||U===9200||U===9203||U>=9728&&U<=10175||U===11088||U===11093||U>=127744&&U<=128591||U>=128640&&U<=128764||U>=128992&&U<=129003||U>=129280&&U<=129535||U>=129648&&U<=129750}e.isEmojiImprecise=B,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function j(U){return!!(U&&U.length>0&&U.charCodeAt(0)===65279)}e.startsWithUTF8BOM=j;function H(U,se=!1){return U?(se&&(U=U.replace(/\\./g,"")),U.toLowerCase()!==U):!1}e.containsUppercaseCharacter=H;function z(U){const se=90-65+1;return U=U%(2*se),U<se?String.fromCharCode(97+U):String.fromCharCode(65+U-se)}e.singleLetterHash=z;function Q(U){return le.getInstance().getGraphemeBreakType(U)}e.getGraphemeBreakType=Q;function x(U,se){return U===0?se!==5&&se!==7:U===2&&se===3?!1:U===4||U===2||U===3||se===4||se===2||se===3?!0:!(U===8&&(se===8||se===9||se===11||se===12)||(U===11||U===9)&&(se===9||se===10)||(U===12||U===10)&&se===10||se===5||se===13||se===7||U===1||U===13&&se===14||U===6&&se===6)}e.breakBetweenGraphemeBreakType=x;class le{constructor(){this._data=oe()}static getInstance(){return le._INSTANCE||(le._INSTANCE=new le),le._INSTANCE}getGraphemeBreakType(se){if(se<32)return se===10?3:se===13?2:4;if(se<127)return 0;const Y=this._data,ne=Y.length/3;let ce=1;for(;ce<=ne;)if(se<Y[3*ce])ce=2*ce;else if(se>Y[3*ce+1])ce=2*ce+1;else return Y[3*ce+2];return 0}}le._INSTANCE=null;function oe(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}function K(U,se){if(U===0)return 0;const Y=re(U,se);if(Y!==void 0)return Y;const ne=A(se,U);return U-=ae(ne),U}e.getLeftDeleteOffset=K;function re(U,se){let Y=A(se,U);for(U-=ae(Y);he(Y)||Y===65039||Y===8419;){if(U===0)return;Y=A(se,U),U-=ae(Y)}if(!!B(Y)){if(U>=0){const ne=A(se,U);ne===8205&&(U-=ae(ne))}return U}}function ae(U){return U>=65536?2:1}function he(U){return 127995<=U&&U<=127999}}),define(ee[103],te([0,1,8]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const k=typeof Buffer!="undefined",T=typeof TextDecoder!="undefined";let L;class S{constructor(c){this.buffer=c,this.byteLength=this.buffer.byteLength}static wrap(c){return k&&!Buffer.isBuffer(c)&&(c=Buffer.from(c.buffer,c.byteOffset,c.byteLength)),new S(c)}toString(){return k?this.buffer.toString():T?(L||(L=new TextDecoder),L.decode(this.buffer)):b.decodeUTF8(this.buffer)}}e.VSBuffer=S;function p(l,c){return l[c+0]<<0>>>0|l[c+1]<<8>>>0}e.readUInt16LE=p;function C(l,c,u){l[u+0]=c&255,c=c>>>8,l[u+1]=c&255}e.writeUInt16LE=C;function i(l,c){return l[c]*Math.pow(2,24)+l[c+1]*Math.pow(2,16)+l[c+2]*Math.pow(2,8)+l[c+3]}e.readUInt32BE=i;function v(l,c,u){l[u+3]=c,c=c>>>8,l[u+2]=c,c=c>>>8,l[u+1]=c,c=c>>>8,l[u]=c}e.writeUInt32BE=v;function r(l,c){return l[c]}e.readUInt8=r;function a(l,c,u){l[u]=c}e.writeUInt8=a}),define(ee[157],te([0,1,17,8,73]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isRootOrDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.toPosixPath=e.toSlashes=void 0;function L(r){return r.replace(/[\\/]/g,T.posix.sep)}e.toSlashes=L;function S(r){return r.indexOf("/")===-1&&(r=L(r)),/^[a-zA-Z]:(\/|$)/.test(r)&&(r="/"+r),r}e.toPosixPath=S;function p(r,a,l,c=T.sep){if(r===a)return!0;if(!r||!a||a.length>r.length)return!1;if(l){if(!(0,k.startsWithIgnoreCase)(r,a))return!1;if(a.length===r.length)return!0;let s=a.length;return a.charAt(a.length-1)===c&&s--,r.charAt(s)===c}return a.charAt(a.length-1)!==c&&(a+=c),r.indexOf(a)===0}e.isEqualOrParent=p;function C(r){return r>=65&&r<=90||r>=97&&r<=122}e.isWindowsDriveLetter=C;function i(r){const a=(0,T.normalize)(r);return b.isWindows?r.length>3?!1:v(a)&&(r.length===2||a.charCodeAt(2)===92):a===T.posix.sep}e.isRootOrDriveLetter=i;function v(r){return b.isWindows?C(r.charCodeAt(0))&&r.charCodeAt(1)===58:!1}e.hasDriveLetter=v}),define(ee[92],te([0,1,8]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.doHash=e.hash=void 0;function k(u){return T(u,0)}e.hash=k;function T(u,s){switch(typeof u){case"object":return u===null?L(349,s):Array.isArray(u)?C(u,s):i(u,s);case"string":return p(u,s);case"boolean":return S(u,s);case"number":return L(u,s);case"undefined":return L(937,s);default:return L(617,s)}}e.doHash=T;function L(u,s){return(s<<5)-s+u|0}function S(u,s){return L(u?433:863,s)}function p(u,s){s=L(149417,s);for(let n=0,d=u.length;n<d;n++)s=L(u.charCodeAt(n),s);return s}e.stringHash=p;function C(u,s){return s=L(104579,s),u.reduce((n,d)=>T(d,n),s)}function i(u,s){return s=L(181387,s),Object.keys(u).sort().reduce((n,d)=>(n=p(d,n),T(u[d],n)),s)}function v(u,s,n=32){const d=n-s,t=~((1<<d)-1);return(u<<s|(t&u)>>>d)>>>0}function r(u,s=0,n=u.byteLength,d=0){for(let t=0;t<n;t++)u[s+t]=d}function a(u,s,n="0"){for(;u.length<s;)u=n+u;return u}function l(u,s=32){return u instanceof ArrayBuffer?Array.from(new Uint8Array(u)).map(n=>n.toString(16).padStart(2,"0")).join(""):a((u>>>0).toString(16),s/4)}e.toHexString=l;class c{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(s){const n=s.length;if(n===0)return;const d=this._buff;let t=this._buffLen,o=this._leftoverHighSurrogate,h,m;for(o!==0?(h=o,m=-1,o=0):(h=s.charCodeAt(0),m=0);;){let y=h;if(b.isHighSurrogate(h))if(m+1<n){const w=s.charCodeAt(m+1);b.isLowSurrogate(w)?(m++,y=b.computeCodePoint(h,w)):y=65533}else{o=h;break}else b.isLowSurrogate(h)&&(y=65533);if(t=this._push(d,t,y),m++,m<n)h=s.charCodeAt(m);else break}this._buffLen=t,this._leftoverHighSurrogate=o}_push(s,n,d){return d<128?s[n++]=d:d<2048?(s[n++]=192|(d&1984)>>>6,s[n++]=128|(d&63)>>>0):d<65536?(s[n++]=224|(d&61440)>>>12,s[n++]=128|(d&4032)>>>6,s[n++]=128|(d&63)>>>0):(s[n++]=240|(d&1835008)>>>18,s[n++]=128|(d&258048)>>>12,s[n++]=128|(d&4032)>>>6,s[n++]=128|(d&63)>>>0),n>=64&&(this._step(),n-=64,this._totalLen+=64,s[0]=s[64+0],s[1]=s[64+1],s[2]=s[64+2]),n}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),l(this._h0)+l(this._h1)+l(this._h2)+l(this._h3)+l(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,r(this._buff,this._buffLen),this._buffLen>56&&(this._step(),r(this._buff));const s=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(s/4294967296),!1),this._buffDV.setUint32(60,s%4294967296,!1),this._step()}_step(){const s=c._bigBlock32,n=this._buffDV;for(let f=0;f<64;f+=4)s.setUint32(f,n.getUint32(f,!1),!1);for(let f=64;f<320;f+=4)s.setUint32(f,v(s.getUint32(f-12,!1)^s.getUint32(f-32,!1)^s.getUint32(f-56,!1)^s.getUint32(f-64,!1),1),!1);let d=this._h0,t=this._h1,o=this._h2,h=this._h3,m=this._h4,y,w,g;for(let f=0;f<80;f++)f<20?(y=t&o|~t&h,w=1518500249):f<40?(y=t^o^h,w=1859775393):f<60?(y=t&o|t&h|o&h,w=2400959708):(y=t^o^h,w=3395469782),g=v(d,5)+y+m+w+s.getUint32(f*4,!1)&4294967295,m=h,h=o,o=v(t,30),t=d,d=g;this._h0=this._h0+d&4294967295,this._h1=this._h1+t&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+h&4294967295,this._h4=this._h4+m&4294967295}}e.StringSHA1=c,c._bigBlock32=new DataView(new ArrayBuffer(320))}),define(ee[128],te([0,1,285,92]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class T{constructor(r){this.source=r}getElements(){const r=this.source,a=new Int32Array(r.length);for(let l=0,c=r.length;l<c;l++)a[l]=r.charCodeAt(l);return a}}e.StringDiffSequence=T;function L(v,r,a){return new i(new T(v),new T(r)).ComputeDiff(a).changes}e.stringDiff=L;class S{static Assert(r,a){if(!r)throw new Error(a)}}e.Debug=S;class p{static Copy(r,a,l,c,u){for(let s=0;s<u;s++)l[c+s]=r[a+s]}static Copy2(r,a,l,c,u){for(let s=0;s<u;s++)l[c+s]=r[a+s]}}e.MyArray=p;class C{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new b.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(r,a){this.m_originalStart=Math.min(this.m_originalStart,r),this.m_modifiedStart=Math.min(this.m_modifiedStart,a),this.m_originalCount++}AddModifiedElement(r,a){this.m_originalStart=Math.min(this.m_originalStart,r),this.m_modifiedStart=Math.min(this.m_modifiedStart,a),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class i{constructor(r,a,l=null){this.ContinueProcessingPredicate=l,this._originalSequence=r,this._modifiedSequence=a;const[c,u,s]=i._getElements(r),[n,d,t]=i._getElements(a);this._hasStrings=s&&t,this._originalStringElements=c,this._originalElementsOrHash=u,this._modifiedStringElements=n,this._modifiedElementsOrHash=d,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(r){return r.length>0&&typeof r[0]=="string"}static _getElements(r){const a=r.getElements();if(i._isStringArray(a)){const l=new Int32Array(a.length);for(let c=0,u=a.length;c<u;c++)l[c]=(0,k.stringHash)(a[c],0);return[a,l,!0]}return a instanceof Int32Array?[[],a,!1]:[[],new Int32Array(a),!1]}ElementsAreEqual(r,a){return this._originalElementsOrHash[r]!==this._modifiedElementsOrHash[a]?!1:this._hasStrings?this._originalStringElements[r]===this._modifiedStringElements[a]:!0}ElementsAreStrictEqual(r,a){if(!this.ElementsAreEqual(r,a))return!1;const l=i._getStrictElement(this._originalSequence,r),c=i._getStrictElement(this._modifiedSequence,a);return l===c}static _getStrictElement(r,a){return typeof r.getStrictElement=="function"?r.getStrictElement(a):null}OriginalElementsAreEqual(r,a){return this._originalElementsOrHash[r]!==this._originalElementsOrHash[a]?!1:this._hasStrings?this._originalStringElements[r]===this._originalStringElements[a]:!0}ModifiedElementsAreEqual(r,a){return this._modifiedElementsOrHash[r]!==this._modifiedElementsOrHash[a]?!1:this._hasStrings?this._modifiedStringElements[r]===this._modifiedStringElements[a]:!0}ComputeDiff(r){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,r)}_ComputeDiff(r,a,l,c,u){const s=[!1];let n=this.ComputeDiffRecursive(r,a,l,c,s);return u&&(n=this.PrettifyChanges(n)),{quitEarly:s[0],changes:n}}ComputeDiffRecursive(r,a,l,c,u){for(u[0]=!1;r<=a&&l<=c&&this.ElementsAreEqual(r,l);)r++,l++;for(;a>=r&&c>=l&&this.ElementsAreEqual(a,c);)a--,c--;if(r>a||l>c){let h;return l<=c?(S.Assert(r===a+1,"originalStart should only be one more than originalEnd"),h=[new b.DiffChange(r,0,l,c-l+1)]):r<=a?(S.Assert(l===c+1,"modifiedStart should only be one more than modifiedEnd"),h=[new b.DiffChange(r,a-r+1,l,0)]):(S.Assert(r===a+1,"originalStart should only be one more than originalEnd"),S.Assert(l===c+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}const s=[0],n=[0],d=this.ComputeRecursionPoint(r,a,l,c,s,n,u),t=s[0],o=n[0];if(d!==null)return d;if(!u[0]){const h=this.ComputeDiffRecursive(r,t,l,o,u);let m=[];return u[0]?m=[new b.DiffChange(t+1,a-(t+1)+1,o+1,c-(o+1)+1)]:m=this.ComputeDiffRecursive(t+1,a,o+1,c,u),this.ConcatenateChanges(h,m)}return[new b.DiffChange(r,a-r+1,l,c-l+1)]}WALKTRACE(r,a,l,c,u,s,n,d,t,o,h,m,y,w,g,f,_,D){let N=null,I=null,M=new C,O=a,R=l,P=y[0]-f[0]-c,A=-1073741824,F=this.m_forwardHistory.length-1;do{const E=P+r;E===O||E<R&&t[E-1]<t[E+1]?(h=t[E+1],w=h-P-c,h<A&&M.MarkNextChange(),A=h,M.AddModifiedElement(h+1,w),P=E+1-r):(h=t[E-1]+1,w=h-P-c,h<A&&M.MarkNextChange(),A=h-1,M.AddOriginalElement(h,w+1),P=E-1-r),F>=0&&(t=this.m_forwardHistory[F],r=t[0],O=1,R=t.length-1)}while(--F>=-1);if(N=M.getReverseChanges(),D[0]){let E=y[0]+1,W=f[0]+1;if(N!==null&&N.length>0){const V=N[N.length-1];E=Math.max(E,V.getOriginalEnd()),W=Math.max(W,V.getModifiedEnd())}I=[new b.DiffChange(E,m-E+1,W,g-W+1)]}else{M=new C,O=s,R=n,P=y[0]-f[0]-d,A=1073741824,F=_?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const E=P+u;E===O||E<R&&o[E-1]>=o[E+1]?(h=o[E+1]-1,w=h-P-d,h>A&&M.MarkNextChange(),A=h+1,M.AddOriginalElement(h+1,w+1),P=E+1-u):(h=o[E-1],w=h-P-d,h>A&&M.MarkNextChange(),A=h,M.AddModifiedElement(h+1,w+1),P=E-1-u),F>=0&&(o=this.m_reverseHistory[F],u=o[0],O=1,R=o.length-1)}while(--F>=-1);I=M.getChanges()}return this.ConcatenateChanges(N,I)}ComputeRecursionPoint(r,a,l,c,u,s,n){let d=0,t=0,o=0,h=0,m=0,y=0;r--,l--,u[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const w=a-r+(c-l),g=w+1,f=new Int32Array(g),_=new Int32Array(g),D=c-l,N=a-r,I=r-l,M=a-c,R=(N-D)%2==0;f[D]=r,_[N]=a,n[0]=!1;for(let P=1;P<=w/2+1;P++){let A=0,F=0;o=this.ClipDiagonalBound(D-P,P,D,g),h=this.ClipDiagonalBound(D+P,P,D,g);for(let W=o;W<=h;W+=2){W===o||W<h&&f[W-1]<f[W+1]?d=f[W+1]:d=f[W-1]+1,t=d-(W-D)-I;const V=d;for(;d<a&&t<c&&this.ElementsAreEqual(d+1,t+1);)d++,t++;if(f[W]=d,d+t>A+F&&(A=d,F=t),!R&&Math.abs(W-N)<=P-1&&d>=_[W])return u[0]=d,s[0]=t,V<=_[W]&&1447>0&&P<=1447+1?this.WALKTRACE(D,o,h,I,N,m,y,M,f,_,d,a,u,t,c,s,R,n):null}const E=(A-r+(F-l)-P)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(A,E))return n[0]=!0,u[0]=A,s[0]=F,E>0&&1447>0&&P<=1447+1?this.WALKTRACE(D,o,h,I,N,m,y,M,f,_,d,a,u,t,c,s,R,n):(r++,l++,[new b.DiffChange(r,a-r+1,l,c-l+1)]);m=this.ClipDiagonalBound(N-P,P,N,g),y=this.ClipDiagonalBound(N+P,P,N,g);for(let W=m;W<=y;W+=2){W===m||W<y&&_[W-1]>=_[W+1]?d=_[W+1]-1:d=_[W-1],t=d-(W-N)-M;const V=d;for(;d>r&&t>l&&this.ElementsAreEqual(d,t);)d--,t--;if(_[W]=d,R&&Math.abs(W-D)<=P&&d<=f[W])return u[0]=d,s[0]=t,V>=f[W]&&1447>0&&P<=1447+1?this.WALKTRACE(D,o,h,I,N,m,y,M,f,_,d,a,u,t,c,s,R,n):null}if(P<=1447){let W=new Int32Array(h-o+2);W[0]=D-o+1,p.Copy2(f,o,W,1,h-o+1),this.m_forwardHistory.push(W),W=new Int32Array(y-m+2),W[0]=N-m+1,p.Copy2(_,m,W,1,y-m+1),this.m_reverseHistory.push(W)}}return this.WALKTRACE(D,o,h,I,N,m,y,M,f,_,d,a,u,t,c,s,R,n)}PrettifyChanges(r){for(let a=0;a<r.length;a++){const l=r[a],c=a<r.length-1?r[a+1].originalStart:this._originalElementsOrHash.length,u=a<r.length-1?r[a+1].modifiedStart:this._modifiedElementsOrHash.length,s=l.originalLength>0,n=l.modifiedLength>0;for(;l.originalStart+l.originalLength<c&&l.modifiedStart+l.modifiedLength<u&&(!s||this.OriginalElementsAreEqual(l.originalStart,l.originalStart+l.originalLength))&&(!n||this.ModifiedElementsAreEqual(l.modifiedStart,l.modifiedStart+l.modifiedLength));){const t=this.ElementsAreStrictEqual(l.originalStart,l.modifiedStart);if(this.ElementsAreStrictEqual(l.originalStart+l.originalLength,l.modifiedStart+l.modifiedLength)&&!t)break;l.originalStart++,l.modifiedStart++}let d=[null];if(a<r.length-1&&this.ChangesOverlap(r[a],r[a+1],d)){r[a]=d[0],r.splice(a+1,1),a--;continue}}for(let a=r.length-1;a>=0;a--){const l=r[a];let c=0,u=0;if(a>0){const h=r[a-1];c=h.originalStart+h.originalLength,u=h.modifiedStart+h.modifiedLength}const s=l.originalLength>0,n=l.modifiedLength>0;let d=0,t=this._boundaryScore(l.originalStart,l.originalLength,l.modifiedStart,l.modifiedLength);for(let h=1;;h++){const m=l.originalStart-h,y=l.modifiedStart-h;if(m<c||y<u||s&&!this.OriginalElementsAreEqual(m,m+l.originalLength)||n&&!this.ModifiedElementsAreEqual(y,y+l.modifiedLength))break;const g=(m===c&&y===u?5:0)+this._boundaryScore(m,l.originalLength,y,l.modifiedLength);g>t&&(t=g,d=h)}l.originalStart-=d,l.modifiedStart-=d;const o=[null];if(a>0&&this.ChangesOverlap(r[a-1],r[a],o)){r[a-1]=o[0],r.splice(a,1),a++;continue}}if(this._hasStrings)for(let a=1,l=r.length;a<l;a++){const c=r[a-1],u=r[a],s=u.originalStart-c.originalStart-c.originalLength,n=c.originalStart,d=u.originalStart+u.originalLength,t=d-n,o=c.modifiedStart,h=u.modifiedStart+u.modifiedLength,m=h-o;if(s<5&&t<20&&m<20){const y=this._findBetterContiguousSequence(n,t,o,m,s);if(y){const[w,g]=y;(w!==c.originalStart+c.originalLength||g!==c.modifiedStart+c.modifiedLength)&&(c.originalLength=w-c.originalStart,c.modifiedLength=g-c.modifiedStart,u.originalStart=w+s,u.modifiedStart=g+s,u.originalLength=d-u.originalStart,u.modifiedLength=h-u.modifiedStart)}}}return r}_findBetterContiguousSequence(r,a,l,c,u){if(a<u||c<u)return null;const s=r+a-u+1,n=l+c-u+1;let d=0,t=0,o=0;for(let h=r;h<s;h++)for(let m=l;m<n;m++){const y=this._contiguousSequenceScore(h,m,u);y>0&&y>d&&(d=y,t=h,o=m)}return d>0?[t,o]:null}_contiguousSequenceScore(r,a,l){let c=0;for(let u=0;u<l;u++){if(!this.ElementsAreEqual(r+u,a+u))return 0;c+=this._originalStringElements[r+u].length}return c}_OriginalIsBoundary(r){return r<=0||r>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[r])}_OriginalRegionIsBoundary(r,a){if(this._OriginalIsBoundary(r)||this._OriginalIsBoundary(r-1))return!0;if(a>0){const l=r+a;if(this._OriginalIsBoundary(l-1)||this._OriginalIsBoundary(l))return!0}return!1}_ModifiedIsBoundary(r){return r<=0||r>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[r])}_ModifiedRegionIsBoundary(r,a){if(this._ModifiedIsBoundary(r)||this._ModifiedIsBoundary(r-1))return!0;if(a>0){const l=r+a;if(this._ModifiedIsBoundary(l-1)||this._ModifiedIsBoundary(l))return!0}return!1}_boundaryScore(r,a,l,c){const u=this._OriginalRegionIsBoundary(r,a)?1:0,s=this._ModifiedRegionIsBoundary(l,c)?1:0;return u+s}ConcatenateChanges(r,a){let l=[];if(r.length===0||a.length===0)return a.length>0?a:r;if(this.ChangesOverlap(r[r.length-1],a[0],l)){const c=new Array(r.length+a.length-1);return p.Copy(r,0,c,0,r.length-1),c[r.length-1]=l[0],p.Copy(a,1,c,r.length,a.length-1),c}else{const c=new Array(r.length+a.length);return p.Copy(r,0,c,0,r.length),p.Copy(a,0,c,r.length,a.length),c}}ChangesOverlap(r,a,l){if(S.Assert(r.originalStart<=a.originalStart,"Left change is not less than or equal to right change"),S.Assert(r.modifiedStart<=a.modifiedStart,"Left change is not less than or equal to right change"),r.originalStart+r.originalLength>=a.originalStart||r.modifiedStart+r.modifiedLength>=a.modifiedStart){const c=r.originalStart;let u=r.originalLength;const s=r.modifiedStart;let n=r.modifiedLength;return r.originalStart+r.originalLength>=a.originalStart&&(u=a.originalStart+a.originalLength-r.originalStart),r.modifiedStart+r.modifiedLength>=a.modifiedStart&&(n=a.modifiedStart+a.modifiedLength-r.modifiedStart),l[0]=new b.DiffChange(c,u,s,n),!0}else return l[0]=null,!1}ClipDiagonalBound(r,a,l,c){if(r>=0&&r<c)return r;const u=l,s=c-l-1,n=a%2==0;if(r<0){const d=u%2==0;return n===d?0:1}else{const d=s%2==0;return n===d?c-1:c-2}}}e.LcsDiff=i}),define(ee[158],te([0,1,101,19,128,6,54]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function p(r){return typeof r=="object"&&"visibility"in r&&"data"in r}e.isFilterResult=p;function C(r){switch(r){case!0:return 1;case!1:return 0;default:return r}}e.getVisibleState=C;function i(r){return typeof r.collapsible=="boolean"}class v{constructor(a,l,c,u={}){this.user=a,this.list=l,this.rootRef=[],this.eventBufferer=new L.EventBufferer,this._onDidChangeCollapseState=new L.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new L.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new L.Emitter,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof u.collapseByDefault=="undefined"?!1:u.collapseByDefault,this.filter=u.filter,this.autoExpandSingleChildren=typeof u.autoExpandSingleChildren=="undefined"?!1:u.autoExpandSingleChildren,this.root={parent:void 0,element:c,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(a,l,c=S.Iterable.empty(),u={}){if(a.length===0)throw new b.TreeError(this.user,"Invalid tree location");u.diffIdentityProvider?this.spliceSmart(u.diffIdentityProvider,a,l,c,u):this.spliceSimple(a,l,c,u)}spliceSmart(a,l,c,u,s,n){var d;u===void 0&&(u=S.Iterable.empty()),n===void 0&&(n=(d=s.diffDepth)!==null&&d!==void 0?d:0);const{parentNode:t}=this.getParentNodeWithListIndex(l),o=[...u],h=l[l.length-1],m=new T.LcsDiff({getElements:()=>t.children.map(_=>a.getId(_.element).toString())},{getElements:()=>[...t.children.slice(0,h),...o,...t.children.slice(h+c)].map(_=>a.getId(_.element).toString())}).ComputeDiff(!1);if(m.quitEarly)return this.spliceSimple(l,c,o,s);const y=l.slice(0,-1),w=(_,D,N)=>{if(n>0)for(let I=0;I<N;I++)_--,D--,this.spliceSmart(a,[...y,_,0],Number.MAX_SAFE_INTEGER,o[D].children,s,n-1)};let g=Math.min(t.children.length,h+c),f=o.length;for(const _ of m.changes.sort((D,N)=>N.originalStart-D.originalStart))w(g,f,g-(_.originalStart+_.originalLength)),g=_.originalStart,f=_.modifiedStart-h,this.spliceSimple([...y,g],_.originalLength,S.Iterable.slice(o,f,f+_.modifiedLength),s);w(g,f,g)}spliceSimple(a,l,c=S.Iterable.empty(),{onDidCreateNode:u,onDidDeleteNode:s}){const{parentNode:n,listIndex:d,revealed:t,visible:o}=this.getParentNodeWithListIndex(a),h=[],m=S.Iterable.map(c,R=>this.createTreeNode(R,n,n.visible?1:0,t,h,u)),y=a[a.length-1],w=n.children.length>0;let g=0;for(let R=y;R>=0&&R<n.children.length;R--){const P=n.children[R];if(P.visible){g=P.visibleChildIndex;break}}const f=[];let _=0,D=0;for(const R of m)f.push(R),D+=R.renderNodeCount,R.visible&&(R.visibleChildIndex=g+_++);const N=(0,k.splice)(n.children,y,l,f);let I=0;for(const R of N)R.visible&&I++;if(I!==0)for(let R=y+f.length;R<n.children.length;R++){const P=n.children[R];P.visible&&(P.visibleChildIndex-=I)}if(n.visibleChildrenCount+=_-I,t&&o){const R=N.reduce((P,A)=>P+(A.visible?A.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(n,D-R),this.list.splice(d,R,h)}if(N.length>0&&s){const R=P=>{s(P),P.children.forEach(R)};N.forEach(R)}const M=n.children.length>0;w!==M&&this.setCollapsible(a.slice(0,-1),M),this._onDidSplice.fire({insertedNodes:f,deletedNodes:N});let O=n;for(;O;){if(O.visibility===2){this.refilter();break}O=O.parent}}rerender(a){if(a.length===0)throw new b.TreeError(this.user,"Invalid tree location");const{node:l,listIndex:c,revealed:u}=this.getTreeNodeWithListIndex(a);l.visible&&u&&this.list.splice(c,1,[l])}has(a){return this.hasTreeNode(a)}getListIndex(a){const{listIndex:l,visible:c,revealed:u}=this.getTreeNodeWithListIndex(a);return c&&u?l:-1}getListRenderCount(a){return this.getTreeNode(a).renderNodeCount}isCollapsible(a){return this.getTreeNode(a).collapsible}setCollapsible(a,l){const c=this.getTreeNode(a);typeof l=="undefined"&&(l=!c.collapsible);const u={collapsible:l};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(a,u))}isCollapsed(a){return this.getTreeNode(a).collapsed}setCollapsed(a,l,c){const u=this.getTreeNode(a);typeof l=="undefined"&&(l=!u.collapsed);const s={collapsed:l,recursive:c||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(a,s))}_setCollapseState(a,l){const{node:c,listIndex:u,revealed:s}=this.getTreeNodeWithListIndex(a),n=this._setListNodeCollapseState(c,u,s,l);if(c!==this.root&&this.autoExpandSingleChildren&&n&&!i(l)&&c.collapsible&&!c.collapsed&&!l.recursive){let d=-1;for(let t=0;t<c.children.length;t++)if(c.children[t].visible)if(d>-1){d=-1;break}else d=t;d>-1&&this._setCollapseState([...a,d],l)}return n}_setListNodeCollapseState(a,l,c,u){const s=this._setNodeCollapseState(a,u,!1);if(!c||!a.visible||!s)return s;const n=a.renderNodeCount,d=this.updateNodeAfterCollapseChange(a),t=n-(l===-1?0:1);return this.list.splice(l+1,t,d.slice(1)),s}_setNodeCollapseState(a,l,c){let u;if(a===this.root?u=!1:(i(l)?(u=a.collapsible!==l.collapsible,a.collapsible=l.collapsible):a.collapsible?(u=a.collapsed!==l.collapsed,a.collapsed=l.collapsed):u=!1,u&&this._onDidChangeCollapseState.fire({node:a,deep:c})),!i(l)&&l.recursive)for(const s of a.children)u=this._setNodeCollapseState(s,l,!0)||u;return u}expandTo(a){this.eventBufferer.bufferEvents(()=>{let l=this.getTreeNode(a);for(;l.parent;)l=l.parent,a=a.slice(0,a.length-1),l.collapsed&&this._setCollapseState(a,{collapsed:!1,recursive:!1})})}refilter(){const a=this.root.renderNodeCount,l=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,a,l)}createTreeNode(a,l,c,u,s,n){const d={parent:l,element:a.element,children:[],depth:l.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof a.collapsible=="boolean"?a.collapsible:typeof a.collapsed!="undefined",collapsed:typeof a.collapsed=="undefined"?this.collapseByDefault:a.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},t=this._filterNode(d,c);d.visibility=t,u&&s.push(d);const o=a.children||S.Iterable.empty(),h=u&&t!==0&&!d.collapsed,m=S.Iterable.map(o,g=>this.createTreeNode(g,d,t,h,s,n));let y=0,w=1;for(const g of m)d.children.push(g),w+=g.renderNodeCount,g.visible&&(g.visibleChildIndex=y++);return d.collapsible=d.collapsible||d.children.length>0,d.visibleChildrenCount=y,d.visible=t===2?y>0:t===1,d.visible?d.collapsed||(d.renderNodeCount=w):(d.renderNodeCount=0,u&&s.pop()),n&&n(d),d}updateNodeAfterCollapseChange(a){const l=a.renderNodeCount,c=[];return this._updateNodeAfterCollapseChange(a,c),this._updateAncestorsRenderNodeCount(a.parent,c.length-l),c}_updateNodeAfterCollapseChange(a,l){if(a.visible===!1)return 0;if(l.push(a),a.renderNodeCount=1,!a.collapsed)for(const c of a.children)a.renderNodeCount+=this._updateNodeAfterCollapseChange(c,l);return this._onDidChangeRenderNodeCount.fire(a),a.renderNodeCount}updateNodeAfterFilterChange(a){const l=a.renderNodeCount,c=[];return this._updateNodeAfterFilterChange(a,a.visible?1:0,c),this._updateAncestorsRenderNodeCount(a.parent,c.length-l),c}_updateNodeAfterFilterChange(a,l,c,u=!0){let s;if(a!==this.root){if(s=this._filterNode(a,l),s===0)return a.visible=!1,a.renderNodeCount=0,!1;u&&c.push(a)}const n=c.length;a.renderNodeCount=a===this.root?0:1;let d=!1;if(!a.collapsed||s!==0){let t=0;for(const o of a.children)d=this._updateNodeAfterFilterChange(o,s,c,u&&!a.collapsed)||d,o.visible&&(o.visibleChildIndex=t++);a.visibleChildrenCount=t}else a.visibleChildrenCount=0;return a!==this.root&&(a.visible=s===2?d:s===1),a.visible?a.collapsed||(a.renderNodeCount+=c.length-n):(a.renderNodeCount=0,u&&c.pop()),this._onDidChangeRenderNodeCount.fire(a),a.visible}_updateAncestorsRenderNodeCount(a,l){if(l!==0)for(;a;)a.renderNodeCount+=l,this._onDidChangeRenderNodeCount.fire(a),a=a.parent}_filterNode(a,l){const c=this.filter?this.filter.filter(a.element,l):1;return typeof c=="boolean"?(a.filterData=void 0,c?1:0):p(c)?(a.filterData=c.data,C(c.visibility)):(a.filterData=void 0,C(c))}hasTreeNode(a,l=this.root){if(!a||a.length===0)return!0;const[c,...u]=a;return c<0||c>l.children.length?!1:this.hasTreeNode(u,l.children[c])}getTreeNode(a,l=this.root){if(!a||a.length===0)return l;const[c,...u]=a;if(c<0||c>l.children.length)throw new b.TreeError(this.user,"Invalid tree location");return this.getTreeNode(u,l.children[c])}getTreeNodeWithListIndex(a){if(a.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:l,listIndex:c,revealed:u,visible:s}=this.getParentNodeWithListIndex(a),n=a[a.length-1];if(n<0||n>l.children.length)throw new b.TreeError(this.user,"Invalid tree location");const d=l.children[n];return{node:d,listIndex:c,revealed:u,visible:s&&d.visible}}getParentNodeWithListIndex(a,l=this.root,c=0,u=!0,s=!0){const[n,...d]=a;if(n<0||n>l.children.length)throw new b.TreeError(this.user,"Invalid tree location");for(let t=0;t<n;t++)c+=l.children[t].renderNodeCount;return u=u&&!l.collapsed,s=s&&l.visible,d.length===0?{parentNode:l,listIndex:c,revealed:u,visible:s}:this.getParentNodeWithListIndex(d,l.children[n],c+1,u,s)}getNode(a=[]){return this.getTreeNode(a)}getNodeLocation(a){const l=[];let c=a;for(;c.parent;)l.push(c.parent.children.indexOf(c)),c=c.parent;return l.reverse()}getParentNodeLocation(a){if(a.length!==0)return a.length===1?[]:(0,k.tail2)(a)[0]}}e.IndexTreeModel=v}),define(ee[159],te([0,1,54,158,101]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class L{constructor(p,C,i={}){this.user=p,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new k.IndexTreeModel(p,C,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(v,r){return i.sorter.compare(v.element,r.element)}}),this.identityProvider=i.identityProvider}setChildren(p,C=b.Iterable.empty(),i={}){const v=this.getElementLocation(p);this._setChildren(v,this.preserveCollapseState(C),i)}_setChildren(p,C=b.Iterable.empty(),i){const v=new Set,r=new Set,a=c=>{var u;if(c.element===null)return;const s=c;if(v.add(s.element),this.nodes.set(s.element,s),this.identityProvider){const n=this.identityProvider.getId(s.element).toString();r.add(n),this.nodesByIdentity.set(n,s)}(u=i.onDidCreateNode)===null||u===void 0||u.call(i,s)},l=c=>{var u;if(c.element===null)return;const s=c;if(v.has(s.element)||this.nodes.delete(s.element),this.identityProvider){const n=this.identityProvider.getId(s.element).toString();r.has(n)||this.nodesByIdentity.delete(n)}(u=i.onDidDeleteNode)===null||u===void 0||u.call(i,s)};this.model.splice([...p,0],Number.MAX_VALUE,C,Object.assign(Object.assign({},i),{onDidCreateNode:a,onDidDeleteNode:l}))}preserveCollapseState(p=b.Iterable.empty()){return this.sorter&&(p=[...p].sort(this.sorter.compare.bind(this.sorter))),b.Iterable.map(p,C=>{let i=this.nodes.get(C.element);if(!i&&this.identityProvider){const a=this.identityProvider.getId(C.element).toString();i=this.nodesByIdentity.get(a)}if(!i)return Object.assign(Object.assign({},C),{children:this.preserveCollapseState(C.children)});const v=typeof C.collapsible=="boolean"?C.collapsible:i.collapsible,r=typeof C.collapsed!="undefined"?C.collapsed:i.collapsed;return Object.assign(Object.assign({},C),{collapsible:v,collapsed:r,children:this.preserveCollapseState(C.children)})})}rerender(p){const C=this.getElementLocation(p);this.model.rerender(C)}has(p){return this.nodes.has(p)}getListIndex(p){const C=this.getElementLocation(p);return this.model.getListIndex(C)}getListRenderCount(p){const C=this.getElementLocation(p);return this.model.getListRenderCount(C)}isCollapsible(p){const C=this.getElementLocation(p);return this.model.isCollapsible(C)}setCollapsible(p,C){const i=this.getElementLocation(p);return this.model.setCollapsible(i,C)}isCollapsed(p){const C=this.getElementLocation(p);return this.model.isCollapsed(C)}setCollapsed(p,C,i){const v=this.getElementLocation(p);return this.model.setCollapsed(v,C,i)}expandTo(p){const C=this.getElementLocation(p);this.model.expandTo(C)}refilter(){this.model.refilter()}getNode(p=null){if(p===null)return this.model.getNode(this.model.rootRef);const C=this.nodes.get(p);if(!C)throw new T.TreeError(this.user,`Tree element not found: ${p}`);return C}getNodeLocation(p){return p.element}getParentNodeLocation(p){if(p===null)throw new T.TreeError(this.user,"Invalid getParentNodeLocation call");const C=this.nodes.get(p);if(!C)throw new T.TreeError(this.user,`Tree element not found: ${p}`);const i=this.model.getNodeLocation(C),v=this.model.getParentNodeLocation(i);return this.model.getNode(v).element}getElementLocation(p){if(p===null)return[];const C=this.nodes.get(p);if(!C)throw new T.TreeError(this.user,`Tree element not found: ${p}`);return this.model.getNodeLocation(C)}}e.ObjectTreeModel=L}),define(ee[292],te([0,1,54,6,101,159]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function S(d){const t=[d.element],o=d.incompressible||!1;return{element:{elements:t,incompressible:o},children:b.Iterable.map(b.Iterable.from(d.children),S),collapsible:d.collapsible,collapsed:d.collapsed}}function p(d){const t=[d.element],o=d.incompressible||!1;let h,m;for(;[m,h]=b.Iterable.consume(b.Iterable.from(d.children),2),!(m.length!==1||m[0].incompressible);)d=m[0],t.push(d.element);return{element:{elements:t,incompressible:o},children:b.Iterable.map(b.Iterable.concat(m,h),p),collapsible:d.collapsible,collapsed:d.collapsed}}e.compress=p;function C(d,t=0){let o;return t<d.element.elements.length-1?o=[C(d,t+1)]:o=b.Iterable.map(b.Iterable.from(d.children),h=>C(h,0)),t===0&&d.element.incompressible?{element:d.element.elements[t],children:o,incompressible:!0,collapsible:d.collapsible,collapsed:d.collapsed}:{element:d.element.elements[t],children:o,collapsible:d.collapsible,collapsed:d.collapsed}}function i(d){return C(d,0)}e.decompress=i;function v(d,t,o){return d.element===t?Object.assign(Object.assign({},d),{children:o}):Object.assign(Object.assign({},d),{children:b.Iterable.map(b.Iterable.from(d.children),h=>v(h,t,o))})}const r=d=>({getId(t){return t.elements.map(o=>d.getId(o).toString()).join("\0")}});class a{constructor(t,o,h={}){this.user=t,this.rootRef=null,this.nodes=new Map,this.model=new L.ObjectTreeModel(t,o,h),this.enabled=typeof h.compressionEnabled=="undefined"?!0:h.compressionEnabled,this.identityProvider=h.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(t,o=b.Iterable.empty(),h){const m=h.diffIdentityProvider&&r(h.diffIdentityProvider);if(t===null){const M=b.Iterable.map(o,this.enabled?p:S);this._setChildren(null,M,{diffIdentityProvider:m,diffDepth:Infinity});return}const y=this.nodes.get(t);if(!y)throw new Error("Unknown compressed tree node");const w=this.model.getNode(y),g=this.model.getParentNodeLocation(y),f=this.model.getNode(g),_=i(w),D=v(_,t,o),N=(this.enabled?p:S)(D),I=f.children.map(M=>M===w?N:M);this._setChildren(f.element,I,{diffIdentityProvider:m,diffDepth:w.depth-f.depth})}setCompressionEnabled(t){if(t===this.enabled)return;this.enabled=t;const h=this.model.getNode().children,m=b.Iterable.map(h,i),y=b.Iterable.map(m,t?p:S);this._setChildren(null,y,{diffIdentityProvider:this.identityProvider,diffDepth:Infinity})}_setChildren(t,o,h){const m=new Set,y=g=>{for(const f of g.element.elements)m.add(f),this.nodes.set(f,g.element)},w=g=>{for(const f of g.element.elements)m.has(f)||this.nodes.delete(f)};this.model.setChildren(t,o,Object.assign(Object.assign({},h),{onDidCreateNode:y,onDidDeleteNode:w}))}has(t){return this.nodes.has(t)}getListIndex(t){const o=this.getCompressedNode(t);return this.model.getListIndex(o)}getListRenderCount(t){const o=this.getCompressedNode(t);return this.model.getListRenderCount(o)}getNode(t){if(typeof t=="undefined")return this.model.getNode();const o=this.getCompressedNode(t);return this.model.getNode(o)}getNodeLocation(t){const o=this.model.getNodeLocation(t);return o===null?null:o.elements[o.elements.length-1]}getParentNodeLocation(t){const o=this.getCompressedNode(t),h=this.model.getParentNodeLocation(o);return h===null?null:h.elements[h.elements.length-1]}isCollapsible(t){const o=this.getCompressedNode(t);return this.model.isCollapsible(o)}setCollapsible(t,o){const h=this.getCompressedNode(t);return this.model.setCollapsible(h,o)}isCollapsed(t){const o=this.getCompressedNode(t);return this.model.isCollapsed(o)}setCollapsed(t,o,h){const m=this.getCompressedNode(t);return this.model.setCollapsed(m,o,h)}expandTo(t){const o=this.getCompressedNode(t);this.model.expandTo(o)}rerender(t){const o=this.getCompressedNode(t);this.model.rerender(o)}refilter(){this.model.refilter()}getCompressedNode(t){if(t===null)return null;const o=this.nodes.get(t);if(!o)throw new T.TreeError(this.user,`Tree element not found: ${t}`);return o}}e.CompressedObjectTreeModel=a;const l=d=>d[d.length-1];e.DefaultElementMapper=l;class c{constructor(t,o){this.unwrapper=t,this.node=o}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(t=>new c(this.unwrapper,t))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function u(d,t){return{splice(o,h,m){t.splice(o,h,m.map(y=>d.map(y)))},updateElementHeight(o,h){t.updateElementHeight(o,h)}}}function s(d,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId(o){return t.identityProvider.getId(d(o))}},sorter:t.sorter&&{compare(o,h){return t.sorter.compare(o.elements[0],h.elements[0])}},filter:t.filter&&{filter(o,h){return t.filter.filter(d(o),h)}}})}class n{constructor(t,o,h={}){this.rootRef=null,this.elementMapper=h.elementMapper||e.DefaultElementMapper;const m=y=>this.elementMapper(y.elements);this.nodeMapper=new T.WeakMapper(y=>new c(m,y)),this.model=new a(t,u(this.nodeMapper,o),s(m,h))}get onDidSplice(){return k.Event.map(this.model.onDidSplice,({insertedNodes:t,deletedNodes:o})=>({insertedNodes:t.map(h=>this.nodeMapper.map(h)),deletedNodes:o.map(h=>this.nodeMapper.map(h))}))}get onDidChangeCollapseState(){return k.Event.map(this.model.onDidChangeCollapseState,({node:t,deep:o})=>({node:this.nodeMapper.map(t),deep:o}))}get onDidChangeRenderNodeCount(){return k.Event.map(this.model.onDidChangeRenderNodeCount,t=>this.nodeMapper.map(t))}setChildren(t,o=b.Iterable.empty(),h={}){this.model.setChildren(t,o,h)}setCompressionEnabled(t){this.model.setCompressionEnabled(t)}has(t){return this.model.has(t)}getListIndex(t){return this.model.getListIndex(t)}getListRenderCount(t){return this.model.getListRenderCount(t)}getNode(t){return this.nodeMapper.map(this.model.getNode(t))}getNodeLocation(t){return t.element}getParentNodeLocation(t){return this.model.getParentNodeLocation(t)}isCollapsible(t){return this.model.isCollapsible(t)}setCollapsible(t,o){return this.model.setCollapsible(t,o)}isCollapsed(t){return this.model.isCollapsed(t)}setCollapsed(t,o,h){return this.model.setCollapsed(t,o,h)}expandTo(t){return this.model.expandTo(t)}rerender(t){return this.model.rerender(t)}refilter(){return this.model.refilter()}getCompressedTreeNode(t=null){return this.model.getNode(t)}}e.CompressibleObjectTreeModel=n}),define(ee[293],te([0,1,8]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function k(S,p){if(S&&S[0]!==""){const C=T(S,p,"-"),i=T(S,p,"_");return C&&!i?L(S,p,"-"):!C&&i?L(S,p,"_"):S[0].toUpperCase()===S[0]?p.toUpperCase():S[0].toLowerCase()===S[0]?p.toLowerCase():b.containsUppercaseCharacter(S[0][0])&&p.length>0?p[0].toUpperCase()+p.substr(1):S[0][0].toUpperCase()!==S[0][0]&&p.length>0?p[0].toLowerCase()+p.substr(1):p}else return p}e.buildReplaceStringWithCasePreserved=k;function T(S,p,C){return S[0].indexOf(C)!==-1&&p.indexOf(C)!==-1&&S[0].split(C).length===p.split(C).length}function L(S,p,C){const i=p.split(C),v=S[0].split(C);let r="";return i.forEach((a,l)=>{r+=k([v[l]],a)+C}),r.slice(0,-1)}}),define(ee[74],te([0,1,8]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var k;(function(T){T[T.Ignore=0]="Ignore",T[T.Info=1]="Info",T[T.Warning=2]="Warning",T[T.Error=3]="Error"})(k||(k={})),function(T){const L="error",S="warning",p="warn",C="info",i="ignore";function v(a){return a?b.equalsIgnoreCase(L,a)?T.Error:b.equalsIgnoreCase(S,a)||b.equalsIgnoreCase(p,a)?T.Warning:b.equalsIgnoreCase(C,a)?T.Info:T.Ignore:T.Ignore}T.fromValue=v;function r(a){switch(a){case T.Error:return L;case T.Warning:return S;case T.Info:return C;default:return i}}T.toString=r}(k||(k={})),e.default=k}),define(ee[20],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNever=e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isUndefined=e.isBoolean=e.isNumber=e.isObject=e.isString=e.isArray=void 0;function b(t){return Array.isArray(t)}e.isArray=b;function k(t){return typeof t=="string"}e.isString=k;function T(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}e.isObject=T;function L(t){return typeof t=="number"&&!isNaN(t)}e.isNumber=L;function S(t){return t===!0||t===!1}e.isBoolean=S;function p(t){return typeof t=="undefined"}e.isUndefined=p;function C(t){return p(t)||t===null}e.isUndefinedOrNull=C;function i(t,o){if(!t)throw new Error(o?`Unexpected type, expected '${o}'`:"Unexpected type")}e.assertType=i;function v(t){if(C(t))throw new Error("Assertion Failed: argument is undefined or null");return t}e.assertIsDefined=v;function r(t){return typeof t=="function"}e.isFunction=r;function a(t,o){const h=Math.min(t.length,o.length);for(let m=0;m<h;m++)l(t[m],o[m])}e.validateConstraints=a;function l(t,o){if(k(o)){if(typeof t!==o)throw new Error(`argument does not match constraint: typeof ${o}`)}else if(r(o)){try{if(t instanceof o)return}catch(h){}if(!C(t)&&t.constructor===o||o.length===1&&o.call(void 0,t)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=l;function c(t){let o=[],h=Object.getPrototypeOf(t);for(;Object.prototype!==h;)o=o.concat(Object.getOwnPropertyNames(h)),h=Object.getPrototypeOf(h);return o}e.getAllPropertyNames=c;function u(t){const o=[];for(const h of c(t))typeof t[h]=="function"&&o.push(h);return o}e.getAllMethodNames=u;function s(t,o){const h=y=>function(){const w=Array.prototype.slice.call(arguments,0);return o(y,w)};let m={};for(const y of t)m[y]=h(y);return m}e.createProxyObject=s;function n(t){return t===null?void 0:t}e.withNullAsUndefined=n;function d(t,o="Unreachable"){throw new Error(o)}e.assertNever=d}),define(ee[42],te([0,1,20]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOrDefault=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function k(r){if(!r||typeof r!="object"||r instanceof RegExp)return r;const a=Array.isArray(r)?[]:{};return Object.keys(r).forEach(l=>{r[l]&&typeof r[l]=="object"?a[l]=k(r[l]):a[l]=r[l]}),a}e.deepClone=k;function T(r){if(!r||typeof r!="object")return r;const a=[r];for(;a.length>0;){const l=a.shift();Object.freeze(l);for(const c in l)if(L.call(l,c)){const u=l[c];typeof u=="object"&&!Object.isFrozen(u)&&a.push(u)}}return r}e.deepFreeze=T;const L=Object.prototype.hasOwnProperty;function S(r,a){return p(r,a,new Set)}e.cloneAndChange=S;function p(r,a,l){if((0,b.isUndefinedOrNull)(r))return r;const c=a(r);if(typeof c!="undefined")return c;if((0,b.isArray)(r)){const u=[];for(const s of r)u.push(p(s,a,l));return u}if((0,b.isObject)(r)){if(l.has(r))throw new Error("Cannot clone recursive data-structure");l.add(r);const u={};for(let s in r)L.call(r,s)&&(u[s]=p(r[s],a,l));return l.delete(r),u}return r}function C(r,a,l=!0){return(0,b.isObject)(r)?((0,b.isObject)(a)&&Object.keys(a).forEach(c=>{c in r?l&&((0,b.isObject)(r[c])&&(0,b.isObject)(a[c])?C(r[c],a[c],l):r[c]=a[c]):r[c]=a[c]}),r):a}e.mixin=C;function i(r,a){if(r===a)return!0;if(r==null||a===null||a===void 0||typeof r!=typeof a||typeof r!="object"||Array.isArray(r)!==Array.isArray(a))return!1;let l,c;if(Array.isArray(r)){if(r.length!==a.length)return!1;for(l=0;l<r.length;l++)if(!i(r[l],a[l]))return!1}else{const u=[];for(c in r)u.push(c);u.sort();const s=[];for(c in a)s.push(c);if(s.sort(),!i(u,s))return!1;for(l=0;l<u.length;l++)if(!i(r[u[l]],a[u[l]]))return!1}return!0}e.equals=i;function v(r,a,l){const c=a(r);return typeof c=="undefined"?l:c}e.getOrDefault=v}),define(ee[129],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function b(T){return T<0?0:T>255?255:T|0}e.toUint8=b;function k(T){return T<0?0:T>4294967295?4294967295:T|0}e.toUint32=k}),define(ee[24],te([0,1,17,73]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const T=/^\w[\w\d+.-]*$/,L=/^\//,S=/^\/\//;function p(w,g){if(!w.scheme&&g)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${w.authority}", path: "${w.path}", query: "${w.query}", fragment: "${w.fragment}"}`);if(w.scheme&&!T.test(w.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(w.path){if(w.authority){if(!L.test(w.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(S.test(w.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function C(w,g){return!w&&!g?"file":w}function i(w,g){switch(w){case"https":case"http":case"file":g?g[0]!==r&&(g=r+g):g=r;break}return g}const v="",r="/",a=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class l{constructor(g,f,_,D,N,I=!1){typeof g=="object"?(this.scheme=g.scheme||v,this.authority=g.authority||v,this.path=g.path||v,this.query=g.query||v,this.fragment=g.fragment||v):(this.scheme=C(g,I),this.authority=f||v,this.path=i(this.scheme,_||v),this.query=D||v,this.fragment=N||v,p(this,I))}static isUri(g){return g instanceof l?!0:g?typeof g.authority=="string"&&typeof g.fragment=="string"&&typeof g.path=="string"&&typeof g.query=="string"&&typeof g.scheme=="string"&&typeof g.fsPath=="string"&&typeof g.with=="function"&&typeof g.toString=="function":!1}get fsPath(){return t(this,!1)}with(g){if(!g)return this;let{scheme:f,authority:_,path:D,query:N,fragment:I}=g;return f===void 0?f=this.scheme:f===null&&(f=v),_===void 0?_=this.authority:_===null&&(_=v),D===void 0?D=this.path:D===null&&(D=v),N===void 0?N=this.query:N===null&&(N=v),I===void 0?I=this.fragment:I===null&&(I=v),f===this.scheme&&_===this.authority&&D===this.path&&N===this.query&&I===this.fragment?this:new u(f,_,D,N,I)}static parse(g,f=!1){const _=a.exec(g);return _?new u(_[2]||v,y(_[4]||v),y(_[5]||v),y(_[7]||v),y(_[9]||v),f):new u(v,v,v,v,v)}static file(g){let f=v;if(b.isWindows&&(g=g.replace(/\\/g,r)),g[0]===r&&g[1]===r){const _=g.indexOf(r,2);_===-1?(f=g.substring(2),g=r):(f=g.substring(2,_),g=g.substring(_)||r)}return new u("file",f,g,v,v)}static from(g){const f=new u(g.scheme,g.authority,g.path,g.query,g.fragment);return p(f,!0),f}static joinPath(g,...f){if(!g.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let _;return b.isWindows&&g.scheme==="file"?_=l.file(k.win32.join(t(g,!0),...f)).path:_=k.posix.join(g.path,...f),g.with({path:_})}toString(g=!1){return o(this,g)}toJSON(){return this}static revive(g){if(g){if(g instanceof l)return g;{const f=new u(g);return f._formatted=g.external,f._fsPath=g._sep===c?g.fsPath:null,f}}else return g}}e.URI=l;const c=b.isWindows?1:void 0;class u extends l{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=t(this,!1)),this._fsPath}toString(g=!1){return g?o(this,!0):(this._formatted||(this._formatted=o(this,!1)),this._formatted)}toJSON(){const g={$mid:1};return this._fsPath&&(g.fsPath=this._fsPath,g._sep=c),this._formatted&&(g.external=this._formatted),this.path&&(g.path=this.path),this.scheme&&(g.scheme=this.scheme),this.authority&&(g.authority=this.authority),this.query&&(g.query=this.query),this.fragment&&(g.fragment=this.fragment),g}}const s={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function n(w,g){let f,_=-1;for(let D=0;D<w.length;D++){const N=w.charCodeAt(D);if(N>=97&&N<=122||N>=65&&N<=90||N>=48&&N<=57||N===45||N===46||N===95||N===126||g&&N===47)_!==-1&&(f+=encodeURIComponent(w.substring(_,D)),_=-1),f!==void 0&&(f+=w.charAt(D));else{f===void 0&&(f=w.substr(0,D));const I=s[N];I!==void 0?(_!==-1&&(f+=encodeURIComponent(w.substring(_,D)),_=-1),f+=I):_===-1&&(_=D)}}return _!==-1&&(f+=encodeURIComponent(w.substring(_))),f!==void 0?f:w}function d(w){let g;for(let f=0;f<w.length;f++){const _=w.charCodeAt(f);_===35||_===63?(g===void 0&&(g=w.substr(0,f)),g+=s[_]):g!==void 0&&(g+=w[f])}return g!==void 0?g:w}function t(w,g){let f;return w.authority&&w.path.length>1&&w.scheme==="file"?f=`//${w.authority}${w.path}`:w.path.charCodeAt(0)===47&&(w.path.charCodeAt(1)>=65&&w.path.charCodeAt(1)<=90||w.path.charCodeAt(1)>=97&&w.path.charCodeAt(1)<=122)&&w.path.charCodeAt(2)===58?g?f=w.path.substr(1):f=w.path[1].toLowerCase()+w.path.substr(2):f=w.path,b.isWindows&&(f=f.replace(/\//g,"\\")),f}e.uriToFsPath=t;function o(w,g){const f=g?d:n;let _="",{scheme:D,authority:N,path:I,query:M,fragment:O}=w;if(D&&(_+=D,_+=":"),(N||D==="file")&&(_+=r,_+=r),N){let R=N.indexOf("@");if(R!==-1){const P=N.substr(0,R);N=N.substr(R+1),R=P.indexOf(":"),R===-1?_+=f(P,!1):(_+=f(P.substr(0,R),!1),_+=":",_+=f(P.substr(R+1),!1)),_+="@"}N=N.toLowerCase(),R=N.indexOf(":"),R===-1?_+=f(N,!1):(_+=f(N.substr(0,R),!1),_+=N.substr(R))}if(I){if(I.length>=3&&I.charCodeAt(0)===47&&I.charCodeAt(2)===58){const R=I.charCodeAt(1);R>=65&&R<=90&&(I=`/${String.fromCharCode(R+32)}:${I.substr(3)}`)}else if(I.length>=2&&I.charCodeAt(1)===58){const R=I.charCodeAt(0);R>=65&&R<=90&&(I=`${String.fromCharCode(R+32)}:${I.substr(2)}`)}_+=f(I,!0)}return M&&(_+="?",_+=f(M,!1)),O&&(_+="#",_+=g?O:n(O,!1)),_}function h(w){try{return decodeURIComponent(w)}catch(g){return w.length>3?w.substr(0,3)+h(w.substr(3)):w}}const m=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function y(w){return w.match(m)?w.replace(m,g=>h(g)):w}}),define(ee[49],te([0,1,24,8]),function(G,e,b,k){"use strict";var T,L;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class S{constructor(){this._value="",this._pos=0}reset(s){return this._value=s,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(s){const n=s.charCodeAt(0),d=this._value.charCodeAt(this._pos);return n-d}value(){return this._value[this._pos]}}e.StringIterator=S;class p{constructor(s=!0){this._caseSensitive=s}reset(s){return this._value=s,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let s=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(s)this._from++;else break;else s=!1;return this}cmp(s){return this._caseSensitive?(0,k.compareSubstring)(s,this._value,0,s.length,this._from,this._to):(0,k.compareSubstringIgnoreCase)(s,this._value,0,s.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=p;class C{constructor(s=!0,n=!0){this._splitOnBackslash=s,this._caseSensitive=n}reset(s){return this._value=s.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let s=!0;for(;this._to<this._value.length;this._to++){const n=this._value.charCodeAt(this._to);if(n===47||this._splitOnBackslash&&n===92)if(s)this._from++;else break;else s=!1}return this}cmp(s){return this._caseSensitive?(0,k.compareSubstring)(s,this._value,0,s.length,this._from,this._to):(0,k.compareSubstringIgnoreCase)(s,this._value,0,s.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=C;class i{constructor(s){this._ignorePathCasing=s,this._states=[],this._stateIdx=0}reset(s){return this._value=s,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new C(!1,!this._ignorePathCasing(s)),this._pathIterator.reset(s.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(s){if(this._states[this._stateIdx]===1)return(0,k.compareIgnoreCase)(s,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,k.compareIgnoreCase)(s,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(s);if(this._states[this._stateIdx]===4)return(0,k.compare)(s,this._value.query);if(this._states[this._stateIdx]===5)return(0,k.compare)(s,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=i;class v{isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class r{constructor(s){this._iter=s}static forUris(s=()=>!1){return new r(new i(s))}static forStrings(){return new r(new S)}static forConfigKeys(){return new r(new p)}clear(){this._root=void 0}set(s,n){const d=this._iter.reset(s);let t;for(this._root||(this._root=new v,this._root.segment=d.value()),t=this._root;;){const h=d.cmp(t.segment);if(h>0)t.left||(t.left=new v,t.left.segment=d.value()),t=t.left;else if(h<0)t.right||(t.right=new v,t.right.segment=d.value()),t=t.right;else if(d.hasNext())d.next(),t.mid||(t.mid=new v,t.mid.segment=d.value()),t=t.mid;else break}const o=t.value;return t.value=n,t.key=s,o}get(s){var n;return(n=this._getNode(s))===null||n===void 0?void 0:n.value}_getNode(s){const n=this._iter.reset(s);let d=this._root;for(;d;){const t=n.cmp(d.segment);if(t>0)d=d.left;else if(t<0)d=d.right;else if(n.hasNext())n.next(),d=d.mid;else break}return d}has(s){const n=this._getNode(s);return!((n==null?void 0:n.value)===void 0&&(n==null?void 0:n.mid)===void 0)}delete(s){return this._delete(s,!1)}deleteSuperstr(s){return this._delete(s,!0)}_delete(s,n){const d=this._iter.reset(s),t=[];let o=this._root;for(;o;){const h=d.cmp(o.segment);if(h>0)t.push([1,o]),o=o.left;else if(h<0)t.push([-1,o]),o=o.right;else if(d.hasNext())d.next(),t.push([0,o]),o=o.mid;else{for(n?(o.left=void 0,o.mid=void 0,o.right=void 0):o.value=void 0;t.length>0&&o.isEmpty();){let[m,y]=t.pop();switch(m){case 1:y.left=void 0;break;case 0:y.mid=void 0;break;case-1:y.right=void 0;break}o=y}break}}}findSubstr(s){const n=this._iter.reset(s);let d=this._root,t;for(;d;){const o=n.cmp(d.segment);if(o>0)d=d.left;else if(o<0)d=d.right;else if(n.hasNext())n.next(),t=d.value||t,d=d.mid;else break}return d&&d.value||t}findSuperstr(s){const n=this._iter.reset(s);let d=this._root;for(;d;){const t=n.cmp(d.segment);if(t>0)d=d.left;else if(t<0)d=d.right;else if(n.hasNext())n.next(),d=d.mid;else return d.mid?this._entries(d.mid):void 0}}forEach(s){for(const[n,d]of this)s(d,n)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(s){if(!s)return;const n=[s];for(;n.length>0;){const d=n.pop();d&&(d.value&&(yield[d.key,d.value]),d.left&&n.push(d.left),d.mid&&n.push(d.mid),d.right&&n.push(d.right))}}}e.TernarySearchTree=r;class a{constructor(s,n){this[T]="ResourceMap",s instanceof a?(this.map=new Map(s.map),this.toKey=n??a.defaultToKey):(this.map=new Map,this.toKey=s??a.defaultToKey)}set(s,n){return this.map.set(this.toKey(s),n),this}get(s){return this.map.get(this.toKey(s))}has(s){return this.map.has(this.toKey(s))}get size(){return this.map.size}clear(){this.map.clear()}delete(s){return this.map.delete(this.toKey(s))}forEach(s,n){typeof n!="undefined"&&(s=s.bind(n));for(let[d,t]of this.map)s(t,b.URI.parse(d),this)}values(){return this.map.values()}*keys(){for(let s of this.map.keys())yield b.URI.parse(s)}*entries(){for(let s of this.map.entries())yield[b.URI.parse(s[0]),s[1]]}*[(T=Symbol.toStringTag,Symbol.iterator)](){for(let s of this.map)yield[b.URI.parse(s[0]),s[1]]}}e.ResourceMap=a,a.defaultToKey=u=>u.toString();class l{constructor(){this[L]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var s;return(s=this._head)===null||s===void 0?void 0:s.value}get last(){var s;return(s=this._tail)===null||s===void 0?void 0:s.value}has(s){return this._map.has(s)}get(s,n=0){const d=this._map.get(s);if(!!d)return n!==0&&this.touch(d,n),d.value}set(s,n,d=0){let t=this._map.get(s);if(t)t.value=n,d!==0&&this.touch(t,d);else{switch(t={key:s,value:n,next:void 0,previous:void 0},d){case 0:this.addItemLast(t);break;case 1:this.addItemFirst(t);break;case 2:this.addItemLast(t);break;default:this.addItemLast(t);break}this._map.set(s,t),this._size++}return this}delete(s){return!!this.remove(s)}remove(s){const n=this._map.get(s);if(!!n)return this._map.delete(s),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const s=this._head;return this._map.delete(s.key),this.removeItem(s),this._size--,s.value}forEach(s,n){const d=this._state;let t=this._head;for(;t;){if(n?s.bind(n)(t.value,t.key,this):s(t.value,t.key,this),this._state!==d)throw new Error("LinkedMap got modified during iteration.");t=t.next}}keys(){const s=this,n=this._state;let d=this._head;const t={[Symbol.iterator](){return t},next(){if(s._state!==n)throw new Error("LinkedMap got modified during iteration.");if(d){const o={value:d.key,done:!1};return d=d.next,o}else return{value:void 0,done:!0}}};return t}values(){const s=this,n=this._state;let d=this._head;const t={[Symbol.iterator](){return t},next(){if(s._state!==n)throw new Error("LinkedMap got modified during iteration.");if(d){const o={value:d.value,done:!1};return d=d.next,o}else return{value:void 0,done:!0}}};return t}entries(){const s=this,n=this._state;let d=this._head;const t={[Symbol.iterator](){return t},next(){if(s._state!==n)throw new Error("LinkedMap got modified during iteration.");if(d){const o={value:[d.key,d.value],done:!1};return d=d.next,o}else return{value:void 0,done:!0}}};return t}[(L=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(s){if(s>=this.size)return;if(s===0){this.clear();return}let n=this._head,d=this.size;for(;n&&d>s;)this._map.delete(n.key),n=n.next,d--;this._head=n,this._size=d,n&&(n.previous=void 0),this._state++}addItemFirst(s){if(!this._head&&!this._tail)this._tail=s;else if(this._head)s.next=this._head,this._head.previous=s;else throw new Error("Invalid list");this._head=s,this._state++}addItemLast(s){if(!this._head&&!this._tail)this._head=s;else if(this._tail)s.previous=this._tail,this._tail.next=s;else throw new Error("Invalid list");this._tail=s,this._state++}removeItem(s){if(s===this._head&&s===this._tail)this._head=void 0,this._tail=void 0;else if(s===this._head){if(!s.next)throw new Error("Invalid list");s.next.previous=void 0,this._head=s.next}else if(s===this._tail){if(!s.previous)throw new Error("Invalid list");s.previous.next=void 0,this._tail=s.previous}else{const n=s.next,d=s.previous;if(!n||!d)throw new Error("Invalid list");n.previous=d,d.next=n}s.next=void 0,s.previous=void 0,this._state++}touch(s,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==1&&n!==2)){if(n===1){if(s===this._head)return;const d=s.next,t=s.previous;s===this._tail?(t.next=void 0,this._tail=t):(d.previous=t,t.next=d),s.previous=void 0,s.next=this._head,this._head.previous=s,this._head=s,this._state++}else if(n===2){if(s===this._tail)return;const d=s.next,t=s.previous;s===this._head?(d.previous=void 0,this._head=d):(d.previous=t,t.next=d),s.next=void 0,s.previous=this._tail,this._tail.next=s,this._tail=s,this._state++}}}toJSON(){const s=[];return this.forEach((n,d)=>{s.push([d,n])}),s}fromJSON(s){this.clear();for(const[n,d]of s)this.set(n,d)}}e.LinkedMap=l;class c extends l{constructor(s,n=1){super();this._limit=s,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(s){this._limit=s,this.checkTrim()}get(s,n=2){return super.get(s,n)}peek(s){return super.get(s,0)}set(s,n){return super.set(s,n,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=c}),define(ee[67],te([0,1,49,8]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.or=void 0;function T(...K){return function(re,ae){for(let he=0,U=K.length;he<U;he++){const se=K[he](re,ae);if(se)return se}return null}}e.or=T,e.matchesPrefix=L.bind(void 0,!0);function L(K,re,ae){if(!ae||ae.length<re.length)return null;let he;return K?he=k.startsWithIgnoreCase(ae,re):he=ae.indexOf(re)===0,he?re.length>0?[{start:0,end:re.length}]:[]:null}function S(K,re){const ae=re.toLowerCase().indexOf(K.toLowerCase());return ae===-1?null:[{start:ae,end:ae+K.length}]}e.matchesContiguousSubString=S;function p(K,re){return C(K.toLowerCase(),re.toLowerCase(),0,0)}e.matchesSubString=p;function C(K,re,ae,he){if(ae===K.length)return[];if(he===re.length)return null;if(K[ae]===re[he]){let U=null;return(U=C(K,re,ae+1,he+1))?n({start:he,end:he+1},U):null}return C(K,re,ae,he+1)}function i(K){return 97<=K&&K<=122}function v(K){return 65<=K&&K<=90}e.isUpper=v;function r(K){return 48<=K&&K<=57}function a(K){return K===32||K===9||K===10||K===13}const l=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(K=>l.add(K.charCodeAt(0)));function c(K){return a(K)||l.has(K)}function u(K,re){return K===re||c(K)&&c(re)}function s(K){return i(K)||v(K)||r(K)}function n(K,re){return re.length===0?re=[K]:K.end===re[0].start?re[0].start=K.start:re.unshift(K),re}function d(K,re){for(let ae=re;ae<K.length;ae++){const he=K.charCodeAt(ae);if(v(he)||r(he)||ae>0&&!s(K.charCodeAt(ae-1)))return ae}return K.length}function t(K,re,ae,he){if(ae===K.length)return[];if(he===re.length)return null;if(K[ae]!==re[he].toLowerCase())return null;{let U=null,se=he+1;for(U=t(K,re,ae+1,he+1);!U&&(se=d(re,se))<re.length;)U=t(K,re,ae+1,se),se++;return U===null?null:n({start:he,end:he+1},U)}}function o(K){let re=0,ae=0,he=0,U=0,se=0;for(let be=0;be<K.length;be++)se=K.charCodeAt(be),v(se)&&re++,i(se)&&ae++,s(se)&&he++,r(se)&&U++;const Y=re/K.length,ne=ae/K.length,ce=he/K.length,pe=U/K.length;return{upperPercent:Y,lowerPercent:ne,alphaPercent:ce,numericPercent:pe}}function h(K){const{upperPercent:re,lowerPercent:ae}=K;return ae===0&&re>.6}function m(K){const{upperPercent:re,lowerPercent:ae,alphaPercent:he,numericPercent:U}=K;return ae>.2&&re<.8&&he>.6&&U<.2}function y(K){let re=0,ae=0,he=0,U=0;for(let se=0;se<K.length;se++)he=K.charCodeAt(se),v(he)&&re++,i(he)&&ae++,a(he)&&U++;return(re===0||ae===0)&&U===0?K.length<=30:re<=5}function w(K,re){if(!re||(re=re.trim(),re.length===0)||!y(K)||re.length>60)return null;const ae=o(re);if(!m(ae)){if(!h(ae))return null;re=re.toLowerCase()}let he=null,U=0;for(K=K.toLowerCase();U<re.length&&(he=t(K,re,0,U))===null;)U=d(re,U+1);return he}e.matchesCamelCase=w;function g(K,re,ae=!1){if(!re||re.length===0)return null;let he=null,U=0;for(K=K.toLowerCase(),re=re.toLowerCase();U<re.length&&(he=f(K,re,0,U,ae))===null;)U=_(re,U+1);return he}e.matchesWords=g;function f(K,re,ae,he,U){if(ae===K.length)return[];if(he===re.length)return null;if(u(K.charCodeAt(ae),re.charCodeAt(he))){let se=null,Y=he+1;if(se=f(K,re,ae+1,he+1,U),!U)for(;!se&&(Y=_(re,Y))<re.length;)se=f(K,re,ae+1,Y,U),Y++;return se===null?null:n({start:he,end:he+1},se)}else return null}function _(K,re){for(let ae=re;ae<K.length;ae++)if(c(K.charCodeAt(ae))||ae>0&&c(K.charCodeAt(ae-1)))return ae;return K.length}const D=T(e.matchesPrefix,w,S),N=T(e.matchesPrefix,w,p),I=new b.LRUCache(1e4);function M(K,re,ae=!1){if(typeof K!="string"||typeof re!="string")return null;let he=I.get(K);he||(he=new RegExp(k.convertSimple2RegExpPattern(K),"i"),I.set(K,he));const U=he.exec(re);return U?[{start:U.index,end:U.index+U[0].length}]:ae?N(K,re):D(K,re)}e.matchesFuzzy=M;function O(K,re,ae,he,U,se){const Y=Math.min(13,K.length);for(;ae<Y;ae++){const ne=H(K,re,ae,he,U,se,!1);if(ne)return ne}return[0,se]}e.anyScore=O;function R(K){if(typeof K=="undefined")return[];const re=[],ae=K[1];for(let he=K.length-1;he>1;he--){const U=K[he]+ae,se=re[re.length-1];se&&se.end===U?se.end=U+1:re.push({start:U,end:U+1})}return re}e.createMatches=R;const P=128;function A(){const K=[],re=[];for(let ae=0;ae<=P;ae++)re[ae]=0;for(let ae=0;ae<=P;ae++)K.push(re.slice(0));return K}function F(K){const re=[];for(let ae=0;ae<=K;ae++)re[ae]=0;return re}const E=F(2*P),W=F(2*P),V=A(),$=A(),Z=A(),X=!1;function J(K,re,ae,he,U){function se(ne,ce,pe=" "){for(;ne.length<ce;)ne=pe+ne;return ne}let Y=` |   |${he.split("").map(ne=>se(ne,3)).join("|")}
`;for(let ne=0;ne<=ae;ne++)ne===0?Y+=" |":Y+=`${re[ne-1]}|`,Y+=K[ne].slice(0,U+1).map(ce=>se(ce.toString(),3)).join("|")+`
`;return Y}function ie(K,re,ae,he){K=K.substr(re),ae=ae.substr(he),console.log(J($,K,K.length,ae,ae.length)),console.log(J(Z,K,K.length,ae,ae.length)),console.log(J(V,K,K.length,ae,ae.length))}function de(K,re){if(re<0||re>=K.length)return!1;const ae=K.codePointAt(re);switch(ae){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!k.isEmojiImprecise(ae)}}function ue(K,re){if(re<0||re>=K.length)return!1;switch(K.charCodeAt(re)){case 32:case 9:return!0;default:return!1}}function q(K,re,ae){return re[K]!==ae[K]}function B(K,re,ae,he,U,se,Y=!1){for(;re<ae&&U<se;)K[re]===he[U]&&(Y&&(E[re]=U),re+=1),U+=1;return re===ae}e.isPatternInWord=B;var j;(function(K){K.Default=[-100,0];function re(ae){return!ae||ae.length===2&&ae[0]===-100&&ae[1]===0}K.isDefault=re})(j=e.FuzzyScore||(e.FuzzyScore={}));function H(K,re,ae,he,U,se,Y){const ne=K.length>P?P:K.length,ce=he.length>P?P:he.length;if(ae>=ne||se>=ce||ne-ae>ce-se||!B(re,ae,ne,U,se,ce,!0))return;z(ne,ce,ae,se,re,U);let pe=1,be=1,Ee=ae,Le=se;const Te=[!1];for(pe=1,Ee=ae;Ee<ne;pe++,Ee++){const ye=E[Ee],me=W[Ee],ve=Ee+1<ne?W[Ee+1]:ce;for(be=ye-se+1,Le=ye;Le<ve;be++,Le++){let ge=Number.MIN_SAFE_INTEGER,fe=!1;Le<=me&&(ge=Q(K,re,Ee,ae,he,U,Le,ce,se,V[pe-1][be-1]===0,Te));let _e=0;ge!==Number.MAX_SAFE_INTEGER&&(fe=!0,_e=ge+$[pe-1][be-1]);const ke=Le>ye,Ne=ke?$[pe][be-1]+(V[pe][be-1]>0?-5:0):0,Ae=Le>ye+1&&V[pe][be-1]>0,Oe=Ae?$[pe][be-2]+(V[pe][be-2]>0?-5:0):0;if(Ae&&(!ke||Oe>=Ne)&&(!fe||Oe>=_e))$[pe][be]=Oe,Z[pe][be]=3,V[pe][be]=0;else if(ke&&(!fe||Ne>=_e))$[pe][be]=Ne,Z[pe][be]=2,V[pe][be]=0;else if(fe)$[pe][be]=_e,Z[pe][be]=1,V[pe][be]=V[pe-1][be-1]+1;else throw new Error("not possible")}}if(X&&ie(K,ae,he,se),!Te[0]&&!Y)return;pe--,be--;const De=[$[pe][be],se];let Me=0,Se=0;for(;pe>=1;){let ye=be;do{const me=Z[pe][ye];if(me===3)ye=ye-2;else if(me===2)ye=ye-1;else break}while(ye>=1);Me>1&&re[ae+pe-1]===U[se+be-1]&&!q(ye+se-1,he,U)&&Me+1>V[pe][ye]&&(ye=be),ye===be?Me++:Me=1,Se||(Se=ye),pe--,be=ye-1,De.push(be)}ce===ne&&(De[0]+=2);const we=Se-ne;return De[0]-=we,De}e.fuzzyScore=H;function z(K,re,ae,he,U,se){let Y=K-1,ne=re-1;for(;Y>=ae&&ne>=he;)U[Y]===se[ne]&&(W[Y]=ne,Y--),ne--}function Q(K,re,ae,he,U,se,Y,ne,ce,pe,be){if(re[ae]!==se[Y])return Number.MIN_SAFE_INTEGER;let Ee=1,Le=!1;return Y===ae-he?Ee=K[ae]===U[Y]?7:5:q(Y,U,se)&&(Y===0||!q(Y-1,U,se))?(Ee=K[ae]===U[Y]?7:5,Le=!0):de(se,Y)&&(Y===0||!de(se,Y-1))?Ee=5:(de(se,Y-1)||ue(se,Y-1))&&(Ee=5,Le=!0),Ee>1&&ae===he&&(be[0]=!0),Le||(Le=q(Y,U,se)||de(se,Y-1)||ue(se,Y-1)),ae===he?Y>ce&&(Ee-=Le?3:5):pe?Ee+=Le?2:0:Ee+=Le?0:1,Y+1===ne&&(Ee-=Le?3:5),Ee}function x(K,re,ae,he,U,se,Y){return le(K,re,ae,he,U,se,!0,Y)}e.fuzzyScoreGracefulAggressive=x;function le(K,re,ae,he,U,se,Y,ne){let ce=H(K,re,ae,he,U,se,ne);if(ce&&!Y)return ce;if(K.length>=3){const pe=Math.min(7,K.length-1);for(let be=ae+1;be<pe;be++){const Ee=oe(K,be);if(Ee){const Le=H(Ee,Ee.toLowerCase(),ae,he,U,se,ne);Le&&(Le[0]-=3,(!ce||Le[0]>ce[0])&&(ce=Le))}}}return ce}function oe(K,re){if(re+1>=K.length)return;const ae=K[re],he=K[re+1];if(ae!==he)return K.slice(0,re)+he+ae+K.slice(re+2)}}),define(ee[294],te([0,1,67,73,17,8]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const S=[void 0,[]];function p(s,n,d=0,t=0){const o=n;return o.values&&o.values.length>1?C(s,o.values,d,t):i(s,n,d,t)}e.scoreFuzzy2=p;function C(s,n,d,t){let o=0;const h=[];for(const m of n){const[y,w]=i(s,m,d,t);if(typeof y!="number")return S;o+=y,h.push(...w)}return[o,v(h)]}function i(s,n,d,t){const o=(0,b.fuzzyScore)(n.original,n.originalLowercase,d,s,s.toLowerCase(),t,!0);return o?[o[0],(0,b.createMatches)(o)]:S}function v(s){const n=s.sort((o,h)=>o.start-h.start),d=[];let t;for(const o of n)!t||!r(t,o)?(t=o,d.push(o)):(t.start=Math.min(t.start,o.start),t.end=Math.max(t.end,o.end));return d}function r(s,n){return!(s.end<n.start||n.end<s.start)}const a=" ";function l(s){typeof s!="string"&&(s="");const n=s.toLowerCase(),{pathNormalized:d,normalized:t,normalizedLowercase:o}=c(s),h=d.indexOf(k.sep)>=0;let m;const y=s.split(a);if(y.length>1)for(const w of y){const{pathNormalized:g,normalized:f,normalizedLowercase:_}=c(w);f&&(m||(m=[]),m.push({original:w,originalLowercase:w.toLowerCase(),pathNormalized:g,normalized:f,normalizedLowercase:_}))}return{original:s,originalLowercase:n,pathNormalized:d,normalized:t,normalizedLowercase:o,values:m,containsPathSeparator:h}}e.prepareQuery=l;function c(s){let n;T.isWindows?n=s.replace(/\//g,k.sep):n=s.replace(/\\/g,k.sep);const d=(0,L.stripWildcards)(n).replace(/\s/g,"");return{pathNormalized:n,normalized:d,normalizedLowercase:d.toLowerCase()}}function u(s){return Array.isArray(s)?l(s.map(n=>n.original).join(a)):l(s.original)}e.pieceToQuery=u}),define(ee[201],te([0,1,8,157,73,49,15]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=void 0;const p="**",C="/",i="[/\\\\]",v="[^/\\\\]",r=/\//g;function a(E){switch(E){case 0:return"";case 1:return`${v}*?`;default:return`(?:${i}|${v}+${i}|${i}${v}+)*?`}}function l(E,W){if(!E)return[];const V=[];let $=!1,Z=!1,X="";for(const J of E){switch(J){case W:if(!$&&!Z){V.push(X),X="";continue}break;case"{":$=!0;break;case"}":$=!1;break;case"[":Z=!0;break;case"]":Z=!1;break}X+=J}return X&&V.push(X),V}e.splitGlobAware=l;function c(E){if(!E)return"";let W="";const V=l(E,C);if(V.every($=>$===p))W=".*";else{let $=!1;V.forEach((Z,X)=>{if(Z===p){$||(W+=a(2),$=!0);return}let J=!1,ie="",de=!1,ue="";for(const q of Z){if(q!=="}"&&J){ie+=q;continue}if(de&&(q!=="]"||!ue)){let B;q==="-"?B=q:(q==="^"||q==="!")&&!ue?B="^":q===C?B="":B=b.escapeRegExpCharacters(q),ue+=B;continue}switch(q){case"{":J=!0;continue;case"[":de=!0;continue;case"}":W+=`(?:${l(ie,",").map(H=>c(H)).join("|")})`,J=!1,ie="";break;case"]":W+="["+ue+"]",de=!1,ue="";break;case"?":W+=v;continue;case"*":W+=a(1);continue;default:W+=b.escapeRegExpCharacters(q)}}X<V.length-1&&(V[X+1]!==p||X+2<V.length)&&(W+=i),$=!1})}return W}const u=/^\*\*\/\*\.[\w\.-]+$/,s=/^\*\*\/([\w\.-]+)\/?$/,n=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,d=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,t=/^\*\*((\/[\w\.-]+)+)\/?$/,o=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,h=new L.LRUCache(1e4),m=function(){return!1},y=function(){return null};function w(E,W){if(!E)return y;let V;typeof E!="string"?V=E.pattern:V=E,V=V.trim();const $=`${V}_${!!W.trimForExclusions}`;let Z=h.get($);if(Z)return g(Z,E);let X;if(u.test(V)){const J=V.substr(4);Z=function(ie,de){return typeof ie=="string"&&ie.endsWith(J)?V:null}}else(X=s.exec(f(V,W)))?Z=_(X[1],V):(W.trimForExclusions?d:n).test(V)?Z=D(V,W):(X=t.exec(f(V,W)))?Z=N(X[1].substr(1),V,!0):(X=o.exec(f(V,W)))?Z=N(X[1],V,!1):Z=I(V);return h.set($,Z),g(Z,E)}function g(E,W){return typeof W=="string"?E:function(V,$){return k.isEqualOrParent(V,W.base)?E(T.relative(W.base,V),$):null}}function f(E,W){return W.trimForExclusions&&E.endsWith("/**")?E.substr(0,E.length-2):E}function _(E,W){const V=`/${E}`,$=`\\${E}`,Z=function(J,ie){return typeof J!="string"?null:ie?ie===E?W:null:J===E||J.endsWith(V)||J.endsWith($)?W:null},X=[E];return Z.basenames=X,Z.patterns=[W],Z.allBasenames=X,Z}function D(E,W){const V=F(E.slice(1,-1).split(",").map(ie=>w(ie,W)).filter(ie=>ie!==y),E),$=V.length;if(!$)return y;if($===1)return V[0];const Z=function(ie,de){for(let ue=0,q=V.length;ue<q;ue++)if(V[ue](ie,de))return E;return null},X=V.find(ie=>!!ie.allBasenames);X&&(Z.allBasenames=X.allBasenames);const J=V.reduce((ie,de)=>de.allPaths?ie.concat(de.allPaths):ie,[]);return J.length&&(Z.allPaths=J),Z}function N(E,W,V){const $=T.sep===T.posix.sep,Z=$?E:E.replace(r,T.sep),X=T.sep+Z,J=T.posix.sep+E,ie=V?function(de,ue){return typeof de=="string"&&(de===Z||de.endsWith(X)||!$&&(de===E||de.endsWith(J)))?W:null}:function(de,ue){return typeof de=="string"&&(de===Z||!$&&de===E)?W:null};return ie.allPaths=[(V?"*/":"./")+E],ie}function I(E){try{const W=new RegExp(`^${c(E)}$`);return function(V){return W.lastIndex=0,typeof V=="string"&&W.test(V)?E:null}}catch(W){return y}}function M(E,W,V){return!E||typeof W!="string"?!1:O(E)(W,void 0,V)}e.match=M;function O(E,W={}){if(!E)return m;if(typeof E=="string"||R(E)){const V=w(E,W);if(V===y)return m;const $=function(Z,X){return!!V(Z,X)};return V.allBasenames&&($.allBasenames=V.allBasenames),V.allPaths&&($.allPaths=V.allPaths),$}return P(E,W)}e.parse=O;function R(E){const W=E;return W&&typeof W.base=="string"&&typeof W.pattern=="string"}e.isRelativePattern=R;function P(E,W){const V=F(Object.getOwnPropertyNames(E).map(ie=>A(ie,E[ie],W)).filter(ie=>ie!==y)),$=V.length;if(!$)return y;if(!V.some(ie=>!!ie.requiresSiblings)){if($===1)return V[0];const ie=function(q,B){for(let j=0,H=V.length;j<H;j++){const z=V[j](q,B);if(z)return z}return null},de=V.find(q=>!!q.allBasenames);de&&(ie.allBasenames=de.allBasenames);const ue=V.reduce((q,B)=>B.allPaths?q.concat(B.allPaths):q,[]);return ue.length&&(ie.allPaths=ue),ie}const Z=function(ie,de,ue){let q;for(let B=0,j=V.length;B<j;B++){const H=V[B];H.requiresSiblings&&ue&&(de||(de=T.basename(ie)),q||(q=de.substr(0,de.length-T.extname(ie).length)));const z=H(ie,de,q,ue);if(z)return z}return null},X=V.find(ie=>!!ie.allBasenames);X&&(Z.allBasenames=X.allBasenames);const J=V.reduce((ie,de)=>de.allPaths?ie.concat(de.allPaths):ie,[]);return J.length&&(Z.allPaths=J),Z}function A(E,W,V){if(W===!1)return y;const $=w(E,V);if($===y)return y;if(typeof W=="boolean")return $;if(W){const Z=W.when;if(typeof Z=="string"){const X=(J,ie,de,ue)=>{if(!ue||!$(J,ie))return null;const q=Z.replace("$(basename)",de),B=ue(q);return(0,S.isThenable)(B)?B.then(j=>j?E:null):B?E:null};return X.requiresSiblings=!0,X}}return $}function F(E,W){const V=E.filter(ie=>!!ie.basenames);if(V.length<2)return E;const $=V.reduce((ie,de)=>{const ue=de.basenames;return ue?ie.concat(ue):ie},[]);let Z;if(W){Z=[];for(let ie=0,de=$.length;ie<de;ie++)Z.push(W)}else Z=V.reduce((ie,de)=>{const ue=de.patterns;return ue?ie.concat(ue):ie},[]);const X=function(ie,de){if(typeof ie!="string")return null;if(!de){let q;for(q=ie.length;q>0;q--){const B=ie.charCodeAt(q-1);if(B===47||B===92)break}de=ie.substr(q)}const ue=$.indexOf(de);return ue!==-1?Z[ue]:null};X.basenames=$,X.patterns=Z,X.allBasenames=$;const J=E.filter(ie=>!ie.basenames);return J.push(X),J}}),define(ee[104],te([0,1,27,67,8]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const L=new RegExp(`\\$\\(${b.CSSIcon.iconNameExpression}(?:${b.CSSIcon.iconModifierExpression})?\\)`,"g"),S=new RegExp(`(\\\\)?${L.source}`,"g");function p(u){return u.replace(S,(s,n)=>n?s:`\\${s}`)}e.escapeIcons=p;const C=new RegExp(`\\\\${L.source}`,"g");function i(u){return u.replace(C,s=>`\\${s}`)}e.markdownEscapeEscapedIcons=i;const v=new RegExp(`(\\s)?(\\\\)?${L.source}(\\s)?`,"g");function r(u){return u.indexOf(e.iconStartMarker)===-1?u:u.replace(v,(s,n,d,t)=>d?s:n||t||"")}e.stripIcons=r;function a(u){const s=u.indexOf(e.iconStartMarker);return s===-1?{text:u}:l(u,s)}e.parseLabelWithIcons=a;function l(u,s){const n=[];let d="";function t(_){if(_){d+=_;for(const D of _)n.push(m)}}let o=-1,h="",m=0,y,w,g=s;const f=u.length;for(t(u.substr(0,s));g<f;)y=u[g],w=u[g+1],y===e.iconStartMarker[0]&&w===e.iconStartMarker[1]?(o=g,t(h),h=e.iconStartMarker,g++):y===")"&&o!==-1?(m+=g-o+1,o=-1,h=""):o!==-1?/^[a-z0-9\-]$/i.test(y)?h+=y:(t(h),o=-1,h=""):t(y),g++;return t(h),{text:d,iconOffsets:n}}function c(u,s,n=!1){const{text:d,iconOffsets:t}=s;if(!t||t.length===0)return(0,k.matchesFuzzy)(u,d,n);const o=(0,T.ltrim)(d," "),h=d.length-o.length,m=(0,k.matchesFuzzy)(u,o,n);if(m)for(const y of m){const w=t[y.start+h]+h;y.start+=w,y.end+=w}return m}e.matchesFuzzyIconAware=c}),define(ee[82],te([0,1,104,12]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeMarkdownSyntaxTokens=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class T{constructor(r="",a=!1){var l,c;if(this.value=r,typeof this.value!="string")throw(0,k.illegalArgument)("value");typeof a=="boolean"?(this.isTrusted=a,this.supportThemeIcons=!1):(this.isTrusted=(l=a.isTrusted)!==null&&l!==void 0?l:void 0,this.supportThemeIcons=(c=a.supportThemeIcons)!==null&&c!==void 0?c:!1)}appendText(r,a=0){return this.value+=p(this.supportThemeIcons?(0,b.escapeIcons)(r):r).replace(/([ \t]+)/g,(l,c)=>"&nbsp;".repeat(c.length)).replace(/^>/gm,"\\>").replace(/\n/g,a===1?`\\
`:`

`),this}appendMarkdown(r){return this.value+=r,this}appendCodeblock(r,a){return this.value+="\n```",this.value+=r,this.value+=`
`,this.value+=a,this.value+="\n```\n",this}}e.MarkdownString=T;function L(v){return S(v)?!v.value:Array.isArray(v)?v.every(L):!0}e.isEmptyMarkdownString=L;function S(v){return v instanceof T?!0:v&&typeof v=="object"?typeof v.value=="string"&&(typeof v.isTrusted=="boolean"||v.isTrusted===void 0)&&(typeof v.supportThemeIcons=="boolean"||v.supportThemeIcons===void 0):!1}e.isMarkdownString=S;function p(v){return v.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=p;function C(v){return v&&v.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=C;function i(v){const r=[],a=v.split("|").map(c=>c.trim());v=a[0];const l=a[1];if(l){const c=/height=(\d+)/.exec(l),u=/width=(\d+)/.exec(l),s=c?c[1]:"",n=u?u[1]:"",d=isFinite(parseInt(n)),t=isFinite(parseInt(s));d&&r.push(`width="${n}"`),t&&r.push(`height="${s}"`)}return{href:v,dimensions:r}}e.parseHrefAndDimensions=i}),define(ee[202],te([0,1,103,24]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function T(S){let p=JSON.parse(S);return p=L(p),p}e.parse=T;function L(S,p=0){if(!S||p>200)return S;if(typeof S=="object"){switch(S.$mid){case 1:return k.URI.revive(S);case 2:return new RegExp(S.source,S.flags)}if(S instanceof b.VSBuffer||S instanceof Uint8Array)return S;if(Array.isArray(S))for(let C=0;C<S.length;++C)S[C]=L(S[C],p+1);else for(const C in S)Object.hasOwnProperty.call(S,C)&&(S[C]=L(S[C],p+1))}return S}e.revive=L}),define(ee[46],te([0,1,24,17]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var T;(function(p){p.inMemory="inmemory",p.vscode="vscode",p.internal="private",p.walkThrough="walkThrough",p.walkThroughSnippet="walkThroughSnippet",p.http="http",p.https="https",p.file="file",p.mailto="mailto",p.untitled="untitled",p.data="data",p.command="command",p.vscodeRemote="vscode-remote",p.vscodeRemoteResource="vscode-remote-resource",p.userData="vscode-userdata",p.vscodeCustomEditor="vscode-custom-editor",p.vscodeNotebook="vscode-notebook",p.vscodeNotebookCell="vscode-notebook-cell",p.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",p.vscodeNotebookCellOutput="vscode-notebook-cell-output",p.vscodeInteractive="vscode-interactive",p.vscodeInteractiveInput="vscode-interactive-input",p.vscodeSettings="vscode-settings",p.vscodeWorkspaceTrust="vscode-workspace-trust",p.vscodeTerminal="vscode-terminal",p.webviewPanel="webview-panel",p.vscodeWebview="vscode-webview",p.extension="extension",p.vscodeFileResource="vscode-file",p.tmp="tmp"})(T=e.Schemas||(e.Schemas={}));class L{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(C){this._preferredWebSchema=C}rewrite(C){if(this._delegate)return this._delegate(C);const i=C.authority;let v=this._hosts[i];v&&v.indexOf(":")!==-1&&(v=`[${v}]`);const r=this._ports[i],a=this._connectionTokens[i];let l=`path=${encodeURIComponent(C.path)}`;return typeof a=="string"&&(l+=`&tkn=${encodeURIComponent(a)}`),b.URI.from({scheme:k.isWeb?this._preferredWebSchema:T.vscodeRemoteResource,authority:`${v}:${r}`,path:"/vscode-remote-resource",query:l})}}e.RemoteAuthorities=new L;class S{constructor(){this.FALLBACK_AUTHORITY="vscode-app"}asBrowserUri(C,i,v){const r=this.toUri(C,i);if(r.scheme===T.vscodeRemote)return e.RemoteAuthorities.rewrite(r);let a=!1;return k.isNative&&(v||k.isPreferringBrowserCodeLoad)&&r.scheme===T.file&&(a=!0),r.scheme===T.file&&typeof k.globals.importScripts=="function"&&k.globals.origin==="vscode-file://vscode-app"&&(a=!0),a?r.with({scheme:T.vscodeFileResource,authority:r.authority||this.FALLBACK_AUTHORITY,query:null,fragment:null}):r}toUri(C,i){return b.URI.isUri(C)?C:b.URI.parse(i.toUrl(C))}}e.FileAccess=new S}),define(ee[7],te([0,1,39,51,55,15,12,6,2,17,46,156]),function(G,e,b,k,T,L,S,p,C,i,v,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addMatchMediaChangeListener=e.ModifierKeyEmitter=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.getElementsByTagName=e.hide=e.show=e.$=e.Namespace=e.reset=e.prepend=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.StandardWindow=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.addDisposableThrottledListener=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.addDisposableNonBubblingPointerOutListener=e.addDisposableNonBubblingMouseOutListener=e.addDisposableGenericMouseUpListner=e.addDisposableGenericMouseDownListner=e.addStandardDisposableGenericMouseDownListner=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function a(ge){for(;ge.firstChild;)ge.firstChild.remove()}e.clearNode=a;function l(ge){var fe;return(fe=ge==null?void 0:ge.isConnected)!==null&&fe!==void 0?fe:!1}e.isInDOM=l;class c{constructor(fe,_e,ke,Ne){this._node=fe,this._type=_e,this._handler=ke,this._options=Ne||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function u(ge,fe,_e,ke){return new c(ge,fe,_e,ke)}e.addDisposableListener=u;function s(ge){return function(fe){return ge(new T.StandardMouseEvent(fe))}}function n(ge){return function(fe){return ge(new k.StandardKeyboardEvent(fe))}}let d=function(fe,_e,ke,Ne){let Ae=ke;return _e==="click"||_e==="mousedown"?Ae=s(ke):(_e==="keydown"||_e==="keypress"||_e==="keyup")&&(Ae=n(ke)),u(fe,_e,Ae,Ne)};e.addStandardDisposableListener=d;let t=function(fe,_e,ke){let Ne=s(_e);return o(fe,Ne,ke)};e.addStandardDisposableGenericMouseDownListner=t;function o(ge,fe,_e){return u(ge,i.isIOS&&r.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,fe,_e)}e.addDisposableGenericMouseDownListner=o;function h(ge,fe,_e){return u(ge,i.isIOS&&r.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,fe,_e)}e.addDisposableGenericMouseUpListner=h;function m(ge,fe){return u(ge,"mouseout",_e=>{let ke=_e.relatedTarget;for(;ke&&ke!==ge;)ke=ke.parentNode;ke!==ge&&fe(_e)})}e.addDisposableNonBubblingMouseOutListener=m;function y(ge,fe){return u(ge,"pointerout",_e=>{let ke=_e.relatedTarget;for(;ke&&ke!==ge;)ke=ke.parentNode;ke!==ge&&fe(_e)})}e.addDisposableNonBubblingPointerOutListener=y;let w=null;function g(ge){if(!w){const fe=_e=>setTimeout(()=>_e(new Date().getTime()),0);w=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||fe}return w.call(self,ge)}class f{constructor(fe,_e=0){this._runner=fe,this.priority=_e,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(fe){(0,S.onUnexpectedError)(fe)}}static sort(fe,_e){return _e.priority-fe.priority}}(function(){let ge=[],fe=null,_e=!1,ke=!1,Ne=()=>{for(_e=!1,fe=ge,ge=[],ke=!0;fe.length>0;)fe.sort(f.sort),fe.shift().execute();ke=!1};e.scheduleAtNextAnimationFrame=(Ae,Oe=0)=>{let Fe=new f(Ae,Oe);return ge.push(Fe),_e||(_e=!0,g(Ne)),Fe},e.runAtThisOrScheduleAtNextAnimationFrame=(Ae,Oe)=>{if(ke){let Fe=new f(Ae,Oe);return fe.push(Fe),Fe}else return(0,e.scheduleAtNextAnimationFrame)(Ae,Oe)}})();const _=8,D=function(ge,fe){return fe};class N extends C.Disposable{constructor(fe,_e,ke,Ne=D,Ae=_){super();let Oe=null,Fe=0,Pe=this._register(new L.TimeoutTimer),xe=()=>{Fe=new Date().getTime(),ke(Oe),Oe=null};this._register(u(fe,_e,Be=>{Oe=Ne(Oe,Be);let ze=new Date().getTime()-Fe;ze>=Ae?(Pe.cancel(),xe()):Pe.setIfNotSet(xe,Ae-ze)}))}}function I(ge,fe,_e,ke,Ne){return new N(ge,fe,_e,ke,Ne)}e.addDisposableThrottledListener=I;function M(ge){return document.defaultView.getComputedStyle(ge,null)}e.getComputedStyle=M;function O(ge){if(ge!==document.body)return new P(ge.clientWidth,ge.clientHeight);if(i.isIOS&&window.visualViewport)return new P(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new P(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new P(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new P(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=O;class R{static convertToPixels(fe,_e){return parseFloat(_e)||0}static getDimension(fe,_e,ke){let Ne=M(fe),Ae="0";return Ne&&(Ne.getPropertyValue?Ae=Ne.getPropertyValue(_e):Ae=Ne.getAttribute(ke)),R.convertToPixels(fe,Ae)}static getBorderLeftWidth(fe){return R.getDimension(fe,"border-left-width","borderLeftWidth")}static getBorderRightWidth(fe){return R.getDimension(fe,"border-right-width","borderRightWidth")}static getBorderTopWidth(fe){return R.getDimension(fe,"border-top-width","borderTopWidth")}static getBorderBottomWidth(fe){return R.getDimension(fe,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(fe){return R.getDimension(fe,"padding-left","paddingLeft")}static getPaddingRight(fe){return R.getDimension(fe,"padding-right","paddingRight")}static getPaddingTop(fe){return R.getDimension(fe,"padding-top","paddingTop")}static getPaddingBottom(fe){return R.getDimension(fe,"padding-bottom","paddingBottom")}static getMarginLeft(fe){return R.getDimension(fe,"margin-left","marginLeft")}static getMarginTop(fe){return R.getDimension(fe,"margin-top","marginTop")}static getMarginRight(fe){return R.getDimension(fe,"margin-right","marginRight")}static getMarginBottom(fe){return R.getDimension(fe,"margin-bottom","marginBottom")}}class P{constructor(fe,_e){this.width=fe,this.height=_e}with(fe=this.width,_e=this.height){return fe!==this.width||_e!==this.height?new P(fe,_e):this}static is(fe){return typeof fe=="object"&&typeof fe.height=="number"&&typeof fe.width=="number"}static lift(fe){return fe instanceof P?fe:new P(fe.width,fe.height)}static equals(fe,_e){return fe===_e?!0:!fe||!_e?!1:fe.width===_e.width&&fe.height===_e.height}}e.Dimension=P;function A(ge){let fe=ge.offsetParent,_e=ge.offsetTop,ke=ge.offsetLeft;for(;(ge=ge.parentNode)!==null&&ge!==document.body&&ge!==document.documentElement;){_e-=ge.scrollTop;const Ne=de(ge)?null:M(ge);Ne&&(ke-=Ne.direction!=="rtl"?ge.scrollLeft:-ge.scrollLeft),ge===fe&&(ke+=R.getBorderLeftWidth(ge),_e+=R.getBorderTopWidth(ge),_e+=ge.offsetTop,ke+=ge.offsetLeft,fe=ge.offsetParent)}return{left:ke,top:_e}}e.getTopLeftOffset=A;function F(ge,fe,_e){typeof fe=="number"&&(ge.style.width=`${fe}px`),typeof _e=="number"&&(ge.style.height=`${_e}px`)}e.size=F;function E(ge){let fe=ge.getBoundingClientRect();return{left:fe.left+e.StandardWindow.scrollX,top:fe.top+e.StandardWindow.scrollY,width:fe.width,height:fe.height}}e.getDomNodePagePosition=E,e.StandardWindow=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function W(ge){let fe=R.getMarginLeft(ge)+R.getMarginRight(ge);return ge.offsetWidth+fe}e.getTotalWidth=W;function V(ge){let fe=R.getBorderLeftWidth(ge)+R.getBorderRightWidth(ge),_e=R.getPaddingLeft(ge)+R.getPaddingRight(ge);return ge.offsetWidth-fe-_e}e.getContentWidth=V;function $(ge){let fe=R.getBorderTopWidth(ge)+R.getBorderBottomWidth(ge),_e=R.getPaddingTop(ge)+R.getPaddingBottom(ge);return ge.offsetHeight-fe-_e}e.getContentHeight=$;function Z(ge){let fe=R.getMarginTop(ge)+R.getMarginBottom(ge);return ge.offsetHeight+fe}e.getTotalHeight=Z;function X(ge,fe){for(;ge;){if(ge===fe)return!0;ge=ge.parentNode}return!1}e.isAncestor=X;function J(ge,fe,_e){for(;ge&&ge.nodeType===ge.ELEMENT_NODE;){if(ge.classList.contains(fe))return ge;if(_e){if(typeof _e=="string"){if(ge.classList.contains(_e))return null}else if(ge===_e)return null}ge=ge.parentNode}return null}e.findParentWithClass=J;function ie(ge,fe,_e){return!!J(ge,fe,_e)}e.hasParentWithClass=ie;function de(ge){return ge&&!!ge.host&&!!ge.mode}e.isShadowRoot=de;function ue(ge){return!!q(ge)}e.isInShadowDOM=ue;function q(ge){for(;ge.parentNode;){if(ge===document.body)return null;ge=ge.parentNode}return de(ge)?ge:null}e.getShadowRoot=q;function B(){let ge=document.activeElement;for(;ge==null?void 0:ge.shadowRoot;)ge=ge.shadowRoot.activeElement;return ge}e.getActiveElement=B;function j(ge=document.getElementsByTagName("head")[0]){let fe=document.createElement("style");return fe.type="text/css",fe.media="screen",ge.appendChild(fe),fe}e.createStyleSheet=j;let H=null;function z(){return H||(H=j()),H}function Q(ge){var fe,_e;return((fe=ge==null?void 0:ge.sheet)===null||fe===void 0?void 0:fe.rules)?ge.sheet.rules:((_e=ge==null?void 0:ge.sheet)===null||_e===void 0?void 0:_e.cssRules)?ge.sheet.cssRules:[]}function x(ge,fe,_e=z()){!_e||!fe||_e.sheet.insertRule(ge+"{"+fe+"}",0)}e.createCSSRule=x;function le(ge,fe=z()){if(!fe)return;let _e=Q(fe),ke=[];for(let Ne=0;Ne<_e.length;Ne++)_e[Ne].selectorText.indexOf(ge)!==-1&&ke.push(Ne);for(let Ne=ke.length-1;Ne>=0;Ne--)fe.sheet.deleteRule(ke[Ne])}e.removeCSSRulesContainingSelector=le;function oe(ge){return typeof HTMLElement=="object"?ge instanceof HTMLElement:ge&&typeof ge=="object"&&ge.nodeType===1&&typeof ge.nodeName=="string"}e.isHTMLElement=oe,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:b.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:b.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:b.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:function(ge,fe){ge.preventDefault?ge.preventDefault():ge.returnValue=!1,fe&&(ge.stopPropagation?ge.stopPropagation():ge.cancelBubble=!0)}};function K(ge){let fe=[];for(let _e=0;ge&&ge.nodeType===ge.ELEMENT_NODE;_e++)fe[_e]=ge.scrollTop,ge=ge.parentNode;return fe}e.saveParentsScrollTop=K;function re(ge,fe){for(let _e=0;ge&&ge.nodeType===ge.ELEMENT_NODE;_e++)ge.scrollTop!==fe[_e]&&(ge.scrollTop=fe[_e]),ge=ge.parentNode}e.restoreParentsScrollTop=re;class ae extends C.Disposable{constructor(fe){super();this._onDidFocus=this._register(new p.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new p.Emitter),this.onDidBlur=this._onDidBlur.event;let _e=X(document.activeElement,fe),ke=!1;const Ne=()=>{ke=!1,_e||(_e=!0,this._onDidFocus.fire())},Ae=()=>{_e&&(ke=!0,window.setTimeout(()=>{ke&&(ke=!1,_e=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{X(document.activeElement,fe)!==_e&&(_e?Ae():Ne())},this._register(u(fe,e.EventType.FOCUS,Ne,!0)),this._register(u(fe,e.EventType.BLUR,Ae,!0))}}function he(ge){return new ae(ge)}e.trackFocus=he;function U(ge,...fe){if(ge.append(...fe),fe.length===1&&typeof fe[0]!="string")return fe[0]}e.append=U;function se(ge,fe){return ge.insertBefore(fe,ge.firstChild),fe}e.prepend=se;function Y(ge,...fe){ge.innerText="",U(ge,...fe)}e.reset=Y;const ne=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var ce;(function(ge){ge.HTML="http://www.w3.org/1999/xhtml",ge.SVG="http://www.w3.org/2000/svg"})(ce=e.Namespace||(e.Namespace={}));function pe(ge,fe,_e,...ke){let Ne=ne.exec(fe);if(!Ne)throw new Error("Bad use of emmet");_e=Object.assign({},_e||{});let Ae=Ne[1]||"div",Oe;return ge!==ce.HTML?Oe=document.createElementNS(ge,Ae):Oe=document.createElement(Ae),Ne[3]&&(Oe.id=Ne[3]),Ne[4]&&(Oe.className=Ne[4].replace(/\./g," ").trim()),Object.keys(_e).forEach(Fe=>{const Pe=_e[Fe];typeof Pe!="undefined"&&(/^on\w+$/.test(Fe)?Oe[Fe]=Pe:Fe==="selected"?Pe&&Oe.setAttribute(Fe,"true"):Oe.setAttribute(Fe,Pe))}),Oe.append(...ke),Oe}function be(ge,fe,..._e){return pe(ce.HTML,ge,fe,..._e)}e.$=be,be.SVG=function(ge,fe,..._e){return pe(ce.SVG,ge,fe,..._e)};function Ee(...ge){for(let fe of ge)fe.style.display="",fe.removeAttribute("aria-hidden")}e.show=Ee;function Le(...ge){for(let fe of ge)fe.style.display="none",fe.setAttribute("aria-hidden","true")}e.hide=Le;function Te(ge){return Array.prototype.slice.call(document.getElementsByTagName(ge),0)}e.getElementsByTagName=Te;function De(ge){const fe=window.devicePixelRatio*ge;return Math.max(1,Math.floor(fe))/window.devicePixelRatio}e.computeScreenAwareSize=De;function Me(ge){window.open(ge,"_blank","noopener")}e.windowOpenNoOpener=Me;function Se(ge){const fe=()=>{ge(),_e=(0,e.scheduleAtNextAnimationFrame)(fe)};let _e=(0,e.scheduleAtNextAnimationFrame)(fe);return(0,C.toDisposable)(()=>_e.dispose())}e.animate=Se,v.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function we(ge){return ge?`url('${v.FileAccess.asBrowserUri(ge).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=we;function ye(ge){return`'${ge.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=ye;class me extends p.Emitter{constructor(){super();this._subscriptions=new C.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(u(window,"keydown",fe=>{if(fe.defaultPrevented)return;const _e=new k.StandardKeyboardEvent(fe);if(!(_e.keyCode===6&&fe.repeat)){if(fe.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(fe.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(fe.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(fe.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(_e.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=fe.altKey,this._keyStatus.ctrlKey=fe.ctrlKey,this._keyStatus.metaKey=fe.metaKey,this._keyStatus.shiftKey=fe.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=fe,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(u(window,"keyup",fe=>{fe.defaultPrevented||(!fe.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!fe.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!fe.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!fe.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=fe.altKey,this._keyStatus.ctrlKey=fe.ctrlKey,this._keyStatus.metaKey=fe.metaKey,this._keyStatus.shiftKey=fe.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=fe,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(u(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(u(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(u(document.body,"mousemove",fe=>{fe.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(u(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return me.instance||(me.instance=new me),me.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=me;function ve(ge,fe){const _e=window.matchMedia(ge);typeof _e.addEventListener=="function"?_e.addEventListener("change",fe):_e.addListener(fe)}e.addMatchMediaChangeListener=ve}),define(ee[160],te([0,1,7]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function k(r,a={}){const l=L(a);return l.textContent=r,l}e.renderText=k;function T(r,a={}){const l=L(a);return p(l,C(r,!!a.renderCodeSegements),a.actionHandler,a.renderCodeSegements),l}e.renderFormattedText=T;function L(r){const a=r.inline?"span":"div",l=document.createElement(a);return r.className&&(l.className=r.className),l}e.createElement=L;class S{constructor(a){this.source=a,this.index=0}eos(){return this.index>=this.source.length}next(){const a=this.peek();return this.advance(),a}peek(){return this.source[this.index]}advance(){this.index++}}function p(r,a,l,c){let u;if(a.type===2)u=document.createTextNode(a.content||"");else if(a.type===3)u=document.createElement("b");else if(a.type===4)u=document.createElement("i");else if(a.type===7&&c)u=document.createElement("code");else if(a.type===5&&l){const s=document.createElement("a");s.href="#",l.disposeables.add(b.addStandardDisposableListener(s,"click",n=>{l.callback(String(a.index),n)})),u=s}else a.type===8?u=document.createElement("br"):a.type===1&&(u=r);u&&r!==u&&r.appendChild(u),u&&Array.isArray(a.children)&&a.children.forEach(s=>{p(u,s,l,c)})}function C(r,a){const l={type:1,children:[]};let c=0,u=l;const s=[],n=new S(r);for(;!n.eos();){let d=n.next();const t=d==="\\"&&v(n.peek(),a)!==0;if(t&&(d=n.next()),!t&&i(d,a)&&d===n.peek()){n.advance(),u.type===2&&(u=s.pop());const o=v(d,a);if(u.type===o||u.type===5&&o===6)u=s.pop();else{const h={type:o,children:[]};o===5&&(h.index=c,c++),u.children.push(h),s.push(u),u=h}}else if(d===`
`)u.type===2&&(u=s.pop()),u.children.push({type:8});else if(u.type!==2){const o={type:2,content:d};u.children.push(o),s.push(u),u=o}else u.content+=d}return u.type===2&&(u=s.pop()),s.length,l}function i(r,a){return v(r,a)!==0}function v(r,a){switch(r){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return a?7:0;default:return 0}}}),define(ee[93],te([0,1,7,196,55,2,17]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalMouseMoveMonitor=e.standardMouseMoveMerger=void 0;function p(i,v){let r=new T.StandardMouseEvent(v);return r.preventDefault(),{leftButton:r.leftButton,buttons:r.buttons,posx:r.posx,posy:r.posy}}e.standardMouseMoveMerger=p;class C{constructor(){this._hooks=new L.DisposableStore,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(v,r){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const a=this._onStopCallback;this._onStopCallback=null,v&&a&&a(r)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(v,r,a,l,c){if(this.isMonitoring())return;this._mouseMoveEventMerger=a,this._mouseMoveCallback=l,this._onStopCallback=c;const u=k.IframeUtils.getSameOriginWindowChain(),s=S.isIOS?"pointermove":"mousemove",n="mouseup",d=u.map(o=>o.window.document),t=b.getShadowRoot(v);t&&d.unshift(t);for(const o of d)this._hooks.add(b.addDisposableThrottledListener(o,s,h=>{if(h.buttons!==r){this.stopMonitoring(!0);return}this._mouseMoveCallback(h)},(h,m)=>this._mouseMoveEventMerger(h,m))),this._hooks.add(b.addDisposableListener(o,n,h=>this.stopMonitoring(!0)));if(k.IframeUtils.hasDifferentOriginAncestor()){let o=u[u.length-1];this._hooks.add(b.addDisposableListener(o.window.document,"mouseout",h=>{new T.StandardMouseEvent(h).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(b.addDisposableListener(o.window.document,"mouseover",h=>{new T.StandardMouseEvent(h).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(b.addDisposableListener(o.window.document.body,"mouseleave",h=>{this.stopMonitoring(!0)}))}}}e.GlobalMouseMoveMonitor=C});var Re=this&&this.__decorate||function(G,e,b,k){var T=arguments.length,L=T<3?e:k===null?k=Object.getOwnPropertyDescriptor(e,b):k,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(G,e,b,k);else for(var p=G.length-1;p>=0;p--)(S=G[p])&&(L=(T<3?S(L):T>3?S(e,b,L):S(e,b))||L);return T>3&&L&&Object.defineProperty(e,b,L),L};define(ee[60],te([0,1,19,2,7,90]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var S;(function(C){C.Tap="-monaco-gesturetap",C.Change="-monaco-gesturechange",C.Start="-monaco-gesturestart",C.End="-monaco-gesturesend",C.Contextmenu="-monaco-gesturecontextmenu"})(S=e.EventType||(e.EventType={}));class p extends k.Disposable{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(T.addDisposableListener(document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),this._register(T.addDisposableListener(document,"touchend",i=>this.onTouchEnd(i))),this._register(T.addDisposableListener(document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))}static addTarget(i){return p.isTouchDevice()?(p.INSTANCE||(p.INSTANCE=new p),p.INSTANCE.targets.push(i),{dispose:()=>{p.INSTANCE.targets=p.INSTANCE.targets.filter(v=>v!==i)}}):k.Disposable.None}static ignoreTarget(i){return p.isTouchDevice()?(p.INSTANCE||(p.INSTANCE=new p),p.INSTANCE.ignoreTargets.push(i),{dispose:()=>{p.INSTANCE.ignoreTargets=p.INSTANCE.ignoreTargets.filter(v=>v!==i)}}):k.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(i){let v=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let r=0,a=i.targetTouches.length;r<a;r++){let l=i.targetTouches.item(r);this.activeTouches[l.identifier]={id:l.identifier,initialTarget:l.target,initialTimeStamp:v,initialPageX:l.pageX,initialPageY:l.pageY,rollingTimestamps:[v],rollingPageX:[l.pageX],rollingPageY:[l.pageY]};let c=this.newGestureEvent(S.Start,l.target);c.pageX=l.pageX,c.pageY=l.pageY,this.dispatchEvent(c)}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}onTouchEnd(i){let v=Date.now(),r=Object.keys(this.activeTouches).length;for(let a=0,l=i.changedTouches.length;a<l;a++){let c=i.changedTouches.item(a);if(!this.activeTouches.hasOwnProperty(String(c.identifier))){console.warn("move of an UNKNOWN touch",c);continue}let u=this.activeTouches[c.identifier],s=Date.now()-u.initialTimeStamp;if(s<p.HOLD_DELAY&&Math.abs(u.initialPageX-b.tail(u.rollingPageX))<30&&Math.abs(u.initialPageY-b.tail(u.rollingPageY))<30){let n=this.newGestureEvent(S.Tap,u.initialTarget);n.pageX=b.tail(u.rollingPageX),n.pageY=b.tail(u.rollingPageY),this.dispatchEvent(n)}else if(s>=p.HOLD_DELAY&&Math.abs(u.initialPageX-b.tail(u.rollingPageX))<30&&Math.abs(u.initialPageY-b.tail(u.rollingPageY))<30){let n=this.newGestureEvent(S.Contextmenu,u.initialTarget);n.pageX=b.tail(u.rollingPageX),n.pageY=b.tail(u.rollingPageY),this.dispatchEvent(n)}else if(r===1){let n=b.tail(u.rollingPageX),d=b.tail(u.rollingPageY),t=b.tail(u.rollingTimestamps)-u.rollingTimestamps[0],o=n-u.rollingPageX[0],h=d-u.rollingPageY[0];const m=this.targets.filter(y=>u.initialTarget instanceof Node&&y.contains(u.initialTarget));this.inertia(m,v,Math.abs(o)/t,o>0?1:-1,n,Math.abs(h)/t,h>0?1:-1,d)}this.dispatchEvent(this.newGestureEvent(S.End,u.initialTarget)),delete this.activeTouches[c.identifier]}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}newGestureEvent(i,v){let r=document.createEvent("CustomEvent");return r.initEvent(i,!1,!0),r.initialTarget=v,r.tapCount=0,r}dispatchEvent(i){if(i.type===S.Tap){const v=new Date().getTime();let r=0;v-this._lastSetTapCountTime>p.CLEAR_TAP_COUNT_TIME?r=1:r=2,this._lastSetTapCountTime=v,i.tapCount=r}else(i.type===S.Change||i.type===S.Contextmenu)&&(this._lastSetTapCountTime=0);for(let v=0;v<this.ignoreTargets.length;v++)if(i.initialTarget instanceof Node&&this.ignoreTargets[v].contains(i.initialTarget))return;this.targets.forEach(v=>{i.initialTarget instanceof Node&&v.contains(i.initialTarget)&&(v.dispatchEvent(i),this.dispatched=!0)})}inertia(i,v,r,a,l,c,u,s){this.handle=T.scheduleAtNextAnimationFrame(()=>{let n=Date.now(),d=n-v,t=0,o=0,h=!0;r+=p.SCROLL_FRICTION*d,c+=p.SCROLL_FRICTION*d,r>0&&(h=!1,t=a*r*d),c>0&&(h=!1,o=u*c*d);let m=this.newGestureEvent(S.Change);m.translationX=t,m.translationY=o,i.forEach(y=>y.dispatchEvent(m)),h||this.inertia(i,n,r,a,l+t,c,u,s+o)})}onTouchMove(i){let v=Date.now();for(let r=0,a=i.changedTouches.length;r<a;r++){let l=i.changedTouches.item(r);if(!this.activeTouches.hasOwnProperty(String(l.identifier))){console.warn("end of an UNKNOWN touch",l);continue}let c=this.activeTouches[l.identifier],u=this.newGestureEvent(S.Change,c.initialTarget);u.translationX=l.pageX-b.tail(c.rollingPageX),u.translationY=l.pageY-b.tail(c.rollingPageY),u.pageX=l.pageX,u.pageY=l.pageY,this.dispatchEvent(u),c.rollingPageX.length>3&&(c.rollingPageX.shift(),c.rollingPageY.shift(),c.rollingTimestamps.shift()),c.rollingPageX.push(l.pageX),c.rollingPageY.push(l.pageY),c.rollingTimestamps.push(v)}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}}p.SCROLL_FRICTION=-.005,p.HOLD_DELAY=700,p.CLEAR_TAP_COUNT_TIME=400,Re([L.memoize],p,"isTouchDevice",null),e.Gesture=p}),define(ee[105],te([0,1,7,27]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const T=new RegExp(`(\\\\)?\\$\\((${k.CSSIcon.iconNameExpression}(?:${k.CSSIcon.iconModifierExpression})?)\\)`,"g");function L(p){const C=new Array;let i,v=0,r=0;for(;(i=T.exec(p))!==null;){r=i.index||0,C.push(p.substring(v,r)),v=(i.index||0)+i[0].length;const[,a,l]=i;C.push(a?`$(${l})`:S({id:l}))}return v<p.length&&C.push(p.substring(v)),C}e.renderLabelWithIcons=L;function S(p){const C=b.$("span");return C.classList.add(...k.CSSIcon.asClassNameArray(p)),C}e.renderIcon=S}),define(ee[161],te([0,1,42,7,105]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class L{constructor(p,C){this.supportIcons=C,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",p.appendChild(this.domNode)}get element(){return this.domNode}set(p,C=[],i="",v){p||(p=""),v&&(p=L.escapeNewLines(p,C)),!(this.didEverRender&&this.text===p&&this.title===i&&b.equals(this.highlights,C))&&(this.text=p,this.title=i,this.highlights=C,this.render())}render(){const p=[];let C=0;for(const i of this.highlights){if(i.end===i.start)continue;if(C<i.start){const a=this.text.substring(C,i.start);p.push(k.$("span",void 0,...this.supportIcons?(0,T.renderLabelWithIcons)(a):[a])),C=i.end}const v=this.text.substring(i.start,i.end),r=k.$("span.highlight",void 0,...this.supportIcons?(0,T.renderLabelWithIcons)(v):[v]);i.extraClasses&&r.classList.add(i.extraClasses),p.push(r),C=i.end}if(C<this.text.length){const i=this.text.substring(C);p.push(k.$("span",void 0,...this.supportIcons?(0,T.renderLabelWithIcons)(i):[i]))}k.reset(this.domNode,...p),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(p,C){let i=0,v=0;return p.replace(/\r\n|\r|\n/g,(r,a)=>{v=r===`\r
`?-1:0,a+=i;for(const l of C)l.end<=a||(l.start>=a&&(l.start+=v),l.end>=a&&(l.end+=v));return i+=v,"\u23CE"})}}e.HighlightedLabel=L}),define(ee[295],te([0,1,7]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function k(L){try{L.parentElement&&L.parentElement.removeChild(L)}catch(S){}}class T{constructor(S){this.renderers=S,this.cache=new Map}alloc(S){let p=this.getTemplateCache(S).pop();if(!p){const C=(0,b.$)(".monaco-list-row"),v=this.getRenderer(S).renderTemplate(C);p={domNode:C,templateId:S,templateData:v}}return p}release(S){!S||this.releaseRow(S)}releaseRow(S){const{domNode:p,templateId:C}=S;p&&(p.classList.remove("scrolling"),k(p)),this.getTemplateCache(C).push(S)}getTemplateCache(S){let p=this.cache.get(S);return p||(p=[],this.cache.set(S,p)),p}dispose(){this.cache.forEach((S,p)=>{for(const C of S)this.getRenderer(p).disposeTemplate(C.templateData),C.templateData=null}),this.cache.clear()}getRenderer(S){const p=this.renderers.get(S);if(!p)throw new Error(`No renderer found for ${S}`);return p}}e.RowCache=T}),define(ee[52],te([0,1,7,51,55,2,60]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class p extends L.Disposable{onclick(i,v){this._register(b.addDisposableListener(i,b.EventType.CLICK,r=>v(new T.StandardMouseEvent(r))))}onmousedown(i,v){this._register(b.addDisposableListener(i,b.EventType.MOUSE_DOWN,r=>v(new T.StandardMouseEvent(r))))}onmouseover(i,v){this._register(b.addDisposableListener(i,b.EventType.MOUSE_OVER,r=>v(new T.StandardMouseEvent(r))))}onnonbubblingmouseout(i,v){this._register(b.addDisposableNonBubblingMouseOutListener(i,r=>v(new T.StandardMouseEvent(r))))}onkeydown(i,v){this._register(b.addDisposableListener(i,b.EventType.KEY_DOWN,r=>v(new k.StandardKeyboardEvent(r))))}onkeyup(i,v){this._register(b.addDisposableListener(i,b.EventType.KEY_UP,r=>v(new k.StandardKeyboardEvent(r))))}oninput(i,v){this._register(b.addDisposableListener(i,b.EventType.INPUT,v))}onblur(i,v){this._register(b.addDisposableListener(i,b.EventType.BLUR,v))}onfocus(i,v){this._register(b.addDisposableListener(i,b.EventType.FOCUS,v))}ignoreGesture(i){S.Gesture.ignoreTarget(i)}}e.Widget=p}),define(ee[162],te([0,1,93,52,15]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class L extends k.Widget{constructor(p){super();this._onActivate=p.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=p.bgWidth+"px",this.bgDomNode.style.height=p.bgHeight+"px",typeof p.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof p.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof p.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof p.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=p.className,this.domNode.classList.add(...p.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof p.top!="undefined"&&(this.domNode.style.top=p.top+"px"),typeof p.left!="undefined"&&(this.domNode.style.left=p.left+"px"),typeof p.bottom!="undefined"&&(this.domNode.style.bottom=p.bottom+"px"),typeof p.right!="undefined"&&(this.domNode.style.right=p.right+"px"),this._mouseMoveMonitor=this._register(new b.GlobalMouseMoveMonitor),this.onmousedown(this.bgDomNode,C=>this._arrowMouseDown(C)),this.onmousedown(this.domNode,C=>this._arrowMouseDown(C)),this._mousedownRepeatTimer=this._register(new T.IntervalTimer),this._mousedownScheduleRepeatTimer=this._register(new T.TimeoutTimer)}_arrowMouseDown(p){const C=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(C,200),this._mouseMoveMonitor.startMonitoring(p.target,p.buttons,b.standardMouseMoveMerger,i=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),p.preventDefault()}}e.ScrollbarArrow=L}),define(ee[203],te([0,1,7,30,93,162,290,52,17]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const i=140;class v extends p.Widget{constructor(a){super();this._lazyRender=a.lazyRender,this._host=a.host,this._scrollable=a.scrollable,this._scrollByPage=a.scrollByPage,this._scrollbarState=a.scrollbarState,this._visibilityController=this._register(new S.ScrollbarVisibilityController(a.visibility,"visible scrollbar "+a.extraScrollbarClassName,"invisible scrollbar "+a.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new T.GlobalMouseMoveMonitor),this._shouldRender=!0,this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,l=>this._domNodeMouseDown(l))}_createArrow(a){const l=this._register(new L.ScrollbarArrow(a));this.domNode.domNode.appendChild(l.bgDomNode),this.domNode.domNode.appendChild(l.domNode)}_createSlider(a,l,c,u){this.slider=(0,k.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(a),this.slider.setLeft(l),typeof c=="number"&&this.slider.setWidth(c),typeof u=="number"&&this.slider.setHeight(u),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,s=>{s.leftButton&&(s.preventDefault(),this._sliderMouseDown(s,()=>{}))}),this.onclick(this.slider.domNode,s=>{s.leftButton&&s.stopPropagation()})}_onElementSize(a){return this._scrollbarState.setVisibleSize(a)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(a){return this._scrollbarState.setScrollSize(a)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(a){return this._scrollbarState.setScrollPosition(a)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(a){a.target===this.domNode.domNode&&this._onMouseDown(a)}delegateMouseDown(a){const l=this.domNode.domNode.getClientRects()[0].top,c=l+this._scrollbarState.getSliderPosition(),u=l+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),s=this._sliderMousePosition(a);c<=s&&s<=u?a.leftButton&&(a.preventDefault(),this._sliderMouseDown(a,()=>{})):this._onMouseDown(a)}_onMouseDown(a){let l,c;if(a.target===this.domNode.domNode&&typeof a.browserEvent.offsetX=="number"&&typeof a.browserEvent.offsetY=="number")l=a.browserEvent.offsetX,c=a.browserEvent.offsetY;else{const s=b.getDomNodePagePosition(this.domNode.domNode);l=a.posx-s.left,c=a.posy-s.top}const u=this._mouseDownRelativePosition(l,c);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(u):this._scrollbarState.getDesiredScrollPositionFromOffset(u)),a.leftButton&&(a.preventDefault(),this._sliderMouseDown(a,()=>{}))}_sliderMouseDown(a,l){const c=this._sliderMousePosition(a),u=this._sliderOrthogonalMousePosition(a),s=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(a.target,a.buttons,T.standardMouseMoveMerger,n=>{const d=this._sliderOrthogonalMousePosition(n),t=Math.abs(d-u);if(C.isWindows&&t>i){this._setDesiredScrollPositionNow(s.getScrollPosition());return}const h=this._sliderMousePosition(n)-c;this._setDesiredScrollPositionNow(s.getDesiredScrollPositionFromDelta(h))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),l()}),this._host.onDragStart()}_setDesiredScrollPositionNow(a){const l={};this.writeScrollPosition(l,a),this._scrollable.setScrollPositionNow(l)}updateScrollbarSize(a){this._updateScrollbarSize(a),this._scrollbarState.setScrollbarSize(a),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=v}),define(ee[296],te([0,1,55,203,162,197,27]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;const p=(0,S.registerCodicon)("scrollbar-button-left",S.Codicon.triangleLeft),C=(0,S.registerCodicon)("scrollbar-button-right",S.Codicon.triangleRight);class i extends k.AbstractScrollbar{constructor(r,a,l){const c=r.getScrollDimensions(),u=r.getCurrentScrollPosition();super({lazyRender:a.lazyRender,host:l,scrollbarState:new L.ScrollbarState(a.horizontalHasArrows?a.arrowSize:0,a.horizontal===2?0:a.horizontalScrollbarSize,a.vertical===2?0:a.verticalScrollbarSize,c.width,c.scrollWidth,u.scrollLeft),visibility:a.horizontal,extraScrollbarClassName:"horizontal",scrollable:r,scrollByPage:a.scrollByPage});if(a.horizontalHasArrows){const s=(a.arrowSize-T.ARROW_IMG_SIZE)/2,n=(a.horizontalScrollbarSize-T.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:p,top:n,left:s,bottom:void 0,right:void 0,bgWidth:a.arrowSize,bgHeight:a.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new b.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:C,top:n,left:void 0,bottom:void 0,right:s,bgWidth:a.arrowSize,bgHeight:a.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new b.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((a.horizontalScrollbarSize-a.horizontalSliderSize)/2),0,void 0,a.horizontalSliderSize)}_updateSlider(r,a){this.slider.setWidth(r),this.slider.setLeft(a)}_renderDomNode(r,a){this.domNode.setWidth(r),this.domNode.setHeight(a),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(r){return this._shouldRender=this._onElementScrollSize(r.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(r.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(r.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(r,a){return r}_sliderMousePosition(r){return r.posx}_sliderOrthogonalMousePosition(r){return r.posy}_updateScrollbarSize(r){this.slider.setHeight(r)}writeScrollPosition(r,a){r.scrollLeft=a}updateOptions(r){this.updateScrollbarSize(r.horizontal===2?0:r.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(r.vertical===2?0:r.verticalScrollbarSize),this._visibilityController.setVisibility(r.horizontal),this._scrollByPage=r.scrollByPage}}e.HorizontalScrollbar=i}),define(ee[297],te([0,1,55,203,162,197,27]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;const p=(0,S.registerCodicon)("scrollbar-button-up",S.Codicon.triangleUp),C=(0,S.registerCodicon)("scrollbar-button-down",S.Codicon.triangleDown);class i extends k.AbstractScrollbar{constructor(r,a,l){const c=r.getScrollDimensions(),u=r.getCurrentScrollPosition();super({lazyRender:a.lazyRender,host:l,scrollbarState:new L.ScrollbarState(a.verticalHasArrows?a.arrowSize:0,a.vertical===2?0:a.verticalScrollbarSize,0,c.height,c.scrollHeight,u.scrollTop),visibility:a.vertical,extraScrollbarClassName:"vertical",scrollable:r,scrollByPage:a.scrollByPage});if(a.verticalHasArrows){const s=(a.arrowSize-T.ARROW_IMG_SIZE)/2,n=(a.verticalScrollbarSize-T.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:p,top:s,left:n,bottom:void 0,right:void 0,bgWidth:a.verticalScrollbarSize,bgHeight:a.arrowSize,onActivate:()=>this._host.onMouseWheel(new b.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:C,top:void 0,left:n,bottom:s,right:void 0,bgWidth:a.verticalScrollbarSize,bgHeight:a.arrowSize,onActivate:()=>this._host.onMouseWheel(new b.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((a.verticalScrollbarSize-a.verticalSliderSize)/2),a.verticalSliderSize,void 0)}_updateSlider(r,a){this.slider.setHeight(r),this.slider.setTop(a)}_renderDomNode(r,a){this.domNode.setWidth(a),this.domNode.setHeight(r),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(r){return this._shouldRender=this._onElementScrollSize(r.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(r.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(r.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(r,a){return a}_sliderMousePosition(r){return r.posy}_sliderOrthogonalMousePosition(r){return r.posx}_updateScrollbarSize(r){this.slider.setWidth(r)}writeScrollPosition(r,a){r.scrollTop=a}updateOptions(r){this.updateScrollbarSize(r.vertical===2?0:r.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(r.vertical),this._scrollByPage=r.scrollByPage}}e.VerticalScrollbar=i}),define(ee[43],te([0,1,157,73,24,8,46]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.resolvePath=e.normalizePath=e.joinPath=e.dirname=e.basename=e.basenameOrAuthority=e.isEqual=e.extUri=e.ExtUri=e.originalFSPath=void 0;function p(v){return(0,T.uriToFsPath)(v,!0)}e.originalFSPath=p;class C{constructor(r){this._ignorePathCasing=r}compare(r,a,l=!1){return r===a?0:(0,L.compare)(this.getComparisonKey(r,l),this.getComparisonKey(a,l))}isEqual(r,a,l=!1){return r===a?!0:!r||!a?!1:this.getComparisonKey(r,l)===this.getComparisonKey(a,l)}getComparisonKey(r,a=!1){return r.with({path:this._ignorePathCasing(r)?r.path.toLowerCase():void 0,fragment:a?null:void 0}).toString()}joinPath(r,...a){return T.URI.joinPath(r,...a)}basenameOrAuthority(r){return(0,e.basename)(r)||r.authority}basename(r){return k.posix.basename(r.path)}dirname(r){if(r.path.length===0)return r;let a;return r.scheme===S.Schemas.file?a=T.URI.file(k.dirname(p(r))).path:(a=k.posix.dirname(r.path),r.authority&&a.length&&a.charCodeAt(0)!==47&&(console.error(`dirname("${r.toString})) resulted in a relative path`),a="/")),r.with({path:a})}normalizePath(r){if(!r.path.length)return r;let a;return r.scheme===S.Schemas.file?a=T.URI.file(k.normalize(p(r))).path:a=k.posix.normalize(r.path),r.with({path:a})}resolvePath(r,a){if(r.scheme===S.Schemas.file){const l=T.URI.file(k.resolve(p(r),a));return r.with({authority:l.authority,path:l.path})}return a=b.toPosixPath(a),r.with({path:k.posix.resolve(r.path,a)})}}e.ExtUri=C,e.extUri=new C(()=>!1),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri);var i;(function(v){v.META_DATA_LABEL="label",v.META_DATA_DESCRIPTION="description",v.META_DATA_SIZE="size",v.META_DATA_MIME="mime";function r(a){const l=new Map;a.path.substring(a.path.indexOf(";")+1,a.path.lastIndexOf(";")).split(";").forEach(s=>{const[n,d]=s.split(":");n&&d&&l.set(n,d)});const u=a.path.substring(0,a.path.indexOf(";"));return u&&l.set(v.META_DATA_MIME,u),l}v.parseMetaData=r})(i=e.DataUri||(e.DataUri={}))}),define(ee[298],te([0,1,7,160,12,82,125,700,701,202,42,8,24,46,104,43,55,105,6,91]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdown=void 0;const h=(o=window.trustedTypes)===null||o===void 0?void 0:o.createPolicy("insane",{createHTML(g,f){return(0,C.insane)(g,f)}});function m(g,f={},_={}){var D;const N=(0,k.createElement)(f),I=function(E){let W;try{W=(0,i.parse)(decodeURIComponent(E))}catch(V){}return W?(W=(0,v.cloneAndChange)(W,V=>{if(g.uris&&g.uris[V])return a.URI.revive(g.uris[V])}),encodeURIComponent(JSON.stringify(W))):E},M=function(E,W){const V=g.uris&&g.uris[E];if(!V)return E;let $=a.URI.revive(V);return a.URI.parse(E).toString()===$.toString()?E:W?l.FileAccess.asBrowserUri($).toString(!0):($.query&&($=$.with({query:I($.query)})),$.toString())};let O;const R=new Promise(E=>O=E),P=new p.Renderer;if(P.image=(E,W,V)=>{let $=[],Z=[];if(E){({href:E,dimensions:$}=(0,L.parseHrefAndDimensions)(E)),E=M(E,!0);try{const X=a.URI.parse(E);f.baseUrl&&X.scheme===l.Schemas.file&&(E=(0,u.resolvePath)(f.baseUrl,E).toString())}catch(X){}Z.push(`src="${E}"`)}return V&&Z.push(`alt="${V}"`),W&&Z.push(`title="${W}"`),$.length&&(Z=Z.concat($)),"<img "+Z.join(" ")+">"},P.link=(E,W,V)=>(E===V&&(V=(0,L.removeMarkdownEscapes)(V)),E=M(E,!1),f.baseUrl&&(/^\w[\w\d+.-]*:/.test(E)||(E=(0,u.resolvePath)(f.baseUrl,E).toString())),W=(0,L.removeMarkdownEscapes)(W),E=(0,L.removeMarkdownEscapes)(E),!E||E.match(/^data:|javascript:/i)||E.match(/^command:/i)&&!g.isTrusted||E.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?V:(E=E.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${E}" title="${W||E}">${V}</a>`)),P.paragraph=E=>(g.supportThemeIcons&&(E=(0,n.renderLabelWithIcons)(E).map(V=>typeof V=="string"?V:V.outerHTML).join("")),`<p>${E}</p>`),f.codeBlockRenderer&&(P.code=(E,W)=>{const V=f.codeBlockRenderer(W,E),$=S.defaultGenerator.nextId(),Z=Promise.all([V,R]).then(X=>{const J=N.querySelector(`div[data-code="${$}"]`);J&&b.reset(J,X[0])}).catch(X=>{});return f.asyncRenderCallback&&Z.then(f.asyncRenderCallback),`<div class="code" data-code="${$}">${(0,r.escape)(E)}</div>`}),f.actionHandler){const E=f.actionHandler.disposeables.add(new t.DomEmitter(N,"click")),W=f.actionHandler.disposeables.add(new t.DomEmitter(N,"auxclick"));f.actionHandler.disposeables.add(d.Event.any(E.event,W.event)(V=>{const $=new s.StandardMouseEvent(V);if(!$.leftButton&&!$.middleButton)return;let Z=$.target;if(!(Z.tagName!=="A"&&(Z=Z.parentElement,!Z||Z.tagName!=="A")))try{const X=Z.dataset.href;X&&f.actionHandler.callback(X,$)}catch(X){(0,T.onUnexpectedError)(X)}finally{$.preventDefault()}}))}_.sanitizer=E=>(g.isTrusted?E.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?E:"",_.sanitize=!0,_.silent=!0,_.renderer=P;let A=(D=g.value)!==null&&D!==void 0?D:"";A.length>1e5&&(A=`${A.substr(0,1e5)}\u2026`),g.supportThemeIcons&&(A=(0,c.markdownEscapeEscapedIcons)(A));const F=p.parse(A,_);if(N.innerHTML=y(g,F),O(),f.asyncRenderCallback)for(const E of N.getElementsByTagName("img")){const W=b.addDisposableListener(E,"load",()=>{W.dispose(),f.asyncRenderCallback()})}return N}e.renderMarkdown=m;function y(g,f){var _;const D=w(g);return(_=h==null?void 0:h.createHTML(f,D))!==null&&_!==void 0?_:(0,C.insane)(f,D)}function w(g){const f=[l.Schemas.http,l.Schemas.https,l.Schemas.mailto,l.Schemas.data,l.Schemas.file,l.Schemas.vscodeRemote,l.Schemas.vscodeRemoteResource];return g.isTrusted&&f.push(l.Schemas.command),{allowedSchemes:f,allowedTags:["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],allowedAttributes:{a:["href","name","target","data-href"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class","style"],th:["align"],td:["align"]},filter(_){return _.tag==="span"&&g.isTrusted?_.attrs.style&&Object.keys(_.attrs).length===1?!!_.attrs.style.match(/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/):_.attrs.class?!!_.attrs.class.match(/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/):!1:!0}}}}),define(ee[163],te([0,1,24,46,17,43,157]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=e.getBaseLabel=void 0;function p(i){if(!i)return;typeof i=="string"&&(i=b.URI.file(i));const v=(0,L.basename)(i)||(i.scheme===k.Schemas.file?i.fsPath:i.path);return T.isWindows&&(0,S.isRootOrDriveLetter)(v)?C(v):v}e.getBaseLabel=p;function C(i){return(0,S.hasDriveLetter)(i)?i.charAt(0).toUpperCase()+i.slice(1):i}e.normalizeDriveLetter=C}),define(ee[106],te([0,1,73,8,201,46,43]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessMimeTypes=e.registerTextMime=e.Mimes=void 0;var p;(function(s){s.text="text/plain",s.binary="application/octet-stream",s.unknown="application/unknown",s.markdown="text/markdown"})(p=e.Mimes||(e.Mimes={}));let C=[],i=[],v=[];function r(s,n=!1){const d=a(s);C.push(d),d.userConfigured?v.push(d):i.push(d),n&&!d.userConfigured&&C.forEach(t=>{t.mime===d.mime||t.userConfigured||(d.extension&&t.extension===d.extension&&console.warn(`Overwriting extension <<${d.extension}>> to now point to mime <<${d.mime}>>`),d.filename&&t.filename===d.filename&&console.warn(`Overwriting filename <<${d.filename}>> to now point to mime <<${d.mime}>>`),d.filepattern&&t.filepattern===d.filepattern&&console.warn(`Overwriting filepattern <<${d.filepattern}>> to now point to mime <<${d.mime}>>`),d.firstline&&t.firstline===d.firstline&&console.warn(`Overwriting firstline <<${d.firstline}>> to now point to mime <<${d.mime}>>`))})}e.registerTextMime=r;function a(s){return{id:s.id,mime:s.mime,filename:s.filename,extension:s.extension,filepattern:s.filepattern,firstline:s.firstline,userConfigured:s.userConfigured,filenameLowercase:s.filename?s.filename.toLowerCase():void 0,extensionLowercase:s.extension?s.extension.toLowerCase():void 0,filepatternLowercase:s.filepattern?s.filepattern.toLowerCase():void 0,filepatternOnPath:s.filepattern?s.filepattern.indexOf(b.posix.sep)>=0:!1}}function l(s,n){let d;if(s)switch(s.scheme){case L.Schemas.file:d=s.fsPath;break;case L.Schemas.data:d=S.DataUri.parseMetaData(s).get(S.DataUri.META_DATA_LABEL);break;default:d=s.path}if(!d)return[p.unknown];d=d.toLowerCase();const t=(0,b.basename)(d),o=c(d,t,v);if(o)return[o,p.text];const h=c(d,t,i);if(h)return[h,p.text];if(n){const m=u(n);if(m)return[m,p.text]}return[p.unknown]}e.guessMimeTypes=l;function c(s,n,d){let t=null,o=null,h=null;for(let m=d.length-1;m>=0;m--){const y=d[m];if(n===y.filenameLowercase){t=y;break}if(y.filepattern&&(!o||y.filepattern.length>o.filepattern.length)){const w=y.filepatternOnPath?s:n;(0,T.match)(y.filepatternLowercase,w)&&(o=y)}y.extension&&(!h||y.extension.length>h.extension.length)&&n.endsWith(y.extensionLowercase)&&(h=y)}return t?t.mime:o?o.mime:h?h.mime:null}function u(s){if((0,k.startsWithUTF8BOM)(s)&&(s=s.substr(1)),s.length>0)for(let n=C.length-1;n>=0;n--){const d=C[n];if(!d.firstline)continue;const t=s.match(d.firstline);if(t&&t.length>0)return d.mime}return null}}),define(ee[164],te([0,1,106]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticDND=e.DragAndDropData=e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:b.Mimes.text,TERMINALS:"Terminals"};class k{constructor(L){this.data=L}update(){}getData(){return this.data}}e.DragAndDropData=k,e.StaticDND={CurrentDragAndDropData:void 0}}),define(ee[299],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0;const b=new Uint8Array(16),k=[];for(let S=0;S<256;S++)k.push(S.toString(16).padStart(2,"0"));let T;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?T=crypto.getRandomValues.bind(crypto):T=function(S){for(let p=0;p<S.length;p++)S[p]=Math.floor(Math.random()*256);return S};function L(){T(b),b[6]=b[6]&15|64,b[8]=b[8]&63|128;let S=0,p="";return p+=k[b[S++]],p+=k[b[S++]],p+=k[b[S++]],p+=k[b[S++]],p+="-",p+=k[b[S++]],p+=k[b[S++]],p+="-",p+=k[b[S++]],p+=k[b[S++]],p+="-",p+=k[b[S++]],p+=k[b[S++]],p+="-",p+=k[b[S++]],p+=k[b[S++]],p+=k[b[S++]],p+=k[b[S++]],p+=k[b[S++]],p+=k[b[S++]],p}e.generateUuid=L}),define(ee[204],te([0,1,12,2,17,20]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const S="$initialize";let p=!1;function C(l){!T.isWeb||(p||(p=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(l.message))}e.logOnceWebWorkerWarning=C;class i{constructor(c){this._workerId=-1,this._handler=c,this._lastSentReq=0,this._pendingReplies=Object.create(null)}setWorkerId(c){this._workerId=c}sendMessage(c,u){let s=String(++this._lastSentReq);return new Promise((n,d)=>{this._pendingReplies[s]={resolve:n,reject:d},this._send({vsWorker:this._workerId,req:s,method:c,args:u})})}handleMessage(c){!c||!c.vsWorker||this._workerId!==-1&&c.vsWorker!==this._workerId||this._handleMessage(c)}_handleMessage(c){if(c.seq){let d=c;if(!this._pendingReplies[d.seq]){console.warn("Got reply to unknown seq");return}let t=this._pendingReplies[d.seq];if(delete this._pendingReplies[d.seq],d.err){let o=d.err;d.err.$isError&&(o=new Error,o.name=d.err.name,o.message=d.err.message,o.stack=d.err.stack),t.reject(o);return}t.resolve(d.res);return}let u=c,s=u.req;this._handler.handleMessage(u.method,u.args).then(d=>{this._send({vsWorker:this._workerId,seq:s,res:d,err:void 0})},d=>{d.detail instanceof Error&&(d.detail=(0,b.transformErrorForSerialization)(d.detail)),this._send({vsWorker:this._workerId,seq:s,res:void 0,err:(0,b.transformErrorForSerialization)(d)})})}_send(c){let u=[];if(c.req){const s=c;for(let n=0;n<s.args.length;n++)s.args[n]instanceof ArrayBuffer&&u.push(s.args[n])}else{const s=c;s.res instanceof ArrayBuffer&&u.push(s.res)}this._handler.sendMessage(c,u)}}class v extends k.Disposable{constructor(c,u,s){super();let n=null;this._worker=this._register(c.create("vs/base/common/worker/simpleWorker",h=>{this._protocol.handleMessage(h)},h=>{n&&n(h)})),this._protocol=new i({sendMessage:(h,m)=>{this._worker.postMessage(h,m)},handleMessage:(h,m)=>{if(typeof s[h]!="function")return Promise.reject(new Error("Missing method "+h+" on main thread host."));try{return Promise.resolve(s[h].apply(s,m))}catch(y){return Promise.reject(y)}}}),this._protocol.setWorkerId(this._worker.getId());let d=null;typeof self.require!="undefined"&&typeof self.require.getConfig=="function"?d=self.require.getConfig():typeof self.requirejs!="undefined"&&(d=self.requirejs.s.contexts._.config);const t=L.getAllMethodNames(s);this._onModuleLoaded=this._protocol.sendMessage(S,[this._worker.getId(),JSON.parse(JSON.stringify(d)),u,t]);const o=(h,m)=>this._request(h,m);this._lazyProxy=new Promise((h,m)=>{n=m,this._onModuleLoaded.then(y=>{h(L.createProxyObject(y,o))},y=>{m(y),this._onError("Worker failed to load "+u,y)})})}getProxyObject(){return this._lazyProxy}_request(c,u){return new Promise((s,n)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(c,u).then(s,n)},n)})}_onError(c,u){console.error(c),console.info(u)}}e.SimpleWorkerClient=v;class r{constructor(c,u){this._requestHandlerFactory=u,this._requestHandler=null,this._protocol=new i({sendMessage:(s,n)=>{c(s,n)},handleMessage:(s,n)=>this._handleMessage(s,n)})}onmessage(c){this._protocol.handleMessage(c)}_handleMessage(c,u){if(c===S)return this.initialize(u[0],u[1],u[2],u[3]);if(!this._requestHandler||typeof this._requestHandler[c]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+c));try{return Promise.resolve(this._requestHandler[c].apply(this._requestHandler,u))}catch(s){return Promise.reject(s)}}initialize(c,u,s,n){this._protocol.setWorkerId(c);const d=(o,h)=>this._protocol.sendMessage(o,h),t=L.createProxyObject(n,d);return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(t),Promise.resolve(L.getAllMethodNames(this._requestHandler))):(u&&(typeof u.baseUrl!="undefined"&&delete u.baseUrl,typeof u.paths!="undefined"&&typeof u.paths.vs!="undefined"&&delete u.paths.vs,typeof u.trustedTypesPolicy!==void 0&&delete u.trustedTypesPolicy,u.catchError=!0,self.require.config(u)),new Promise((o,h)=>{self.require([s],m=>{if(this._requestHandler=m.create(t),!this._requestHandler){h(new Error("No RequestHandler!"));return}o(L.getAllMethodNames(this._requestHandler))},h)}))}}e.SimpleWorkerServer=r;function a(l){return new r(l,null)}e.create=a}),define(ee[205],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var b;(function(T){T[T.Blur=1]="Blur",T[T.Gesture=2]="Gesture",T[T.Other=3]="Other"})(b=e.QuickInputHideReason||(e.QuickInputHideReason={}));var k;(function(T){T[T.NONE=0]="NONE",T[T.FIRST=1]="FIRST",T[T.SECOND=2]="SECOND",T[T.LAST=3]="LAST"})(k=e.ItemActivation||(e.ItemActivation={}))}),define(ee[300],te([0,1,2,6,15,20]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=void 0;var S;(function(i){i[i.None=0]="None",i[i.Initialized=1]="Initialized",i[i.Closed=2]="Closed"})(S||(S={}));class p extends b.Disposable{constructor(v,r=Object.create(null)){super();this.database=v,this.options=r,this._onDidChangeStorage=this._register(new k.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=S.None,this.cache=new Map,this.flushDelayer=new T.ThrottledDelayer(p.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(v=>this.onDidChangeItemsExternal(v)))}onDidChangeItemsExternal(v){var r,a;(r=v.changed)===null||r===void 0||r.forEach((l,c)=>this.accept(c,l)),(a=v.deleted)===null||a===void 0||a.forEach(l=>this.accept(l,void 0))}accept(v,r){if(this.state===S.Closed)return;let a=!1;(0,L.isUndefinedOrNull)(r)?a=this.cache.delete(v):this.cache.get(v)!==r&&(this.cache.set(v,r),a=!0),a&&this._onDidChangeStorage.fire(v)}get(v,r){const a=this.cache.get(v);return(0,L.isUndefinedOrNull)(a)?r:a}getBoolean(v,r){const a=this.get(v);return(0,L.isUndefinedOrNull)(a)?r:a==="true"}getNumber(v,r){const a=this.get(v);return(0,L.isUndefinedOrNull)(a)?r:parseInt(a,10)}set(v,r){return Ie(this,void 0,void 0,function*(){if(this.state===S.Closed)return;if((0,L.isUndefinedOrNull)(r))return this.delete(v);const a=String(r);if(this.cache.get(v)!==a)return this.cache.set(v,a),this.pendingInserts.set(v,a),this.pendingDeletes.delete(v),this._onDidChangeStorage.fire(v),this.flushDelayer.trigger(()=>this.flushPending())})}delete(v){return Ie(this,void 0,void 0,function*(){if(!(this.state===S.Closed||!this.cache.delete(v)))return this.pendingDeletes.has(v)||this.pendingDeletes.add(v),this.pendingInserts.delete(v),this._onDidChangeStorage.fire(v),this.flushDelayer.trigger(()=>this.flushPending())})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Ie(this,void 0,void 0,function*(){if(!this.hasPending)return;const v={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(v).finally(()=>{var r;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(r=this.whenFlushedCallbacks.pop())===null||r===void 0||r()})})}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=p,p.DEFAULT_FLUSH_DELAY=100;class C{constructor(){this.onDidChangeItemsExternal=k.Event.None,this.items=new Map}updateItems(v){return Ie(this,void 0,void 0,function*(){v.insert&&v.insert.forEach((r,a)=>this.items.set(a,r)),v.delete&&v.delete.forEach(r=>this.items.delete(r))})}}e.InMemoryStorageDatabase=C}),define(ee[301],te([0,1,17,204]),function(G,e,b,k){"use strict";var T;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const L=(T=window.trustedTypes)===null||T===void 0?void 0:T.createPolicy("defaultWorkerFactory",{createScriptURL:r=>r});function S(r,a){if(b.globals.MonacoEnvironment){if(typeof b.globals.MonacoEnvironment.getWorker=="function")return b.globals.MonacoEnvironment.getWorker(r,a);if(typeof b.globals.MonacoEnvironment.getWorkerUrl=="function"){const l=b.globals.MonacoEnvironment.getWorkerUrl(r,a);return new Worker(L?L.createScriptURL(l):l,{name:a})}}if(typeof G=="function"){const l=G.toUrl("./"+r),c=p(l,a);return new Worker(L?L.createScriptURL(c):c,{name:a})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function p(r,a){if(/^((http:)|(https:)|(file:))/.test(r)&&r.substring(0,self.origin.length)!==self.origin){const l="vs/base/worker/defaultWorkerFactory.js",c=G.toUrl(l).slice(0,-l.length),u=`/*${a}*/self.MonacoEnvironment={baseUrl: '${c}'};const ttPolicy = self.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${r}') ?? '${r}');/*${a}*/`,s=new Blob([u],{type:"application/javascript"});return URL.createObjectURL(s)}return r+"#"+a}e.getWorkerBootstrapUrl=p;function C(r){return typeof r.then=="function"}class i{constructor(a,l,c,u,s){this.id=l;const n=S("workerMain.js",c);C(n)?this.worker=n:this.worker=Promise.resolve(n),this.postMessage(a,[]),this.worker.then(d=>{d.onmessage=function(t){u(t.data)},d.onmessageerror=s,typeof d.addEventListener=="function"&&d.addEventListener("error",s)})}getId(){return this.id}postMessage(a,l){this.worker&&this.worker.then(c=>c.postMessage(a,l))}dispose(){this.worker&&this.worker.then(a=>a.terminate()),this.worker=null}}class v{constructor(a){this._label=a,this._webWorkerFailedBeforeError=!1}create(a,l,c){let u=++v.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new i(a,u,this._label||"anonymous"+u,l,s=>{(0,k.logOnceWebWorkerWarning)(s),this._webWorkerFailedBeforeError=s,c(s)})}}e.DefaultWorkerFactory=v,v.LAST_WORKER_ID=0}),define(ee[206],te([10]),{}),define(ee[302],te([10]),{}),define(ee[44],te([0,1,17,7,302]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const T=2e4;let L,S,p,C,i;function v(c){L=document.createElement("div"),L.className="monaco-aria-container";const u=()=>{const n=document.createElement("div");return n.className="monaco-alert",n.setAttribute("role","alert"),n.setAttribute("aria-atomic","true"),L.appendChild(n),n};S=u(),p=u();const s=()=>{const n=document.createElement("div");return n.className="monaco-status",n.setAttribute("role","complementary"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),L.appendChild(n),n};C=s(),i=s(),c.appendChild(L)}e.setARIAContainer=v;function r(c){!L||(S.textContent!==c?(k.clearNode(p),l(S,c)):(k.clearNode(S),l(p,c)))}e.alert=r;function a(c){!L||(b.isMacintosh?r(c):C.textContent!==c?(k.clearNode(i),l(C,c)):(k.clearNode(C),l(i,c)))}e.status=a;function l(c,u){k.clearNode(c),u.length>T&&(u=u.substr(0,T)),c.textContent=u,c.style.visibility="hidden",c.style.visibility="visible"}}),define(ee[303],te([10]),{}),define(ee[304],te([0,1,51,29,42,6,2,60,105,7,303]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const v={buttonBackground:k.Color.fromHex("#0E639C"),buttonHoverBackground:k.Color.fromHex("#006BB3"),buttonForeground:k.Color.white};class r extends S.Disposable{constructor(l,c){super();this._onDidClick=this._register(new L.Emitter),this.options=c||Object.create(null),(0,T.mixin)(this.options,v,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),l.appendChild(this._element),this._register(p.Gesture.addTarget(this._element)),[i.EventType.CLICK,p.EventType.Tap].forEach(u=>{this._register((0,i.addDisposableListener)(this._element,u,s=>{if(!this.enabled){i.EventHelper.stop(s);return}this._onDidClick.fire(s)}))}),this._register((0,i.addDisposableListener)(this._element,i.EventType.KEY_DOWN,u=>{const s=new b.StandardKeyboardEvent(u);let n=!1;this.enabled&&(s.equals(3)||s.equals(10))?(this._onDidClick.fire(u),n=!0):s.equals(9)&&(this._element.blur(),n=!0),n&&i.EventHelper.stop(s,!0)})),this._register((0,i.addDisposableListener)(this._element,i.EventType.MOUSE_OVER,u=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,i.addDisposableListener)(this._element,i.EventType.MOUSE_OUT,u=>{this.applyStyles()})),this.focusTracker=this._register((0,i.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let l;this.options.secondary?l=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:l=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,l&&(this._element.style.backgroundColor=l)}style(l){this.buttonForeground=l.buttonForeground,this.buttonBackground=l.buttonBackground,this.buttonHoverBackground=l.buttonHoverBackground,this.buttonSecondaryForeground=l.buttonSecondaryForeground,this.buttonSecondaryBackground=l.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=l.buttonSecondaryHoverBackground,this.buttonBorder=l.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let l,c;this.options.secondary?(c=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",l=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(c=this.buttonForeground?this.buttonForeground.toString():"",l=this.buttonBackground?this.buttonBackground.toString():"");const u=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=c,this._element.style.backgroundColor=l,this._element.style.borderWidth=u?"1px":"",this._element.style.borderStyle=u?"solid":"",this._element.style.borderColor=u}}get element(){return this._element}set label(l){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,i.reset)(this._element,...(0,C.renderLabelWithIcons)(l)):this._element.textContent=l,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=l)}set enabled(l){l?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=r}),define(ee[305],te([10]),{}),define(ee[165],te([0,1,52,29,6,27,305]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Checkbox=void 0;const S={inputActiveOptionBorder:k.Color.fromHex("#007ACC00"),inputActiveOptionForeground:k.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:k.Color.fromHex("#0E639C50")};class p extends b.Widget{constructor(i){super();this._onChange=this._register(new T.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new T.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},S),i),this._checked=this._opts.isChecked;const v=["monaco-custom-checkbox"];this._opts.icon&&v.push(...L.CSSIcon.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&v.push(...this._opts.actionClassName.split(" ")),this._checked&&v.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...v),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,r=>{this.checked=!this._checked,this._onChange.fire(!1),r.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,r=>{if(r.keyCode===10||r.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),r.preventDefault();return}this._onKeyDown.fire(r)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(i){this._checked=i,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(i){i.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=i.inputActiveOptionBorder),i.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=i.inputActiveOptionForeground),i.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=i.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Checkbox=p}),define(ee[306],te([10]),{}),define(ee[307],te([10]),{}),define(ee[130],te([0,1,27,306,307]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function k(T){let L=T.definition;for(;L instanceof b.Codicon;)L=L.definition;return`.codicon-${T.id}:before { content: '${L.fontCharacter}'; }`}e.formatRule=k}),define(ee[308],te([10]),{}),define(ee[207],te([0,1,7,17,2,126,156,308]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var p;(function(r){r[r.AVOID=0]="AVOID",r[r.ALIGN=1]="ALIGN"})(p=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function C(r,a,l){const c=l.mode===p.ALIGN?l.offset:l.offset+l.size,u=l.mode===p.ALIGN?l.offset+l.size:l.offset;return l.position===0?a<=r-c?c:a<=u?u-a:Math.max(r-a,0):a<=u?u-a:a<=r-c?c:0}e.layout=C;class i extends T.Disposable{constructor(a,l){super();this.container=null,this.delegate=null,this.toDisposeOnClean=T.Disposable.None,this.toDisposeOnSetContainer=T.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=b.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,b.hide(this.view),this.setContainer(a,l),this._register((0,T.toDisposable)(()=>this.setContainer(null,1)))}setContainer(a,l){var c;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(c=this.shadowRootHostElement)===null||c===void 0||c.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),a){if(this.container=a,this.useFixedPosition=l!==1,this.useShadowDOM=l===3,this.useShadowDOM){this.shadowRootHostElement=b.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const s=document.createElement("style");s.textContent=v,this.shadowRoot.appendChild(s),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(b.$("slot"))}else this.container.appendChild(this.view);const u=new T.DisposableStore;i.BUBBLE_UP_EVENTS.forEach(s=>{u.add(b.addStandardDisposableListener(this.container,s,n=>{this.onDOMEvent(n,!1)}))}),i.BUBBLE_DOWN_EVENTS.forEach(s=>{u.add(b.addStandardDisposableListener(this.container,s,n=>{this.onDOMEvent(n,!0)},!0))}),this.toDisposeOnSetContainer=u}}show(a){this.isVisible()&&this.hide(),b.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",b.show(this.view),this.toDisposeOnClean=a.render(this.view)||T.Disposable.None,this.delegate=a,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(k.isIOS&&S.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let a=this.delegate.getAnchor(),l;if(b.isHTMLElement(a)){let m=b.getDomNodePagePosition(a);l={top:m.top,left:m.left,width:m.width,height:m.height}}else l={top:a.y,left:a.x,width:a.width||1,height:a.height||2};const c=b.getTotalWidth(this.view),u=b.getTotalHeight(this.view),s=this.delegate.anchorPosition||0,n=this.delegate.anchorAlignment||0,d=this.delegate.anchorAxisAlignment||0;let t,o;if(d===0){const m={offset:l.top-window.pageYOffset,size:l.height,position:s===0?0:1},y={offset:l.left,size:l.width,position:n===0?0:1,mode:p.ALIGN};t=C(window.innerHeight,u,m)+window.pageYOffset,L.Range.intersects({start:t,end:t+u},{start:m.offset,end:m.offset+m.size})&&(y.mode=p.AVOID),o=C(window.innerWidth,c,y)}else{const m={offset:l.left,size:l.width,position:n===0?0:1},y={offset:l.top,size:l.height,position:s===0?0:1,mode:p.ALIGN};o=C(window.innerWidth,c,m),L.Range.intersects({start:o,end:o+c},{start:m.offset,end:m.offset+m.size})&&(y.mode=p.AVOID),t=C(window.innerHeight,u,y)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(s===0?"bottom":"top"),this.view.classList.add(n===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const h=b.getDomNodePagePosition(this.container);this.view.style.top=`${t-(this.useFixedPosition?b.getDomNodePagePosition(this.view).top:h.top)}px`,this.view.style.left=`${o-(this.useFixedPosition?b.getDomNodePagePosition(this.view).left:h.left)}px`,this.view.style.width="initial"}hide(a){const l=this.delegate;this.delegate=null,(l==null?void 0:l.onHide)&&l.onHide(a),this.toDisposeOnClean.dispose(),b.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(a,l){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(a,document.activeElement):l&&!b.isAncestor(a.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=i,i.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],i.BUBBLE_DOWN_EVENTS=["click"];let v=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(ee[309],te([10]),{}),define(ee[208],te([0,1,7,8,29,42,309]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const S={badgeBackground:T.Color.fromHex("#4D4D4D"),badgeForeground:T.Color.fromHex("#FFFFFF")};class p{constructor(i,v){this.count=0,this.options=v||Object.create(null),(0,L.mixin)(this.options,S,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,b.append)(i,(0,b.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(i){this.count=i,this.render()}setTitleFormat(i){this.titleFormat=i,this.render()}render(){this.element.textContent=(0,k.format)(this.countFormat,this.count),this.element.title=(0,k.format)(this.titleFormat,this.count),this.applyStyles()}style(i){this.badgeBackground=i.badgeBackground,this.badgeForeground=i.badgeForeground,this.badgeBorder=i.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const i=this.badgeBackground?this.badgeBackground.toString():"",v=this.badgeForeground?this.badgeForeground.toString():"",r=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=i,this.element.style.color=v,this.element.style.borderWidth=r?"1px":"",this.element.style.borderStyle=r?"solid":"",this.element.style.borderColor=r}}}e.CountBadge=p}),define(ee[209],te([10]),{}),define(ee[210],te([10]),{}),define(ee[310],te([10]),{}),define(ee[311],te([10]),{}),define(ee[312],te([10]),{}),define(ee[313],te([10]),{}),define(ee[211],te([10]),{}),define(ee[314],te([10]),{}),define(ee[131],te([0,1,314]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(ee[315],te([10]),{}),define(ee[316],te([0,1,2,29,42,7,15,315]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const p="done",C="active",i="infinite",v="discrete",r={progressBarBackground:k.Color.fromHex("#0E70C0")};class a extends b.Disposable{constructor(c,u){super();this.options=u||Object.create(null),(0,T.mixin)(this.options,r,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new S.RunOnceScheduler(()=>(0,L.show)(this.element),0)),this.create(c)}create(c){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),c.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(C,i,v),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(c){return this.element.classList.add(p),this.element.classList.contains(i)?(this.bit.style.opacity="0",c?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",c?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(v,p),this.element.classList.add(C,i),this}getContainer(){return this.element}style(c){this.progressBarBackground=c.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const c=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=c}}}e.ProgressBar=a}),define(ee[317],te([10]),{}),define(ee[107],te([0,1,2,17,60,6,7,91,15,90,317]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;let v=!1;var r;(function(o){o.North="north",o.South="south",o.East="east",o.West="west"})(r=e.OrthogonalEdge||(e.OrthogonalEdge={}));let a=4;const l=new L.Emitter;let c=300;const u=new L.Emitter;class s{constructor(){this.disposables=new b.DisposableStore}get onPointerMove(){return this.disposables.add(new p.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new p.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Re([i.memoize],s.prototype,"onPointerMove",null),Re([i.memoize],s.prototype,"onPointerUp",null);class n{constructor(h){this.el=h,this.disposables=new b.DisposableStore}get onPointerMove(){return this.disposables.add(new p.DomEmitter(this.el,T.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new p.DomEmitter(this.el,T.EventType.End)).event}dispose(){this.disposables.dispose()}}Re([i.memoize],n.prototype,"onPointerMove",null),Re([i.memoize],n.prototype,"onPointerUp",null);class d{constructor(h){this.factory=h}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}Re([i.memoize],d.prototype,"onPointerMove",null),Re([i.memoize],d.prototype,"onPointerUp",null);class t extends b.Disposable{constructor(h,m,y){super();this.hoverDelay=c,this.hoverDelayer=this._register(new C.Delayer(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new L.Emitter),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new L.Emitter),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new L.Emitter),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new L.Emitter),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new b.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new b.DisposableStore),this.orthogonalEndSashDisposables=this._register(new b.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new b.DisposableStore),this.el=(0,S.append)(h,(0,S.$)(".monaco-sash")),y.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${y.orthogonalEdge}`),k.isMacintosh&&this.el.classList.add("mac");const w=this._register(new p.DomEmitter(this.el,"mousedown")).event;this._register(w(M=>this.onPointerStart(M,new s),this));const g=this._register(new p.DomEmitter(this.el,"dblclick")).event;this._register(g(this.onPointerDoublePress,this));const f=this._register(new p.DomEmitter(this.el,"mouseenter")).event;this._register(f(()=>t.onMouseEnter(this)));const _=this._register(new p.DomEmitter(this.el,"mouseleave")).event;this._register(_(()=>t.onMouseLeave(this))),this._register(T.Gesture.addTarget(this.el));const D=L.Event.map(this._register(new p.DomEmitter(this.el,T.EventType.Start)).event,M=>{var O;return Object.assign(Object.assign({},M),{target:(O=M.initialTarget)!==null&&O!==void 0?O:null})});this._register(D(M=>this.onPointerStart(M,new n(this.el)),this));const N=this._register(new p.DomEmitter(this.el,T.EventType.Tap)).event,I=L.Event.map(L.Event.filter(L.Event.debounce(N,(M,O)=>{var R;return{event:O,count:((R=M==null?void 0:M.count)!==null&&R!==void 0?R:0)+1}},250),({count:M})=>M===2),({event:M})=>{var O;return Object.assign(Object.assign({},M),{target:(O=M.initialTarget)!==null&&O!==void 0?O:null})});this._register(I(this.onPointerDoublePress,this)),typeof y.size=="number"?(this.size=y.size,y.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=a,this._register(l.event(M=>{this.size=M,this.layout()}))),this._register(u.event(M=>this.hoverDelay=M)),this.hidden=!1,this.layoutProvider=m,this.orthogonalStartSash=y.orthogonalStartSash,this.orthogonalEndSash=y.orthogonalEndSash,this.orientation=y.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",v),this.layout()}get state(){return this._state}set state(h){this._state!==h&&(this.el.classList.toggle("disabled",h===0),this.el.classList.toggle("minimum",h===1),this.el.classList.toggle("maximum",h===2),this._state=h,this._onDidEnablementChange.fire(h))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(h){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),h){const m=y=>{this.orthogonalStartDragHandleDisposables.clear(),y!==0&&(this._orthogonalStartDragHandle=(0,S.append)(this.el,(0,S.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,b.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new p.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>t.onMouseEnter(h),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new p.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>t.onMouseLeave(h),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(h.onDidEnablementChange(m,this)),m(h.state)}this._orthogonalStartSash=h}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(h){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),h){const m=y=>{this.orthogonalEndDragHandleDisposables.clear(),y!==0&&(this._orthogonalEndDragHandle=(0,S.append)(this.el,(0,S.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,b.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new p.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>t.onMouseEnter(h),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new p.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>t.onMouseLeave(h),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(h.onDidEnablementChange(m,this)),m(h.state)}this._orthogonalEndSash=h}onPointerStart(h,m){S.EventHelper.stop(h);let y=!1;if(!h.__orthogonalSashEvent){const P=this.getOrthogonalSash(h);P&&(y=!0,h.__orthogonalSashEvent=!0,P.onPointerStart(h,new d(m)))}if(this.linkedSash&&!h.__linkedSashEvent&&(h.__linkedSashEvent=!0,this.linkedSash.onPointerStart(h,new d(m))),!this.state)return;const w=(0,S.getElementsByTagName)("iframe");for(const P of w)P.style.pointerEvents="none";const g=h.pageX,f=h.pageY,_=h.altKey,D={startX:g,currentX:g,startY:f,currentY:f,altKey:_};this.el.classList.add("active"),this._onDidStart.fire(D);const N=(0,S.createStyleSheet)(this.el),I=()=>{let P="";y?P="all-scroll":this.orientation===1?this.state===1?P="s-resize":this.state===2?P="n-resize":P=k.isMacintosh?"row-resize":"ns-resize":this.state===1?P="e-resize":this.state===2?P="w-resize":P=k.isMacintosh?"col-resize":"ew-resize",N.textContent=`* { cursor: ${P} !important; }`},M=new b.DisposableStore;I(),y||this.onDidEnablementChange(I,null,M);const O=P=>{S.EventHelper.stop(P,!1);const A={startX:g,currentX:P.pageX,startY:f,currentY:P.pageY,altKey:_};this._onDidChange.fire(A)},R=P=>{S.EventHelper.stop(P,!1),this.el.removeChild(N),this.el.classList.remove("active"),this._onDidEnd.fire(),M.dispose();for(const A of w)A.style.pointerEvents="auto"};m.onPointerMove(O,null,M),m.onPointerUp(R,null,M),M.add(m)}onPointerDoublePress(h){const m=this.getOrthogonalSash(h);m&&m._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(h,m=!1){h.el.classList.contains("active")?(h.hoverDelayer.cancel(),h.el.classList.add("hover")):h.hoverDelayer.trigger(()=>h.el.classList.add("hover"),h.hoverDelay).then(void 0,()=>{}),!m&&h.linkedSash&&t.onMouseEnter(h.linkedSash,!0)}static onMouseLeave(h,m=!1){h.hoverDelayer.cancel(),h.el.classList.remove("hover"),!m&&h.linkedSash&&t.onMouseLeave(h.linkedSash,!0)}clearSashHoverState(){t.onMouseLeave(this)}layout(){if(this.orientation===0){const h=this.layoutProvider;this.el.style.left=h.getVerticalSashLeft(this)-this.size/2+"px",h.getVerticalSashTop&&(this.el.style.top=h.getVerticalSashTop(this)+"px"),h.getVerticalSashHeight&&(this.el.style.height=h.getVerticalSashHeight(this)+"px")}else{const h=this.layoutProvider;this.el.style.top=h.getHorizontalSashTop(this)-this.size/2+"px",h.getHorizontalSashLeft&&(this.el.style.left=h.getHorizontalSashLeft(this)+"px"),h.getHorizontalSashWidth&&(this.el.style.width=h.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(h){if(!(!h.target||!(h.target instanceof HTMLElement))&&h.target.classList.contains("orthogonal-drag-handle"))return h.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=t}),define(ee[318],te([10]),{}),define(ee[61],te([0,1,7,30,55,296,297,52,15,6,2,17,127,39,318]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const c=500,u=50,s=!0;class n{constructor(g,f,_){this.timestamp=g,this.deltaX=f,this.deltaY=_,this.score=0}}class d{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let g=1,f=0,_=1,D=this._rear;do{const N=D===this._front?g:Math.pow(2,-_);if(g-=N,f+=this._memory[D].score*N,D===this._front)break;D=(this._capacity+D-1)%this._capacity,_++}while(!0);return f<=.5}accept(g,f,_){const D=new n(g,f,_);D.score=this._computeScore(D),this._front===-1&&this._rear===-1?(this._memory[0]=D,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=D)}_computeScore(g){if(Math.abs(g.deltaX)>0&&Math.abs(g.deltaY)>0)return 1;let f=.5;const _=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(g.deltaX)||!this._isAlmostInt(g.deltaY))&&(f+=.25),Math.min(Math.max(f,0),1)}_isAlmostInt(g){return Math.abs(Math.round(g)-g)<.01}}e.MouseWheelClassifier=d,d.INSTANCE=new d;class t extends p.Widget{constructor(g,f,_){super();this._onScroll=this._register(new i.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new i.Emitter),g.style.overflow="hidden",this._options=y(f),this._scrollable=_,this._register(this._scrollable.onScroll(N=>{this._onWillScroll.fire(N),this._onDidScroll(N),this._onScroll.fire(N)}));const D={onMouseWheel:N=>this._onMouseWheel(N),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new S.VerticalScrollbar(this._scrollable,this._options,D)),this._horizontalScrollbar=this._register(new L.HorizontalScrollbar(this._scrollable,this._options,D)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(g),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,k.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,k.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,k.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,N=>this._onMouseOver(N)),this.onnonbubblingmouseout(this._listenOnDomNode,N=>this._onMouseOut(N)),this._hideTimeout=this._register(new C.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,v.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(g){this._verticalScrollbar.delegateMouseDown(g)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(g){this._scrollable.setScrollDimensions(g,!1)}updateClassName(g){this._options.className=g,r.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(g){typeof g.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=g.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof g.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=g.mouseWheelScrollSensitivity),typeof g.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=g.fastScrollSensitivity),typeof g.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=g.scrollPredominantAxis),typeof g.horizontal!="undefined"&&(this._options.horizontal=g.horizontal),typeof g.vertical!="undefined"&&(this._options.vertical=g.vertical),typeof g.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=g.horizontalScrollbarSize),typeof g.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=g.verticalScrollbarSize),typeof g.scrollByPage!="undefined"&&(this._options.scrollByPage=g.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(g){if(this._mouseWheelToDispose.length>0!==g&&(this._mouseWheelToDispose=(0,v.dispose)(this._mouseWheelToDispose),g)){const _=D=>{this._onMouseWheel(new T.StandardWheelEvent(D))};this._mouseWheelToDispose.push(b.addDisposableListener(this._listenOnDomNode,b.EventType.MOUSE_WHEEL,_,{passive:!1}))}}_onMouseWheel(g){const f=d.INSTANCE;if(s){const N=window.devicePixelRatio/(0,l.getZoomFactor)();r.isWindows||r.isLinux?f.accept(Date.now(),g.deltaX/N,g.deltaY/N):f.accept(Date.now(),g.deltaX,g.deltaY)}let _=!1;if(g.deltaY||g.deltaX){let N=g.deltaY*this._options.mouseWheelScrollSensitivity,I=g.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(N)>=Math.abs(I)?I=0:N=0),this._options.flipAxes&&([N,I]=[I,N]);const M=!r.isMacintosh&&g.browserEvent&&g.browserEvent.shiftKey;(this._options.scrollYToX||M)&&!I&&(I=N,N=0),g.browserEvent&&g.browserEvent.altKey&&(I=I*this._options.fastScrollSensitivity,N=N*this._options.fastScrollSensitivity);const O=this._scrollable.getFutureScrollPosition();let R={};if(N){const P=O.scrollTop-u*N;this._verticalScrollbar.writeScrollPosition(R,P)}if(I){const P=O.scrollLeft-u*I;this._horizontalScrollbar.writeScrollPosition(R,P)}R=this._scrollable.validateScrollPosition(R),(O.scrollLeft!==R.scrollLeft||O.scrollTop!==R.scrollTop)&&(s&&this._options.mouseWheelSmoothScroll&&f.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(R):this._scrollable.setScrollPositionNow(R),_=!0)}let D=_;!D&&this._options.alwaysConsumeMouseWheel&&(D=!0),!D&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(D=!0),D&&(g.preventDefault(),g.stopPropagation())}_onDidScroll(g){this._shouldRender=this._horizontalScrollbar.onDidScroll(g)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(g)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const g=this._scrollable.getCurrentScrollPosition(),f=g.scrollTop>0,_=g.scrollLeft>0,D=_?" left":"",N=f?" top":"",I=_||f?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${D}`),this._topShadowDomNode.setClassName(`shadow${N}`),this._topLeftShadowDomNode.setClassName(`shadow${I}${N}${D}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(g){this._mouseIsOver=!1,this._hide()}_onMouseOver(g){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),c)}}e.AbstractScrollableElement=t;class o extends t{constructor(g,f){f=f||{},f.mouseWheelSmoothScroll=!1;const _=new a.Scrollable(0,D=>b.scheduleAtNextAnimationFrame(D));super(g,f,_);this._register(_)}setScrollPosition(g){this._scrollable.setScrollPositionNow(g)}}e.ScrollableElement=o;class h extends t{constructor(g,f,_){super(g,f,_)}setScrollPosition(g){g.reuseAnimation?this._scrollable.setScrollPositionSmooth(g,g.reuseAnimation):this._scrollable.setScrollPositionNow(g)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=h;class m extends o{constructor(g,f){super(g,f);this._element=g,this.onScroll(_=>{_.scrollTopChanged&&(this._element.scrollTop=_.scrollTop),_.scrollLeftChanged&&(this._element.scrollLeft=_.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=m;function y(w){const g={lazyRender:typeof w.lazyRender!="undefined"?w.lazyRender:!1,className:typeof w.className!="undefined"?w.className:"",useShadows:typeof w.useShadows!="undefined"?w.useShadows:!0,handleMouseWheel:typeof w.handleMouseWheel!="undefined"?w.handleMouseWheel:!0,flipAxes:typeof w.flipAxes!="undefined"?w.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof w.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?w.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof w.alwaysConsumeMouseWheel!="undefined"?w.alwaysConsumeMouseWheel:!1,scrollYToX:typeof w.scrollYToX!="undefined"?w.scrollYToX:!1,mouseWheelScrollSensitivity:typeof w.mouseWheelScrollSensitivity!="undefined"?w.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof w.fastScrollSensitivity!="undefined"?w.fastScrollSensitivity:5,scrollPredominantAxis:typeof w.scrollPredominantAxis!="undefined"?w.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof w.mouseWheelSmoothScroll!="undefined"?w.mouseWheelSmoothScroll:!0,arrowSize:typeof w.arrowSize!="undefined"?w.arrowSize:11,listenOnDomNode:typeof w.listenOnDomNode!="undefined"?w.listenOnDomNode:null,horizontal:typeof w.horizontal!="undefined"?w.horizontal:1,horizontalScrollbarSize:typeof w.horizontalScrollbarSize!="undefined"?w.horizontalScrollbarSize:10,horizontalSliderSize:typeof w.horizontalSliderSize!="undefined"?w.horizontalSliderSize:0,horizontalHasArrows:typeof w.horizontalHasArrows!="undefined"?w.horizontalHasArrows:!1,vertical:typeof w.vertical!="undefined"?w.vertical:1,verticalScrollbarSize:typeof w.verticalScrollbarSize!="undefined"?w.verticalScrollbarSize:10,verticalHasArrows:typeof w.verticalHasArrows!="undefined"?w.verticalHasArrows:!1,verticalSliderSize:typeof w.verticalSliderSize!="undefined"?w.verticalSliderSize:0,scrollByPage:typeof w.scrollByPage!="undefined"?w.scrollByPage:!1};return g.horizontalSliderSize=typeof w.horizontalSliderSize!="undefined"?w.horizontalSliderSize:g.horizontalScrollbarSize,g.verticalSliderSize=typeof w.verticalSliderSize!="undefined"?w.verticalSliderSize:g.verticalScrollbarSize,r.isMacintosh&&(g.className+=" mac"),g}}),define(ee[319],te([0,1,7,2,61,310]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0;const L=b.$;class S extends k.Disposable{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new T.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}e.HoverWidget=S;class p extends k.Disposable{constructor(i,v,r){super();this.actionContainer=b.append(i,L("div.action-container")),this.action=b.append(this.actionContainer,L("a.action")),this.action.setAttribute("href","#"),this.action.setAttribute("role","button"),v.iconClass&&b.append(this.action,L(`span.icon.${v.iconClass}`));const a=b.append(this.action,L("span"));a.textContent=r?`${v.label} (${r})`:v.label,this._register(b.addDisposableListener(this.actionContainer,b.EventType.CLICK,l=>{l.stopPropagation(),l.preventDefault(),v.run(this.actionContainer)})),this.setEnabled(!0)}static render(i,v,r){return new p(i,v,r)}setEnabled(i){i?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=p}),define(ee[166],te([0,1,42,2,60,6,61,127,289,295,90,126,19,164,15,39,7,91]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const d={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(g){return[g]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class t{constructor(f){this.elements=f}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=t;class o{constructor(f){this.elements=f}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=o;class h{constructor(){this.types=[],this.files=[]}update(f){if(f.types&&this.types.splice(0,this.types.length,...f.types),f.files){this.files.splice(0,this.files.length);for(let _=0;_<f.files.length;_++){const D=f.files.item(_);D&&(D.size||D.type)&&this.files.push(D)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=h;function m(g,f){return Array.isArray(g)&&Array.isArray(f)?(0,a.equals)(g,f):g===f}class y{constructor(f){(f==null?void 0:f.getSetSize)?this.getSetSize=f.getSetSize.bind(f):this.getSetSize=(_,D,N)=>N,(f==null?void 0:f.getPosInSet)?this.getPosInSet=f.getPosInSet.bind(f):this.getPosInSet=(_,D)=>D+1,(f==null?void 0:f.getRole)?this.getRole=f.getRole.bind(f):this.getRole=_=>"listitem",(f==null?void 0:f.isChecked)?this.isChecked=f.isChecked.bind(f):this.isChecked=_=>{}}}class w{constructor(f,_,D,N=d){if(this.virtualDelegate=_,this.domId=`list_id_${++w.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new c.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=k.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=k.Disposable.None,this.onDragLeaveTimeout=k.Disposable.None,this.disposables=new k.DisposableStore,this._onDidChangeContentHeight=new L.Emitter,this._horizontalScrolling=!1,N.horizontalScrolling&&N.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new C.RangeMap;for(const M of D)this.renderers.set(M.templateId,M);this.cache=this.disposables.add(new i.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof N.mouseSupport=="boolean"?N.mouseSupport:!0),this._horizontalScrolling=(0,b.getOrDefault)(N,M=>M.horizontalScrolling,d.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof N.additionalScrollHeight=="undefined"?0:N.additionalScrollHeight,this.accessibilityProvider=new y(N.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,b.getOrDefault)(N,M=>M.transformOptimization,d.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(T.Gesture.addTarget(this.rowsContainer)),this.scrollable=new p.Scrollable((0,b.getOrDefault)(N,M=>M.smoothScrolling,!1)?125:0,M=>(0,s.scheduleAtNextAnimationFrame)(M)),this.scrollableElement=this.disposables.add(new S.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(0,b.getOrDefault)(N,M=>M.alwaysConsumeMouseWheel,d.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,b.getOrDefault)(N,M=>M.verticalScrollMode,d.verticalScrollMode),useShadows:(0,b.getOrDefault)(N,M=>M.useShadows,d.useShadows),mouseWheelScrollSensitivity:N.mouseWheelScrollSensitivity,fastScrollSensitivity:N.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),f.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,s.addDisposableListener)(this.rowsContainer,T.EventType.Change,M=>this.onTouchChange(M))),this.disposables.add((0,s.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",M=>M.target.scrollTop=0)),this.disposables.add((0,s.addDisposableListener)(this.domNode,"dragover",M=>this.onDragOver(this.toDragEvent(M)))),this.disposables.add((0,s.addDisposableListener)(this.domNode,"drop",M=>this.onDrop(this.toDragEvent(M)))),this.disposables.add((0,s.addDisposableListener)(this.domNode,"dragleave",M=>this.onDragLeave(this.toDragEvent(M)))),this.disposables.add((0,s.addDisposableListener)(this.domNode,"dragend",M=>this.onDragEnd(M))),this.setRowLineHeight=(0,b.getOrDefault)(N,M=>M.setRowLineHeight,d.setRowLineHeight),this.setRowHeight=(0,b.getOrDefault)(N,M=>M.setRowHeight,d.setRowHeight),this.supportDynamicHeights=(0,b.getOrDefault)(N,M=>M.supportDynamicHeights,d.supportDynamicHeights),this.dnd=(0,b.getOrDefault)(N,M=>M.dnd,d.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(f){if(f!==this._horizontalScrolling){if(f&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=f,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const _ of this.items)this.measureItemWidth(_);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,s.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(f){f.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=f.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),f.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(f.smoothScrolling?125:0),f.horizontalScrolling!==void 0&&(this.horizontalScrolling=f.horizontalScrolling),f.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:f.mouseWheelScrollSensitivity}),f.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:f.fastScrollSensitivity})}splice(f,_,D=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(f,_,D)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(f,_,D=[]){const N=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),I={start:f,end:f+_},M=r.Range.intersect(N,I),O=new Map;for(let q=M.start;q<M.end;q++){const B=this.items[q];if(B.dragStartDisposable.dispose(),B.row){let j=O.get(B.templateId);j||(j=[],O.set(B.templateId,j));const H=this.renderers.get(B.templateId);H&&H.disposeElement&&H.disposeElement(B.element,q,B.row.templateData,B.size),j.push(B.row)}B.row=null}const R={start:f+_,end:this.items.length},P=r.Range.intersect(R,N),A=r.Range.relativeComplement(R,N),F=D.map(q=>({id:String(this.itemId++),element:q,templateId:this.virtualDelegate.getTemplateId(q),size:this.virtualDelegate.getHeight(q),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(q),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:k.Disposable.None}));let E;f===0&&_>=this.items.length?(this.rangeMap=new C.RangeMap,this.rangeMap.splice(0,0,F),E=this.items,this.items=F):(this.rangeMap.splice(f,_,F),E=this.items.splice(f,_,...F));const W=D.length-_,V=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),$=(0,C.shift)(P,W),Z=r.Range.intersect(V,$);for(let q=Z.start;q<Z.end;q++)this.updateItemInDOM(this.items[q],q);const X=r.Range.relativeComplement($,V);for(const q of X)for(let B=q.start;B<q.end;B++)this.removeItemFromDOM(B);const J=A.map(q=>(0,C.shift)(q,W)),de=[{start:f,end:f+D.length},...J].map(q=>r.Range.intersect(V,q)),ue=this.getNextToLastElement(de);for(const q of de)for(let B=q.start;B<q.end;B++){const j=this.items[B],H=O.get(j.templateId),z=H==null?void 0:H.pop();this.insertItemInDOM(B,ue,z)}for(const q of O.values())for(const B of q)this.cache.release(B);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),E.map(q=>q.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,s.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let f=0;for(const _ of this.items)typeof _.width!="undefined"&&(f=Math.max(f,_.width));this.scrollWidth=f,this.scrollableElement.setScrollDimensions({scrollWidth:f===0?0:f+10})}rerender(){if(!!this.supportDynamicHeights){for(const f of this.items)f.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(f){return this.items[f].element}domElement(f){const _=this.items[f].row;return _&&_.domNode}elementHeight(f){return this.items[f].size}elementTop(f){return this.rangeMap.positionAt(f)}indexAt(f){return this.rangeMap.indexAt(f)}indexAfter(f){return this.rangeMap.indexAfter(f)}layout(f,_){let D={height:typeof f=="number"?f:(0,s.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,D.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(D),typeof _!="undefined"&&(this.renderWidth=_,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof _=="number"?_:(0,s.getContentWidth)(this.domNode)})}render(f,_,D,N,I,M=!1){const O=this.getRenderRange(_,D),R=r.Range.relativeComplement(O,f),P=r.Range.relativeComplement(f,O),A=this.getNextToLastElement(R);if(M){const F=r.Range.intersect(f,O);for(let E=F.start;E<F.end;E++)this.updateItemInDOM(this.items[E],E)}for(const F of R)for(let E=F.start;E<F.end;E++)this.insertItemInDOM(E,A);for(const F of P)for(let E=F.start;E<F.end;E++)this.removeItemFromDOM(E);N!==void 0&&(this.rowsContainer.style.left=`-${N}px`),this.rowsContainer.style.top=`-${_}px`,this.horizontalScrolling&&I!==void 0&&(this.rowsContainer.style.width=`${Math.max(I,this.renderWidth)}px`),this.lastRenderTop=_,this.lastRenderHeight=D}insertItemInDOM(f,_,D){const N=this.items[f];N.row||(N.row=D??this.cache.alloc(N.templateId));const I=this.accessibilityProvider.getRole(N.element)||"listitem";N.row.domNode.setAttribute("role",I);const M=this.accessibilityProvider.isChecked(N.element);typeof M!="undefined"&&N.row.domNode.setAttribute("aria-checked",String(!!M)),N.row.domNode.parentElement||(_?this.rowsContainer.insertBefore(N.row.domNode,_):this.rowsContainer.appendChild(N.row.domNode)),this.updateItemInDOM(N,f);const O=this.renderers.get(N.templateId);if(!O)throw new Error(`No renderer found for template id ${N.templateId}`);O&&O.renderElement(N.element,f,N.row.templateData,N.size);const R=this.dnd.getDragURI(N.element);N.dragStartDisposable.dispose(),N.row.domNode.draggable=!!R,R&&(N.dragStartDisposable=(0,s.addDisposableListener)(N.row.domNode,"dragstart",P=>this.onDragStart(N.element,R,P))),this.horizontalScrolling&&(this.measureItemWidth(N),this.eventuallyUpdateScrollWidth())}measureItemWidth(f){if(!f.row||!f.row.domNode)return;f.row.domNode.style.width=u.isFirefox?"-moz-fit-content":"fit-content",f.width=(0,s.getContentWidth)(f.row.domNode);const _=window.getComputedStyle(f.row.domNode);_.paddingLeft&&(f.width+=parseFloat(_.paddingLeft)),_.paddingRight&&(f.width+=parseFloat(_.paddingRight)),f.row.domNode.style.width=""}updateItemInDOM(f,_){f.row.domNode.style.top=`${this.elementTop(_)}px`,this.setRowHeight&&(f.row.domNode.style.height=`${f.size}px`),this.setRowLineHeight&&(f.row.domNode.style.lineHeight=`${f.size}px`),f.row.domNode.setAttribute("data-index",`${_}`),f.row.domNode.setAttribute("data-last-element",_===this.length-1?"true":"false"),f.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(f.element,_,this.length))),f.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(f.element,_))),f.row.domNode.setAttribute("id",this.getElementDomId(_)),f.row.domNode.classList.toggle("drop-target",f.dropTarget)}removeItemFromDOM(f){const _=this.items[f];if(_.dragStartDisposable.dispose(),_.row){const D=this.renderers.get(_.templateId);D&&D.disposeElement&&D.disposeElement(_.element,f,_.row.templateData,_.size),this.cache.release(_.row),_.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(f,_){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:f,reuseAnimation:_})}get scrollTop(){return this.getScrollTop()}set scrollTop(f){this.setScrollTop(f)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return L.Event.map(this.disposables.add(new n.DomEmitter(this.domNode,"click")).event,f=>this.toMouseEvent(f))}get onMouseDblClick(){return L.Event.map(this.disposables.add(new n.DomEmitter(this.domNode,"dblclick")).event,f=>this.toMouseEvent(f))}get onMouseMiddleClick(){return L.Event.filter(L.Event.map(this.disposables.add(new n.DomEmitter(this.domNode,"auxclick")).event,f=>this.toMouseEvent(f)),f=>f.browserEvent.button===1)}get onMouseDown(){return L.Event.map(this.disposables.add(new n.DomEmitter(this.domNode,"mousedown")).event,f=>this.toMouseEvent(f))}get onContextMenu(){return L.Event.any(L.Event.map(this.disposables.add(new n.DomEmitter(this.domNode,"contextmenu")).event,f=>this.toMouseEvent(f)),L.Event.map(this.disposables.add(new n.DomEmitter(this.domNode,T.EventType.Contextmenu)).event,f=>this.toGestureEvent(f)))}get onTouchStart(){return L.Event.map(this.disposables.add(new n.DomEmitter(this.domNode,"touchstart")).event,f=>this.toTouchEvent(f))}get onTap(){return L.Event.map(this.disposables.add(new n.DomEmitter(this.rowsContainer,T.EventType.Tap)).event,f=>this.toGestureEvent(f))}toMouseEvent(f){const _=this.getItemIndexFromEventTarget(f.target||null),D=typeof _=="undefined"?void 0:this.items[_],N=D&&D.element;return{browserEvent:f,index:_,element:N}}toTouchEvent(f){const _=this.getItemIndexFromEventTarget(f.target||null),D=typeof _=="undefined"?void 0:this.items[_],N=D&&D.element;return{browserEvent:f,index:_,element:N}}toGestureEvent(f){const _=this.getItemIndexFromEventTarget(f.initialTarget||null),D=typeof _=="undefined"?void 0:this.items[_],N=D&&D.element;return{browserEvent:f,index:_,element:N}}toDragEvent(f){const _=this.getItemIndexFromEventTarget(f.target||null),D=typeof _=="undefined"?void 0:this.items[_],N=D&&D.element;return{browserEvent:f,index:_,element:N}}onScroll(f){try{const _=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(_,f.scrollTop,f.height,f.scrollLeft,f.scrollWidth),this.supportDynamicHeights&&this._rerender(f.scrollTop,f.height,f.inSmoothScrolling)}catch(_){throw console.error("Got bad scroll event:",f),_}}onTouchChange(f){f.preventDefault(),f.stopPropagation(),this.scrollTop-=f.translationY}onDragStart(f,_,D){if(!D.dataTransfer)return;const N=this.dnd.getDragElements(f);if(D.dataTransfer.effectAllowed="copyMove",D.dataTransfer.setData(l.DataTransfers.TEXT,_),D.dataTransfer.setDragImage){let I;this.dnd.getDragLabel&&(I=this.dnd.getDragLabel(N,D)),typeof I=="undefined"&&(I=String(N.length));const M=(0,s.$)(".monaco-drag-image");M.textContent=I,document.body.appendChild(M),D.dataTransfer.setDragImage(M,-10,-10),setTimeout(()=>document.body.removeChild(M),0)}this.currentDragData=new t(N),l.StaticDND.CurrentDragAndDropData=new o(N),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,D)}onDragOver(f){if(f.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),l.StaticDND.CurrentDragAndDropData&&l.StaticDND.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(f.browserEvent),!f.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(l.StaticDND.CurrentDragAndDropData)this.currentDragData=l.StaticDND.CurrentDragAndDropData;else{if(!f.browserEvent.dataTransfer.types)return!1;this.currentDragData=new h}const _=this.dnd.onDragOver(this.currentDragData,f.element,f.index,f.browserEvent);if(this.canDrop=typeof _=="boolean"?_:_.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;f.browserEvent.dataTransfer.dropEffect=typeof _!="boolean"&&_.effect===0?"copy":"move";let D;if(typeof _!="boolean"&&_.feedback?D=_.feedback:typeof f.index=="undefined"?D=[-1]:D=[f.index],D=(0,a.distinct)(D).filter(N=>N>=-1&&N<this.length).sort((N,I)=>N-I),D=D[0]===-1?[-1]:D,m(this.currentDragFeedback,D))return!0;if(this.currentDragFeedback=D,this.currentDragFeedbackDisposable.dispose(),D[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,k.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const N of D){const I=this.items[N];I.dropTarget=!0,I.row&&I.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,k.toDisposable)(()=>{for(const N of D){const I=this.items[N];I.dropTarget=!1,I.row&&I.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(f){var _,D;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,c.disposableTimeout)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((D=(_=this.dnd).onDragLeave)===null||D===void 0||D.call(_,this.currentDragData,f.element,f.index,f.browserEvent))}onDrop(f){if(!this.canDrop)return;const _=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,l.StaticDND.CurrentDragAndDropData=void 0,!(!_||!f.browserEvent.dataTransfer)&&(f.browserEvent.preventDefault(),_.update(f.browserEvent.dataTransfer),this.dnd.drop(_,f.element,f.index,f.browserEvent))}onDragEnd(f){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,l.StaticDND.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(f)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=k.Disposable.None}setupDragAndDropScrollTopAnimation(f){if(!this.dragOverAnimationDisposable){const _=(0,s.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,s.animate)(this.animateDragAndDropScrollTop.bind(this,_))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,c.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=f.pageY}animateDragAndDropScrollTop(f){if(this.dragOverMouseY===void 0)return;const _=this.dragOverMouseY-f,D=this.renderHeight-35;_<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(_-35))):_>D&&(this.scrollTop+=Math.min(14,Math.floor(.3*(_-D))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(f){const _=this.scrollableElement.getDomNode();let D=f;for(;D instanceof HTMLElement&&D!==this.rowsContainer&&_.contains(D);){const N=D.getAttribute("data-index");if(N){const I=Number(N);if(!isNaN(I))return I}D=D.parentElement}}getRenderRange(f,_){return{start:this.rangeMap.indexAt(f),end:this.rangeMap.indexAfter(f+_-1)}}_rerender(f,_,D){const N=this.getRenderRange(f,_);let I,M;f===this.elementTop(N.start)?(I=N.start,M=0):N.end-N.start>1&&(I=N.start+1,M=this.elementTop(I)-f);let O=0;for(;;){const R=this.getRenderRange(f,_);let P=!1;for(let A=R.start;A<R.end;A++){const F=this.probeDynamicHeight(A);F!==0&&this.rangeMap.splice(A,1,[this.items[A]]),O+=F,P=P||F!==0}if(!P){O!==0&&this.eventuallyUpdateScrollDimensions();const A=r.Range.relativeComplement(N,R);for(const E of A)for(let W=E.start;W<E.end;W++)this.items[W].row&&this.removeItemFromDOM(W);const F=r.Range.relativeComplement(R,N);for(const E of F)for(let W=E.start;W<E.end;W++){const V=W+1,$=V<this.items.length?this.items[V].row:null,Z=$?$.domNode:null;this.insertItemInDOM(W,Z)}for(let E=R.start;E<R.end;E++)this.items[E].row&&this.updateItemInDOM(this.items[E],E);if(typeof I=="number"){const E=this.scrollable.getFutureScrollPosition().scrollTop-f,W=this.elementTop(I)-M+E;this.setScrollTop(W,D)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(f){const _=this.items[f];if(!_.hasDynamicHeight||_.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(_.element))return 0;const D=_.size;if(!this.setRowHeight&&_.row){let M=_.row.domNode.offsetHeight;return _.size=M,_.lastDynamicHeightWidth=this.renderWidth,M-D}const N=this.cache.alloc(_.templateId);N.domNode.style.height="",this.rowsContainer.appendChild(N.domNode);const I=this.renderers.get(_.templateId);return I&&(I.renderElement(_.element,f,N.templateData,void 0),I.disposeElement&&I.disposeElement(_.element,f,N.templateData,void 0)),_.size=N.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(_.element,_.size),_.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(N.domNode),this.cache.release(N),_.size-D}getNextToLastElement(f){const _=f[f.length-1];if(!_)return null;const D=this.items[_.end];return!D||!D.row?null:D.row.domNode}getElementDomId(f){return`${this.domId}_${f}`}dispose(){if(this.items){for(const f of this.items)if(f.row){const _=this.renderers.get(f.row.templateId);_&&(_.disposeElement&&_.disposeElement(f.element,-1,f.row.templateData,void 0),_.disposeTemplate(f.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,k.dispose)(this.disposables)}}w.InstanceCount=0,Re([v.memoize],w.prototype,"onMouseClick",null),Re([v.memoize],w.prototype,"onMouseDblClick",null),Re([v.memoize],w.prototype,"onMouseMiddleClick",null),Re([v.memoize],w.prototype,"onMouseDown",null),Re([v.memoize],w.prototype,"onContextMenu",null),Re([v.memoize],w.prototype,"onTouchStart",null),Re([v.memoize],w.prototype,"onTap",null),e.ListView=w}),define(ee[108],te([0,1,2,20,19,90,17,60,51,6,91,283,166,29,42,284,102,67,44,7,15,211]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.isMonacoEditor=e.isInputElement=void 0;class h{constructor(B){this.trait=B,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(B){return B}renderElement(B,j,H){const z=this.renderedElements.findIndex(Q=>Q.templateData===H);if(z>=0){const Q=this.renderedElements[z];this.trait.unrender(H),Q.index=j}else{const Q={index:j,templateData:H};this.renderedElements.push(Q)}this.trait.renderIndex(j,H)}splice(B,j,H){const z=[];for(const Q of this.renderedElements)Q.index<B?z.push(Q):Q.index>=B+j&&z.push({index:Q.index+H-j,templateData:Q.templateData});this.renderedElements=z}renderIndexes(B){for(const{index:j,templateData:H}of this.renderedElements)B.indexOf(j)>-1&&this.trait.renderIndex(j,H)}disposeTemplate(B){const j=this.renderedElements.findIndex(H=>H.templateData===B);j<0||this.renderedElements.splice(j,1)}}class m{constructor(B){this._trait=B,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new i.Emitter,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new h(this)}splice(B,j,H){var z;j=Math.max(0,Math.min(j,this.length-B));const Q=H.length-j,x=B+j,le=[...this.sortedIndexes.filter(K=>K<B),...H.map((K,re)=>K?re+B:-1).filter(K=>K!==-1),...this.sortedIndexes.filter(K=>K>=x).map(K=>K+Q)],oe=this.length+Q;if(this.sortedIndexes.length>0&&le.length===0&&oe>0){const K=(z=this.sortedIndexes.find(re=>re>=B))!==null&&z!==void 0?z:oe-1;le.push(Math.min(K,oe-1))}this.renderer.splice(B,j,H.length),this._set(le,le),this.length=oe}renderIndex(B,j){j.classList.toggle(this._trait,this.contains(B))}unrender(B){B.classList.remove(this._trait)}set(B,j){return this._set(B,[...B].sort(X),j)}_set(B,j,H){const z=this.indexes,Q=this.sortedIndexes;this.indexes=B,this.sortedIndexes=j;const x=$(Q,B);return this.renderer.renderIndexes(x),this._onChange.fire({indexes:B,browserEvent:H}),z}get(){return this.indexes}contains(B){return(0,T.binarySearch)(this.sortedIndexes,B,X)>=0}dispose(){(0,b.dispose)(this._onChange)}}Re([L.memoize],m.prototype,"renderer",null);class y extends m{constructor(B){super("selected");this.setAriaSelected=B}renderIndex(B,j){super.renderIndex(B,j),this.setAriaSelected&&(this.contains(B)?j.setAttribute("aria-selected","true"):j.setAttribute("aria-selected","false"))}}class w{constructor(B,j,H){this.trait=B,this.view=j,this.identityProvider=H}splice(B,j,H){if(!this.identityProvider)return this.trait.splice(B,j,H.map(()=>!1));const z=this.trait.get().map(x=>this.identityProvider.getId(this.view.element(x)).toString()),Q=H.map(x=>z.indexOf(this.identityProvider.getId(x).toString())>-1);this.trait.splice(B,j,Q)}}function g(q){return q.tagName==="INPUT"||q.tagName==="TEXTAREA"}e.isInputElement=g;function f(q){return q.classList.contains("monaco-editor")?!0:q.classList.contains("monaco-list")||!q.parentElement?!1:f(q.parentElement)}e.isMonacoEditor=f;class _{constructor(B,j,H){this.list=B,this.view=j,this.disposables=new b.DisposableStore,this.multipleSelectionDisposables=new b.DisposableStore,this.onKeyDown.filter(z=>z.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(z=>z.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(z=>z.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(z=>z.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(z=>z.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(z=>z.keyCode===9).on(this.onEscape,this,this.disposables),H.multipleSelectionSupport!==!1&&this.onKeyDown.filter(z=>(S.isMacintosh?z.metaKey:z.ctrlKey)&&z.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return i.Event.chain(this.disposables.add(new v.DomEmitter(this.view.domNode,"keydown")).event).filter(B=>!g(B.target)).map(B=>new C.StandardKeyboardEvent(B))}updateOptions(B){B.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),B.multipleSelectionSupport&&this.onKeyDown.filter(j=>(S.isMacintosh?j.metaKey:j.ctrlKey)&&j.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(B){B.preventDefault(),B.stopPropagation(),this.list.setSelection(this.list.getFocus(),B.browserEvent)}onUpArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusPrevious(1,!1,B.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onDownArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusNext(1,!1,B.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageUpArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusPreviousPage(B.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageDownArrow(B){B.preventDefault(),B.stopPropagation(),this.list.focusNextPage(B.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onCtrlA(B){B.preventDefault(),B.stopPropagation(),this.list.setSelection((0,T.range)(this.list.length),B.browserEvent),this.view.domNode.focus()}onEscape(B){this.list.getSelection().length&&(B.preventDefault(),B.stopPropagation(),this.list.setSelection([],B.browserEvent),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Re([L.memoize],_.prototype,"onKeyDown",null);var D;(function(q){q[q.Idle=0]="Idle",q[q.Typing=1]="Typing"})(D||(D={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(q){return q.ctrlKey||q.metaKey||q.altKey?!1:q.keyCode>=31&&q.keyCode<=56||q.keyCode>=21&&q.keyCode<=30||q.keyCode>=93&&q.keyCode<=102||q.keyCode>=80&&q.keyCode<=90}};class N{constructor(B,j,H,z){this.list=B,this.view=j,this.keyboardNavigationLabelProvider=H,this.delegate=z,this.enabled=!1,this.state=D.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new b.DisposableStore,this.disposables=new b.DisposableStore,this.updateOptions(B.options)}updateOptions(B){(typeof B.enableKeyboardNavigation=="undefined"?!0:!!B.enableKeyboardNavigation)?this.enable():this.disable(),typeof B.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=B.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const B=i.Event.chain(this.enabledDisposables.add(new v.DomEmitter(this.view.domNode,"keydown")).event).filter(z=>!g(z.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(z=>new C.StandardKeyboardEvent(z)).filter(z=>this.delegate.mightProducePrintableCharacter(z)).forEach(z=>{z.stopPropagation(),z.preventDefault()}).map(z=>z.browserEvent.key).event,j=i.Event.debounce(B,()=>null,800);i.Event.reduce(i.Event.any(B,j),(z,Q)=>Q===null?null:(z||"")+Q)(this.onInput,this,this.enabledDisposables),j(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var B;const j=this.list.getFocus();if(j.length>0&&j[0]===this.previouslyFocused){const H=(B=this.list.options.accessibilityProvider)===null||B===void 0?void 0:B.getAriaLabel(this.list.element(j[0]));H&&(0,d.alert)(H)}this.previouslyFocused=-1}onInput(B){if(!B){this.state=D.Idle,this.triggered=!1;return}const j=this.list.getFocus(),H=j.length>0?j[0]:0,z=this.state===D.Idle?1:0;this.state=D.Typing;for(let Q=0;Q<this.list.length;Q++){const x=(H+Q+z)%this.list.length,le=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(x)),oe=le&&le.toString();if(typeof oe=="undefined"||(0,n.matchesPrefix)(B,oe)){this.previouslyFocused=H,this.list.setFocus([x]),this.list.reveal(x);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class I{constructor(B,j){this.list=B,this.view=j,this.disposables=new b.DisposableStore,i.Event.chain(this.disposables.add(new v.DomEmitter(j.domNode,"keydown")).event).filter(z=>!g(z.target)).map(z=>new C.StandardKeyboardEvent(z)).filter(z=>z.keyCode===2&&!z.ctrlKey&&!z.metaKey&&!z.shiftKey&&!z.altKey).on(this.onTab,this,this.disposables)}onTab(B){if(B.target!==this.view.domNode)return;const j=this.list.getFocus();if(j.length===0)return;const H=this.view.domElement(j[0]);if(!H)return;const z=H.querySelector("[tabIndex]");if(!z||!(z instanceof HTMLElement)||z.tabIndex===-1)return;const Q=window.getComputedStyle(z);Q.visibility==="hidden"||Q.display==="none"||(B.preventDefault(),B.stopPropagation(),z.focus())}dispose(){this.disposables.dispose()}}function M(q){return S.isMacintosh?q.browserEvent.metaKey:q.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=M;function O(q){return q.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=O;function R(q){return q instanceof MouseEvent&&q.button===2}const P={isSelectionSingleChangeEvent:M,isSelectionRangeChangeEvent:O};class A{constructor(B){this.list=B,this.disposables=new b.DisposableStore,this._onPointer=new i.Emitter,this.onPointer=this._onPointer.event,B.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||P),this.mouseSupport=typeof B.options.mouseSupport=="undefined"||!!B.options.mouseSupport,this.mouseSupport&&(B.onMouseDown(this.onMouseDown,this,this.disposables),B.onContextMenu(this.onContextMenu,this,this.disposables),B.onMouseDblClick(this.onDoubleClick,this,this.disposables),B.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(p.Gesture.addTarget(B.getHTMLElement()))),i.Event.any(B.onMouseClick,B.onMouseMiddleClick,B.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(B){B.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,B.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||P))}isSelectionSingleChangeEvent(B){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(B):!1}isSelectionRangeChangeEvent(B){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(B):!1}isSelectionChangeEvent(B){return this.isSelectionSingleChangeEvent(B)||this.isSelectionRangeChangeEvent(B)}onMouseDown(B){f(B.browserEvent.target)||document.activeElement!==B.browserEvent.target&&this.list.domFocus()}onContextMenu(B){if(f(B.browserEvent.target))return;const j=typeof B.index=="undefined"?[]:[B.index];this.list.setFocus(j,B.browserEvent)}onViewPointer(B){if(!this.mouseSupport||g(B.browserEvent.target)||f(B.browserEvent.target))return;const j=B.index;if(typeof j=="undefined"){this.list.setFocus([],B.browserEvent),this.list.setSelection([],B.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(B))return this.changeSelection(B);if(this.isSelectionChangeEvent(B))return this.changeSelection(B);this.list.setFocus([j],B.browserEvent),this.list.setAnchor(j),R(B.browserEvent)||this.list.setSelection([j],B.browserEvent),this._onPointer.fire(B)}onDoubleClick(B){if(g(B.browserEvent.target)||f(B.browserEvent.target)||this.isSelectionChangeEvent(B))return;const j=this.list.getFocus();this.list.setSelection(j,B.browserEvent)}changeSelection(B){const j=B.index;let H=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(B)){if(typeof H=="undefined"){const re=this.list.getFocus()[0];H=re??j,this.list.setAnchor(H)}const z=Math.min(H,j),Q=Math.max(H,j),x=(0,T.range)(z,Q+1),le=this.list.getSelection(),oe=V($(le,[H]),H);if(oe.length===0)return;const K=$(x,Z(le,oe));this.list.setSelection(K,B.browserEvent),this.list.setFocus([j],B.browserEvent)}else if(this.isSelectionSingleChangeEvent(B)){const z=this.list.getSelection(),Q=z.filter(x=>x!==j);this.list.setFocus([j]),this.list.setAnchor(j),z.length===Q.length?this.list.setSelection([...Q,j],B.browserEvent):this.list.setSelection(Q,B.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=A;class F{constructor(B,j){this.styleElement=B,this.selectorSuffix=j}style(B){const j=this.selectorSuffix&&`.${this.selectorSuffix}`,H=[];B.listBackground&&(B.listBackground.isOpaque()?H.push(`.monaco-list${j} .monaco-list-rows { background: ${B.listBackground}; }`):S.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),B.listFocusBackground&&(H.push(`.monaco-list${j}:focus .monaco-list-row.focused { background-color: ${B.listFocusBackground}; }`),H.push(`.monaco-list${j}:focus .monaco-list-row.focused:hover { background-color: ${B.listFocusBackground}; }`)),B.listFocusForeground&&H.push(`.monaco-list${j}:focus .monaco-list-row.focused { color: ${B.listFocusForeground}; }`),B.listActiveSelectionBackground&&(H.push(`.monaco-list${j}:focus .monaco-list-row.selected { background-color: ${B.listActiveSelectionBackground}; }`),H.push(`.monaco-list${j}:focus .monaco-list-row.selected:hover { background-color: ${B.listActiveSelectionBackground}; }`)),B.listActiveSelectionForeground&&H.push(`.monaco-list${j}:focus .monaco-list-row.selected { color: ${B.listActiveSelectionForeground}; }`),B.listActiveSelectionIconForeground&&H.push(`.monaco-list${j}:focus .monaco-list-row.selected .codicon { color: ${B.listActiveSelectionIconForeground}; }`),B.listFocusAndSelectionBackground&&H.push(`
				.monaco-drag-image,
				.monaco-list${j}:focus .monaco-list-row.selected.focused { background-color: ${B.listFocusAndSelectionBackground}; }
			`),B.listFocusAndSelectionForeground&&H.push(`
				.monaco-drag-image,
				.monaco-list${j}:focus .monaco-list-row.selected.focused { color: ${B.listFocusAndSelectionForeground}; }
			`),B.listInactiveFocusForeground&&(H.push(`.monaco-list${j} .monaco-list-row.focused { color:  ${B.listInactiveFocusForeground}; }`),H.push(`.monaco-list${j} .monaco-list-row.focused:hover { color:  ${B.listInactiveFocusForeground}; }`)),B.listInactiveSelectionIconForeground&&H.push(`.monaco-list${j} .monaco-list-row.focused .codicon { color:  ${B.listInactiveSelectionIconForeground}; }`),B.listInactiveFocusBackground&&(H.push(`.monaco-list${j} .monaco-list-row.focused { background-color:  ${B.listInactiveFocusBackground}; }`),H.push(`.monaco-list${j} .monaco-list-row.focused:hover { background-color:  ${B.listInactiveFocusBackground}; }`)),B.listInactiveSelectionBackground&&(H.push(`.monaco-list${j} .monaco-list-row.selected { background-color:  ${B.listInactiveSelectionBackground}; }`),H.push(`.monaco-list${j} .monaco-list-row.selected:hover { background-color:  ${B.listInactiveSelectionBackground}; }`)),B.listInactiveSelectionForeground&&H.push(`.monaco-list${j} .monaco-list-row.selected { color: ${B.listInactiveSelectionForeground}; }`),B.listHoverBackground&&H.push(`.monaco-list${j}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${B.listHoverBackground}; }`),B.listHoverForeground&&H.push(`.monaco-list${j} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${B.listHoverForeground}; }`),B.listSelectionOutline&&H.push(`.monaco-list${j} .monaco-list-row.selected { outline: 1px dotted ${B.listSelectionOutline}; outline-offset: -1px; }`),B.listFocusOutline&&H.push(`
				.monaco-drag-image,
				.monaco-list${j}:focus .monaco-list-row.focused { outline: 1px solid ${B.listFocusOutline}; outline-offset: -1px; }
			`),B.listInactiveFocusOutline&&H.push(`.monaco-list${j} .monaco-list-row.focused { outline: 1px dotted ${B.listInactiveFocusOutline}; outline-offset: -1px; }`),B.listHoverOutline&&H.push(`.monaco-list${j} .monaco-list-row:hover { outline: 1px dashed ${B.listHoverOutline}; outline-offset: -1px; }`),B.listDropBackground&&H.push(`
				.monaco-list${j}.drop-target,
				.monaco-list${j} .monaco-list-rows.drop-target,
				.monaco-list${j} .monaco-list-row.drop-target { background-color: ${B.listDropBackground} !important; color: inherit !important; }
			`),B.listFilterWidgetBackground&&H.push(`.monaco-list-type-filter { background-color: ${B.listFilterWidgetBackground} }`),B.listFilterWidgetOutline&&H.push(`.monaco-list-type-filter { border: 1px solid ${B.listFilterWidgetOutline}; }`),B.listFilterWidgetNoMatchesOutline&&H.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${B.listFilterWidgetNoMatchesOutline}; }`),B.listMatchesShadow&&H.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${B.listMatchesShadow}; }`),B.tableColumnsBorder&&H.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${B.tableColumnsBorder};
			}`),this.styleElement.textContent=H.join(`
`)}}e.DefaultStyleController=F;const E={listFocusBackground:l.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:l.Color.fromHex("#0E639C"),listActiveSelectionForeground:l.Color.fromHex("#FFFFFF"),listActiveSelectionIconForeground:l.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:l.Color.fromHex("#094771"),listFocusAndSelectionForeground:l.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:l.Color.fromHex("#3F3F46"),listInactiveSelectionIconForeground:l.Color.fromHex("#FFFFFF"),listHoverBackground:l.Color.fromHex("#2A2D2E"),listDropBackground:l.Color.fromHex("#383B3D"),treeIndentGuidesStroke:l.Color.fromHex("#a9a9a9"),tableColumnsBorder:l.Color.fromHex("#cccccc").transparent(.2)},W={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function V(q,B){const j=q.indexOf(B);if(j===-1)return[];const H=[];let z=j-1;for(;z>=0&&q[z]===B-(j-z);)H.push(q[z--]);for(H.reverse(),z=j;z<q.length&&q[z]===B+(z-j);)H.push(q[z++]);return H}function $(q,B){const j=[];let H=0,z=0;for(;H<q.length||z<B.length;)if(H>=q.length)j.push(B[z++]);else if(z>=B.length)j.push(q[H++]);else if(q[H]===B[z]){j.push(q[H]),H++,z++;continue}else q[H]<B[z]?j.push(q[H++]):j.push(B[z++]);return j}function Z(q,B){const j=[];let H=0,z=0;for(;H<q.length||z<B.length;)if(H>=q.length)j.push(B[z++]);else if(z>=B.length)j.push(q[H++]);else if(q[H]===B[z]){H++,z++;continue}else q[H]<B[z]?j.push(q[H++]):z++;return j}const X=(q,B)=>q-B;class J{constructor(B,j){this._templateId=B,this.renderers=j}get templateId(){return this._templateId}renderTemplate(B){return this.renderers.map(j=>j.renderTemplate(B))}renderElement(B,j,H,z){let Q=0;for(const x of this.renderers)x.renderElement(B,j,H[Q++],z)}disposeElement(B,j,H,z){let Q=0;for(const x of this.renderers)x.disposeElement&&x.disposeElement(B,j,H[Q],z),Q+=1}disposeTemplate(B){let j=0;for(const H of this.renderers)H.disposeTemplate(B[j++])}}class ie{constructor(B){this.accessibilityProvider=B,this.templateId="a18n"}renderTemplate(B){return B}renderElement(B,j,H){const z=this.accessibilityProvider.getAriaLabel(B);z?H.setAttribute("aria-label",z):H.removeAttribute("aria-label");const Q=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(B);typeof Q=="number"?H.setAttribute("aria-level",`${Q}`):H.removeAttribute("aria-level")}disposeTemplate(B){}}class de{constructor(B,j){this.list=B,this.dnd=j}getDragElements(B){const j=this.list.getSelectedElements();return j.indexOf(B)>-1?j:[B]}getDragURI(B){return this.dnd.getDragURI(B)}getDragLabel(B,j){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(B,j)}onDragStart(B,j){this.dnd.onDragStart&&this.dnd.onDragStart(B,j)}onDragOver(B,j,H,z){return this.dnd.onDragOver(B,j,H,z)}onDragLeave(B,j,H,z){var Q,x;(x=(Q=this.dnd).onDragLeave)===null||x===void 0||x.call(Q,B,j,H,z)}onDragEnd(B){this.dnd.onDragEnd&&this.dnd.onDragEnd(B)}drop(B,j,H,z){this.dnd.drop(B,j,H,z)}}class ue{constructor(B,j,H,z,Q=W){var x;this.user=B,this._options=Q,this.focus=new m("focused"),this.anchor=new m("anchor"),this.eventBufferer=new i.EventBufferer,this._ariaLabel="",this.disposables=new b.DisposableStore,this._onDidDispose=new i.Emitter,this.onDidDispose=this._onDidDispose.event;const le=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(x=this._options.accessibilityProvider)===null||x===void 0?void 0:x.getWidgetRole():"list";this.selection=new y(le!=="listbox"),(0,c.mixin)(Q,E,!1);const oe=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=Q.accessibilityProvider,this.accessibilityProvider&&(oe.push(new ie(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),z=z.map(re=>new J(re.templateId,[...oe,re]));const K=Object.assign(Object.assign({},Q),{dnd:Q.dnd&&new de(this,Q.dnd)});if(this.view=new a.ListView(j,H,z,K),this.view.domNode.setAttribute("role",le),Q.styleController)this.styleController=Q.styleController(this.view.domId);else{const re=(0,t.createStyleSheet)(this.view.domNode);this.styleController=new F(re,this.view.domId)}if(this.spliceable=new u.CombinedSpliceable([new w(this.focus,this.view,Q.identityProvider),new w(this.selection,this.view,Q.identityProvider),new w(this.anchor,this.view,Q.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new I(this,this.view)),(typeof Q.keyboardSupport!="boolean"||Q.keyboardSupport)&&(this.keyboardController=new _(this,this.view,Q),this.disposables.add(this.keyboardController)),Q.keyboardNavigationLabelProvider){const re=Q.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeLabelController=new N(this,this.view,Q.keyboardNavigationLabelProvider,re),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(Q),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return i.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),B=>this.toListEvent(B))}get onDidChangeSelection(){return i.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),B=>this.toListEvent(B))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let B=!1;const j=i.Event.chain(this.disposables.add(new v.DomEmitter(this.view.domNode,"keydown")).event).map(Q=>new C.StandardKeyboardEvent(Q)).filter(Q=>B=Q.keyCode===58||Q.shiftKey&&Q.keyCode===68).map(v.stopEvent).filter(()=>!1).event,H=i.Event.chain(this.disposables.add(new v.DomEmitter(this.view.domNode,"keyup")).event).forEach(()=>B=!1).map(Q=>new C.StandardKeyboardEvent(Q)).filter(Q=>Q.keyCode===58||Q.shiftKey&&Q.keyCode===68).map(v.stopEvent).map(({browserEvent:Q})=>{const x=this.getFocus(),le=x.length?x[0]:void 0,oe=typeof le!="undefined"?this.view.element(le):void 0,K=typeof le!="undefined"?this.view.domElement(le):this.view.domNode;return{index:le,element:oe,anchor:K,browserEvent:Q}}).event,z=i.Event.chain(this.view.onContextMenu).filter(Q=>!B).map(({element:Q,index:x,browserEvent:le})=>({element:Q,index:x,anchor:{x:le.pageX+1,y:le.pageY},browserEvent:le})).event;return i.Event.any(j,H,z)}get onKeyDown(){return this.disposables.add(new v.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return i.Event.signal(this.disposables.add(new v.DomEmitter(this.view.domNode,"focus",!0)).event)}createMouseController(B){return new A(this)}updateOptions(B={}){var j;this._options=Object.assign(Object.assign({},this._options),B),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(B),(j=this.keyboardController)===null||j===void 0||j.updateOptions(B),this.view.updateOptions(B)}get options(){return this._options}splice(B,j,H=[]){if(B<0||B>this.view.length)throw new r.ListError(this.user,`Invalid start index: ${B}`);if(j<0)throw new r.ListError(this.user,`Invalid delete count: ${j}`);j===0&&H.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(B,j,H))}rerender(){this.view.rerender()}element(B){return this.view.element(B)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(B){this.view.setScrollTop(B)}get ariaLabel(){return this._ariaLabel}set ariaLabel(B){this._ariaLabel=B,this.view.domNode.setAttribute("aria-label",B)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(B,j){this.view.layout(B,j)}setSelection(B,j){for(const H of B)if(H<0||H>=this.length)throw new r.ListError(this.user,`Invalid index ${H}`);this.selection.set(B,j)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(B=>this.view.element(B))}setAnchor(B){if(typeof B=="undefined"){this.anchor.set([]);return}if(B<0||B>=this.length)throw new r.ListError(this.user,`Invalid index ${B}`);this.anchor.set([B])}getAnchor(){return(0,T.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const B=this.getAnchor();return typeof B=="undefined"?void 0:this.element(B)}setFocus(B,j){for(const H of B)if(H<0||H>=this.length)throw new r.ListError(this.user,`Invalid index ${H}`);this.focus.set(B,j)}focusNext(B=1,j=!1,H,z){if(this.length===0)return;const Q=this.focus.get(),x=this.findNextIndex(Q.length>0?Q[0]+B:0,j,z);x>-1&&this.setFocus([x],H)}focusPrevious(B=1,j=!1,H,z){if(this.length===0)return;const Q=this.focus.get(),x=this.findPreviousIndex(Q.length>0?Q[0]-B:0,j,z);x>-1&&this.setFocus([x],H)}focusNextPage(B,j){return Ie(this,void 0,void 0,function*(){let H=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);H=H===0?0:H-1;const z=this.view.element(H),Q=this.getFocusedElements()[0];if(Q!==z){const x=this.findPreviousIndex(H,!1,j);x>-1&&Q!==this.view.element(x)?this.setFocus([x],B):this.setFocus([H],B)}else{const x=this.view.getScrollTop();this.view.setScrollTop(x+this.view.renderHeight-this.view.elementHeight(H)),this.view.getScrollTop()!==x&&(this.setFocus([]),yield(0,o.timeout)(0),yield this.focusNextPage(B,j))}})}focusPreviousPage(B,j){return Ie(this,void 0,void 0,function*(){let H;const z=this.view.getScrollTop();z===0?H=this.view.indexAt(z):H=this.view.indexAfter(z-1);const Q=this.view.element(H),x=this.getFocusedElements()[0];if(x!==Q){const le=this.findNextIndex(H,!1,j);le>-1&&x!==this.view.element(le)?this.setFocus([le],B):this.setFocus([H],B)}else{const le=z;this.view.setScrollTop(z-this.view.renderHeight),this.view.getScrollTop()!==le&&(this.setFocus([]),yield(0,o.timeout)(0),yield this.focusPreviousPage(B,j))}})}focusLast(B,j){if(this.length===0)return;const H=this.findPreviousIndex(this.length-1,!1,j);H>-1&&this.setFocus([H],B)}focusFirst(B,j){this.focusNth(0,B,j)}focusNth(B,j,H){if(this.length===0)return;const z=this.findNextIndex(B,!1,H);z>-1&&this.setFocus([z],j)}findNextIndex(B,j=!1,H){for(let z=0;z<this.length;z++){if(B>=this.length&&!j)return-1;if(B=B%this.length,!H||H(this.element(B)))return B;B++}return-1}findPreviousIndex(B,j=!1,H){for(let z=0;z<this.length;z++){if(B<0&&!j)return-1;if(B=(this.length+B%this.length)%this.length,!H||H(this.element(B)))return B;B--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(B=>this.view.element(B))}reveal(B,j){if(B<0||B>=this.length)throw new r.ListError(this.user,`Invalid index ${B}`);const H=this.view.getScrollTop(),z=this.view.elementTop(B),Q=this.view.elementHeight(B);if((0,k.isNumber)(j)){const x=Q-this.view.renderHeight;this.view.setScrollTop(x*(0,s.clamp)(j,0,1)+z)}else{const x=z+Q,le=H+this.view.renderHeight;z<H&&x>=le||(z<H||x>=le&&Q>=this.view.renderHeight?this.view.setScrollTop(z):x>=le&&this.view.setScrollTop(x-this.view.renderHeight))}}getRelativeTop(B){if(B<0||B>=this.length)throw new r.ListError(this.user,`Invalid index ${B}`);const j=this.view.getScrollTop(),H=this.view.elementTop(B),z=this.view.elementHeight(B);if(H<j||H+z>j+this.view.renderHeight)return null;const Q=z-this.view.renderHeight;return Math.abs((j-H)/Q)}getHTMLElement(){return this.view.domNode}style(B){this.styleController.style(B)}toListEvent({indexes:B,browserEvent:j}){return{indexes:B,elements:B.map(H=>this.view.element(H)),browserEvent:j}}_onFocusChange(){const B=this.focus.get();this.view.domNode.classList.toggle("element-focused",B.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var B;const j=this.focus.get();if(j.length>0){let H;((B=this.accessibilityProvider)===null||B===void 0?void 0:B.getActiveDescendantId)&&(H=this.accessibilityProvider.getActiveDescendantId(this.view.element(j[0]))),this.view.domNode.setAttribute("aria-activedescendant",H||this.view.getElementDomId(j[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const B=this.selection.get();this.view.domNode.classList.toggle("selection-none",B.length===0),this.view.domNode.classList.toggle("selection-single",B.length===1),this.view.domNode.classList.toggle("selection-multiple",B.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Re([L.memoize],ue.prototype,"onDidChangeFocus",null),Re([L.memoize],ue.prototype,"onDidChangeSelection",null),Re([L.memoize],ue.prototype,"onContextMenu",null),Re([L.memoize],ue.prototype,"onKeyDown",null),Re([L.memoize],ue.prototype,"onDidFocus",null),e.List=ue}),define(ee[320],te([0,1,2,19,108,6,23,211]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class p{constructor(a,l){this.renderer=a,this.modelProvider=l}get templateId(){return this.renderer.templateId}renderTemplate(a){return{data:this.renderer.renderTemplate(a),disposable:b.Disposable.None}}renderElement(a,l,c,u){if(c.disposable&&c.disposable.dispose(),!c.data)return;const s=this.modelProvider();if(s.isResolved(a))return this.renderer.renderElement(s.get(a),a,c.data,u);const n=new S.CancellationTokenSource,d=s.resolve(a,n.token);c.disposable={dispose:()=>n.cancel()},this.renderer.renderPlaceholder(a,c.data),d.then(t=>this.renderer.renderElement(t,a,c.data,u))}disposeTemplate(a){a.disposable&&(a.disposable.dispose(),a.disposable=void 0),a.data&&(this.renderer.disposeTemplate(a.data),a.data=void 0)}}class C{constructor(a,l){this.modelProvider=a,this.accessibilityProvider=l}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(a){const l=this.modelProvider();return l.isResolved(a)?this.accessibilityProvider.getAriaLabel(l.get(a)):null}}function i(r,a){return Object.assign(Object.assign({},a),{accessibilityProvider:a.accessibilityProvider&&new C(r,a.accessibilityProvider)})}class v{constructor(a,l,c,u,s={}){const n=()=>this.model,d=u.map(t=>new p(t,n));this.list=new T.List(a,l,c,d,i(n,s))}updateOptions(a){this.list.updateOptions(a)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return L.Event.map(this.list.onMouseDblClick,({element:a,index:l,browserEvent:c})=>({element:a===void 0?void 0:this._model.get(a),index:l,browserEvent:c}))}get onPointer(){return L.Event.map(this.list.onPointer,({element:a,index:l,browserEvent:c})=>({element:a===void 0?void 0:this._model.get(a),index:l,browserEvent:c}))}get onDidChangeSelection(){return L.Event.map(this.list.onDidChangeSelection,({elements:a,indexes:l,browserEvent:c})=>({elements:a.map(u=>this._model.get(u)),indexes:l,browserEvent:c}))}get model(){return this._model}set model(a){this._model=a,this.list.splice(0,this.list.length,(0,k.range)(a.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(a=>this.model.get(a))}style(a){this.list.style(a)}dispose(){this.list.dispose()}}e.PagedList=v}),define(ee[321],te([10]),{}),define(ee[212],te([0,1,2,6,20,102,19,107,29,7,61,127,321]),function(G,e,b,k,T,L,S,p,C,i,v,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const a={separatorBorder:C.Color.transparent};class l{constructor(o,h,m,y){this.container=o,this.view=h,this.disposable=y,this._cachedVisibleSize=void 0,typeof m=="number"?(this._size=m,this._cachedVisibleSize=void 0,o.classList.add("visible")):(this._size=0,this._cachedVisibleSize=m.cachedVisibleSize)}set size(o){this._size=o}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(o,h){o!==this.visible&&(o?(this.size=(0,L.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof h=="number"?h:this.size,this.size=0),this.container.classList.toggle("visible",o),this.view.setVisible&&this.view.setVisible(o))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(o){this.container.style.pointerEvents=o?"":"none"}layout(o,h){this.layoutContainer(o),this.view.layout(this.size,o,h)}dispose(){return this.disposable.dispose(),this.view}}class c extends l{layoutContainer(o){this.container.style.top=`${o}px`,this.container.style.height=`${this.size}px`}}class u extends l{layoutContainer(o){this.container.style.left=`${o}px`,this.container.style.width=`${this.size}px`}}var s;(function(t){t[t.Idle=0]="Idle",t[t.Busy=1]="Busy"})(s||(s={}));var n;(function(t){t.Distribute={type:"distribute"};function o(m){return{type:"split",index:m}}t.Split=o;function h(m){return{type:"invisible",cachedVisibleSize:m}}t.Invisible=h})(n=e.Sizing||(e.Sizing={}));class d extends b.Disposable{constructor(o,h={}){var m,y;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=s.Idle,this._onDidSashChange=this._register(new k.Emitter),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new k.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=T.isUndefined(h.orientation)?0:h.orientation,this.inverseAltBehavior=!!h.inverseAltBehavior,this.proportionalLayout=T.isUndefined(h.proportionalLayout)?!0:!!h.proportionalLayout,this.getSashOrthogonalSize=h.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),o.appendChild(this.el),this.sashContainer=(0,i.append)(this.el,(0,i.$)(".sash-container")),this.viewContainer=(0,i.$)(".split-view-container"),this.scrollable=new r.Scrollable(125,i.scheduleAtNextAnimationFrame),this.scrollableElement=this._register(new v.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(m=h.scrollbarVisibility)!==null&&m!==void 0?m:1:2,horizontal:this.orientation===1?(y=h.scrollbarVisibility)!==null&&y!==void 0?y:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(w=>{this.viewContainer.scrollTop=w.scrollTop,this.viewContainer.scrollLeft=w.scrollLeft})),(0,i.append)(this.el,this.scrollableElement.getDomNode()),this.style(h.styles||a),h.descriptor&&(this.size=h.descriptor.size,h.descriptor.views.forEach((w,g)=>{const f=T.isUndefined(w.visible)||w.visible?w.size:{type:"invisible",cachedVisibleSize:w.size},_=w.view;this.doAddView(_,f,g,!0)}),this.contentSize=this.viewItems.reduce((w,g)=>w+g.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(o){for(const h of this.sashItems)h.sash.orthogonalStartSash=o;this._orthogonalStartSash=o}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(o){for(const h of this.sashItems)h.sash.orthogonalEndSash=o;this._orthogonalEndSash=o}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(o){this._startSnappingEnabled!==o&&(this._startSnappingEnabled=o,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(o){this._endSnappingEnabled!==o&&(this._endSnappingEnabled=o,this.updateSashEnablement())}style(o){o.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",o.separatorBorder.toString()))}addView(o,h,m=this.viewItems.length,y){this.doAddView(o,h,m,y)}layout(o,h){const m=Math.max(this.size,this.contentSize);if(this.size=o,this.layoutContext=h,this.proportions)for(let y=0;y<this.viewItems.length;y++){const w=this.viewItems[y];w.size=(0,L.clamp)(Math.round(this.proportions[y]*o),w.minimumSize,w.maximumSize)}else{const y=(0,S.range)(this.viewItems.length),w=y.filter(f=>this.viewItems[f].priority===1),g=y.filter(f=>this.viewItems[f].priority===2);this.resize(this.viewItems.length-1,o-m,void 0,w,g)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(o=>o.size/this.contentSize))}onSashStart({sash:o,start:h,alt:m}){for(const f of this.viewItems)f.enabled=!1;const y=this.sashItems.findIndex(f=>f.sash===o),w=(0,b.combinedDisposable)((0,i.addDisposableListener)(document.body,"keydown",f=>g(this.sashDragState.current,f.altKey)),(0,i.addDisposableListener)(document.body,"keyup",()=>g(this.sashDragState.current,!1))),g=(f,_)=>{const D=this.viewItems.map(R=>R.size);let N=Number.NEGATIVE_INFINITY,I=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(_=!_),_)if(y===this.sashItems.length-1){const P=this.viewItems[y];N=(P.minimumSize-P.size)/2,I=(P.maximumSize-P.size)/2}else{const P=this.viewItems[y+1];N=(P.size-P.maximumSize)/2,I=(P.size-P.minimumSize)/2}let M,O;if(!_){const R=(0,S.range)(y,-1),P=(0,S.range)(y+1,this.viewItems.length),A=R.reduce((J,ie)=>J+(this.viewItems[ie].minimumSize-D[ie]),0),F=R.reduce((J,ie)=>J+(this.viewItems[ie].viewMaximumSize-D[ie]),0),E=P.length===0?Number.POSITIVE_INFINITY:P.reduce((J,ie)=>J+(D[ie]-this.viewItems[ie].minimumSize),0),W=P.length===0?Number.NEGATIVE_INFINITY:P.reduce((J,ie)=>J+(D[ie]-this.viewItems[ie].viewMaximumSize),0),V=Math.max(A,W),$=Math.min(E,F),Z=this.findFirstSnapIndex(R),X=this.findFirstSnapIndex(P);if(typeof Z=="number"){const J=this.viewItems[Z],ie=Math.floor(J.viewMinimumSize/2);M={index:Z,limitDelta:J.visible?V-ie:V+ie,size:J.size}}if(typeof X=="number"){const J=this.viewItems[X],ie=Math.floor(J.viewMinimumSize/2);O={index:X,limitDelta:J.visible?$+ie:$-ie,size:J.size}}}this.sashDragState={start:f,current:f,index:y,sizes:D,minDelta:N,maxDelta:I,alt:_,snapBefore:M,snapAfter:O,disposable:w}};g(h,m)}onSashChange({current:o}){const{index:h,start:m,sizes:y,alt:w,minDelta:g,maxDelta:f,snapBefore:_,snapAfter:D}=this.sashDragState;this.sashDragState.current=o;const N=o-m,I=this.resize(h,N,y,void 0,void 0,g,f,_,D);if(w){const M=h===this.sashItems.length-1,O=this.viewItems.map(W=>W.size),R=M?h:h+1,P=this.viewItems[R],A=P.size-P.maximumSize,F=P.size-P.minimumSize,E=M?h-1:h+1;this.resize(E,-I,O,void 0,void 0,A,F)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(o){this._onDidSashChange.fire(o),this.sashDragState.disposable.dispose(),this.saveProportions();for(const h of this.viewItems)h.enabled=!0}onViewChange(o,h){const m=this.viewItems.indexOf(o);m<0||m>=this.viewItems.length||(h=typeof h=="number"?h:o.size,h=(0,L.clamp)(h,o.minimumSize,o.maximumSize),this.inverseAltBehavior&&m>0?(this.resize(m-1,Math.floor((o.size-h)/2)),this.distributeEmptySpace(),this.layoutViews()):(o.size=h,this.relayout([m],void 0)))}resizeView(o,h){if(this.state!==s.Idle)throw new Error("Cant modify splitview");if(this.state=s.Busy,o<0||o>=this.viewItems.length)return;const m=(0,S.range)(this.viewItems.length).filter(f=>f!==o),y=[...m.filter(f=>this.viewItems[f].priority===1),o],w=m.filter(f=>this.viewItems[f].priority===2),g=this.viewItems[o];h=Math.round(h),h=(0,L.clamp)(h,g.minimumSize,Math.min(g.maximumSize,this.size)),g.size=h,this.relayout(y,w),this.state=s.Idle}distributeViewSizes(){const o=[];let h=0;for(const f of this.viewItems)f.maximumSize-f.minimumSize>0&&(o.push(f),h+=f.size);const m=Math.floor(h/o.length);for(const f of o)f.size=(0,L.clamp)(m,f.minimumSize,f.maximumSize);const y=(0,S.range)(this.viewItems.length),w=y.filter(f=>this.viewItems[f].priority===1),g=y.filter(f=>this.viewItems[f].priority===2);this.relayout(w,g)}getViewSize(o){return o<0||o>=this.viewItems.length?-1:this.viewItems[o].size}doAddView(o,h,m=this.viewItems.length,y){if(this.state!==s.Idle)throw new Error("Cant modify splitview");this.state=s.Busy;const w=(0,i.$)(".split-view-view");m===this.viewItems.length?this.viewContainer.appendChild(w):this.viewContainer.insertBefore(w,this.viewContainer.children.item(m));const g=o.onDidChange(M=>this.onViewChange(N,M)),f=(0,b.toDisposable)(()=>this.viewContainer.removeChild(w)),_=(0,b.combinedDisposable)(g,f);let D;typeof h=="number"?D=h:h.type==="split"?D=this.getViewSize(h.index)/2:h.type==="invisible"?D={cachedVisibleSize:h.cachedVisibleSize}:D=o.minimumSize;const N=this.orientation===0?new c(w,o,D,_):new u(w,o,D,_);if(this.viewItems.splice(m,0,N),this.viewItems.length>1){let M={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const O=this.orientation===0?new p.Sash(this.sashContainer,{getHorizontalSashTop:J=>this.getSashPosition(J),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},M),{orientation:1})):new p.Sash(this.sashContainer,{getVerticalSashLeft:J=>this.getSashPosition(J),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},M),{orientation:0})),R=this.orientation===0?J=>({sash:O,start:J.startY,current:J.currentY,alt:J.altKey}):J=>({sash:O,start:J.startX,current:J.currentX,alt:J.altKey}),A=k.Event.map(O.onDidStart,R)(this.onSashStart,this),E=k.Event.map(O.onDidChange,R)(this.onSashChange,this),V=k.Event.map(O.onDidEnd,()=>this.sashItems.findIndex(J=>J.sash===O))(this.onSashEnd,this),$=O.onDidReset(()=>{const J=this.sashItems.findIndex(B=>B.sash===O),ie=(0,S.range)(J,-1),de=(0,S.range)(J+1,this.viewItems.length),ue=this.findFirstSnapIndex(ie),q=this.findFirstSnapIndex(de);typeof ue=="number"&&!this.viewItems[ue].visible||typeof q=="number"&&!this.viewItems[q].visible||this._onDidSashReset.fire(J)}),Z=(0,b.combinedDisposable)(A,E,V,$,O),X={sash:O,disposable:Z};this.sashItems.splice(m-1,0,X)}w.appendChild(o.element);let I;typeof h!="number"&&h.type==="split"&&(I=[h.index]),y||this.relayout([m],I),this.state=s.Idle,!y&&typeof h!="number"&&h.type==="distribute"&&this.distributeViewSizes()}relayout(o,h){const m=this.viewItems.reduce((y,w)=>y+w.size,0);this.resize(this.viewItems.length-1,this.size-m,void 0,o,h),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(o,h,m=this.viewItems.map(N=>N.size),y,w,g=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY,_,D){if(o<0||o>=this.viewItems.length)return 0;const N=(0,S.range)(o,-1),I=(0,S.range)(o+1,this.viewItems.length);if(w)for(const X of w)(0,S.pushToStart)(N,X),(0,S.pushToStart)(I,X);if(y)for(const X of y)(0,S.pushToEnd)(N,X),(0,S.pushToEnd)(I,X);const M=N.map(X=>this.viewItems[X]),O=N.map(X=>m[X]),R=I.map(X=>this.viewItems[X]),P=I.map(X=>m[X]),A=N.reduce((X,J)=>X+(this.viewItems[J].minimumSize-m[J]),0),F=N.reduce((X,J)=>X+(this.viewItems[J].maximumSize-m[J]),0),E=I.length===0?Number.POSITIVE_INFINITY:I.reduce((X,J)=>X+(m[J]-this.viewItems[J].minimumSize),0),W=I.length===0?Number.NEGATIVE_INFINITY:I.reduce((X,J)=>X+(m[J]-this.viewItems[J].maximumSize),0),V=Math.max(A,W,g),$=Math.min(E,F,f);let Z=!1;if(_){const X=this.viewItems[_.index],J=h>=_.limitDelta;Z=J!==X.visible,X.setVisible(J,_.size)}if(!Z&&D){const X=this.viewItems[D.index],J=h<D.limitDelta;Z=J!==X.visible,X.setVisible(J,D.size)}if(Z)return this.resize(o,h,m,y,w,g,f);h=(0,L.clamp)(h,V,$);for(let X=0,J=h;X<M.length;X++){const ie=M[X],de=(0,L.clamp)(O[X]+J,ie.minimumSize,ie.maximumSize);J-=de-O[X],ie.size=de}for(let X=0,J=h;X<R.length;X++){const ie=R[X],de=(0,L.clamp)(P[X]-J,ie.minimumSize,ie.maximumSize);J+=de-P[X],ie.size=de}return h}distributeEmptySpace(o){const h=this.viewItems.reduce((f,_)=>f+_.size,0);let m=this.size-h;const y=(0,S.range)(this.viewItems.length-1,-1),w=y.filter(f=>this.viewItems[f].priority===1),g=y.filter(f=>this.viewItems[f].priority===2);for(const f of g)(0,S.pushToStart)(y,f);for(const f of w)(0,S.pushToEnd)(y,f);typeof o=="number"&&(0,S.pushToEnd)(y,o);for(let f=0;m!==0&&f<y.length;f++){const _=this.viewItems[y[f]],D=(0,L.clamp)(_.size+m,_.minimumSize,_.maximumSize);m-=D-_.size,_.size=D}}layoutViews(){this.contentSize=this.viewItems.reduce((h,m)=>h+m.size,0);let o=0;for(const h of this.viewItems)h.layout(o,this.layoutContext),o+=h.size;this.sashItems.forEach(h=>h.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let o=!1;const h=this.viewItems.map(_=>o=_.size-_.minimumSize>0||o);o=!1;const m=this.viewItems.map(_=>o=_.maximumSize-_.size>0||o),y=[...this.viewItems].reverse();o=!1;const w=y.map(_=>o=_.size-_.minimumSize>0||o).reverse();o=!1;const g=y.map(_=>o=_.maximumSize-_.size>0||o).reverse();let f=0;for(let _=0;_<this.sashItems.length;_++){const{sash:D}=this.sashItems[_];f+=this.viewItems[_].size;const I=!(h[_]&&g[_+1]),M=!(m[_]&&w[_+1]);if(I&&M){const O=(0,S.range)(_,-1),R=(0,S.range)(_+1,this.viewItems.length),P=this.findFirstSnapIndex(O),A=this.findFirstSnapIndex(R),F=typeof P=="number"&&!this.viewItems[P].visible,E=typeof A=="number"&&!this.viewItems[A].visible;F&&w[_]&&(f>0||this.startSnappingEnabled)?D.state=1:E&&h[_]&&(f<this.contentSize||this.endSnappingEnabled)?D.state=2:D.state=0}else I&&!M?D.state=1:!I&&M?D.state=2:D.state=3}}getSashPosition(o){let h=0;for(let m=0;m<this.sashItems.length;m++)if(h+=this.viewItems[m].size,this.sashItems[m].sash===o)return h;return 0}findFirstSnapIndex(o){for(const h of o){const m=this.viewItems[h];if(!!m.visible&&m.snap)return h}for(const h of o){const m=this.viewItems[h];if(m.visible&&m.maximumSize-m.minimumSize>0)return;if(!m.visible&&m.snap)return h}}dispose(){super.dispose(),this.viewItems.forEach(o=>o.dispose()),this.viewItems=[],this.sashItems.forEach(o=>o.disposable.dispose()),this.sashItems=[]}}e.SplitView=d}),define(ee[322],te([10]),{}),define(ee[323],te([0,1,108,7,212,6,322]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class S{constructor(r,a,l){this.columns=r,this.getColumnSize=l,this.templateId=S.TemplateId,this.renderedTemplates=new Set;const c=new Map(a.map(u=>[u.templateId,u]));this.renderers=[];for(const u of r){const s=c.get(u.templateId);if(!s)throw new Error(`Table cell renderer for template id ${u.templateId} not found.`);this.renderers.push(s)}}renderTemplate(r){const a=(0,k.append)(r,(0,k.$)(".monaco-table-tr")),l=[],c=[];for(let s=0;s<this.columns.length;s++){const n=this.renderers[s],d=(0,k.append)(a,(0,k.$)(".monaco-table-td",{"data-col-index":s}));d.style.width=`${this.getColumnSize(s)}px`,l.push(d),c.push(n.renderTemplate(d))}const u={container:r,cellContainers:l,cellTemplateData:c};return this.renderedTemplates.add(u),u}renderElement(r,a,l,c){for(let u=0;u<this.columns.length;u++){const n=this.columns[u].project(r);this.renderers[u].renderElement(n,a,l.cellTemplateData[u],c)}}disposeElement(r,a,l,c){for(let u=0;u<this.columns.length;u++){const s=this.renderers[u];if(s.disposeElement){const d=this.columns[u].project(r);s.disposeElement(d,a,l.cellTemplateData[u],c)}}}disposeTemplate(r){for(let a=0;a<this.columns.length;a++)this.renderers[a].disposeTemplate(r.cellTemplateData[a]);(0,k.clearNode)(r.container),this.renderedTemplates.delete(r)}layoutColumn(r,a){for(const{cellContainers:l}of this.renderedTemplates)l[r].style.width=`${a}px`}}S.TemplateId="row";function p(v){return{getHeight(r){return v.getHeight(r)},getTemplateId(){return S.TemplateId}}}class C{constructor(r,a){this.column=r,this.index=a,this._onDidLayout=new L.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,k.$)(".monaco-table-th",{"data-col-index":a,title:r.tooltip},r.label)}get minimumSize(){var r;return(r=this.column.minimumWidth)!==null&&r!==void 0?r:120}get maximumSize(){var r;return(r=this.column.maximumWidth)!==null&&r!==void 0?r:Number.POSITIVE_INFINITY}get onDidChange(){var r;return(r=this.column.onDidChangeWidthConstraints)!==null&&r!==void 0?r:L.Event.None}layout(r){this._onDidLayout.fire([this.index,r])}}class i{constructor(r,a,l,c,u,s){this.virtualDelegate=l,this.domId=`table_id_${++i.InstanceCount}`,this.cachedHeight=0,this.domNode=(0,k.append)(a,(0,k.$)(`.monaco-table.${this.domId}`));const n=c.map((o,h)=>new C(o,h)),d={size:n.reduce((o,h)=>o+h.column.weight,0),views:n.map(o=>({size:o.column.weight,view:o}))};this.splitview=new T.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:d}),this.splitview.el.style.height=`${l.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${l.headerRowHeight}px`;const t=new S(c,u,o=>this.splitview.getViewSize(o));this.list=new b.List(r,this.domNode,p(l),[t],s),this.columnLayoutDisposable=L.Event.any(...n.map(o=>o.onDidLayout))(([o,h])=>t.layoutColumn(o,h)),this.styleElement=(0,k.createStyleSheet)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(r){this.list.updateOptions(r)}splice(r,a,l=[]){this.list.splice(r,a,l)}getHTMLElement(){return this.domNode}style(r){const a=[];a.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=a.join(`
`),this.list.style(r)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}e.Table=i,i.InstanceCount=0}),define(ee[324],te([10]),{}),define(ee[132],te([10]),{}),define(ee[213],te([0,1,7,125,132]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const T={},L=new k.IdGenerator("quick-input-button-icon-");function S(p){if(!p)return;let C;const i=p.dark.toString();return T[i]?C=T[i]:(C=L.nextId(),b.createCSSRule(`.${C}`,`background-image: ${b.asCSSUrl(p.light||p.dark)}`),b.createCSSRule(`.vs-dark .${C}, .hc-black .${C}`,`background-image: ${b.asCSSUrl(p.dark)}`),T[i]=C),C}e.getIconClass=S}),define(ee[325],te([10]),{}),define(ee[326],te([10]),{}),define(ee[327],te([10]),{}),define(ee[328],te([10]),{}),define(ee[329],te([10]),{}),define(ee[330],te([10]),{}),define(ee[331],te([10]),{}),define(ee[332],te([10]),{}),define(ee[333],te([10]),{}),define(ee[334],te([10]),{}),define(ee[335],te([10]),{}),define(ee[336],te([10]),{}),define(ee[337],te([10]),{}),define(ee[338],te([10]),{}),define(ee[339],te([10]),{}),define(ee[340],te([10]),{}),define(ee[341],te([10]),{}),define(ee[342],te([10]),{}),define(ee[343],te([10]),{}),define(ee[344],te([10]),{}),define(ee[345],te([10]),{}),define(ee[346],te([10]),{}),define(ee[347],te([10]),{}),define(ee[348],te([10]),{}),define(ee[349],te([10]),{}),define(ee[350],te([10]),{}),define(ee[351],te([10]),{}),define(ee[352],te([10]),{}),define(ee[353],te([10]),{}),define(ee[354],te([10]),{}),define(ee[355],te([10]),{}),define(ee[356],te([10]),{}),define(ee[357],te([10]),{}),define(ee[358],te([10]),{}),define(ee[359],te([10]),{}),define(ee[360],te([10]),{}),define(ee[361],te([10]),{}),define(ee[362],te([10]),{}),define(ee[363],te([10]),{}),define(ee[364],te([10]),{}),define(ee[365],te([10]),{}),define(ee[366],te([10]),{}),define(ee[367],te([10]),{}),define(ee[368],te([10]),{}),define(ee[369],te([10]),{}),define(ee[370],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class b{constructor(S,p){this.chr=S,this.type=p,this.width=0}fulfill(S){this.width=S}}e.CharWidthRequest=b;class k{constructor(S,p){this._bareFontInfo=S,this._requests=p,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const S=document.createElement("div");S.style.position="absolute",S.style.top="-50000px",S.style.width="50000px";const p=document.createElement("div");p.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),p.style.fontWeight=this._bareFontInfo.fontWeight,p.style.fontSize=this._bareFontInfo.fontSize+"px",p.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,p.style.lineHeight=this._bareFontInfo.lineHeight+"px",p.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",S.appendChild(p);const C=document.createElement("div");C.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),C.style.fontWeight="bold",C.style.fontSize=this._bareFontInfo.fontSize+"px",C.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,C.style.lineHeight=this._bareFontInfo.lineHeight+"px",C.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",S.appendChild(C);const i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),i.style.fontWeight=this._bareFontInfo.fontWeight,i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",i.style.fontStyle="italic",S.appendChild(i);const v=[];for(const r of this._requests){let a;r.type===0&&(a=p),r.type===2&&(a=C),r.type===1&&(a=i),a.appendChild(document.createElement("br"));const l=document.createElement("span");k._render(l,r),a.appendChild(l),v.push(l)}this._container=S,this._testElements=v}static _render(S,p){if(p.chr===" "){let C="\xA0";for(let i=0;i<8;i++)C+=C;S.innerText=C}else{let C=p.chr;for(let i=0;i<8;i++)C+=C;S.textContent=C}}_readFromDomElements(){for(let S=0,p=this._requests.length;S<p;S++){const C=this._requests[S],i=this._testElements[S];C.fulfill(i.offsetWidth/256)}}}function T(L,S){new k(L,S).read()}e.readCharWidths=T}),define(ee[214],te([0,1,2]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class k extends b.Disposable{constructor(L,S,p){super();this.referenceDomElement=L,this.changeCallback=p,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,S)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){typeof ResizeObserver!="undefined"?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(L=>{L&&L[0]&&L[0].contentRect?this.observe({width:L[0].contentRect.width,height:L[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(L){this.measureReferenceDomElement(!0,L)}measureReferenceDomElement(L,S){let p=0,C=0;S?(p=S.width,C=S.height):this.referenceDomElement&&(p=this.referenceDomElement.clientWidth,C=this.referenceDomElement.clientHeight),p=Math.max(5,p),C=Math.max(5,C),(this.width!==p||this.height!==C)&&(this.width=p,this.height=C,L&&this.changeCallback())}}e.ElementSizeObserver=k}),define(ee[167],te([0,1,7,93,55,2]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalEditorMouseMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createEditorPagePosition=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class S{constructor(u,s){this.x=u,this.y=s,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new p(this.x-b.StandardWindow.scrollX,this.y-b.StandardWindow.scrollY)}}e.PageCoordinates=S;class p{constructor(u,s){this.clientX=u,this.clientY=s,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new S(this.clientX+b.StandardWindow.scrollX,this.clientY+b.StandardWindow.scrollY)}}e.ClientCoordinates=p;class C{constructor(u,s,n,d){this.x=u,this.y=s,this.width=n,this.height=d,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=C;function i(c){const u=b.getDomNodePagePosition(c);return new C(u.left,u.top,u.width,u.height)}e.createEditorPagePosition=i;class v extends T.StandardMouseEvent{constructor(u,s){super(u);this._editorMouseEventBrand=void 0,this.pos=new S(this.posx,this.posy),this.editorPos=i(s)}}e.EditorMouseEvent=v;class r{constructor(u){this._editorViewDomNode=u}_create(u){return new v(u,this._editorViewDomNode)}onContextMenu(u,s){return b.addDisposableListener(u,"contextmenu",n=>{s(this._create(n))})}onMouseUp(u,s){return b.addDisposableListener(u,"mouseup",n=>{s(this._create(n))})}onMouseDown(u,s){return b.addDisposableListener(u,"mousedown",n=>{s(this._create(n))})}onMouseLeave(u,s){return b.addDisposableNonBubblingMouseOutListener(u,n=>{s(this._create(n))})}onMouseMoveThrottled(u,s,n,d){const t=(o,h)=>n(o,this._create(h));return b.addDisposableThrottledListener(u,"mousemove",s,t,d)}}e.EditorMouseEventFactory=r;class a{constructor(u){this._editorViewDomNode=u}_create(u){return new v(u,this._editorViewDomNode)}onPointerUp(u,s){return b.addDisposableListener(u,"pointerup",n=>{s(this._create(n))})}onPointerDown(u,s){return b.addDisposableListener(u,"pointerdown",n=>{s(this._create(n))})}onPointerLeave(u,s){return b.addDisposableNonBubblingPointerOutListener(u,n=>{s(this._create(n))})}onPointerMoveThrottled(u,s,n,d){const t=(o,h)=>n(o,this._create(h));return b.addDisposableThrottledListener(u,"pointermove",s,t,d)}}e.EditorPointerEventFactory=a;class l extends L.Disposable{constructor(u){super();this._editorViewDomNode=u,this._globalMouseMoveMonitor=this._register(new k.GlobalMouseMoveMonitor),this._keydownListener=null}startMonitoring(u,s,n,d,t){this._keydownListener=b.addStandardDisposableListener(document,"keydown",h=>{h.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,h.browserEvent)},!0);const o=(h,m)=>n(h,new v(m,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(u,s,o,d,h=>{this._keydownListener.dispose(),t(h)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorMouseMoveMonitor=l}),define(ee[371],te([0,1,6,2]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCodeEditorService=void 0;class T extends k.Disposable{constructor(){super();this._onCodeEditorAdd=this._register(new b.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new b.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new b.Emitter),this._onDiffEditorRemove=this._register(new b.Emitter),this._onDecorationTypeRegistered=this._register(new b.Emitter),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(S){this._codeEditors[S.getId()]=S,this._onCodeEditorAdd.fire(S)}removeCodeEditor(S){delete this._codeEditors[S.getId()]&&this._onCodeEditorRemove.fire(S)}listCodeEditors(){return Object.keys(this._codeEditors).map(S=>this._codeEditors[S])}addDiffEditor(S){this._diffEditors[S.getId()]=S,this._onDiffEditorAdd.fire(S)}removeDiffEditor(S){delete this._diffEditors[S.getId()]&&this._onDiffEditorRemove.fire(S)}listDiffEditors(){return Object.keys(this._diffEditors).map(S=>this._diffEditors[S])}getFocusedCodeEditor(){let S=null;const p=this.listCodeEditors();for(const C of p){if(C.hasTextFocus())return C;C.hasWidgetFocus()&&(S=C)}return S}setModelProperty(S,p,C){const i=S.toString();let v;this._modelProperties.has(i)?v=this._modelProperties.get(i):(v=new Map,this._modelProperties.set(i,v)),v.set(p,C)}getModelProperty(S,p){const C=S.toString();if(this._modelProperties.has(C))return this._modelProperties.get(C).get(p)}}e.AbstractCodeEditorService=T}),define(ee[215],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const k=[];for(let T=32;T<=126;T++)k.push(T);return k.push(65533),k})();const b=(k,T)=>(k-=32,k<0||k>96?T<=2?(k+96)%96:96-1:k);e.getCharIndex=b}),define(ee[372],te([0,1,215,129]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class T{constructor(S,p){this.scale=p,this._minimapCharRendererBrand=void 0,this.charDataNormal=T.soften(S,12/15),this.charDataLight=T.soften(S,50/60)}static soften(S,p){let C=new Uint8ClampedArray(S.length);for(let i=0,v=S.length;i<v;i++)C[i]=(0,k.toUint8)(S[i]*p);return C}renderChar(S,p,C,i,v,r,a,l,c){const u=1*this.scale,s=2*this.scale,n=c?1:s;if(p+u>S.width||C+n>S.height){console.warn("bad render request outside image data");return}const d=l?this.charDataLight:this.charDataNormal,t=(0,b.getCharIndex)(i,a),o=S.width*4,h=r.r,m=r.g,y=r.b,w=v.r-h,g=v.g-m,f=v.b-y,_=S.data;let D=t*u*s,N=C*o+p*4;for(let I=0;I<n;I++){let M=N;for(let O=0;O<u;O++){const R=d[D++]/255;_[M++]=h+w*R,_[M++]=m+g*R,_[M++]=y+f*R,M++}N+=o}}blockRenderChar(S,p,C,i,v,r,a){const l=1*this.scale,c=2*this.scale,u=a?1:c;if(p+l>S.width||C+u>S.height){console.warn("bad render request outside image data");return}const s=S.width*4,n=.5,d=v.r,t=v.g,o=v.b,h=i.r-d,m=i.g-t,y=i.b-o,w=d+h*n,g=t+m*n,f=o+y*n,_=S.data;let D=C*s+p*4;for(let N=0;N<u;N++){let I=D;for(let M=0;M<l;M++)_[I++]=w,_[I++]=g,_[I++]=f,I++;D+=s}}}e.MinimapCharRenderer=T}),define(ee[373],te([0,1,80]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const k={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},T=L=>{const S=new Uint8ClampedArray(L.length/2);for(let p=0;p<L.length;p+=2)S[p>>1]=k[L[p]]<<4|k[L[p+1]]&15;return S};e.prebakedMiniMaps={1:(0,b.once)(()=>T("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,b.once)(()=>T("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(ee[374],te([0,1,372,215,373,129]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class S{static create(C,i){if(this.lastCreated&&C===this.lastCreated.scale&&i===this.lastFontFamily)return this.lastCreated;let v;return T.prebakedMiniMaps[C]?v=new b.MinimapCharRenderer(T.prebakedMiniMaps[C](),C):v=S.createFromSampleData(S.createSampleData(i).data,C),this.lastFontFamily=i,this.lastCreated=v,v}static createSampleData(C){const i=document.createElement("canvas"),v=i.getContext("2d");i.style.height=`${16}px`,i.height=16,i.width=96*10,i.style.width=96*10+"px",v.fillStyle="#ffffff",v.font=`bold ${16}px ${C}`,v.textBaseline="middle";let r=0;for(const a of k.allCharCodes)v.fillText(String.fromCharCode(a),r,16/2),r+=10;return v.getImageData(0,0,96*10,16)}static createFromSampleData(C,i){const v=16*10*4*96;if(C.length!==v)throw new Error("Unexpected source in MinimapCharRenderer");let r=S._downsample(C,i);return new b.MinimapCharRenderer(r,i)}static _downsampleChar(C,i,v,r,a){const l=1*a,c=2*a;let u=r,s=0;for(let n=0;n<c;n++){const d=n/c*16,t=(n+1)/c*16;for(let o=0;o<l;o++){const h=o/l*10,m=(o+1)/l*10;let y=0,w=0;for(let f=d;f<t;f++){const _=i+Math.floor(f)*3840,D=1-(f-Math.floor(f));for(let N=h;N<m;N++){const I=1-(N-Math.floor(N)),M=_+Math.floor(N)*4,O=I*D;w+=O,y+=C[M]*C[M+3]/255*O}}const g=y/w;s=Math.max(s,g),v[u++]=(0,L.toUint8)(g)}}return s}static _downsample(C,i){const v=2*i*1*i,r=v*96,a=new Uint8ClampedArray(r);let l=0,c=0,u=0;for(let s=0;s<96;s++)u=Math.max(u,this._downsampleChar(C,c,a,l,i)),l+=v,c+=10*4;if(u>0){const s=255/u;for(let n=0;n<r;n++)a[n]*=s}return a}}e.MinimapCharRendererFactory=S}),define(ee[133],te([0,1,6]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new b.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(k){k=Math.min(Math.max(-5,k),20),this._zoomLevel!==k&&(this._zoomLevel=k,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(ee[168],te([0,1,17,133]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const T=b.isMacintosh?1.5:1.35,L=8;class S{constructor(i){this._bareFontInfoBrand=void 0,this.zoomLevel=i.zoomLevel,this.pixelRatio=i.pixelRatio,this.fontFamily=String(i.fontFamily),this.fontWeight=String(i.fontWeight),this.fontSize=i.fontSize,this.fontFeatureSettings=i.fontFeatureSettings,this.lineHeight=i.lineHeight|0,this.letterSpacing=i.letterSpacing}static createFromValidatedSettings(i,v,r,a){const l=i.get(40),c=i.get(44),u=i.get(43),s=i.get(42),n=i.get(57),d=i.get(54);return S._create(l,c,u,s,n,d,v,r,a)}static _create(i,v,r,a,l,c,u,s,n){l===0?l=T*r:l<L&&(l=l*r),l=Math.round(l),l<L&&(l=L);const d=1+(n?0:k.EditorZoom.getZoomLevel()*.1);return r*=d,l*=d,new S({zoomLevel:u,pixelRatio:s,fontFamily:i,fontWeight:v,fontSize:r,fontFeatureSettings:a,lineHeight:l,letterSpacing:c})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?`"${this.fontFamily}"`:this.fontFamily}}e.BareFontInfo=S,e.SERIALIZED_FONT_INFO_VERSION=1;class p extends S{constructor(i,v){super(i);this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=v,this.isMonospace=i.isMonospace,this.typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=i.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.maxDigitWidth=i.maxDigitWidth}equals(i){return this.fontFamily===i.fontFamily&&this.fontWeight===i.fontWeight&&this.fontSize===i.fontSize&&this.fontFeatureSettings===i.fontFeatureSettings&&this.lineHeight===i.lineHeight&&this.letterSpacing===i.letterSpacing&&this.typicalHalfwidthCharacterWidth===i.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===i.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===i.canUseHalfwidthRightwardsArrow&&this.spaceWidth===i.spaceWidth&&this.middotWidth===i.middotWidth&&this.wsmiddotWidth===i.wsmiddotWidth&&this.maxDigitWidth===i.maxDigitWidth}}e.FontInfo=p}),define(ee[94],te([0,1,129]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class k{constructor(S){let p=(0,b.toUint8)(S);this._defaultValue=p,this._asciiMap=k._createAsciiMap(p),this._map=new Map}static _createAsciiMap(S){let p=new Uint8Array(256);for(let C=0;C<256;C++)p[C]=S;return p}set(S,p){let C=(0,b.toUint8)(p);S>=0&&S<256?this._asciiMap[S]=C:this._map.set(S,C)}get(S){return S>=0&&S<256?this._asciiMap[S]:this._map.get(S)||this._defaultValue}}e.CharacterClassifier=k;class T{constructor(){this._actual=new k(0)}add(S){this._actual.set(S,1)}has(S){return this._actual.get(S)===1}}e.CharacterSet=T}),define(ee[109],te([0,1,94]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class k extends b.CharacterClassifier{constructor(S){super(0);for(let p=0,C=S.length;p<C;p++)this.set(S.charCodeAt(p),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=k;function T(L){let S={};return p=>(S.hasOwnProperty(p)||(S[p]=L(p)),S[p])}e.getMapForWordSeparators=T(L=>new k(L))}),define(ee[13],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class b{constructor(T,L){this.lineNumber=T,this.column=L}with(T=this.lineNumber,L=this.column){return T===this.lineNumber&&L===this.column?this:new b(T,L)}delta(T=0,L=0){return this.with(this.lineNumber+T,this.column+L)}equals(T){return b.equals(this,T)}static equals(T,L){return!T&&!L?!0:!!T&&!!L&&T.lineNumber===L.lineNumber&&T.column===L.column}isBefore(T){return b.isBefore(this,T)}static isBefore(T,L){return T.lineNumber<L.lineNumber?!0:L.lineNumber<T.lineNumber?!1:T.column<L.column}isBeforeOrEqual(T){return b.isBeforeOrEqual(this,T)}static isBeforeOrEqual(T,L){return T.lineNumber<L.lineNumber?!0:L.lineNumber<T.lineNumber?!1:T.column<=L.column}static compare(T,L){let S=T.lineNumber|0,p=L.lineNumber|0;if(S===p){let C=T.column|0,i=L.column|0;return C-i}return S-p}clone(){return new b(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(T){return new b(T.lineNumber,T.column)}static isIPosition(T){return T&&typeof T.lineNumber=="number"&&typeof T.column=="number"}}e.Position=b}),define(ee[3],te([0,1,13]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class k{constructor(L,S,p,C){L>p||L===p&&S>C?(this.startLineNumber=p,this.startColumn=C,this.endLineNumber=L,this.endColumn=S):(this.startLineNumber=L,this.startColumn=S,this.endLineNumber=p,this.endColumn=C)}isEmpty(){return k.isEmpty(this)}static isEmpty(L){return L.startLineNumber===L.endLineNumber&&L.startColumn===L.endColumn}containsPosition(L){return k.containsPosition(this,L)}static containsPosition(L,S){return!(S.lineNumber<L.startLineNumber||S.lineNumber>L.endLineNumber||S.lineNumber===L.startLineNumber&&S.column<L.startColumn||S.lineNumber===L.endLineNumber&&S.column>L.endColumn)}containsRange(L){return k.containsRange(this,L)}static containsRange(L,S){return!(S.startLineNumber<L.startLineNumber||S.endLineNumber<L.startLineNumber||S.startLineNumber>L.endLineNumber||S.endLineNumber>L.endLineNumber||S.startLineNumber===L.startLineNumber&&S.startColumn<L.startColumn||S.endLineNumber===L.endLineNumber&&S.endColumn>L.endColumn)}strictContainsRange(L){return k.strictContainsRange(this,L)}static strictContainsRange(L,S){return!(S.startLineNumber<L.startLineNumber||S.endLineNumber<L.startLineNumber||S.startLineNumber>L.endLineNumber||S.endLineNumber>L.endLineNumber||S.startLineNumber===L.startLineNumber&&S.startColumn<=L.startColumn||S.endLineNumber===L.endLineNumber&&S.endColumn>=L.endColumn)}plusRange(L){return k.plusRange(this,L)}static plusRange(L,S){let p,C,i,v;return S.startLineNumber<L.startLineNumber?(p=S.startLineNumber,C=S.startColumn):S.startLineNumber===L.startLineNumber?(p=S.startLineNumber,C=Math.min(S.startColumn,L.startColumn)):(p=L.startLineNumber,C=L.startColumn),S.endLineNumber>L.endLineNumber?(i=S.endLineNumber,v=S.endColumn):S.endLineNumber===L.endLineNumber?(i=S.endLineNumber,v=Math.max(S.endColumn,L.endColumn)):(i=L.endLineNumber,v=L.endColumn),new k(p,C,i,v)}intersectRanges(L){return k.intersectRanges(this,L)}static intersectRanges(L,S){let p=L.startLineNumber,C=L.startColumn,i=L.endLineNumber,v=L.endColumn,r=S.startLineNumber,a=S.startColumn,l=S.endLineNumber,c=S.endColumn;return p<r?(p=r,C=a):p===r&&(C=Math.max(C,a)),i>l?(i=l,v=c):i===l&&(v=Math.min(v,c)),p>i||p===i&&C>v?null:new k(p,C,i,v)}equalsRange(L){return k.equalsRange(this,L)}static equalsRange(L,S){return!!L&&!!S&&L.startLineNumber===S.startLineNumber&&L.startColumn===S.startColumn&&L.endLineNumber===S.endLineNumber&&L.endColumn===S.endColumn}getEndPosition(){return k.getEndPosition(this)}static getEndPosition(L){return new b.Position(L.endLineNumber,L.endColumn)}getStartPosition(){return k.getStartPosition(this)}static getStartPosition(L){return new b.Position(L.startLineNumber,L.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(L,S){return new k(this.startLineNumber,this.startColumn,L,S)}setStartPosition(L,S){return new k(L,S,this.endLineNumber,this.endColumn)}collapseToStart(){return k.collapseToStart(this)}static collapseToStart(L){return new k(L.startLineNumber,L.startColumn,L.startLineNumber,L.startColumn)}static fromPositions(L,S=L){return new k(L.lineNumber,L.column,S.lineNumber,S.column)}static lift(L){return L?new k(L.startLineNumber,L.startColumn,L.endLineNumber,L.endColumn):null}static isIRange(L){return L&&typeof L.startLineNumber=="number"&&typeof L.startColumn=="number"&&typeof L.endLineNumber=="number"&&typeof L.endColumn=="number"}static areIntersectingOrTouching(L,S){return!(L.endLineNumber<S.startLineNumber||L.endLineNumber===S.startLineNumber&&L.endColumn<S.startColumn||S.endLineNumber<L.startLineNumber||S.endLineNumber===L.startLineNumber&&S.endColumn<L.startColumn)}static areIntersecting(L,S){return!(L.endLineNumber<S.startLineNumber||L.endLineNumber===S.startLineNumber&&L.endColumn<=S.startColumn||S.endLineNumber<L.startLineNumber||S.endLineNumber===L.startLineNumber&&S.endColumn<=L.startColumn)}static compareRangesUsingStarts(L,S){if(L&&S){const i=L.startLineNumber|0,v=S.startLineNumber|0;if(i===v){const r=L.startColumn|0,a=S.startColumn|0;if(r===a){const l=L.endLineNumber|0,c=S.endLineNumber|0;if(l===c){const u=L.endColumn|0,s=S.endColumn|0;return u-s}return l-c}return r-a}return i-v}return(L?1:0)-(S?1:0)}static compareRangesUsingEnds(L,S){return L.endLineNumber===S.endLineNumber?L.endColumn===S.endColumn?L.startLineNumber===S.startLineNumber?L.startColumn-S.startColumn:L.startLineNumber-S.startLineNumber:L.endColumn-S.endColumn:L.endLineNumber-S.endLineNumber}static spansMultipleLines(L){return L.endLineNumber>L.startLineNumber}}e.Range=k}),define(ee[216],te([0,1,8,13,3]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class L{constructor(C,i,v,r,a){this.value=C,this.selectionStart=i,this.selectionEnd=v,this.selectionStartPosition=r,this.selectionEndPosition=a}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(C){return new L(C.getValue(),C.getSelectionStart(),C.getSelectionEnd(),null,null)}collapseSelection(){return new L(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(C,i,v){e._debugComposition&&console.log("writeToTextArea "+C+": "+this.toString()),i.setValue(C,this.value),v&&i.setSelectionRange(C,this.selectionStart,this.selectionEnd)}deduceEditorPosition(C){if(C<=this.selectionStart){const r=this.value.substring(C,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,r,-1)}if(C>=this.selectionEnd){const r=this.value.substring(this.selectionEnd,C);return this._finishDeduceEditorPosition(this.selectionEndPosition,r,1)}const i=this.value.substring(this.selectionStart,C);if(i.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,i,1);const v=this.value.substring(C,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,v,-1)}_finishDeduceEditorPosition(C,i,v){let r=0,a=-1;for(;(a=i.indexOf(`
`,a+1))!==-1;)r++;return[C,v*i.length,r]}static selectedText(C){return new L(C,0,C.length,null,null)}static deduceInput(C,i,v){if(!C)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+C.toString()),console.log("CURRENT STATE: "+i.toString()));let r=C.value,a=C.selectionStart,l=C.selectionEnd,c=i.value,u=i.selectionStart,s=i.selectionEnd;const n=r.substring(l),d=c.substring(s),t=b.commonSuffixLength(n,d);c=c.substring(0,c.length-t),r=r.substring(0,r.length-t);const o=r.substring(0,a),h=c.substring(0,u),m=b.commonPrefixLength(o,h);if(c=c.substring(m),r=r.substring(m),u-=m,a-=m,s-=m,l-=m,e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+r+">, selectionStart: "+a+", selectionEnd: "+l),console.log("AFTER DIFFING CURRENT STATE: <"+c+">, selectionStart: "+u+", selectionEnd: "+s)),v&&u===s&&r.length>0){let w=null;if(u===c.length?c.startsWith(r)&&(w=c.substring(r.length)):c.endsWith(r)&&(w=c.substring(0,c.length-r.length)),w!==null&&w.length>0&&(/\uFE0F/.test(w)||b.containsEmoji(w)))return{text:w,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(u===s){if(r===c&&a===0&&l===r.length&&u===c.length&&c.indexOf(`
`)===-1&&b.containsFullWidthCharacter(c))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const w=o.length-m;return e._debugComposition&&console.log("REMOVE PREVIOUS: "+(o.length-m)+" chars"),{text:c,replacePrevCharCnt:w,replaceNextCharCnt:0,positionDelta:0}}const y=l-a;return{text:c,replacePrevCharCnt:y,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(C,i){if(!C)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: "+C.toString()),console.log("CURRENT STATE: "+i.toString())),C.value===i.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:i.selectionEnd-C.selectionEnd};const v=Math.min(b.commonPrefixLength(C.value,i.value),C.selectionEnd),r=Math.min(b.commonSuffixLength(C.value,i.value),C.value.length-C.selectionEnd),a=C.value.substring(v,C.value.length-r),l=i.value.substring(v,i.value.length-r),c=C.selectionStart-v,u=C.selectionEnd-v,s=i.selectionStart-v,n=i.selectionEnd-v;return e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+a+">, selectionStart: "+c+", selectionEnd: "+u),console.log("AFTER DIFFING CURRENT STATE: <"+l+">, selectionStart: "+s+", selectionEnd: "+n)),{text:l,replacePrevCharCnt:u,replaceNextCharCnt:a.length-u,positionDelta:n-l.length}}}e.TextAreaState=L,L.EMPTY=new L("",0,0,null,null);class S{static _getPageOfLine(C,i){return Math.floor((C-1)/i)}static _getRangeForPage(C,i){const v=C*i,r=v+1,a=v+i;return new T.Range(r,1,a+1,1)}static fromEditorSelection(C,i,v,r,a){const l=S._getPageOfLine(v.startLineNumber,r),c=S._getRangeForPage(l,r),u=S._getPageOfLine(v.endLineNumber,r),s=S._getRangeForPage(u,r),n=c.intersectRanges(new T.Range(1,1,v.startLineNumber,v.startColumn));let d=i.getValueInRange(n,1);const t=i.getLineCount(),o=i.getLineMaxColumn(t),h=s.intersectRanges(new T.Range(v.endLineNumber,v.endColumn,t,o));let m=i.getValueInRange(h,1),y;if(l===u||l+1===u)y=i.getValueInRange(v,1);else{const w=c.intersectRanges(v),g=s.intersectRanges(v);y=i.getValueInRange(w,1)+String.fromCharCode(8230)+i.getValueInRange(g,1)}if(a){const w=500;d.length>w&&(d=d.substring(d.length-w,d.length)),m.length>w&&(m=m.substring(0,w)),y.length>2*w&&(y=y.substring(0,w)+String.fromCharCode(8230)+y.substring(y.length-w,y.length))}return new L(d+y+m,d.length,d.length+y.length,new k.Position(v.startLineNumber,v.startColumn),new k.Position(v.endLineNumber,v.endColumn))}}e.PagedScreenReaderStrategy=S}),define(ee[217],te([0,1,198,6,2,42,3]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const p={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class C extends T.Disposable{constructor(v,r={}){super();this._onDidUpdate=this._register(new k.Emitter),this._editor=v,this._options=L.mixin(r,p,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(a=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(a=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(v){this.ranges=[],v&&v.forEach(r=>{!this._options.ignoreCharChanges&&r.charChanges?r.charChanges.forEach(a=>{this.ranges.push({rhs:!0,range:new S.Range(a.modifiedStartLineNumber,a.modifiedStartColumn,a.modifiedEndLineNumber,a.modifiedEndColumn)})}):this.ranges.push({rhs:!0,range:new S.Range(r.modifiedStartLineNumber,1,r.modifiedStartLineNumber,1)})}),this.ranges.sort((r,a)=>r.range.getStartPosition().isBeforeOrEqual(a.range.getStartPosition())?-1:a.range.getStartPosition().isBeforeOrEqual(r.range.getStartPosition())?1:0),this._onDidUpdate.fire(this)}_initIdx(v){let r=!1,a=this._editor.getPosition();if(!a){this.nextIdx=0;return}for(let l=0,c=this.ranges.length;l<c&&!r;l++){let u=this.ranges[l].range;a.isBeforeOrEqual(u.getStartPosition())&&(this.nextIdx=l+(v?0:-1),r=!0)}r||(this.nextIdx=v?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(v,r){if(b.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(v):v?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let a=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let l=a.range.getStartPosition();this._editor.setPosition(l),this._editor.revealPositionInCenter(l,r)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(v=0){this._move(!0,v)}previous(v=0){this._move(!1,v)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=C}),define(ee[56],te([0,1,3]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class k{static insert(L,S){return{range:new b.Range(L.lineNumber,L.column,L.lineNumber,L.column),text:S,forceMoveMarkers:!0}}static delete(L){return{range:L,text:null}}static replace(L,S){return{range:L,text:S}}static replaceMove(L,S){return{range:L,text:S,forceMoveMarkers:!0}}}e.EditOperation=k}),define(ee[375],te([0,1,8,56,3]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class L{constructor(C,i){this._selection=C,this._cursors=i,this._selectionId=null}getEditOperations(C,i){let v=S(C,this._cursors);for(let r=0,a=v.length;r<a;r++){let l=v[r];i.addEditOperation(l.range,l.text)}this._selectionId=i.trackSelection(this._selection)}computeCursorState(C,i){return i.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=L;function S(p,C){C.sort((l,c)=>l.lineNumber===c.lineNumber?l.column-c.column:l.lineNumber-c.lineNumber);for(let l=C.length-2;l>=0;l--)C[l].lineNumber===C[l+1].lineNumber&&C.splice(l,1);let i=[],v=0,r=0,a=C.length;for(let l=1,c=p.getLineCount();l<=c;l++){let u=p.getLineContent(l),s=u.length+1,n=0;if(r<a&&C[r].lineNumber===l&&(n=C[r].column,r++,n===s)||u.length===0)continue;let d=b.lastNonWhitespaceIndex(u),t=0;if(d===-1)t=1;else if(d!==u.length-1)t=d+2;else continue;t=Math.max(n,t),i[v++]=k.EditOperation.delete(new T.Range(l,t,l,s))}return i}e.trimTrailingWhitespace=S}),define(ee[218],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class b{constructor(T,L,S,p){this._rgba8Brand=void 0,this.r=b._clamp(T),this.g=b._clamp(L),this.b=b._clamp(S),this.a=b._clamp(p)}equals(T){return this.r===T.r&&this.g===T.g&&this.b===T.b&&this.a===T.a}static _clamp(T){return T<0?0:T>255?255:T|0}}e.RGBA8=b,b.Empty=new b(0,0,0,0)}),define(ee[21],te([0,1,13,3]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class T extends k.Range{constructor(S,p,C,i){super(S,p,C,i);this.selectionStartLineNumber=S,this.selectionStartColumn=p,this.positionLineNumber=C,this.positionColumn=i}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(S){return T.selectionsEqual(this,S)}static selectionsEqual(S,p){return S.selectionStartLineNumber===p.selectionStartLineNumber&&S.selectionStartColumn===p.selectionStartColumn&&S.positionLineNumber===p.positionLineNumber&&S.positionColumn===p.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(S,p){return this.getDirection()===0?new T(this.startLineNumber,this.startColumn,S,p):new T(S,p,this.startLineNumber,this.startColumn)}getPosition(){return new b.Position(this.positionLineNumber,this.positionColumn)}setStartPosition(S,p){return this.getDirection()===0?new T(S,p,this.endLineNumber,this.endColumn):new T(this.endLineNumber,this.endColumn,S,p)}static fromPositions(S,p=S){return new T(S.lineNumber,S.column,p.lineNumber,p.column)}static liftSelection(S){return new T(S.selectionStartLineNumber,S.selectionStartColumn,S.positionLineNumber,S.positionColumn)}static selectionsArrEqual(S,p){if(S&&!p||!S&&p)return!1;if(!S&&!p)return!0;if(S.length!==p.length)return!1;for(let C=0,i=S.length;C<i;C++)if(!this.selectionsEqual(S[C],p[C]))return!1;return!0}static isISelection(S){return S&&typeof S.selectionStartLineNumber=="number"&&typeof S.selectionStartColumn=="number"&&typeof S.positionLineNumber=="number"&&typeof S.positionColumn=="number"}static createWithDirection(S,p,C,i,v){return v===0?new T(S,p,C,i):new T(C,i,S,p)}}e.Selection=T}),define(ee[169],te([0,1,39,7,15,6,2,106,17,8,216,13,21]),function(G,e,b,k,T,L,S,p,C,i,v,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var l;(function(d){d.Tap="-monaco-textarea-synthetic-tap"})(l=e.TextAreaSyntethicEvents||(e.TextAreaSyntethicEvents={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class c{constructor(){this._lastState=null}set(t,o){this._lastState={lastCopiedValue:t,data:o}}get(t){return this._lastState&&this._lastState.lastCopiedValue===t?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=c,c.INSTANCE=new c;class u extends S.Disposable{constructor(t,o){super();this.textArea=o,this._onFocus=this._register(new L.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new L.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new L.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new L.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new L.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new L.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new L.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new L.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new L.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new L.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new L.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=t,this._textArea=this._register(new n(o)),this._asyncTriggerCut=this._register(new T.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new T.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=v.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let h=null;this._register(k.addStandardDisposableListener(o.domNode,"keydown",g=>{(g.keyCode===109||this._isDoingComposition&&g.keyCode===1)&&g.stopPropagation(),g.equals(9)&&g.preventDefault(),h=g,this._onKeyDown.fire(g)})),this._register(k.addStandardDisposableListener(o.domNode,"keyup",g=>{this._onKeyUp.fire(g)})),this._register(k.addDisposableListener(o.domNode,"compositionstart",g=>{if(v._debugComposition&&console.log("[compositionstart]",g),!this._isDoingComposition){if(this._isDoingComposition=!0,C.isMacintosh&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===g.data&&(h&&h.equals(109)&&(h.code==="ArrowRight"||h.code==="ArrowLeft")||b.isFirefox)){v._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key or Firefox",g),this._textAreaState=new v.TextAreaState(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new r.Position(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),this._onCompositionStart.fire({revealDeltaColumns:-1});return}if(b.isAndroid){this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart});return}this._setAndWriteTextAreaState("compositionstart",v.TextAreaState.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0})}}));const m=g=>{const f=this._textAreaState,_=v.TextAreaState.readFromTextArea(this._textArea);return[_,v.TextAreaState.deduceInput(f,_,g)]},y=()=>{const g=this._textAreaState,f=v.TextAreaState.readFromTextArea(this._textArea);return[f,v.TextAreaState.deduceAndroidCompositionInput(g,f)]},w=g=>{const f=this._textAreaState,_=v.TextAreaState.selectedText(g),D={text:_.value,replacePrevCharCnt:f.selectionEnd-f.selectionStart,replaceNextCharCnt:0,positionDelta:0};return[_,D]};this._register(k.addDisposableListener(o.domNode,"compositionupdate",g=>{if(v._debugComposition&&console.log("[compositionupdate]",g),b.isAndroid){const[D,N]=y();this._textAreaState=D,this._onType.fire(N),this._onCompositionUpdate.fire(g);return}const[f,_]=w(g.data||"");this._textAreaState=f,this._onType.fire(_),this._onCompositionUpdate.fire(g)})),this._register(k.addDisposableListener(o.domNode,"compositionend",g=>{if(v._debugComposition&&console.log("[compositionend]",g),!this._isDoingComposition)return;if(this._isDoingComposition=!1,b.isAndroid){const[D,N]=y();this._textAreaState=D,this._onType.fire(N),this._onCompositionEnd.fire();return}const[f,_]=w(g.data||"");this._textAreaState=f,this._onType.fire(_),(b.isChrome||b.isFirefox)&&(this._textAreaState=v.TextAreaState.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()})),this._register(k.addDisposableListener(o.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[g,f]=m(C.isMacintosh);f.replacePrevCharCnt===0&&f.text.length===1&&i.isHighSurrogate(f.text.charCodeAt(0))||(this._textAreaState=g,this._nextCommand===0?(f.text!==""||f.replacePrevCharCnt!==0)&&this._onType.fire(f):((f.text!==""||f.replacePrevCharCnt!==0)&&this._firePaste(f.text,null),this._nextCommand=0))})),this._register(k.addDisposableListener(o.domNode,"cut",g=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(g),this._asyncTriggerCut.schedule()})),this._register(k.addDisposableListener(o.domNode,"copy",g=>{this._ensureClipboardGetsEditorSelection(g)})),this._register(k.addDisposableListener(o.domNode,"paste",g=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),s.canUseTextData(g)){const[f,_]=s.getTextData(g);f!==""&&this._firePaste(f,_)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",v.TextAreaState.EMPTY),this._nextCommand=1})),this._register(k.addDisposableListener(o.domNode,"focus",()=>{const g=this._hasFocus;this._setHasFocus(!0),b.isSafari&&!g&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(k.addDisposableListener(o.domNode,"blur",()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(k.addDisposableListener(o.domNode,l.Tap,()=>{b.isAndroid&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let t=0;return k.addDisposableListener(document,"selectionchange",o=>{if(!this._hasFocus||this._isDoingComposition||!b.isChrome)return;const h=Date.now(),m=h-t;if(t=h,m<5)return;const y=h-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),y<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const w=this._textArea.getValue();if(this._textAreaState.value!==w)return;const g=this._textArea.getSelectionStart(),f=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===g&&this._textAreaState.selectionEnd===f)return;const _=this._textAreaState.deduceEditorPosition(g),D=this._host.deduceModelPosition(_[0],_[1],_[2]),N=this._textAreaState.deduceEditorPosition(f),I=this._host.deduceModelPosition(N[0],N[1],N[2]),M=new a.Selection(D.lineNumber,D.column,I.lineNumber,I.column);this._onSelectionChangeRequest.fire(M)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const t=k.getShadowRoot(this.textArea.domNode);t?this._setHasFocus(t.activeElement===this.textArea.domNode):k.isInDOM(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(t){this._hasFocus!==t&&(this._hasFocus=t,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(t,o){this._hasFocus||(o=o.collapseSelection()),o.writeToTextArea(t,this._textArea,this._hasFocus),this._textAreaState=o}writeScreenReaderContent(t){this._isDoingComposition||this._setAndWriteTextAreaState(t,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(t){const o=this._host.getDataToCopy(s.canUseTextData(t)),h={version:1,isFromEmptySelection:o.isFromEmptySelection,multicursorText:o.multicursorText,mode:o.mode};if(c.INSTANCE.set(b.isFirefox?o.text.replace(/\r\n/g,`
`):o.text,h),!s.canUseTextData(t)){this._setAndWriteTextAreaState("copy or cut",v.TextAreaState.selectedText(o.text));return}s.setTextData(t,o.text,o.html,h)}_firePaste(t,o){o||(o=c.INSTANCE.get(t)),this._onPaste.fire({text:t,metadata:o})}}e.TextAreaInput=u;class s{static canUseTextData(t){return!!(t.clipboardData||window.clipboardData)}static getTextData(t){if(t.clipboardData){t.preventDefault();const o=t.clipboardData.getData(p.Mimes.text);let h=null;const m=t.clipboardData.getData("vscode-editor-data");if(typeof m=="string")try{h=JSON.parse(m),h.version!==1&&(h=null)}catch(y){}return[o,h]}if(window.clipboardData)return t.preventDefault(),[window.clipboardData.getData("Text"),null];throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(t,o,h,m){if(t.clipboardData){t.clipboardData.setData(p.Mimes.text,o),typeof h=="string"&&t.clipboardData.setData("text/html",h),t.clipboardData.setData("vscode-editor-data",JSON.stringify(m)),t.preventDefault();return}if(window.clipboardData){window.clipboardData.setData("Text",o),t.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class n extends S.Disposable{constructor(t){super();this._actual=t,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(t){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(t,o){const h=this._actual.domNode;h.value!==o&&(this.setIgnoreSelectionChangeTime("setValue"),h.value=o)}getSelectionStart(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(t,o,h){const m=this._actual.domNode;let y=null;const w=k.getShadowRoot(m);w?y=w.activeElement:y=document.activeElement;const g=y===m,f=m.selectionStart,_=m.selectionEnd;if(g&&f===o&&_===h){b.isFirefox&&window.parent!==window&&m.focus();return}if(g){this.setIgnoreSelectionChangeTime("setSelectionRange"),m.setSelectionRange(o,h),b.isFirefox&&window.parent!==window&&m.focus();return}try{const D=k.saveParentsScrollTop(m);this.setIgnoreSelectionChangeTime("setSelectionRange"),m.focus(),m.setSelectionRange(o,h),k.restoreParentsScrollTop(m,D)}catch(D){}}}}),define(ee[95],te([0,1,21]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class k{constructor(i,v,r=!1){this._range=i,this._text=v,this.insertsAutoWhitespace=r}getEditOperations(i,v){v.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,v){let a=v.getInverseEditOperations()[0].range;return new b.Selection(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn)}}e.ReplaceCommand=k;class T{constructor(i,v){this._range=i,this._text=v}getEditOperations(i,v){v.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,v){const a=v.getInverseEditOperations()[0].range;return new b.Selection(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn)}}e.ReplaceCommandThatSelectsText=T;class L{constructor(i,v,r=!1){this._range=i,this._text=v,this.insertsAutoWhitespace=r}getEditOperations(i,v){v.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,v){let a=v.getInverseEditOperations()[0].range;return new b.Selection(a.startLineNumber,a.startColumn,a.startLineNumber,a.startColumn)}}e.ReplaceCommandWithoutChangingPosition=L;class S{constructor(i,v,r,a,l=!1){this._range=i,this._text=v,this._columnDeltaOffset=a,this._lineNumberDeltaOffset=r,this.insertsAutoWhitespace=l}getEditOperations(i,v){v.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,v){let a=v.getInverseEditOperations()[0].range;return new b.Selection(a.endLineNumber+this._lineNumberDeltaOffset,a.endColumn+this._columnDeltaOffset,a.endLineNumber+this._lineNumberDeltaOffset,a.endColumn+this._columnDeltaOffset)}}e.ReplaceCommandWithOffsetCursorState=S;class p{constructor(i,v,r,a=!1){this._range=i,this._text=v,this._initialSelection=r,this._forceMoveMarkers=a,this._selectionId=null}getEditOperations(i,v){v.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=v.trackSelection(this._initialSelection)}computeCursorState(i,v){return v.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=p}),define(ee[376],te([0,1,3,21]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SurroundSelectionCommand=void 0;class T{constructor(S,p,C){this._range=S,this._charBeforeSelection=p,this._charAfterSelection=C}getEditOperations(S,p){p.addTrackedEditOperation(new b.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),p.addTrackedEditOperation(new b.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(S,p){let C=p.getInverseEditOperations(),i=C[0].range,v=C[1].range;return new k.Selection(i.endLineNumber,i.endColumn,v.endLineNumber,v.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=T}),define(ee[83],te([0,1,8,17,103]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUTF16LE=e.createStringBuilder=e.hasTextDecoder=e.getPlatformTextDecoder=void 0;let L;function S(){return L||(L=new TextDecoder("UTF-16LE")),L}let p;function C(){return p||(p=new TextDecoder("UTF-16BE")),p}let i;function v(){return i||(i=k.isLittleEndian()?S():C()),i}e.getPlatformTextDecoder=v,e.hasTextDecoder=typeof TextDecoder!="undefined",e.hasTextDecoder?(e.createStringBuilder=u=>new l(u),e.decodeUTF16LE=r):(e.createStringBuilder=u=>new c,e.decodeUTF16LE=a);function r(u,s,n){const d=new Uint16Array(u.buffer,s,n);return n>0&&(d[0]===65279||d[0]===65534)?a(u,s,n):S().decode(d)}function a(u,s,n){let d=[],t=0;for(let o=0;o<n;o++){const h=T.readUInt16LE(u,s);s+=2,d[t++]=String.fromCharCode(h)}return d.join("")}class l{constructor(s){this._capacity=s|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const s=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return v().decode(s)}_flushBuffer(){const s=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[s]:this._completedStrings[this._completedStrings.length]=s}write1(s){const n=this._capacity-this._bufferLength;n<=1&&(n===0||b.isHighSurrogate(s))&&this._flushBuffer(),this._buffer[this._bufferLength++]=s}appendASCII(s){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=s}appendASCIIString(s){const n=s.length;if(this._bufferLength+n>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=s;return}for(let d=0;d<n;d++)this._buffer[this._bufferLength++]=s.charCodeAt(d)}}class c{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(s){this._pieces[this._piecesLen++]=String.fromCharCode(s)}appendASCII(s){this._pieces[this._piecesLen++]=String.fromCharCode(s)}appendASCIIString(s){this._pieces[this._piecesLen++]=s}}}),define(ee[170],te([0,1,30,83]),function(G,e,b,k){"use strict";var T;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class L{constructor(i){this._createLine=i,this._set(1,[])}flush(){this._set(1,[])}_set(i,v){this._lines=v,this._rendLineNumberStart=i}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(i){const v=i-this._rendLineNumberStart;if(v<0||v>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[v]}onLinesDeleted(i,v){if(this.getCount()===0)return null;const r=this.getStartLineNumber(),a=this.getEndLineNumber();if(v<r){const s=v-i+1;return this._rendLineNumberStart-=s,null}if(i>a)return null;let l=0,c=0;for(let s=r;s<=a;s++){const n=s-this._rendLineNumberStart;i<=s&&s<=v&&(c===0?(l=n,c=1):c++)}if(i<r){let s=0;v<r?s=v-i+1:s=r-i,this._rendLineNumberStart-=s}return this._lines.splice(l,c)}onLinesChanged(i,v){if(this.getCount()===0)return!1;const r=this.getStartLineNumber(),a=this.getEndLineNumber();let l=!1;for(let c=i;c<=v;c++)c>=r&&c<=a&&(this._lines[c-this._rendLineNumberStart].onContentChanged(),l=!0);return l}onLinesInserted(i,v){if(this.getCount()===0)return null;const r=v-i+1,a=this.getStartLineNumber(),l=this.getEndLineNumber();if(i<=a)return this._rendLineNumberStart+=r,null;if(i>l)return null;if(r+i>l)return this._lines.splice(i-this._rendLineNumberStart,l-i+1);const c=[];for(let t=0;t<r;t++)c[t]=this._createLine();const u=i-this._rendLineNumberStart,s=this._lines.slice(0,u),n=this._lines.slice(u,this._lines.length-r),d=this._lines.slice(this._lines.length-r,this._lines.length);return this._lines=s.concat(c).concat(n),d}onTokensChanged(i){if(this.getCount()===0)return!1;const v=this.getStartLineNumber(),r=this.getEndLineNumber();let a=!1;for(let l=0,c=i.length;l<c;l++){const u=i[l];if(u.toLineNumber<v||u.fromLineNumber>r)continue;const s=Math.max(v,u.fromLineNumber),n=Math.min(r,u.toLineNumber);for(let d=s;d<=n;d++){const t=d-this._rendLineNumberStart;this._lines[t].onTokensChanged(),a=!0}}return a}}e.RenderedLinesCollection=L;class S{constructor(i){this._host=i,this.domNode=this._createDomNode(),this._linesCollection=new L(()=>this._host.createVisibleLine())}_createDomNode(){const i=(0,b.createFastDomNode)(document.createElement("div"));return i.setClassName("view-layer"),i.setPosition("absolute"),i.domNode.setAttribute("role","presentation"),i.domNode.setAttribute("aria-hidden","true"),i}onConfigurationChanged(i){return!!i.hasChanged(129)}onFlushed(i){return this._linesCollection.flush(),!0}onLinesChanged(i){return this._linesCollection.onLinesChanged(i.fromLineNumber,i.toLineNumber)}onLinesDeleted(i){const v=this._linesCollection.onLinesDeleted(i.fromLineNumber,i.toLineNumber);if(v)for(let r=0,a=v.length;r<a;r++){const l=v[r].getDomNode();l&&this.domNode.domNode.removeChild(l)}return!0}onLinesInserted(i){const v=this._linesCollection.onLinesInserted(i.fromLineNumber,i.toLineNumber);if(v)for(let r=0,a=v.length;r<a;r++){const l=v[r].getDomNode();l&&this.domNode.domNode.removeChild(l)}return!0}onScrollChanged(i){return i.scrollTopChanged}onTokensChanged(i){return this._linesCollection.onTokensChanged(i.ranges)}onZonesChanged(i){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(i){return this._linesCollection.getLine(i)}renderLines(i){const v=this._linesCollection._get(),r=new p(this.domNode.domNode,this._host,i),a={rendLineNumberStart:v.rendLineNumberStart,lines:v.lines,linesLength:v.lines.length},l=r.render(a,i.startLineNumber,i.endLineNumber,i.relativeVerticalOffset);this._linesCollection._set(l.rendLineNumberStart,l.lines)}}e.VisibleLinesCollection=S;class p{constructor(i,v,r){this.domNode=i,this.host=v,this.viewportData=r}render(i,v,r,a){const l={rendLineNumberStart:i.rendLineNumberStart,lines:i.lines.slice(0),linesLength:i.linesLength};if(l.rendLineNumberStart+l.linesLength-1<v||r<l.rendLineNumberStart){l.rendLineNumberStart=v,l.linesLength=r-v+1,l.lines=[];for(let c=v;c<=r;c++)l.lines[c-v]=this.host.createVisibleLine();return this._finishRendering(l,!0,a),l}if(this._renderUntouchedLines(l,Math.max(v-l.rendLineNumberStart,0),Math.min(r-l.rendLineNumberStart,l.linesLength-1),a,v),l.rendLineNumberStart>v){const c=v,u=Math.min(r,l.rendLineNumberStart-1);c<=u&&(this._insertLinesBefore(l,c,u,a,v),l.linesLength+=u-c+1)}else if(l.rendLineNumberStart<v){const c=Math.min(l.linesLength,v-l.rendLineNumberStart);c>0&&(this._removeLinesBefore(l,c),l.linesLength-=c)}if(l.rendLineNumberStart=v,l.rendLineNumberStart+l.linesLength-1<r){const c=l.rendLineNumberStart+l.linesLength,u=r;c<=u&&(this._insertLinesAfter(l,c,u,a,v),l.linesLength+=u-c+1)}else if(l.rendLineNumberStart+l.linesLength-1>r){const c=Math.max(0,r-l.rendLineNumberStart+1),s=l.linesLength-1-c+1;s>0&&(this._removeLinesAfter(l,s),l.linesLength-=s)}return this._finishRendering(l,!1,a),l}_renderUntouchedLines(i,v,r,a,l){const c=i.rendLineNumberStart,u=i.lines;for(let s=v;s<=r;s++){const n=c+s;u[s].layoutLine(n,a[n-l])}}_insertLinesBefore(i,v,r,a,l){const c=[];let u=0;for(let s=v;s<=r;s++)c[u++]=this.host.createVisibleLine();i.lines=c.concat(i.lines)}_removeLinesBefore(i,v){for(let r=0;r<v;r++){const a=i.lines[r].getDomNode();a&&this.domNode.removeChild(a)}i.lines.splice(0,v)}_insertLinesAfter(i,v,r,a,l){const c=[];let u=0;for(let s=v;s<=r;s++)c[u++]=this.host.createVisibleLine();i.lines=i.lines.concat(c)}_removeLinesAfter(i,v){const r=i.linesLength-v;for(let a=0;a<v;a++){const l=i.lines[r+a].getDomNode();l&&this.domNode.removeChild(l)}i.lines.splice(r,v)}_finishRenderingNewLines(i,v,r,a){p._ttPolicy&&(r=p._ttPolicy.createHTML(r));const l=this.domNode.lastChild;v||!l?this.domNode.innerHTML=r:l.insertAdjacentHTML("afterend",r);let c=this.domNode.lastChild;for(let u=i.linesLength-1;u>=0;u--){const s=i.lines[u];a[u]&&(s.setDomNode(c),c=c.previousSibling)}}_finishRenderingInvalidLines(i,v,r){const a=document.createElement("div");p._ttPolicy&&(v=p._ttPolicy.createHTML(v)),a.innerHTML=v;for(let l=0;l<i.linesLength;l++){const c=i.lines[l];if(r[l]){const u=a.firstChild,s=c.getDomNode();s.parentNode.replaceChild(u,s),c.setDomNode(u)}}}_finishRendering(i,v,r){const a=p._sb,l=i.linesLength,c=i.lines,u=i.rendLineNumberStart,s=[];{a.reset();let n=!1;for(let d=0;d<l;d++){const t=c[d];s[d]=!1,!(t.getDomNode()||!t.renderLine(d+u,r[d],this.viewportData,a))&&(s[d]=!0,n=!0)}n&&this._finishRenderingNewLines(i,v,a.build(),s)}{a.reset();let n=!1;const d=[];for(let t=0;t<l;t++){const o=c[t];d[t]=!1,!(s[t]||!o.renderLine(t+u,r[t],this.viewportData,a))&&(d[t]=!0,n=!0)}n&&this._finishRenderingInvalidLines(i,a.build(),d)}}}p._ttPolicy=(T=window.trustedTypes)===null||T===void 0?void 0:T.createPolicy("editorViewLayer",{createHTML:C=>C}),p._sb=(0,k.createStringBuilder)(1e5)}),define(ee[134],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationResult2=e.TokenizationResult=e.Token=void 0;class b{constructor(S,p,C){this._tokenBrand=void 0,this.offset=S|0,this.type=p,this.language=C}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=b;class k{constructor(S,p){this._tokenizationResultBrand=void 0,this.tokens=S,this.endState=p}}e.TokenizationResult=k;class T{constructor(S,p){this._tokenizationResult2Brand=void 0,this.tokens=S,this.endState=p}}e.TokenizationResult2=T}),define(ee[377],te([0,1,128,8]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=void 0;const T=3;function L(u,s,n,d){return new b.LcsDiff(u,s,n).ComputeDiff(d)}class S{constructor(s){const n=[],d=[];for(let t=0,o=s.length;t<o;t++)n[t]=a(s[t],1),d[t]=l(s[t],1);this.lines=s,this._startColumns=n,this._endColumns=d}getElements(){const s=[];for(let n=0,d=this.lines.length;n<d;n++)s[n]=this.lines[n].substring(this._startColumns[n]-1,this._endColumns[n]-1);return s}getStrictElement(s){return this.lines[s]}getStartLineNumber(s){return s+1}getEndLineNumber(s){return s+1}createCharSequence(s,n,d){const t=[],o=[],h=[];let m=0;for(let y=n;y<=d;y++){const w=this.lines[y],g=s?this._startColumns[y]:1,f=s?this._endColumns[y]:w.length+1;for(let _=g;_<f;_++)t[m]=w.charCodeAt(_-1),o[m]=y+1,h[m]=_,m++}return new p(t,o,h)}}class p{constructor(s,n,d){this._charCodes=s,this._lineNumbers=n,this._columns=d}getElements(){return this._charCodes}getStartLineNumber(s){return this._lineNumbers[s]}getStartColumn(s){return this._columns[s]}getEndLineNumber(s){return this._lineNumbers[s]}getEndColumn(s){return this._columns[s]+1}}class C{constructor(s,n,d,t,o,h,m,y){this.originalStartLineNumber=s,this.originalStartColumn=n,this.originalEndLineNumber=d,this.originalEndColumn=t,this.modifiedStartLineNumber=o,this.modifiedStartColumn=h,this.modifiedEndLineNumber=m,this.modifiedEndColumn=y}static createFromDiffChange(s,n,d){let t,o,h,m,y,w,g,f;return s.originalLength===0?(t=0,o=0,h=0,m=0):(t=n.getStartLineNumber(s.originalStart),o=n.getStartColumn(s.originalStart),h=n.getEndLineNumber(s.originalStart+s.originalLength-1),m=n.getEndColumn(s.originalStart+s.originalLength-1)),s.modifiedLength===0?(y=0,w=0,g=0,f=0):(y=d.getStartLineNumber(s.modifiedStart),w=d.getStartColumn(s.modifiedStart),g=d.getEndLineNumber(s.modifiedStart+s.modifiedLength-1),f=d.getEndColumn(s.modifiedStart+s.modifiedLength-1)),new C(t,o,h,m,y,w,g,f)}}function i(u){if(u.length<=1)return u;const s=[u[0]];let n=s[0];for(let d=1,t=u.length;d<t;d++){const o=u[d],h=o.originalStart-(n.originalStart+n.originalLength),m=o.modifiedStart-(n.modifiedStart+n.modifiedLength);Math.min(h,m)<T?(n.originalLength=o.originalStart+o.originalLength-n.originalStart,n.modifiedLength=o.modifiedStart+o.modifiedLength-n.modifiedStart):(s.push(o),n=o)}return s}class v{constructor(s,n,d,t,o){this.originalStartLineNumber=s,this.originalEndLineNumber=n,this.modifiedStartLineNumber=d,this.modifiedEndLineNumber=t,this.charChanges=o}static createFromDiffResult(s,n,d,t,o,h,m){let y,w,g,f,_;if(n.originalLength===0?(y=d.getStartLineNumber(n.originalStart)-1,w=0):(y=d.getStartLineNumber(n.originalStart),w=d.getEndLineNumber(n.originalStart+n.originalLength-1)),n.modifiedLength===0?(g=t.getStartLineNumber(n.modifiedStart)-1,f=0):(g=t.getStartLineNumber(n.modifiedStart),f=t.getEndLineNumber(n.modifiedStart+n.modifiedLength-1)),h&&n.originalLength>0&&n.originalLength<20&&n.modifiedLength>0&&n.modifiedLength<20&&o()){const D=d.createCharSequence(s,n.originalStart,n.originalStart+n.originalLength-1),N=t.createCharSequence(s,n.modifiedStart,n.modifiedStart+n.modifiedLength-1);let I=L(D,N,o,!0).changes;m&&(I=i(I)),_=[];for(let M=0,O=I.length;M<O;M++)_.push(C.createFromDiffChange(I[M],D,N))}return new v(y,w,g,f,_)}}class r{constructor(s,n,d){this.shouldComputeCharChanges=d.shouldComputeCharChanges,this.shouldPostProcessCharChanges=d.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=d.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=d.shouldMakePrettyDiff,this.originalLines=s,this.modifiedLines=n,this.original=new S(s),this.modified=new S(n),this.continueLineDiff=c(d.maxComputationTime),this.continueCharDiff=c(d.maxComputationTime===0?0:Math.min(d.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const s=L(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),n=s.changes,d=s.quitEarly;if(this.shouldIgnoreTrimWhitespace){const m=[];for(let y=0,w=n.length;y<w;y++)m.push(v.createFromDiffResult(this.shouldIgnoreTrimWhitespace,n[y],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:d,changes:m}}const t=[];let o=0,h=0;for(let m=-1,y=n.length;m<y;m++){const w=m+1<y?n[m+1]:null,g=w?w.originalStart:this.originalLines.length,f=w?w.modifiedStart:this.modifiedLines.length;for(;o<g&&h<f;){const _=this.originalLines[o],D=this.modifiedLines[h];if(_!==D){{let N=a(_,1),I=a(D,1);for(;N>1&&I>1;){const M=_.charCodeAt(N-2),O=D.charCodeAt(I-2);if(M!==O)break;N--,I--}(N>1||I>1)&&this._pushTrimWhitespaceCharChange(t,o+1,1,N,h+1,1,I)}{let N=l(_,1),I=l(D,1);const M=_.length+1,O=D.length+1;for(;N<M&&I<O;){const R=_.charCodeAt(N-1),P=_.charCodeAt(I-1);if(R!==P)break;N++,I++}(N<M||I<O)&&this._pushTrimWhitespaceCharChange(t,o+1,N,M,h+1,I,O)}}o++,h++}w&&(t.push(v.createFromDiffResult(this.shouldIgnoreTrimWhitespace,w,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=w.originalLength,h+=w.modifiedLength)}return{quitEarly:d,changes:t}}_pushTrimWhitespaceCharChange(s,n,d,t,o,h,m){if(this._mergeTrimWhitespaceCharChange(s,n,d,t,o,h,m))return;let y;this.shouldComputeCharChanges&&(y=[new C(n,d,n,t,o,h,o,m)]),s.push(new v(n,n,o,o,y))}_mergeTrimWhitespaceCharChange(s,n,d,t,o,h,m){const y=s.length;if(y===0)return!1;const w=s[y-1];return w.originalEndLineNumber===0||w.modifiedEndLineNumber===0?!1:w.originalEndLineNumber+1===n&&w.modifiedEndLineNumber+1===o?(w.originalEndLineNumber=n,w.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&w.charChanges&&w.charChanges.push(new C(n,d,n,t,o,h,o,m)),!0):!1}}e.DiffComputer=r;function a(u,s){const n=k.firstNonWhitespaceIndex(u);return n===-1?s:n+1}function l(u,s){const n=k.lastNonWhitespaceIndex(u);return n===-1?s:n+2}function c(u){if(u===0)return()=>!0;const s=Date.now();return()=>Date.now()-s<u}}),define(ee[219],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class b{constructor(T,L,S,p,C,i){this.id=T,this.label=L,this.alias=S,this._precondition=p,this._run=C,this._contextKeyService=i}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=b}),define(ee[110],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=e.isThemeColor=void 0;function b(k){return k&&typeof k.id=="string"}e.isThemeColor=b,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(ee[111],te([0,1,110]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function k(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===b.EditorType.ICodeEditor:!1}e.isCodeEditor=k;function T(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===b.EditorType.IDiffEditor:!1}e.isDiffEditor=T;function L(S){return k(S)?S:T(S)?S.getModifiedEditor():null}e.getCodeEditor=L}),define(ee[53],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.ValidAnnotatedEditOperation=e.FindMatch=e.TextModelResolvedOptions=e.MinimapPosition=e.OverviewRulerLane=void 0;var b;(function(C){C[C.Left=1]="Left",C[C.Center=2]="Center",C[C.Right=4]="Right",C[C.Full=7]="Full"})(b=e.OverviewRulerLane||(e.OverviewRulerLane={}));var k;(function(C){C[C.Inline=1]="Inline",C[C.Gutter=2]="Gutter"})(k=e.MinimapPosition||(e.MinimapPosition={}));class T{constructor(i){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,i.tabSize|0),this.indentSize=i.tabSize|0,this.insertSpaces=Boolean(i.insertSpaces),this.defaultEOL=i.defaultEOL|0,this.trimAutoWhitespace=Boolean(i.trimAutoWhitespace)}equals(i){return this.tabSize===i.tabSize&&this.indentSize===i.indentSize&&this.insertSpaces===i.insertSpaces&&this.defaultEOL===i.defaultEOL&&this.trimAutoWhitespace===i.trimAutoWhitespace}createChangeEvent(i){return{tabSize:this.tabSize!==i.tabSize,indentSize:this.indentSize!==i.indentSize,insertSpaces:this.insertSpaces!==i.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==i.trimAutoWhitespace}}}e.TextModelResolvedOptions=T;class L{constructor(i,v){this._findMatchBrand=void 0,this.range=i,this.matches=v}}e.FindMatch=L;class S{constructor(i,v,r,a,l,c){this.identifier=i,this.range=v,this.text=r,this.forceMoveMarkers=a,this.isAutoWhitespaceEdit=l,this._isTracked=c}}e.ValidAnnotatedEditOperation=S;class p{constructor(i,v,r){this.reverseEdits=i,this.changes=v,this.trimAutoWhitespaceLineNumbers=r}}e.ApplyEditsResult=p}),define(ee[378],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class b{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function k(L,S,p,C,i){i.spacesDiff=0,i.looksLikeAlignment=!1;let v;for(v=0;v<S&&v<C;v++){let n=L.charCodeAt(v),d=p.charCodeAt(v);if(n!==d)break}let r=0,a=0;for(let n=v;n<S;n++)L.charCodeAt(n)===32?r++:a++;let l=0,c=0;for(let n=v;n<C;n++)p.charCodeAt(n)===32?l++:c++;if(r>0&&a>0||l>0&&c>0)return;let u=Math.abs(a-c),s=Math.abs(r-l);if(u===0){i.spacesDiff=s,s>0&&0<=l-1&&l-1<L.length&&l<p.length&&p.charCodeAt(l)!==32&&L.charCodeAt(l-1)===32&&L.charCodeAt(L.length-1)===44&&(i.looksLikeAlignment=!0);return}if(s%u==0){i.spacesDiff=s/u;return}}function T(L,S,p){const C=Math.min(L.getLineCount(),1e4);let i=0,v=0,r="",a=0;const l=[2,4,6,8,3,5,7],c=8;let u=[0,0,0,0,0,0,0,0,0],s=new b;for(let t=1;t<=C;t++){let o=L.getLineLength(t),h=L.getLineContent(t);const m=o<=65536;let y=!1,w=0,g=0,f=0;for(let D=0,N=o;D<N;D++){let I=m?h.charCodeAt(D):L.getLineCharCode(t,D);if(I===9)f++;else if(I===32)g++;else{y=!0,w=D;break}}if(!y||(f>0?i++:g>1&&v++,k(r,a,h,w,s),s.looksLikeAlignment&&!(p&&S===s.spacesDiff)))continue;let _=s.spacesDiff;_<=c&&u[_]++,r=h,a=w}let n=p;i!==v&&(n=i<v);let d=S;if(n){let t=n?0:.1*C;l.forEach(o=>{let h=u[o];h>t&&(t=h,d=o)}),d===4&&u[4]>0&&u[2]>0&&u[2]>=u[4]/2&&(d=2)}return{insertSpaces:n,tabSize:d}}e.guessIndentation=T}),define(ee[379],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function b(P){return(P.metadata&1)>>>0}e.getNodeColor=b;function k(P,A){P.metadata=P.metadata&254|A<<0}function T(P){return(P.metadata&2)>>>1==1}function L(P,A){P.metadata=P.metadata&253|(A?1:0)<<1}function S(P){return(P.metadata&4)>>>2==1}function p(P,A){P.metadata=P.metadata&251|(A?1:0)<<2}function C(P){return(P.metadata&24)>>>3}function i(P,A){P.metadata=P.metadata&231|A<<3}function v(P){return(P.metadata&32)>>>5==1}function r(P,A){P.metadata=P.metadata&223|(A?1:0)<<5}class a{constructor(A,F,E){this.metadata=0,this.parent=this,this.left=this,this.right=this,k(this,1),this.start=F,this.end=E,this.delta=0,this.maxEnd=E,this.id=A,this.ownerId=0,this.options=null,p(this,!1),i(this,1),r(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=E,this.range=null,L(this,!1)}reset(A,F,E,W){this.start=F,this.end=E,this.maxEnd=E,this.cachedVersionId=A,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=E,this.range=W}setOptions(A){this.options=A;let F=this.options.className;p(this,F==="squiggly-error"||F==="squiggly-warning"||F==="squiggly-info"),i(this,this.options.stickiness),r(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(A,F,E){this.cachedVersionId!==E&&(this.range=null),this.cachedVersionId=E,this.cachedAbsoluteStart=A,this.cachedAbsoluteEnd=F}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=a,e.SENTINEL=new a(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,k(e.SENTINEL,0);class l{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(A,F,E,W,V){return this.root===e.SENTINEL?[]:m(this,A,F,E,W,V)}search(A,F,E){return this.root===e.SENTINEL?[]:h(this,A,F,E)}collectNodesFromOwner(A){return t(this,A)}collectNodesPostOrder(){return o(this)}insert(A){y(this,A),this._normalizeDeltaIfNecessary()}delete(A){g(this,A),this._normalizeDeltaIfNecessary()}resolveNode(A,F){const E=A;let W=0;for(;A!==this.root;)A===A.parent.right&&(W+=A.parent.delta),A=A.parent;const V=E.start+W,$=E.end+W;E.setCachedOffsets(V,$,F)}acceptReplace(A,F,E,W){const V=n(this,A,A+F);for(let $=0,Z=V.length;$<Z;$++){const X=V[$];g(this,X)}this._normalizeDeltaIfNecessary(),d(this,A,A+F,E),this._normalizeDeltaIfNecessary();for(let $=0,Z=V.length;$<Z;$++){const X=V[$];X.start=X.cachedAbsoluteStart,X.end=X.cachedAbsoluteEnd,s(X,A,A+F,E,W),X.maxEnd=X.end,y(this,X)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,c(this))}}e.IntervalTree=l;function c(P){let A=P.root,F=0;for(;A!==e.SENTINEL;){if(A.left!==e.SENTINEL&&!T(A.left)){A=A.left;continue}if(A.right!==e.SENTINEL&&!T(A.right)){F+=A.delta,A=A.right;continue}A.start=F+A.start,A.end=F+A.end,A.delta=0,M(A),L(A,!0),L(A.left,!1),L(A.right,!1),A===A.parent.right&&(F-=A.parent.delta),A=A.parent}L(P.root,!1)}function u(P,A,F,E){return P<F?!0:P>F||E===1?!1:E===2?!0:A}function s(P,A,F,E,W){const V=C(P),$=V===0||V===2,Z=V===1||V===2,X=F-A,J=E,ie=Math.min(X,J),de=P.start;let ue=!1;const q=P.end;let B=!1;A<=de&&q<=F&&v(P)&&(P.start=A,ue=!0,P.end=A,B=!0);{const H=W?1:X>0?2:0;!ue&&u(de,$,A,H)&&(ue=!0),!B&&u(q,Z,A,H)&&(B=!0)}if(ie>0&&!W){const H=X>J?2:0;!ue&&u(de,$,A+ie,H)&&(ue=!0),!B&&u(q,Z,A+ie,H)&&(B=!0)}{const H=W?1:0;!ue&&u(de,$,F,H)&&(P.start=A+J,ue=!0),!B&&u(q,Z,F,H)&&(P.end=A+J,B=!0)}const j=J-X;ue||(P.start=Math.max(0,de+j)),B||(P.end=Math.max(0,q+j)),P.start>P.end&&(P.end=P.start)}e.nodeAcceptEdit=s;function n(P,A,F){let E=P.root,W=0,V=0,$=0,Z=0,X=[],J=0;for(;E!==e.SENTINEL;){if(T(E)){L(E.left,!1),L(E.right,!1),E===E.parent.right&&(W-=E.parent.delta),E=E.parent;continue}if(!T(E.left)){if(V=W+E.maxEnd,V<A){L(E,!0);continue}if(E.left!==e.SENTINEL){E=E.left;continue}}if($=W+E.start,$>F){L(E,!0);continue}if(Z=W+E.end,Z>=A&&(E.setCachedOffsets($,Z,0),X[J++]=E),L(E,!0),E.right!==e.SENTINEL&&!T(E.right)){W+=E.delta,E=E.right;continue}}return L(P.root,!1),X}function d(P,A,F,E){let W=P.root,V=0,$=0,Z=0;const X=E-(F-A);for(;W!==e.SENTINEL;){if(T(W)){L(W.left,!1),L(W.right,!1),W===W.parent.right&&(V-=W.parent.delta),M(W),W=W.parent;continue}if(!T(W.left)){if($=V+W.maxEnd,$<A){L(W,!0);continue}if(W.left!==e.SENTINEL){W=W.left;continue}}if(Z=V+W.start,Z>F){W.start+=X,W.end+=X,W.delta+=X,(W.delta<-1073741824||W.delta>1073741824)&&(P.requestNormalizeDelta=!0),L(W,!0);continue}if(L(W,!0),W.right!==e.SENTINEL&&!T(W.right)){V+=W.delta,W=W.right;continue}}L(P.root,!1)}function t(P,A){let F=P.root,E=[],W=0;for(;F!==e.SENTINEL;){if(T(F)){L(F.left,!1),L(F.right,!1),F=F.parent;continue}if(F.left!==e.SENTINEL&&!T(F.left)){F=F.left;continue}if(F.ownerId===A&&(E[W++]=F),L(F,!0),F.right!==e.SENTINEL&&!T(F.right)){F=F.right;continue}}return L(P.root,!1),E}function o(P){let A=P.root,F=[],E=0;for(;A!==e.SENTINEL;){if(T(A)){L(A.left,!1),L(A.right,!1),A=A.parent;continue}if(A.left!==e.SENTINEL&&!T(A.left)){A=A.left;continue}if(A.right!==e.SENTINEL&&!T(A.right)){A=A.right;continue}F[E++]=A,L(A,!0)}return L(P.root,!1),F}function h(P,A,F,E){let W=P.root,V=0,$=0,Z=0,X=[],J=0;for(;W!==e.SENTINEL;){if(T(W)){L(W.left,!1),L(W.right,!1),W===W.parent.right&&(V-=W.parent.delta),W=W.parent;continue}if(W.left!==e.SENTINEL&&!T(W.left)){W=W.left;continue}$=V+W.start,Z=V+W.end,W.setCachedOffsets($,Z,E);let ie=!0;if(A&&W.ownerId&&W.ownerId!==A&&(ie=!1),F&&S(W)&&(ie=!1),ie&&(X[J++]=W),L(W,!0),W.right!==e.SENTINEL&&!T(W.right)){V+=W.delta,W=W.right;continue}}return L(P.root,!1),X}function m(P,A,F,E,W,V){let $=P.root,Z=0,X=0,J=0,ie=0,de=[],ue=0;for(;$!==e.SENTINEL;){if(T($)){L($.left,!1),L($.right,!1),$===$.parent.right&&(Z-=$.parent.delta),$=$.parent;continue}if(!T($.left)){if(X=Z+$.maxEnd,X<A){L($,!0);continue}if($.left!==e.SENTINEL){$=$.left;continue}}if(J=Z+$.start,J>F){L($,!0);continue}if(ie=Z+$.end,ie>=A){$.setCachedOffsets(J,ie,V);let q=!0;E&&$.ownerId&&$.ownerId!==E&&(q=!1),W&&S($)&&(q=!1),q&&(de[ue++]=$)}if(L($,!0),$.right!==e.SENTINEL&&!T($.right)){Z+=$.delta,$=$.right;continue}}return L(P.root,!1),de}function y(P,A){if(P.root===e.SENTINEL)return A.parent=e.SENTINEL,A.left=e.SENTINEL,A.right=e.SENTINEL,k(A,0),P.root=A,P.root;w(P,A),O(A.parent);let F=A;for(;F!==P.root&&b(F.parent)===1;)if(F.parent===F.parent.parent.left){const E=F.parent.parent.right;b(E)===1?(k(F.parent,0),k(E,0),k(F.parent.parent,1),F=F.parent.parent):(F===F.parent.right&&(F=F.parent,D(P,F)),k(F.parent,0),k(F.parent.parent,1),N(P,F.parent.parent))}else{const E=F.parent.parent.left;b(E)===1?(k(F.parent,0),k(E,0),k(F.parent.parent,1),F=F.parent.parent):(F===F.parent.left&&(F=F.parent,N(P,F)),k(F.parent,0),k(F.parent.parent,1),D(P,F.parent.parent))}return k(P.root,0),A}function w(P,A){let F=0,E=P.root;const W=A.start,V=A.end;for(;;)if(R(W,V,E.start+F,E.end+F)<0)if(E.left===e.SENTINEL){A.start-=F,A.end-=F,A.maxEnd-=F,E.left=A;break}else E=E.left;else if(E.right===e.SENTINEL){A.start-=F+E.delta,A.end-=F+E.delta,A.maxEnd-=F+E.delta,E.right=A;break}else F+=E.delta,E=E.right;A.parent=E,A.left=e.SENTINEL,A.right=e.SENTINEL,k(A,1)}function g(P,A){let F,E;if(A.left===e.SENTINEL?(F=A.right,E=A,F.delta+=A.delta,(F.delta<-1073741824||F.delta>1073741824)&&(P.requestNormalizeDelta=!0),F.start+=A.delta,F.end+=A.delta):A.right===e.SENTINEL?(F=A.left,E=A):(E=f(A.right),F=E.right,F.start+=E.delta,F.end+=E.delta,F.delta+=E.delta,(F.delta<-1073741824||F.delta>1073741824)&&(P.requestNormalizeDelta=!0),E.start+=A.delta,E.end+=A.delta,E.delta=A.delta,(E.delta<-1073741824||E.delta>1073741824)&&(P.requestNormalizeDelta=!0)),E===P.root){P.root=F,k(F,0),A.detach(),_(),M(F),P.root.parent=e.SENTINEL;return}let W=b(E)===1;if(E===E.parent.left?E.parent.left=F:E.parent.right=F,E===A?F.parent=E.parent:(E.parent===A?F.parent=E:F.parent=E.parent,E.left=A.left,E.right=A.right,E.parent=A.parent,k(E,b(A)),A===P.root?P.root=E:A===A.parent.left?A.parent.left=E:A.parent.right=E,E.left!==e.SENTINEL&&(E.left.parent=E),E.right!==e.SENTINEL&&(E.right.parent=E)),A.detach(),W){O(F.parent),E!==A&&(O(E),O(E.parent)),_();return}O(F),O(F.parent),E!==A&&(O(E),O(E.parent));let V;for(;F!==P.root&&b(F)===0;)F===F.parent.left?(V=F.parent.right,b(V)===1&&(k(V,0),k(F.parent,1),D(P,F.parent),V=F.parent.right),b(V.left)===0&&b(V.right)===0?(k(V,1),F=F.parent):(b(V.right)===0&&(k(V.left,0),k(V,1),N(P,V),V=F.parent.right),k(V,b(F.parent)),k(F.parent,0),k(V.right,0),D(P,F.parent),F=P.root)):(V=F.parent.left,b(V)===1&&(k(V,0),k(F.parent,1),N(P,F.parent),V=F.parent.left),b(V.left)===0&&b(V.right)===0?(k(V,1),F=F.parent):(b(V.left)===0&&(k(V.right,0),k(V,1),D(P,V),V=F.parent.left),k(V,b(F.parent)),k(F.parent,0),k(V.left,0),N(P,F.parent),F=P.root));k(F,0),_()}function f(P){for(;P.left!==e.SENTINEL;)P=P.left;return P}function _(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function D(P,A){const F=A.right;F.delta+=A.delta,(F.delta<-1073741824||F.delta>1073741824)&&(P.requestNormalizeDelta=!0),F.start+=A.delta,F.end+=A.delta,A.right=F.left,F.left!==e.SENTINEL&&(F.left.parent=A),F.parent=A.parent,A.parent===e.SENTINEL?P.root=F:A===A.parent.left?A.parent.left=F:A.parent.right=F,F.left=A,A.parent=F,M(A),M(F)}function N(P,A){const F=A.left;A.delta-=F.delta,(A.delta<-1073741824||A.delta>1073741824)&&(P.requestNormalizeDelta=!0),A.start-=F.delta,A.end-=F.delta,A.left=F.right,F.right!==e.SENTINEL&&(F.right.parent=A),F.parent=A.parent,A.parent===e.SENTINEL?P.root=F:A===A.parent.right?A.parent.right=F:A.parent.left=F,F.right=A,A.parent=F,M(A),M(F)}function I(P){let A=P.end;if(P.left!==e.SENTINEL){const F=P.left.maxEnd;F>A&&(A=F)}if(P.right!==e.SENTINEL){const F=P.right.maxEnd+P.delta;F>A&&(A=F)}return A}function M(P){P.maxEnd=I(P)}e.recomputeMaxEnd=M;function O(P){for(;P!==e.SENTINEL;){const A=I(P);if(P.maxEnd===A)return;P.maxEnd=A,P=P.parent}}function R(P,A,F,E){return P===F?A-E:P-F}e.intervalCompare=R}),define(ee[380],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class b{constructor(u,s){this.piece=u,this.color=s,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return k(this.right);let u=this;for(;u.parent!==e.SENTINEL&&u.parent.left!==u;)u=u.parent;return u.parent===e.SENTINEL?e.SENTINEL:u.parent}prev(){if(this.left!==e.SENTINEL)return T(this.left);let u=this;for(;u.parent!==e.SENTINEL&&u.parent.right!==u;)u=u.parent;return u.parent===e.SENTINEL?e.SENTINEL:u.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=b,e.SENTINEL=new b(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function k(c){for(;c.left!==e.SENTINEL;)c=c.left;return c}e.leftest=k;function T(c){for(;c.right!==e.SENTINEL;)c=c.right;return c}e.righttest=T;function L(c){return c===e.SENTINEL?0:c.size_left+c.piece.length+L(c.right)}e.calculateSize=L;function S(c){return c===e.SENTINEL?0:c.lf_left+c.piece.lineFeedCnt+S(c.right)}e.calculateLF=S;function p(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=p;function C(c,u){let s=u.right;s.size_left+=u.size_left+(u.piece?u.piece.length:0),s.lf_left+=u.lf_left+(u.piece?u.piece.lineFeedCnt:0),u.right=s.left,s.left!==e.SENTINEL&&(s.left.parent=u),s.parent=u.parent,u.parent===e.SENTINEL?c.root=s:u.parent.left===u?u.parent.left=s:u.parent.right=s,s.left=u,u.parent=s}e.leftRotate=C;function i(c,u){let s=u.left;u.left=s.right,s.right!==e.SENTINEL&&(s.right.parent=u),s.parent=u.parent,u.size_left-=s.size_left+(s.piece?s.piece.length:0),u.lf_left-=s.lf_left+(s.piece?s.piece.lineFeedCnt:0),u.parent===e.SENTINEL?c.root=s:u===u.parent.right?u.parent.right=s:u.parent.left=s,s.right=u,u.parent=s}e.rightRotate=i;function v(c,u){let s,n;if(u.left===e.SENTINEL?(n=u,s=n.right):u.right===e.SENTINEL?(n=u,s=n.left):(n=k(u.right),s=n.right),n===c.root){c.root=s,s.color=0,u.detach(),p(),c.root.parent=e.SENTINEL;return}let d=n.color===1;if(n===n.parent.left?n.parent.left=s:n.parent.right=s,n===u?(s.parent=n.parent,l(c,s)):(n.parent===u?s.parent=n:s.parent=n.parent,l(c,s),n.left=u.left,n.right=u.right,n.parent=u.parent,n.color=u.color,u===c.root?c.root=n:u===u.parent.left?u.parent.left=n:u.parent.right=n,n.left!==e.SENTINEL&&(n.left.parent=n),n.right!==e.SENTINEL&&(n.right.parent=n),n.size_left=u.size_left,n.lf_left=u.lf_left,l(c,n)),u.detach(),s.parent.left===s){let o=L(s),h=S(s);if(o!==s.parent.size_left||h!==s.parent.lf_left){let m=o-s.parent.size_left,y=h-s.parent.lf_left;s.parent.size_left=o,s.parent.lf_left=h,a(c,s.parent,m,y)}}if(l(c,s.parent),d){p();return}let t;for(;s!==c.root&&s.color===0;)s===s.parent.left?(t=s.parent.right,t.color===1&&(t.color=0,s.parent.color=1,C(c,s.parent),t=s.parent.right),t.left.color===0&&t.right.color===0?(t.color=1,s=s.parent):(t.right.color===0&&(t.left.color=0,t.color=1,i(c,t),t=s.parent.right),t.color=s.parent.color,s.parent.color=0,t.right.color=0,C(c,s.parent),s=c.root)):(t=s.parent.left,t.color===1&&(t.color=0,s.parent.color=1,i(c,s.parent),t=s.parent.left),t.left.color===0&&t.right.color===0?(t.color=1,s=s.parent):(t.left.color===0&&(t.right.color=0,t.color=1,C(c,t),t=s.parent.left),t.color=s.parent.color,s.parent.color=0,t.left.color=0,i(c,s.parent),s=c.root));s.color=0,p()}e.rbDelete=v;function r(c,u){for(l(c,u);u!==c.root&&u.parent.color===1;)if(u.parent===u.parent.parent.left){const s=u.parent.parent.right;s.color===1?(u.parent.color=0,s.color=0,u.parent.parent.color=1,u=u.parent.parent):(u===u.parent.right&&(u=u.parent,C(c,u)),u.parent.color=0,u.parent.parent.color=1,i(c,u.parent.parent))}else{const s=u.parent.parent.left;s.color===1?(u.parent.color=0,s.color=0,u.parent.parent.color=1,u=u.parent.parent):(u===u.parent.left&&(u=u.parent,i(c,u)),u.parent.color=0,u.parent.parent.color=1,C(c,u.parent.parent))}c.root.color=0}e.fixInsert=r;function a(c,u,s,n){for(;u!==c.root&&u!==e.SENTINEL;)u.parent.left===u&&(u.parent.size_left+=s,u.parent.lf_left+=n),u=u.parent}e.updateTreeMetadata=a;function l(c,u){let s=0,n=0;if(u!==c.root){if(s===0){for(;u!==c.root&&u===u.parent.right;)u=u.parent;if(u===c.root)return;u=u.parent,s=L(u.left)-u.size_left,n=S(u.left)-u.lf_left,u.size_left+=s,u.lf_left+=n}for(;u!==c.root&&(s!==0||n!==0);)u.parent.left===u&&(u.parent.size_left+=s,u.parent.lf_left+=n),u=u.parent}}e.recomputeTreeMetadata=l}),define(ee[220],te([0,1,103,83]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function T(C){return C.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class L{constructor(i,v,r,a){this.oldPosition=i,this.oldText=v,this.newPosition=r,this.newText=a}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${T(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${T(this.oldText)}")`:`(replace@${this.oldPosition} "${T(this.oldText)}" with "${T(this.newText)}")`}static _writeStringSize(i){return 4+2*i.length}static _writeString(i,v,r){const a=v.length;b.writeUInt32BE(i,a,r),r+=4;for(let l=0;l<a;l++)b.writeUInt16LE(i,v.charCodeAt(l),r),r+=2;return r}static _readString(i,v){const r=b.readUInt32BE(i,v);return v+=4,(0,k.decodeUTF16LE)(i,v,r)}writeSize(){return 4+4+L._writeStringSize(this.oldText)+L._writeStringSize(this.newText)}write(i,v){return b.writeUInt32BE(i,this.oldPosition,v),v+=4,b.writeUInt32BE(i,this.newPosition,v),v+=4,v=L._writeString(i,this.oldText,v),v=L._writeString(i,this.newText,v),v}static read(i,v,r){const a=b.readUInt32BE(i,v);v+=4;const l=b.readUInt32BE(i,v);v+=4;const c=L._readString(i,v);v+=L._writeStringSize(c);const u=L._readString(i,v);return v+=L._writeStringSize(u),r.push(new L(a,c,l,u)),v}}e.TextChange=L;function S(C,i){return C===null||C.length===0?i:new p(C,i).compress()}e.compressConsecutiveTextChanges=S;class p{constructor(i,v){this._prevEdits=i,this._currEdits=v,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let i=0,v=0,r=this._getPrev(i),a=this._getCurr(v);for(;i<this._prevLen||v<this._currLen;){if(r===null){this._acceptCurr(a),a=this._getCurr(++v);continue}if(a===null){this._acceptPrev(r),r=this._getPrev(++i);continue}if(a.oldEnd<=r.newPosition){this._acceptCurr(a),a=this._getCurr(++v);continue}if(r.newEnd<=a.oldPosition){this._acceptPrev(r),r=this._getPrev(++i);continue}if(a.oldPosition<r.newPosition){const[n,d]=p._splitCurr(a,r.newPosition-a.oldPosition);this._acceptCurr(n),a=d;continue}if(r.newPosition<a.oldPosition){const[n,d]=p._splitPrev(r,a.oldPosition-r.newPosition);this._acceptPrev(n),r=d;continue}let u,s;if(a.oldEnd===r.newEnd)u=r,s=a,r=this._getPrev(++i),a=this._getCurr(++v);else if(a.oldEnd<r.newEnd){const[n,d]=p._splitPrev(r,a.oldLength);u=n,s=a,r=d,a=this._getCurr(++v)}else{const[n,d]=p._splitCurr(a,r.newLength);u=r,s=n,r=this._getPrev(++i),a=d}this._result[this._resultLen++]=new L(u.oldPosition,u.oldText,s.newPosition,s.newText),this._prevDeltaOffset+=u.newLength-u.oldLength,this._currDeltaOffset+=s.newLength-s.oldLength}const l=p._merge(this._result);return p._removeNoOps(l)}_acceptCurr(i){this._result[this._resultLen++]=p._rebaseCurr(this._prevDeltaOffset,i),this._currDeltaOffset+=i.newLength-i.oldLength}_getCurr(i){return i<this._currLen?this._currEdits[i]:null}_acceptPrev(i){this._result[this._resultLen++]=p._rebasePrev(this._currDeltaOffset,i),this._prevDeltaOffset+=i.newLength-i.oldLength}_getPrev(i){return i<this._prevLen?this._prevEdits[i]:null}static _rebaseCurr(i,v){return new L(v.oldPosition-i,v.oldText,v.newPosition,v.newText)}static _rebasePrev(i,v){return new L(v.oldPosition,v.oldText,v.newPosition+i,v.newText)}static _splitPrev(i,v){const r=i.newText.substr(0,v),a=i.newText.substr(v);return[new L(i.oldPosition,i.oldText,i.newPosition,r),new L(i.oldEnd,"",i.newPosition+v,a)]}static _splitCurr(i,v){const r=i.oldText.substr(0,v),a=i.oldText.substr(v);return[new L(i.oldPosition,r,i.newPosition,i.newText),new L(i.oldPosition+v,a,i.newEnd,"")]}static _merge(i){if(i.length===0)return i;let v=[],r=0,a=i[0];for(let l=1;l<i.length;l++){const c=i[l];a.oldEnd===c.oldPosition?a=new L(a.oldPosition,a.oldText+c.oldText,a.newPosition,a.newText+c.newText):(v[r++]=a,a=c)}return v[r++]=a,v}static _removeNoOps(i){if(i.length===0)return i;let v=[],r=0;for(let a=0;a<i.length;a++){const l=i[a];l.oldText!==l.newText&&(v[r++]=l)}return v}}}),define(ee[96],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class b{constructor(){this.changeType=1}}e.ModelRawFlush=b;class k{constructor(a,l,c,u,s){this.ownerId=a,this.lineNumber=l,this.column=c,this.options=u,this.order=s}static applyInjectedText(a,l){if(!l||l.length===0)return a;let c="",u=0;for(const s of l)c+=a.substring(u,s.column-1),u=s.column-1,c+=s.options.content;return c+=a.substring(u),c}static fromDecorations(a){const l=[];for(const c of a)c.options.before&&c.options.before.content.length>0&&l.push(new k(c.ownerId,c.range.startLineNumber,c.range.startColumn,c.options.before,0)),c.options.after&&c.options.after.content.length>0&&l.push(new k(c.ownerId,c.range.endLineNumber,c.range.endColumn,c.options.after,1));return l.sort((c,u)=>c.lineNumber===u.lineNumber?c.column===u.column?c.order-u.order:c.column-u.column:c.lineNumber-u.lineNumber),l}}e.LineInjectedText=k;class T{constructor(a,l,c){this.changeType=2,this.lineNumber=a,this.detail=l,this.injectedText=c}}e.ModelRawLineChanged=T;class L{constructor(a,l){this.changeType=3,this.fromLineNumber=a,this.toLineNumber=l}}e.ModelRawLinesDeleted=L;class S{constructor(a,l,c,u){this.changeType=4,this.injectedTexts=u,this.fromLineNumber=a,this.toLineNumber=l,this.detail=c}}e.ModelRawLinesInserted=S;class p{constructor(){this.changeType=5}}e.ModelRawEOLChanged=p;class C{constructor(a,l,c,u){this.changes=a,this.versionId=l,this.isUndoing=c,this.isRedoing=u,this.resultingSelection=null}containsEvent(a){for(let l=0,c=this.changes.length;l<c;l++)if(this.changes[l].changeType===a)return!0;return!1}static merge(a,l){const c=[].concat(a.changes).concat(l.changes),u=l.versionId,s=a.isUndoing||l.isUndoing,n=a.isRedoing||l.isRedoing;return new C(c,u,s,n)}}e.ModelRawContentChangedEvent=C;class i{constructor(a){this.changes=a}}e.ModelInjectedTextChangedEvent=i;class v{constructor(a,l){this.rawContentChangedEvent=a,this.contentChangedEvent=l}merge(a){const l=C.merge(this.rawContentChangedEvent,a.rawContentChangedEvent),c=v._mergeChangeEvents(this.contentChangedEvent,a.contentChangedEvent);return new v(l,c)}static _mergeChangeEvents(a,l){const c=[].concat(a.changes).concat(l.changes),u=l.eol,s=l.versionId,n=a.isUndoing||l.isUndoing,d=a.isRedoing||l.isRedoing,t=a.isFlush||l.isFlush;return{changes:c,eol:u,versionId:s,isUndoing:n,isRedoing:d,isFlush:t}}}e.InternalModelContentChangeEvent=v}),define(ee[171],te([0,1,8,109,13,3,53]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.SearchData=e.isMultilineRegexSource=e.SearchParams=void 0;const p=999;class C{constructor(t,o,h,m){this.searchString=t,this.isRegex=o,this.matchCase=h,this.wordSeparators=m}parseSearchRequest(){if(this.searchString==="")return null;let t;this.isRegex?t=i(this.searchString):t=this.searchString.indexOf(`
`)>=0;let o=null;try{o=b.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:t,global:!0,unicode:!0})}catch(m){return null}if(!o)return null;let h=!this.isRegex&&!t;return h&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(h=this.matchCase),new v(o,this.wordSeparators?(0,k.getMapForWordSeparators)(this.wordSeparators):null,h?this.searchString:null)}}e.SearchParams=C;function i(d){if(!d||d.length===0)return!1;for(let t=0,o=d.length;t<o;t++)if(d.charCodeAt(t)===92){if(t++,t>=o)break;const m=d.charCodeAt(t);if(m===110||m===114||m===87||m===119)return!0}return!1}e.isMultilineRegexSource=i;class v{constructor(t,o,h){this.regex=t,this.wordSeparators=o,this.simpleSearch=h}}e.SearchData=v;function r(d,t,o){if(!o)return new S.FindMatch(d,null);let h=[];for(let m=0,y=t.length;m<y;m++)h[m]=t[m];return new S.FindMatch(d,h)}e.createFindMatch=r;class a{constructor(t){let o=[],h=0;for(let m=0,y=t.length;m<y;m++)t.charCodeAt(m)===10&&(o[h++]=m);this._lineFeedsOffsets=o}findLineFeedCountBeforeOffset(t){const o=this._lineFeedsOffsets;let h=0,m=o.length-1;if(m===-1||t<=o[0])return 0;for(;h<m;){const y=h+((m-h)/2>>0);o[y]>=t?m=y-1:o[y+1]>=t?(h=y,m=y):h=y+1}return h+1}}class l{static findMatches(t,o,h,m,y){const w=o.parseSearchRequest();return w?w.regex.multiline?this._doFindMatchesMultiline(t,h,new n(w.wordSeparators,w.regex),m,y):this._doFindMatchesLineByLine(t,h,w,m,y):[]}static _getMultilineMatchRange(t,o,h,m,y,w){let g,f=0;m?(f=m.findLineFeedCountBeforeOffset(y),g=o+y+f):g=o+y;let _;if(m){let M=m.findLineFeedCountBeforeOffset(y+w.length)-f;_=g+w.length+M}else _=g+w.length;const D=t.getPositionAt(g),N=t.getPositionAt(_);return new L.Range(D.lineNumber,D.column,N.lineNumber,N.column)}static _doFindMatchesMultiline(t,o,h,m,y){const w=t.getOffsetAt(o.getStartPosition()),g=t.getValueInRange(o,1),f=t.getEOL()===`\r
`?new a(g):null,_=[];let D=0,N;for(h.reset(0);N=h.next(g);)if(_[D++]=r(this._getMultilineMatchRange(t,w,g,f,N.index,N[0]),N,m),D>=y)return _;return _}static _doFindMatchesLineByLine(t,o,h,m,y){const w=[];let g=0;if(o.startLineNumber===o.endLineNumber){const _=t.getLineContent(o.startLineNumber).substring(o.startColumn-1,o.endColumn-1);return g=this._findMatchesInLine(h,_,o.startLineNumber,o.startColumn-1,g,w,m,y),w}const f=t.getLineContent(o.startLineNumber).substring(o.startColumn-1);g=this._findMatchesInLine(h,f,o.startLineNumber,o.startColumn-1,g,w,m,y);for(let _=o.startLineNumber+1;_<o.endLineNumber&&g<y;_++)g=this._findMatchesInLine(h,t.getLineContent(_),_,0,g,w,m,y);if(g<y){const _=t.getLineContent(o.endLineNumber).substring(0,o.endColumn-1);g=this._findMatchesInLine(h,_,o.endLineNumber,0,g,w,m,y)}return w}static _findMatchesInLine(t,o,h,m,y,w,g,f){const _=t.wordSeparators;if(!g&&t.simpleSearch){const I=t.simpleSearch,M=I.length,O=o.length;let R=-M;for(;(R=o.indexOf(I,R+M))!==-1;)if((!_||s(_,o,O,R,M))&&(w[y++]=new S.FindMatch(new L.Range(h,R+1+m,h,R+1+M+m),null),y>=f))return y;return y}const D=new n(t.wordSeparators,t.regex);let N;D.reset(0);do if(N=D.next(o),N&&(w[y++]=r(new L.Range(h,N.index+1+m,h,N.index+1+N[0].length+m),N,g),y>=f))return y;while(N);return y}static findNextMatch(t,o,h,m){const y=o.parseSearchRequest();if(!y)return null;const w=new n(y.wordSeparators,y.regex);return y.regex.multiline?this._doFindNextMatchMultiline(t,h,w,m):this._doFindNextMatchLineByLine(t,h,w,m)}static _doFindNextMatchMultiline(t,o,h,m){const y=new T.Position(o.lineNumber,1),w=t.getOffsetAt(y),g=t.getLineCount(),f=t.getValueInRange(new L.Range(y.lineNumber,y.column,g,t.getLineMaxColumn(g)),1),_=t.getEOL()===`\r
`?new a(f):null;h.reset(o.column-1);let D=h.next(f);return D?r(this._getMultilineMatchRange(t,w,f,_,D.index,D[0]),D,m):o.lineNumber!==1||o.column!==1?this._doFindNextMatchMultiline(t,new T.Position(1,1),h,m):null}static _doFindNextMatchLineByLine(t,o,h,m){const y=t.getLineCount(),w=o.lineNumber,g=t.getLineContent(w),f=this._findFirstMatchInLine(h,g,w,o.column,m);if(f)return f;for(let _=1;_<=y;_++){const D=(w+_-1)%y,N=t.getLineContent(D+1),I=this._findFirstMatchInLine(h,N,D+1,1,m);if(I)return I}return null}static _findFirstMatchInLine(t,o,h,m,y){t.reset(m-1);const w=t.next(o);return w?r(new L.Range(h,w.index+1,h,w.index+1+w[0].length),w,y):null}static findPreviousMatch(t,o,h,m){const y=o.parseSearchRequest();if(!y)return null;const w=new n(y.wordSeparators,y.regex);return y.regex.multiline?this._doFindPreviousMatchMultiline(t,h,w,m):this._doFindPreviousMatchLineByLine(t,h,w,m)}static _doFindPreviousMatchMultiline(t,o,h,m){const y=this._doFindMatchesMultiline(t,new L.Range(1,1,o.lineNumber,o.column),h,m,10*p);if(y.length>0)return y[y.length-1];const w=t.getLineCount();return o.lineNumber!==w||o.column!==t.getLineMaxColumn(w)?this._doFindPreviousMatchMultiline(t,new T.Position(w,t.getLineMaxColumn(w)),h,m):null}static _doFindPreviousMatchLineByLine(t,o,h,m){const y=t.getLineCount(),w=o.lineNumber,g=t.getLineContent(w).substring(0,o.column-1),f=this._findLastMatchInLine(h,g,w,m);if(f)return f;for(let _=1;_<=y;_++){const D=(y+w-_-1)%y,N=t.getLineContent(D+1),I=this._findLastMatchInLine(h,N,D+1,m);if(I)return I}return null}static _findLastMatchInLine(t,o,h,m){let y=null,w;for(t.reset(0);w=t.next(o);)y=r(new L.Range(h,w.index+1,h,w.index+1+w[0].length),w,m);return y}}e.TextModelSearch=l;function c(d,t,o,h,m){if(h===0)return!0;const y=t.charCodeAt(h-1);if(d.get(y)!==0||y===13||y===10)return!0;if(m>0){const w=t.charCodeAt(h);if(d.get(w)!==0)return!0}return!1}function u(d,t,o,h,m){if(h+m===o)return!0;const y=t.charCodeAt(h+m);if(d.get(y)!==0||y===13||y===10)return!0;if(m>0){const w=t.charCodeAt(h+m-1);if(d.get(w)!==0)return!0}return!1}function s(d,t,o,h,m){return c(d,t,o,h,m)&&u(d,t,o,h,m)}e.isValidMatch=s;class n{constructor(t,o){this._wordSeparators=t,this._searchRegex=o,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(t){this._searchRegex.lastIndex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(t){const o=t.length;let h;do{if(this._prevMatchStartIndex+this._prevMatchLength===o||(h=this._searchRegex.exec(t),!h))return null;const m=h.index,y=h[0].length;if(m===this._prevMatchStartIndex&&y===this._prevMatchLength){if(y===0){b.getNextCodePoint(t,o,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=m,this._prevMatchLength=y,!this._wordSeparators||s(this._wordSeparators,t,o,m,y))return h}while(h);return null}}e.Searcher=n}),define(ee[221],te([0,1,13,3,53,380,171]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function p(s){let n;return s[s.length-1]<65536?n=new Uint16Array(s.length):n=new Uint32Array(s.length),n.set(s,0),n}e.createUintArray=p;class C{constructor(n,d,t,o,h){this.lineStarts=n,this.cr=d,this.lf=t,this.crlf=o,this.isBasicASCII=h}}e.LineStarts=C;function i(s,n=!0){let d=[0],t=1;for(let o=0,h=s.length;o<h;o++){const m=s.charCodeAt(o);m===13?o+1<h&&s.charCodeAt(o+1)===10?(d[t++]=o+2,o++):d[t++]=o+1:m===10&&(d[t++]=o+1)}return n?p(d):d}e.createLineStartsFast=i;function v(s,n){s.length=0,s[0]=0;let d=1,t=0,o=0,h=0,m=!0;for(let w=0,g=n.length;w<g;w++){const f=n.charCodeAt(w);f===13?w+1<g&&n.charCodeAt(w+1)===10?(h++,s[d++]=w+2,w++):(t++,s[d++]=w+1):f===10?(o++,s[d++]=w+1):m&&f!==9&&(f<32||f>126)&&(m=!1)}const y=new C(p(s),t,o,h,m);return s.length=0,y}e.createLineStarts=v;class r{constructor(n,d,t,o,h){this.bufferIndex=n,this.start=d,this.end=t,this.lineFeedCnt=o,this.length=h}}e.Piece=r;class a{constructor(n,d){this.buffer=n,this.lineStarts=d}}e.StringBuffer=a;class l{constructor(n,d){this._pieces=[],this._tree=n,this._BOM=d,this._index=0,n.root!==L.SENTINEL&&n.iterate(n.root,t=>(t!==L.SENTINEL&&this._pieces.push(t.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class c{constructor(n){this._limit=n,this._cache=[]}get(n){for(let d=this._cache.length-1;d>=0;d--){let t=this._cache[d];if(t.nodeStartOffset<=n&&t.nodeStartOffset+t.node.piece.length>=n)return t}return null}get2(n){for(let d=this._cache.length-1;d>=0;d--){let t=this._cache[d];if(t.nodeStartLineNumber&&t.nodeStartLineNumber<n&&t.nodeStartLineNumber+t.node.piece.lineFeedCnt>=n)return t}return null}set(n){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(n)}validate(n){let d=!1,t=this._cache;for(let o=0;o<t.length;o++){let h=t[o];if(h.node.parent===null||h.nodeStartOffset>=n){t[o]=null,d=!0;continue}}if(d){let o=[];for(const h of t)h!==null&&o.push(h);this._cache=o}}}class u{constructor(n,d,t){this.create(n,d,t)}create(n,d,t){this._buffers=[new a("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=L.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=d,this._EOLLength=d.length,this._EOLNormalized=t;let o=null;for(let h=0,m=n.length;h<m;h++)if(n[h].buffer.length>0){n[h].lineStarts||(n[h].lineStarts=i(n[h].buffer));let y=new r(h+1,{line:0,column:0},{line:n[h].lineStarts.length-1,column:n[h].buffer.length-n[h].lineStarts[n[h].lineStarts.length-1]},n[h].lineStarts.length-1,n[h].buffer.length);this._buffers.push(n[h]),o=this.rbInsertRight(o,y)}this._searchCache=new c(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(n){let d=e.AverageBufferSize,t=d-Math.floor(d/3),o=t*2,h="",m=0,y=[];if(this.iterate(this.root,w=>{let g=this.getNodeContent(w),f=g.length;if(m<=t||m+f<o)return h+=g,m+=f,!0;let _=h.replace(/\r\n|\r|\n/g,n);return y.push(new a(_,i(_))),h=g,m=f,!0}),m>0){let w=h.replace(/\r\n|\r|\n/g,n);y.push(new a(w,i(w)))}this.create(y,n,!0)}getEOL(){return this._EOL}setEOL(n){this._EOL=n,this._EOLLength=this._EOL.length,this.normalizeEOL(n)}createSnapshot(n){return new l(this,n)}getOffsetAt(n,d){let t=0,o=this.root;for(;o!==L.SENTINEL;)if(o.left!==L.SENTINEL&&o.lf_left+1>=n)o=o.left;else{if(o.lf_left+o.piece.lineFeedCnt+1>=n)return t+=o.size_left,t+=this.getAccumulatedValue(o,n-o.lf_left-2)+d-1;n-=o.lf_left+o.piece.lineFeedCnt,t+=o.size_left+o.piece.length,o=o.right}return t}getPositionAt(n){n=Math.floor(n),n=Math.max(0,n);let d=this.root,t=0,o=n;for(;d!==L.SENTINEL;)if(d.size_left!==0&&d.size_left>=n)d=d.left;else if(d.size_left+d.piece.length>=n){let h=this.getIndexOf(d,n-d.size_left);if(t+=d.lf_left+h.index,h.index===0){let m=this.getOffsetAt(t+1,1),y=o-m;return new b.Position(t+1,y+1)}return new b.Position(t+1,h.remainder+1)}else if(n-=d.size_left+d.piece.length,t+=d.lf_left+d.piece.lineFeedCnt,d.right===L.SENTINEL){let h=this.getOffsetAt(t+1,1),m=o-n-h;return new b.Position(t+1,m+1)}else d=d.right;return new b.Position(1,1)}getValueInRange(n,d){if(n.startLineNumber===n.endLineNumber&&n.startColumn===n.endColumn)return"";let t=this.nodeAt2(n.startLineNumber,n.startColumn),o=this.nodeAt2(n.endLineNumber,n.endColumn),h=this.getValueInRange2(t,o);return d?d!==this._EOL||!this._EOLNormalized?h.replace(/\r\n|\r|\n/g,d):d===this.getEOL()&&this._EOLNormalized?h:h.replace(/\r\n|\r|\n/g,d):h}getValueInRange2(n,d){if(n.node===d.node){let y=n.node,w=this._buffers[y.piece.bufferIndex].buffer,g=this.offsetInBuffer(y.piece.bufferIndex,y.piece.start);return w.substring(g+n.remainder,g+d.remainder)}let t=n.node,o=this._buffers[t.piece.bufferIndex].buffer,h=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start),m=o.substring(h+n.remainder,h+t.piece.length);for(t=t.next();t!==L.SENTINEL;){let y=this._buffers[t.piece.bufferIndex].buffer,w=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);if(t===d.node){m+=y.substring(w,w+d.remainder);break}else m+=y.substr(w,t.piece.length);t=t.next()}return m}getLinesContent(){let n=[],d=0,t="",o=!1;return this.iterate(this.root,h=>{if(h===L.SENTINEL)return!0;const m=h.piece;let y=m.length;if(y===0)return!0;const w=this._buffers[m.bufferIndex].buffer,g=this._buffers[m.bufferIndex].lineStarts,f=m.start.line,_=m.end.line;let D=g[f]+m.start.column;if(o&&(w.charCodeAt(D)===10&&(D++,y--),n[d++]=t,t="",o=!1,y===0))return!0;if(f===_)return!this._EOLNormalized&&w.charCodeAt(D+y-1)===13?(o=!0,t+=w.substr(D,y-1)):t+=w.substr(D,y),!0;t+=this._EOLNormalized?w.substring(D,Math.max(D,g[f+1]-this._EOLLength)):w.substring(D,g[f+1]).replace(/(\r\n|\r|\n)$/,""),n[d++]=t;for(let N=f+1;N<_;N++)t=this._EOLNormalized?w.substring(g[N],g[N+1]-this._EOLLength):w.substring(g[N],g[N+1]).replace(/(\r\n|\r|\n)$/,""),n[d++]=t;return!this._EOLNormalized&&w.charCodeAt(g[_]+m.end.column-1)===13?(o=!0,m.end.column===0?d--:t=w.substr(g[_],m.end.column-1)):t=w.substr(g[_],m.end.column),!0}),o&&(n[d++]=t,t=""),n[d++]=t,n}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(n){return this._lastVisitedLine.lineNumber===n?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=n,n===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(n):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(n,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(n).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(n){if(n.remainder===n.node.piece.length){let d=n.node.next();if(!d)return 0;let t=this._buffers[d.piece.bufferIndex],o=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);return t.buffer.charCodeAt(o)}else{let d=this._buffers[n.node.piece.bufferIndex],o=this.offsetInBuffer(n.node.piece.bufferIndex,n.node.piece.start)+n.remainder;return d.buffer.charCodeAt(o)}}getLineCharCode(n,d){let t=this.nodeAt2(n,d+1);return this._getCharCode(t)}getLineLength(n){if(n===this.getLineCount()){let d=this.getOffsetAt(n,1);return this.getLength()-d}return this.getOffsetAt(n+1,1)-this.getOffsetAt(n,1)-this._EOLLength}findMatchesInNode(n,d,t,o,h,m,y,w,g,f,_){let D=this._buffers[n.piece.bufferIndex],N=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start),I=this.offsetInBuffer(n.piece.bufferIndex,h),M=this.offsetInBuffer(n.piece.bufferIndex,m),O,R={line:0,column:0},P,A;d._wordSeparators?(P=D.buffer.substring(I,M),A=F=>F+I,d.reset(0)):(P=D.buffer,A=F=>F,d.reset(I));do if(O=d.next(P),O){if(A(O.index)>=M)return f;this.positionInBuffer(n,A(O.index)-N,R);let F=this.getLineFeedCnt(n.piece.bufferIndex,h,R),E=R.line===h.line?R.column-h.column+o:R.column+1,W=E+O[0].length;if(_[f++]=(0,S.createFindMatch)(new k.Range(t+F,E,t+F,W),O,w),A(O.index)+O[0].length>=M||f>=g)return f}while(O);return f}findMatchesLineByLine(n,d,t,o){const h=[];let m=0;const y=new S.Searcher(d.wordSeparators,d.regex);let w=this.nodeAt2(n.startLineNumber,n.startColumn);if(w===null)return[];let g=this.nodeAt2(n.endLineNumber,n.endColumn);if(g===null)return[];let f=this.positionInBuffer(w.node,w.remainder),_=this.positionInBuffer(g.node,g.remainder);if(w.node===g.node)return this.findMatchesInNode(w.node,y,n.startLineNumber,n.startColumn,f,_,d,t,o,m,h),h;let D=n.startLineNumber,N=w.node;for(;N!==g.node;){let M=this.getLineFeedCnt(N.piece.bufferIndex,f,N.piece.end);if(M>=1){let R=this._buffers[N.piece.bufferIndex].lineStarts,P=this.offsetInBuffer(N.piece.bufferIndex,N.piece.start),A=R[f.line+M],F=D===n.startLineNumber?n.startColumn:1;if(m=this.findMatchesInNode(N,y,D,F,f,this.positionInBuffer(N,A-P),d,t,o,m,h),m>=o)return h;D+=M}let O=D===n.startLineNumber?n.startColumn-1:0;if(D===n.endLineNumber){const R=this.getLineContent(D).substring(O,n.endColumn-1);return m=this._findMatchesInLine(d,y,R,n.endLineNumber,O,m,h,t,o),h}if(m=this._findMatchesInLine(d,y,this.getLineContent(D).substr(O),D,O,m,h,t,o),m>=o)return h;D++,w=this.nodeAt2(D,1),N=w.node,f=this.positionInBuffer(w.node,w.remainder)}if(D===n.endLineNumber){let M=D===n.startLineNumber?n.startColumn-1:0;const O=this.getLineContent(D).substring(M,n.endColumn-1);return m=this._findMatchesInLine(d,y,O,n.endLineNumber,M,m,h,t,o),h}let I=D===n.startLineNumber?n.startColumn:1;return m=this.findMatchesInNode(g.node,y,D,I,f,_,d,t,o,m,h),h}_findMatchesInLine(n,d,t,o,h,m,y,w,g){const f=n.wordSeparators;if(!w&&n.simpleSearch){const D=n.simpleSearch,N=D.length,I=t.length;let M=-N;for(;(M=t.indexOf(D,M+N))!==-1;)if((!f||(0,S.isValidMatch)(f,t,I,M,N))&&(y[m++]=new T.FindMatch(new k.Range(o,M+1+h,o,M+1+N+h),null),m>=g))return m;return m}let _;d.reset(0);do if(_=d.next(t),_&&(y[m++]=(0,S.createFindMatch)(new k.Range(o,_.index+1+h,o,_.index+1+_[0].length+h),_,w),m>=g))return m;while(_);return m}insert(n,d,t=!1){if(this._EOLNormalized=this._EOLNormalized&&t,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==L.SENTINEL){let{node:o,remainder:h,nodeStartOffset:m}=this.nodeAt(n),y=o.piece,w=y.bufferIndex,g=this.positionInBuffer(o,h);if(o.piece.bufferIndex===0&&y.end.line===this._lastChangeBufferPos.line&&y.end.column===this._lastChangeBufferPos.column&&m+y.length===n&&d.length<e.AverageBufferSize){this.appendToNode(o,d),this.computeBufferMetadata();return}if(m===n)this.insertContentToNodeLeft(d,o),this._searchCache.validate(n);else if(m+o.piece.length>n){let f=[],_=new r(y.bufferIndex,g,y.end,this.getLineFeedCnt(y.bufferIndex,g,y.end),this.offsetInBuffer(w,y.end)-this.offsetInBuffer(w,g));if(this.shouldCheckCRLF()&&this.endWithCR(d)&&this.nodeCharCodeAt(o,h)===10){let M={line:_.start.line+1,column:0};_=new r(_.bufferIndex,M,_.end,this.getLineFeedCnt(_.bufferIndex,M,_.end),_.length-1),d+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(d))if(this.nodeCharCodeAt(o,h-1)===13){let M=this.positionInBuffer(o,h-1);this.deleteNodeTail(o,M),d="\r"+d,o.piece.length===0&&f.push(o)}else this.deleteNodeTail(o,g);else this.deleteNodeTail(o,g);let D=this.createNewPieces(d);_.length>0&&this.rbInsertRight(o,_);let N=o;for(let I=0;I<D.length;I++)N=this.rbInsertRight(N,D[I]);this.deleteNodes(f)}else this.insertContentToNodeRight(d,o)}else{let o=this.createNewPieces(d),h=this.rbInsertLeft(null,o[0]);for(let m=1;m<o.length;m++)h=this.rbInsertRight(h,o[m])}this.computeBufferMetadata()}delete(n,d){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",d<=0||this.root===L.SENTINEL)return;let t=this.nodeAt(n),o=this.nodeAt(n+d),h=t.node,m=o.node;if(h===m){let D=this.positionInBuffer(h,t.remainder),N=this.positionInBuffer(h,o.remainder);if(t.nodeStartOffset===n){if(d===h.piece.length){let I=h.next();(0,L.rbDelete)(this,h),this.validateCRLFWithPrevNode(I),this.computeBufferMetadata();return}this.deleteNodeHead(h,N),this._searchCache.validate(n),this.validateCRLFWithPrevNode(h),this.computeBufferMetadata();return}if(t.nodeStartOffset+h.piece.length===n+d){this.deleteNodeTail(h,D),this.validateCRLFWithNextNode(h),this.computeBufferMetadata();return}this.shrinkNode(h,D,N),this.computeBufferMetadata();return}let y=[],w=this.positionInBuffer(h,t.remainder);this.deleteNodeTail(h,w),this._searchCache.validate(n),h.piece.length===0&&y.push(h);let g=this.positionInBuffer(m,o.remainder);this.deleteNodeHead(m,g),m.piece.length===0&&y.push(m);let f=h.next();for(let D=f;D!==L.SENTINEL&&D!==m;D=D.next())y.push(D);let _=h.piece.length===0?h.prev():h;this.deleteNodes(y),this.validateCRLFWithNextNode(_),this.computeBufferMetadata()}insertContentToNodeLeft(n,d){let t=[];if(this.shouldCheckCRLF()&&this.endWithCR(n)&&this.startWithLF(d)){let m=d.piece,y={line:m.start.line+1,column:0},w=new r(m.bufferIndex,y,m.end,this.getLineFeedCnt(m.bufferIndex,y,m.end),m.length-1);d.piece=w,n+=`
`,(0,L.updateTreeMetadata)(this,d,-1,-1),d.piece.length===0&&t.push(d)}let o=this.createNewPieces(n),h=this.rbInsertLeft(d,o[o.length-1]);for(let m=o.length-2;m>=0;m--)h=this.rbInsertLeft(h,o[m]);this.validateCRLFWithPrevNode(h),this.deleteNodes(t)}insertContentToNodeRight(n,d){this.adjustCarriageReturnFromNext(n,d)&&(n+=`
`);let t=this.createNewPieces(n),o=this.rbInsertRight(d,t[0]),h=o;for(let m=1;m<t.length;m++)h=this.rbInsertRight(h,t[m]);this.validateCRLFWithPrevNode(o)}positionInBuffer(n,d,t){let o=n.piece,h=n.piece.bufferIndex,m=this._buffers[h].lineStarts,w=m[o.start.line]+o.start.column+d,g=o.start.line,f=o.end.line,_=0,D=0,N=0;for(;g<=f&&(_=g+(f-g)/2|0,N=m[_],_!==f);)if(D=m[_+1],w<N)f=_-1;else if(w>=D)g=_+1;else break;return t?(t.line=_,t.column=w-N,null):{line:_,column:w-N}}getLineFeedCnt(n,d,t){if(t.column===0)return t.line-d.line;let o=this._buffers[n].lineStarts;if(t.line===o.length-1)return t.line-d.line;let h=o[t.line+1],m=o[t.line]+t.column;if(h>m+1)return t.line-d.line;let y=m-1;return this._buffers[n].buffer.charCodeAt(y)===13?t.line-d.line+1:t.line-d.line}offsetInBuffer(n,d){return this._buffers[n].lineStarts[d.line]+d.column}deleteNodes(n){for(let d=0;d<n.length;d++)(0,L.rbDelete)(this,n[d])}createNewPieces(n){if(n.length>e.AverageBufferSize){let f=[];for(;n.length>e.AverageBufferSize;){const D=n.charCodeAt(e.AverageBufferSize-1);let N;D===13||D>=55296&&D<=56319?(N=n.substring(0,e.AverageBufferSize-1),n=n.substring(e.AverageBufferSize-1)):(N=n.substring(0,e.AverageBufferSize),n=n.substring(e.AverageBufferSize));let I=i(N);f.push(new r(this._buffers.length,{line:0,column:0},{line:I.length-1,column:N.length-I[I.length-1]},I.length-1,N.length)),this._buffers.push(new a(N,I))}let _=i(n);return f.push(new r(this._buffers.length,{line:0,column:0},{line:_.length-1,column:n.length-_[_.length-1]},_.length-1,n.length)),this._buffers.push(new a(n,_)),f}let d=this._buffers[0].buffer.length;const t=i(n,!1);let o=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===d&&d!==0&&this.startWithLF(n)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},o=this._lastChangeBufferPos;for(let f=0;f<t.length;f++)t[f]+=d+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(t.slice(1)),this._buffers[0].buffer+="_"+n,d+=1}else{if(d!==0)for(let f=0;f<t.length;f++)t[f]+=d;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(t.slice(1)),this._buffers[0].buffer+=n}const h=this._buffers[0].buffer.length;let m=this._buffers[0].lineStarts.length-1,y=h-this._buffers[0].lineStarts[m],w={line:m,column:y},g=new r(0,o,w,this.getLineFeedCnt(0,o,w),h-d);return this._lastChangeBufferPos=w,[g]}getLineRawContent(n,d=0){let t=this.root,o="",h=this._searchCache.get2(n);if(h){t=h.node;let m=this.getAccumulatedValue(t,n-h.nodeStartLineNumber-1),y=this._buffers[t.piece.bufferIndex].buffer,w=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);if(h.nodeStartLineNumber+t.piece.lineFeedCnt===n)o=y.substring(w+m,w+t.piece.length);else{let g=this.getAccumulatedValue(t,n-h.nodeStartLineNumber);return y.substring(w+m,w+g-d)}}else{let m=0;const y=n;for(;t!==L.SENTINEL;)if(t.left!==L.SENTINEL&&t.lf_left>=n-1)t=t.left;else if(t.lf_left+t.piece.lineFeedCnt>n-1){let w=this.getAccumulatedValue(t,n-t.lf_left-2),g=this.getAccumulatedValue(t,n-t.lf_left-1),f=this._buffers[t.piece.bufferIndex].buffer,_=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return m+=t.size_left,this._searchCache.set({node:t,nodeStartOffset:m,nodeStartLineNumber:y-(n-1-t.lf_left)}),f.substring(_+w,_+g-d)}else if(t.lf_left+t.piece.lineFeedCnt===n-1){let w=this.getAccumulatedValue(t,n-t.lf_left-2),g=this._buffers[t.piece.bufferIndex].buffer,f=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);o=g.substring(f+w,f+t.piece.length);break}else n-=t.lf_left+t.piece.lineFeedCnt,m+=t.size_left+t.piece.length,t=t.right}for(t=t.next();t!==L.SENTINEL;){let m=this._buffers[t.piece.bufferIndex].buffer;if(t.piece.lineFeedCnt>0){let y=this.getAccumulatedValue(t,0),w=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return o+=m.substring(w,w+y-d),o}else{let y=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);o+=m.substr(y,t.piece.length)}t=t.next()}return o}computeBufferMetadata(){let n=this.root,d=1,t=0;for(;n!==L.SENTINEL;)d+=n.lf_left+n.piece.lineFeedCnt,t+=n.size_left+n.piece.length,n=n.right;this._lineCnt=d,this._length=t,this._searchCache.validate(this._length)}getIndexOf(n,d){let t=n.piece,o=this.positionInBuffer(n,d),h=o.line-t.start.line;if(this.offsetInBuffer(t.bufferIndex,t.end)-this.offsetInBuffer(t.bufferIndex,t.start)===d){let m=this.getLineFeedCnt(n.piece.bufferIndex,t.start,o);if(m!==h)return{index:m,remainder:0}}return{index:h,remainder:o.column}}getAccumulatedValue(n,d){if(d<0)return 0;let t=n.piece,o=this._buffers[t.bufferIndex].lineStarts,h=t.start.line+d+1;return h>t.end.line?o[t.end.line]+t.end.column-o[t.start.line]-t.start.column:o[h]-o[t.start.line]-t.start.column}deleteNodeTail(n,d){const t=n.piece,o=t.lineFeedCnt,h=this.offsetInBuffer(t.bufferIndex,t.end),m=d,y=this.offsetInBuffer(t.bufferIndex,m),w=this.getLineFeedCnt(t.bufferIndex,t.start,m),g=w-o,f=y-h,_=t.length+f;n.piece=new r(t.bufferIndex,t.start,m,w,_),(0,L.updateTreeMetadata)(this,n,f,g)}deleteNodeHead(n,d){const t=n.piece,o=t.lineFeedCnt,h=this.offsetInBuffer(t.bufferIndex,t.start),m=d,y=this.getLineFeedCnt(t.bufferIndex,m,t.end),w=this.offsetInBuffer(t.bufferIndex,m),g=y-o,f=h-w,_=t.length+f;n.piece=new r(t.bufferIndex,m,t.end,y,_),(0,L.updateTreeMetadata)(this,n,f,g)}shrinkNode(n,d,t){const o=n.piece,h=o.start,m=o.end,y=o.length,w=o.lineFeedCnt,g=d,f=this.getLineFeedCnt(o.bufferIndex,o.start,g),_=this.offsetInBuffer(o.bufferIndex,d)-this.offsetInBuffer(o.bufferIndex,h);n.piece=new r(o.bufferIndex,o.start,g,f,_),(0,L.updateTreeMetadata)(this,n,_-y,f-w);let D=new r(o.bufferIndex,t,m,this.getLineFeedCnt(o.bufferIndex,t,m),this.offsetInBuffer(o.bufferIndex,m)-this.offsetInBuffer(o.bufferIndex,t)),N=this.rbInsertRight(n,D);this.validateCRLFWithPrevNode(N)}appendToNode(n,d){this.adjustCarriageReturnFromNext(d,n)&&(d+=`
`);const t=this.shouldCheckCRLF()&&this.startWithLF(d)&&this.endWithCR(n),o=this._buffers[0].buffer.length;this._buffers[0].buffer+=d;const h=i(d,!1);for(let N=0;N<h.length;N++)h[N]+=o;if(t){let N=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:o-N}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(h.slice(1));const m=this._buffers[0].lineStarts.length-1,y=this._buffers[0].buffer.length-this._buffers[0].lineStarts[m],w={line:m,column:y},g=n.piece.length+d.length,f=n.piece.lineFeedCnt,_=this.getLineFeedCnt(0,n.piece.start,w),D=_-f;n.piece=new r(n.piece.bufferIndex,n.piece.start,w,_,g),this._lastChangeBufferPos=w,(0,L.updateTreeMetadata)(this,n,d.length,D)}nodeAt(n){let d=this.root,t=this._searchCache.get(n);if(t)return{node:t.node,nodeStartOffset:t.nodeStartOffset,remainder:n-t.nodeStartOffset};let o=0;for(;d!==L.SENTINEL;)if(d.size_left>n)d=d.left;else if(d.size_left+d.piece.length>=n){o+=d.size_left;let h={node:d,remainder:n-d.size_left,nodeStartOffset:o};return this._searchCache.set(h),h}else n-=d.size_left+d.piece.length,o+=d.size_left+d.piece.length,d=d.right;return null}nodeAt2(n,d){let t=this.root,o=0;for(;t!==L.SENTINEL;)if(t.left!==L.SENTINEL&&t.lf_left>=n-1)t=t.left;else if(t.lf_left+t.piece.lineFeedCnt>n-1){let h=this.getAccumulatedValue(t,n-t.lf_left-2),m=this.getAccumulatedValue(t,n-t.lf_left-1);return o+=t.size_left,{node:t,remainder:Math.min(h+d-1,m),nodeStartOffset:o}}else if(t.lf_left+t.piece.lineFeedCnt===n-1){let h=this.getAccumulatedValue(t,n-t.lf_left-2);if(h+d-1<=t.piece.length)return{node:t,remainder:h+d-1,nodeStartOffset:o};d-=t.piece.length-h;break}else n-=t.lf_left+t.piece.lineFeedCnt,o+=t.size_left+t.piece.length,t=t.right;for(t=t.next();t!==L.SENTINEL;){if(t.piece.lineFeedCnt>0){let h=this.getAccumulatedValue(t,0),m=this.offsetOfNode(t);return{node:t,remainder:Math.min(d-1,h),nodeStartOffset:m}}else if(t.piece.length>=d-1){let h=this.offsetOfNode(t);return{node:t,remainder:d-1,nodeStartOffset:h}}else d-=t.piece.length;t=t.next()}return null}nodeCharCodeAt(n,d){if(n.piece.lineFeedCnt<1)return-1;let t=this._buffers[n.piece.bufferIndex],o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start)+d;return t.buffer.charCodeAt(o)}offsetOfNode(n){if(!n)return 0;let d=n.size_left;for(;n!==this.root;)n.parent.right===n&&(d+=n.parent.size_left+n.parent.piece.length),n=n.parent;return d}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(n){if(typeof n=="string")return n.charCodeAt(0)===10;if(n===L.SENTINEL||n.piece.lineFeedCnt===0)return!1;let d=n.piece,t=this._buffers[d.bufferIndex].lineStarts,o=d.start.line,h=t[o]+d.start.column;return o===t.length-1||t[o+1]>h+1?!1:this._buffers[d.bufferIndex].buffer.charCodeAt(h)===10}endWithCR(n){return typeof n=="string"?n.charCodeAt(n.length-1)===13:n===L.SENTINEL||n.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(n,n.piece.length-1)===13}validateCRLFWithPrevNode(n){if(this.shouldCheckCRLF()&&this.startWithLF(n)){let d=n.prev();this.endWithCR(d)&&this.fixCRLF(d,n)}}validateCRLFWithNextNode(n){if(this.shouldCheckCRLF()&&this.endWithCR(n)){let d=n.next();this.startWithLF(d)&&this.fixCRLF(n,d)}}fixCRLF(n,d){let t=[],o=this._buffers[n.piece.bufferIndex].lineStarts,h;n.piece.end.column===0?h={line:n.piece.end.line-1,column:o[n.piece.end.line]-o[n.piece.end.line-1]-1}:h={line:n.piece.end.line,column:n.piece.end.column-1};const m=n.piece.length-1,y=n.piece.lineFeedCnt-1;n.piece=new r(n.piece.bufferIndex,n.piece.start,h,y,m),(0,L.updateTreeMetadata)(this,n,-1,-1),n.piece.length===0&&t.push(n);let w={line:d.piece.start.line+1,column:0};const g=d.piece.length-1,f=this.getLineFeedCnt(d.piece.bufferIndex,w,d.piece.end);d.piece=new r(d.piece.bufferIndex,w,d.piece.end,f,g),(0,L.updateTreeMetadata)(this,d,-1,-1),d.piece.length===0&&t.push(d);let _=this.createNewPieces(`\r
`);this.rbInsertRight(n,_[0]);for(let D=0;D<t.length;D++)(0,L.rbDelete)(this,t[D])}adjustCarriageReturnFromNext(n,d){if(this.shouldCheckCRLF()&&this.endWithCR(n)){let t=d.next();if(this.startWithLF(t)){if(n+=`
`,t.piece.length===1)(0,L.rbDelete)(this,t);else{const o=t.piece,h={line:o.start.line+1,column:0},m=o.length-1,y=this.getLineFeedCnt(o.bufferIndex,h,o.end);t.piece=new r(o.bufferIndex,h,o.end,y,m),(0,L.updateTreeMetadata)(this,t,-1,-1)}return!0}}return!1}iterate(n,d){if(n===L.SENTINEL)return d(L.SENTINEL);let t=this.iterate(n.left,d);return t&&d(n)&&this.iterate(n.right,d)}getNodeContent(n){if(n===L.SENTINEL)return"";let d=this._buffers[n.piece.bufferIndex],t,o=n.piece,h=this.offsetInBuffer(o.bufferIndex,o.start),m=this.offsetInBuffer(o.bufferIndex,o.end);return t=d.buffer.substring(h,m),t}getPieceContent(n){let d=this._buffers[n.bufferIndex],t=this.offsetInBuffer(n.bufferIndex,n.start),o=this.offsetInBuffer(n.bufferIndex,n.end);return d.buffer.substring(t,o)}rbInsertRight(n,d){let t=new L.TreeNode(d,1);if(t.left=L.SENTINEL,t.right=L.SENTINEL,t.parent=L.SENTINEL,t.size_left=0,t.lf_left=0,this.root===L.SENTINEL)this.root=t,t.color=0;else if(n.right===L.SENTINEL)n.right=t,t.parent=n;else{let h=(0,L.leftest)(n.right);h.left=t,t.parent=h}return(0,L.fixInsert)(this,t),t}rbInsertLeft(n,d){let t=new L.TreeNode(d,1);if(t.left=L.SENTINEL,t.right=L.SENTINEL,t.parent=L.SENTINEL,t.size_left=0,t.lf_left=0,this.root===L.SENTINEL)this.root=t,t.color=0;else if(n.left===L.SENTINEL)n.left=t,t.parent=n;else{let o=(0,L.righttest)(n.left);o.right=t,t.parent=o}return(0,L.fixInsert)(this,t),t}}e.PieceTreeBase=u}),define(ee[135],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function b(p=""){let C="(-?\\d*\\.\\d\\w*)|([^";for(const i of e.USUAL_WORD_SEPARATORS)p.indexOf(i)>=0||(C+="\\"+i);return C+="\\s]+)",new RegExp(C,"g")}e.DEFAULT_WORD_REGEXP=b();function k(p){let C=e.DEFAULT_WORD_REGEXP;if(p&&p instanceof RegExp)if(p.global)C=p;else{let i="g";p.ignoreCase&&(i+="i"),p.multiline&&(i+="m"),p.unicode&&(i+="u"),C=new RegExp(p.source,i)}return C.lastIndex=0,C}e.ensureValidWordDefinition=k;const T={maxLen:1e3,windowSize:15,timeBudget:150};function L(p,C,i,v,r=T){if(i.length>r.maxLen){let s=p-r.maxLen/2;return s<0?s=0:v+=s,i=i.substring(s,p+r.maxLen/2),L(p,C,i,v,r)}const a=Date.now(),l=p-1-v;let c=-1,u=null;for(let s=1;!(Date.now()-a>=r.timeBudget);s++){const n=l-r.windowSize*s;C.lastIndex=Math.max(0,n);const d=S(C,i,l,c);if(!d&&u||(u=d,n<=0))break;c=n}if(u){let s={word:u[0],startColumn:v+1+u.index,endColumn:v+1+u.index+u[0].length};return C.lastIndex=0,s}return null}e.getWordAtText=L;function S(p,C,i,v){let r;for(;r=p.exec(C);){const a=r.index||0;if(a<=i&&p.lastIndex>=i)return r;if(v>0&&a>v)return null}return null}}),define(ee[381],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FrankensteinMode=void 0;class b{constructor(T){this._languageIdentifier=T}getId(){return this._languageIdentifier.language}}e.FrankensteinMode=b}),define(ee[112],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var b;(function(S){S[S.None=0]="None",S[S.Indent=1]="Indent",S[S.IndentOutdent=2]="IndentOutdent",S[S.Outdent=3]="Outdent"})(b=e.IndentAction||(e.IndentAction={}));class k{constructor(p){if(this._standardAutoClosingPairConditionalBrand=void 0,this.open=p.open,this.close=p.close,this._standardTokenMask=0,Array.isArray(p.notIn))for(let C=0,i=p.notIn.length;C<i;C++)switch(p.notIn[C]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(p){return(this._standardTokenMask&p)==0}}e.StandardAutoClosingPairConditional=k;class T{constructor(p){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const C of p)L(this.autoClosingPairsOpenByStart,C.open.charAt(0),C),L(this.autoClosingPairsOpenByEnd,C.open.charAt(C.open.length-1),C),L(this.autoClosingPairsCloseByStart,C.close.charAt(0),C),L(this.autoClosingPairsCloseByEnd,C.close.charAt(C.close.length-1),C),C.close.length===1&&C.open.length===1&&L(this.autoClosingPairsCloseSingleChar,C.close,C)}}e.AutoClosingPairs=T;function L(S,p,C){S.has(p)?S.get(p).push(C):S.set(p,[C])}}),define(ee[382],te([0,1,201,73]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function T(L,S,p,C){if(Array.isArray(L)){let i=0;for(const v of L){const r=T(v,S,p,C);if(r===10)return r;r>i&&(i=r)}return i}else{if(typeof L=="string")return C?L==="*"?5:L===p?10:0:0;if(L){const{language:i,pattern:v,scheme:r,hasAccessToAllModels:a}=L;if(!C&&!a)return 0;let l=0;if(r)if(r===S.scheme)l=10;else if(r==="*")l=5;else return 0;if(i)if(i===p)l=10;else if(i==="*")l=Math.max(l,5);else return 0;if(v){let c;if(typeof v=="string"?c=v:c=Object.assign(Object.assign({},v),{base:(0,k.normalize)(v.base)}),c===S.fsPath||(0,b.match)(c,S.fsPath))l=10;else return 0}return l}else return 0}}e.score=T}),define(ee[383],te([0,1,94]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class k{constructor(a,l,c){const u=new Uint8Array(a*l);for(let s=0,n=a*l;s<n;s++)u[s]=c;this._data=u,this.rows=a,this.cols=l}get(a,l){return this._data[a*this.cols+l]}set(a,l,c){this._data[a*this.cols+l]=c}}e.Uint8Matrix=k;class T{constructor(a){let l=0,c=0;for(let s=0,n=a.length;s<n;s++){let[d,t,o]=a[s];t>l&&(l=t),d>c&&(c=d),o>c&&(c=o)}l++,c++;let u=new k(c,l,0);for(let s=0,n=a.length;s<n;s++){let[d,t,o]=a[s];u.set(d,t,o)}this._states=u,this._maxCharCode=l}nextState(a,l){return l<0||l>=this._maxCharCode?0:this._states.get(a,l)}}e.StateMachine=T;let L=null;function S(){return L===null&&(L=new T([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),L}let p=null;function C(){if(p===null){p=new b.CharacterClassifier(0);const r=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let l=0;l<r.length;l++)p.set(r.charCodeAt(l),1);const a=".,;";for(let l=0;l<a.length;l++)p.set(a.charCodeAt(l),2)}return p}class i{static _createLink(a,l,c,u,s){let n=s-1;do{const d=l.charCodeAt(n);if(a.get(d)!==2)break;n--}while(n>u);if(u>0){const d=l.charCodeAt(u-1),t=l.charCodeAt(n);(d===40&&t===41||d===91&&t===93||d===123&&t===125)&&n--}return{range:{startLineNumber:c,startColumn:u+1,endLineNumber:c,endColumn:n+2},url:l.substring(u,n+1)}}static computeLinks(a,l=S()){const c=C();let u=[];for(let s=1,n=a.getLineCount();s<=n;s++){const d=a.getLineContent(s),t=d.length;let o=0,h=0,m=0,y=1,w=!1,g=!1,f=!1,_=!1;for(;o<t;){let D=!1;const N=d.charCodeAt(o);if(y===13){let I;switch(N){case 40:w=!0,I=0;break;case 41:I=w?0:1;break;case 91:f=!0,g=!0,I=0;break;case 93:f=!1,I=g?0:1;break;case 123:_=!0,I=0;break;case 125:I=_?0:1;break;case 39:I=m===34||m===96?0:1;break;case 34:I=m===39||m===96?0:1;break;case 96:I=m===39||m===34?0:1;break;case 42:I=m===42?1:0;break;case 124:I=m===124?1:0;break;case 32:I=f?0:1;break;default:I=c.get(N)}I===1&&(u.push(i._createLink(c,d,s,h,o)),D=!0)}else if(y===12){let I;N===91?(g=!0,I=0):I=c.get(N),I===1?D=!0:y=13}else y=l.nextState(y,N),y===0&&(D=!0);D&&(y=1,w=!1,g=!1,_=!1,h=o+1,m=N),o++}y===13&&u.push(i._createLink(c,d,s,h,t))}return u}}e.LinkComputer=i;function v(r){return!r||typeof r.getLineCount!="function"||typeof r.getLineContent!="function"?[]:i.computeLinks(r)}e.computeLinks=v}),define(ee[172],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function b(L,S){let p=L.getCount(),C=L.findTokenIndexAtOffset(S),i=L.getLanguageId(C),v=C;for(;v+1<p&&L.getLanguageId(v+1)===i;)v++;let r=C;for(;r>0&&L.getLanguageId(r-1)===i;)r--;return new k(L,i,r,v+1,L.getStartOffset(r),L.getEndOffset(v))}e.createScopedLineTokens=b;class k{constructor(S,p,C,i,v,r){this._scopedLineTokensBrand=void 0,this._actual=S,this.languageId=p,this._firstTokenIndex=C,this._lastTokenIndex=i,this.firstCharOffset=v,this._lastCharOffset=r}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(S){return this._actual.getLineContent().substring(0,this.firstCharOffset+S)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(S){return this._actual.findTokenIndexAtOffset(S+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(S){return this._actual.getStandardTokenType(S+this._firstTokenIndex)}}e.ScopedLineTokens=k;function T(L){return(L&7)!=0}e.ignoreBracketsInToken=T}),define(ee[384],te([0,1,112]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class k{constructor(L){if(L.autoClosingPairs?this._autoClosingPairs=L.autoClosingPairs.map(S=>new b.StandardAutoClosingPairConditional(S)):L.brackets?this._autoClosingPairs=L.brackets.map(S=>new b.StandardAutoClosingPairConditional({open:S[0],close:S[1]})):this._autoClosingPairs=[],L.__electricCharacterSupport&&L.__electricCharacterSupport.docComment){const S=L.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new b.StandardAutoClosingPairConditional({open:S.open,close:S.close||""}))}this._autoCloseBefore=typeof L.autoCloseBefore=="string"?L.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=L.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(L,S,p){if(S.getTokenCount()===0)return!0;const C=S.findTokenIndexAtOffset(p-2),i=S.getStandardTokenType(C);return L.isOK(i)}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=k,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`}),define(ee[385],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function b(T){return T.global&&(T.lastIndex=0),!0}class k{constructor(L){this._indentationRules=L}shouldIncrease(L){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&b(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(L))}shouldDecrease(L){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&b(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(L))}shouldIndentNextLine(L){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&b(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(L))}shouldIgnore(L){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&b(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(L))}getIndentMetadata(L){let S=0;return this.shouldIncrease(L)&&(S+=1),this.shouldDecrease(L)&&(S+=2),this.shouldIndentNextLine(L)&&(S+=4),this.shouldIgnore(L)&&(S+=8),S}}e.IndentRulesSupport=k}),define(ee[386],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class b{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(T,L,S,p,C){if(T&&L){let i=this.doNavigateValueSet(L,C);if(i)return{range:T,value:i}}if(S&&p){let i=this.doNavigateValueSet(p,C);if(i)return{range:S,value:i}}return null}doNavigateValueSet(T,L){let S=this.numberReplace(T,L);return S!==null?S:this.textReplace(T,L)}numberReplace(T,L){let S=Math.pow(10,T.length-(T.lastIndexOf(".")+1)),p=Number(T),C=parseFloat(T);return!isNaN(p)&&!isNaN(C)&&p===C?p===0&&!L?null:(p=Math.floor(p*S),p+=L?S:-S,String(p/S)):null}textReplace(T,L){return this.valueSetsReplace(this._defaultValueSet,T,L)}valueSetsReplace(T,L,S){let p=null;for(let C=0,i=T.length;p===null&&C<i;C++)p=this.valueSetReplace(T[C],L,S);return p}valueSetReplace(T,L,S){let p=T.indexOf(L);return p>=0?(p+=S?1:-1,p<0?p=T.length-1:p%=T.length,T[p]):null}}e.BasicInplaceReplace=b,b.INSTANCE=new b}),define(ee[387],te([0,1,12,8,112]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class L{constructor(p){p=p||{},p.brackets=p.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],p.brackets.forEach(C=>{const i=L._createOpenBracketRegExp(C[0]),v=L._createCloseBracketRegExp(C[1]);i&&v&&this._brackets.push({open:C[0],openRegExp:i,close:C[1],closeRegExp:v})}),this._regExpRules=p.onEnterRules||[]}onEnter(p,C,i,v){if(p>=3)for(let r=0,a=this._regExpRules.length;r<a;r++){let l=this._regExpRules[r];if([{reg:l.beforeText,text:i},{reg:l.afterText,text:v},{reg:l.previousLineText,text:C}].every(u=>u.reg?(u.reg.lastIndex=0,u.reg.test(u.text)):!0))return l.action}if(p>=2&&i.length>0&&v.length>0)for(let r=0,a=this._brackets.length;r<a;r++){let l=this._brackets[r];if(l.openRegExp.test(i)&&l.closeRegExp.test(v))return{indentAction:T.IndentAction.IndentOutdent}}if(p>=2&&i.length>0){for(let r=0,a=this._brackets.length;r<a;r++)if(this._brackets[r].openRegExp.test(i))return{indentAction:T.IndentAction.Indent}}return null}static _createOpenBracketRegExp(p){let C=k.escapeRegExpCharacters(p);return/\B/.test(C.charAt(0))||(C="\\b"+C),C+="\\s*$",L._safeRegExp(C)}static _createCloseBracketRegExp(p){let C=k.escapeRegExpCharacters(p);return/\B/.test(C.charAt(C.length-1))||(C=C+"\\b"),C="^\\s*"+C,L._safeRegExp(C)}static _safeRegExp(p){try{return new RegExp(p)}catch(C){return(0,b.onUnexpectedError)(C),null}}}e.OnEnterSupport=L}),define(ee[173],te([0,1,8,83,3]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class L{constructor(o,h,m,y,w,g){this._richEditBracketBrand=void 0,this.languageIdentifier=o,this.index=h,this.open=m,this.close=y,this.forwardRegex=w,this.reversedRegex=g,this._openSet=L._toSet(this.open),this._closeSet=L._toSet(this.close)}isOpen(o){return this._openSet.has(o)}isClose(o){return this._closeSet.has(o)}static _toSet(o){const h=new Set;for(const m of o)h.add(m);return h}}e.RichEditBracket=L;function S(t){const o=t.length;t=t.map(g=>[g[0].toLowerCase(),g[1].toLowerCase()]);const h=[];for(let g=0;g<o;g++)h[g]=g;const m=(g,f)=>{const[_,D]=g,[N,I]=f;return _===N||_===I||D===N||D===I},y=(g,f)=>{const _=Math.min(g,f),D=Math.max(g,f);for(let N=0;N<o;N++)h[N]===D&&(h[N]=_)};for(let g=0;g<o;g++){const f=t[g];for(let _=g+1;_<o;_++){const D=t[_];m(f,D)&&y(h[g],h[_])}}const w=[];for(let g=0;g<o;g++){let f=[],_=[];for(let D=0;D<o;D++)if(h[D]===g){const[N,I]=t[D];f.push(N),_.push(I)}f.length>0&&w.push({open:f,close:_})}return w}class p{constructor(o,h){this._richEditBracketsBrand=void 0;const m=S(h);this.brackets=m.map((y,w)=>new L(o,w,y.open,y.close,r(y.open,y.close,m,w),a(y.open,y.close,m,w))),this.forwardRegex=l(this.brackets),this.reversedRegex=c(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const y of this.brackets){for(const w of y.open)this.textIsBracket[w]=y,this.textIsOpenBracket[w]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,w.length);for(const w of y.close)this.textIsBracket[w]=y,this.textIsOpenBracket[w]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,w.length)}}}e.RichEditBrackets=p;function C(t,o,h,m){for(let y=0,w=o.length;y<w;y++){if(y===h)continue;const g=o[y];for(const f of g.open)f.indexOf(t)>=0&&m.push(f);for(const f of g.close)f.indexOf(t)>=0&&m.push(f)}}function i(t,o){return t.length-o.length}function v(t){if(t.length<=1)return t;const o=[],h=new Set;for(const m of t)h.has(m)||(o.push(m),h.add(m));return o}function r(t,o,h,m){let y=[];y=y.concat(t),y=y.concat(o);for(let w=0,g=y.length;w<g;w++)C(y[w],h,m,y);return y=v(y),y.sort(i),y.reverse(),s(y)}function a(t,o,h,m){let y=[];y=y.concat(t),y=y.concat(o);for(let w=0,g=y.length;w<g;w++)C(y[w],h,m,y);return y=v(y),y.sort(i),y.reverse(),s(y.map(n))}function l(t){let o=[];for(const h of t){for(const m of h.open)o.push(m);for(const m of h.close)o.push(m)}return o=v(o),s(o)}function c(t){let o=[];for(const h of t){for(const m of h.open)o.push(m);for(const m of h.close)o.push(m)}return o=v(o),s(o.map(n))}function u(t){const o=/^[\w ]+$/.test(t);return t=b.escapeRegExpCharacters(t),o?`\\b${t}\\b`:t}function s(t){let o=`(${t.map(u).join(")|(")})`;return b.createRegExp(o,!0)}const n=function(){function t(m){if(k.hasTextDecoder){const y=new Uint16Array(m.length);let w=0;for(let g=m.length-1;g>=0;g--)y[w++]=m.charCodeAt(g);return k.getPlatformTextDecoder().decode(y)}else{let y=[],w=0;for(let g=m.length-1;g>=0;g--)y[w++]=m.charAt(g);return y.join("")}}let o=null,h=null;return function(y){return o!==y&&(o=y,h=t(o)),h}}();class d{static _findPrevBracketInText(o,h,m,y){let w=m.match(o);if(!w)return null;let g=m.length-(w.index||0),f=w[0].length,_=y+g;return new T.Range(h,_-f+1,h,_+1)}static findPrevBracketInRange(o,h,m,y,w){const f=n(m).substring(m.length-w,m.length-y);return this._findPrevBracketInText(o,h,f,y)}static findNextBracketInText(o,h,m,y){let w=m.match(o);if(!w)return null;let g=w.index||0,f=w[0].length;if(f===0)return null;let _=y+g;return new T.Range(h,_+1,h,_+1+f)}static findNextBracketInRange(o,h,m,y,w){const g=m.substring(y,w);return this.findNextBracketInText(o,h,g,y)}}e.BracketsUtils=d}),define(ee[388],te([0,1,172,173]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class T{constructor(S){this._richEditBrackets=S}getElectricCharacters(){let S=[];if(this._richEditBrackets)for(const p of this._richEditBrackets.brackets)for(const C of p.close){const i=C.charAt(C.length-1);S.push(i)}return S=S.filter((p,C,i)=>i.indexOf(p)===C),S}onElectricCharacter(S,p,C){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const i=p.findTokenIndexAtOffset(C-1);if((0,b.ignoreBracketsInToken)(p.getStandardTokenType(i)))return null;const v=this._richEditBrackets.reversedRegex,r=p.getLineContent().substring(0,C-1)+S,a=k.BracketsUtils.findPrevBracketInRange(v,1,r,0,r.length);if(!a)return null;const l=r.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[l])return null;const u=p.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(u)?{matchOpenBracket:l}:null}}e.BracketElectricCharacterSupport=T}),define(ee[45],te([0,1,6,2,8,135,112,172,384,388,385,387,173]),function(G,e,b,k,T,L,S,p,C,i,v,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageConfigurationRegistry=e.LanguageConfigurationRegistryImpl=e.LanguageConfigurationChangeEvent=e.RichEditSupport=void 0;class l{constructor(t,o){this._languageIdentifier=t,this._brackets=null,this._electricCharacter=null,this._conf=o,this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new r.OnEnterSupport(this._conf):null,this.comments=l._handleComments(this._conf),this.characterPair=new C.CharacterPairSupport(this._conf),this.wordDefinition=this._conf.wordPattern||L.DEFAULT_WORD_REGEXP,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new v.IndentRulesSupport(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new a.RichEditBrackets(this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new i.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(t,o,h,m){return this._onEnterSupport?this._onEnterSupport.onEnter(t,o,h,m):null}static _handleComments(t){let o=t.comments;if(!o)return null;let h={};if(o.lineComment&&(h.lineCommentToken=o.lineComment),o.blockComment){let[m,y]=o.blockComment;h.blockCommentStartToken=m,h.blockCommentEndToken=y}return h}}e.RichEditSupport=l;class c{constructor(t){this.languageIdentifier=t}}e.LanguageConfigurationChangeEvent=c;class u{constructor(t,o,h){this.configuration=t,this.priority=o,this.order=h}static cmp(t,o){return t.priority===o.priority?t.order-o.order:t.priority-o.priority}}class s{constructor(t){this.languageIdentifier=t,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(t,o){const h=new u(t,o,++this._order);return this._entries.push(h),this._resolved=null,(0,k.toDisposable)(()=>{for(let m=0;m<this._entries.length;m++)if(this._entries[m]===h){this._entries.splice(m,1),this._resolved=null;break}})}getRichEditSupport(){if(!this._resolved){const t=this._resolve();t&&(this._resolved=new l(this.languageIdentifier,t))}return this._resolved}_resolve(){if(this._entries.length===0)return null;this._entries.sort(u.cmp);const t={};for(const o of this._entries){const h=o.configuration;t.comments=h.comments||t.comments,t.brackets=h.brackets||t.brackets,t.wordPattern=h.wordPattern||t.wordPattern,t.indentationRules=h.indentationRules||t.indentationRules,t.onEnterRules=h.onEnterRules||t.onEnterRules,t.autoClosingPairs=h.autoClosingPairs||t.autoClosingPairs,t.surroundingPairs=h.surroundingPairs||t.surroundingPairs,t.autoCloseBefore=h.autoCloseBefore||t.autoCloseBefore,t.folding=h.folding||t.folding,t.__electricCharacterSupport=h.__electricCharacterSupport||t.__electricCharacterSupport}return t}}class n{constructor(){this._entries2=new Map,this._onDidChange=new b.Emitter,this.onDidChange=this._onDidChange.event}register(t,o,h=0){let m=this._entries2.get(t.id);m||(m=new s(t),this._entries2.set(t.id,m));const y=m.register(o,h);return this._onDidChange.fire(new c(t)),(0,k.toDisposable)(()=>{y.dispose(),this._onDidChange.fire(new c(t))})}_getRichEditSupport(t){const o=this._entries2.get(t);return o?o.getRichEditSupport():null}getIndentationRules(t){const o=this._getRichEditSupport(t);return o&&o.indentationRules||null}_getElectricCharacterSupport(t){let o=this._getRichEditSupport(t);return o&&o.electricCharacter||null}getElectricCharacters(t){let o=this._getElectricCharacterSupport(t);return o?o.getElectricCharacters():[]}onElectricCharacter(t,o,h){let m=(0,p.createScopedLineTokens)(o,h-1),y=this._getElectricCharacterSupport(m.languageId);return y?y.onElectricCharacter(t,m,h-m.firstCharOffset):null}getComments(t){let o=this._getRichEditSupport(t);return o&&o.comments||null}_getCharacterPairSupport(t){let o=this._getRichEditSupport(t);return o&&o.characterPair||null}getAutoClosingPairs(t){const o=this._getCharacterPairSupport(t);return new S.AutoClosingPairs(o?o.getAutoClosingPairs():[])}getAutoCloseBeforeSet(t){let o=this._getCharacterPairSupport(t);return o?o.getAutoCloseBeforeSet():C.CharacterPairSupport.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(t){let o=this._getCharacterPairSupport(t);return o?o.getSurroundingPairs():[]}shouldAutoClosePair(t,o,h){const m=(0,p.createScopedLineTokens)(o,h-1);return C.CharacterPairSupport.shouldAutoClosePair(t,m,h-m.firstCharOffset)}getWordDefinition(t){let o=this._getRichEditSupport(t);return o?(0,L.ensureValidWordDefinition)(o.wordDefinition||null):(0,L.ensureValidWordDefinition)(null)}getFoldingRules(t){let o=this._getRichEditSupport(t);return o?o.foldingRules:{}}getIndentRulesSupport(t){let o=this._getRichEditSupport(t);return o&&o.indentRulesSupport||null}getPrecedingValidLine(t,o,h){let m=t.getLanguageIdAtPosition(o,0);if(o>1){let y,w=-1;for(y=o-1;y>=1;y--){if(t.getLanguageIdAtPosition(y,0)!==m)return w;let g=t.getLineContent(y);if(h.shouldIgnore(g)||/^\s+$/.test(g)||g===""){w=y;continue}return y}}return-1}getInheritIndentForLine(t,o,h,m=!0){if(t<4)return null;const y=this.getIndentRulesSupport(o.getLanguageIdentifier().id);if(!y)return null;if(h<=1)return{indentation:"",action:null};const w=this.getPrecedingValidLine(o,h,y);if(w<0)return null;if(w<1)return{indentation:"",action:null};const g=o.getLineContent(w);if(y.shouldIncrease(g)||y.shouldIndentNextLine(g))return{indentation:T.getLeadingWhitespace(g),action:S.IndentAction.Indent,line:w};if(y.shouldDecrease(g))return{indentation:T.getLeadingWhitespace(g),action:null,line:w};{if(w===1)return{indentation:T.getLeadingWhitespace(o.getLineContent(w)),action:null,line:w};const f=w-1,_=y.getIndentMetadata(o.getLineContent(f));if(!(_&(1|2))&&_&4){let D=0;for(let N=f-1;N>0;N--)if(!y.shouldIndentNextLine(o.getLineContent(N))){D=N;break}return{indentation:T.getLeadingWhitespace(o.getLineContent(D+1)),action:null,line:D+1}}if(m)return{indentation:T.getLeadingWhitespace(o.getLineContent(w)),action:null,line:w};for(let D=w;D>0;D--){const N=o.getLineContent(D);if(y.shouldIncrease(N))return{indentation:T.getLeadingWhitespace(N),action:S.IndentAction.Indent,line:D};if(y.shouldIndentNextLine(N)){let I=0;for(let M=D-1;M>0;M--)if(!y.shouldIndentNextLine(o.getLineContent(D))){I=M;break}return{indentation:T.getLeadingWhitespace(o.getLineContent(I+1)),action:null,line:I+1}}else if(y.shouldDecrease(N))return{indentation:T.getLeadingWhitespace(N),action:null,line:D}}return{indentation:T.getLeadingWhitespace(o.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(t,o,h,m,y){if(t<4)return null;const w=this._getRichEditSupport(h);if(!w)return null;const g=this.getIndentRulesSupport(h);if(!g)return null;const f=this.getInheritIndentForLine(t,o,m),_=o.getLineContent(m);if(f){const D=f.line;if(D!==void 0){const N=w.onEnter(t,"",o.getLineContent(D),"");if(N){let I=T.getLeadingWhitespace(o.getLineContent(D));return N.removeText&&(I=I.substring(0,I.length-N.removeText)),N.indentAction===S.IndentAction.Indent||N.indentAction===S.IndentAction.IndentOutdent?I=y.shiftIndent(I):N.indentAction===S.IndentAction.Outdent&&(I=y.unshiftIndent(I)),g.shouldDecrease(_)&&(I=y.unshiftIndent(I)),N.appendText&&(I+=N.appendText),T.getLeadingWhitespace(I)}}return g.shouldDecrease(_)?f.action===S.IndentAction.Indent?f.indentation:y.unshiftIndent(f.indentation):f.action===S.IndentAction.Indent?y.shiftIndent(f.indentation):f.indentation}return null}getIndentForEnter(t,o,h,m){if(t<4)return null;o.forceTokenization(h.startLineNumber);const y=o.getLineTokens(h.startLineNumber),w=(0,p.createScopedLineTokens)(y,h.startColumn-1),g=w.getLineContent();let f=!1,_;w.firstCharOffset>0&&y.getLanguageId(0)!==w.languageId?(f=!0,_=g.substr(0,h.startColumn-1-w.firstCharOffset)):_=y.getLineContent().substring(0,h.startColumn-1);let D;h.isEmpty()?D=g.substr(h.startColumn-1-w.firstCharOffset):D=this.getScopedLineTokens(o,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-w.firstCharOffset);const N=this.getIndentRulesSupport(w.languageId);if(!N)return null;const I=_,M=T.getLeadingWhitespace(_),O={getLineTokens:F=>o.getLineTokens(F),getLanguageIdentifier:()=>o.getLanguageIdentifier(),getLanguageIdAtPosition:(F,E)=>o.getLanguageIdAtPosition(F,E),getLineContent:F=>F===h.startLineNumber?I:o.getLineContent(F)},R=T.getLeadingWhitespace(y.getLineContent()),P=this.getInheritIndentForLine(t,O,h.startLineNumber+1);if(!P){const F=f?R:M;return{beforeEnter:F,afterEnter:F}}let A=f?R:P.indentation;return P.action===S.IndentAction.Indent&&(A=m.shiftIndent(A)),N.shouldDecrease(D)&&(A=m.unshiftIndent(A)),{beforeEnter:f?R:M,afterEnter:A}}getIndentActionForType(t,o,h,m,y){if(t<4)return null;const w=this.getScopedLineTokens(o,h.startLineNumber,h.startColumn);if(w.firstCharOffset)return null;const g=this.getIndentRulesSupport(w.languageId);if(!g)return null;const f=w.getLineContent(),_=f.substr(0,h.startColumn-1-w.firstCharOffset);let D;if(h.isEmpty()?D=f.substr(h.startColumn-1-w.firstCharOffset):D=this.getScopedLineTokens(o,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-w.firstCharOffset),!g.shouldDecrease(_+D)&&g.shouldDecrease(_+m+D)){const N=this.getInheritIndentForLine(t,o,h.startLineNumber,!1);if(!N)return null;let I=N.indentation;return N.action!==S.IndentAction.Indent&&(I=y.unshiftIndent(I)),I}return null}getIndentMetadata(t,o){const h=this.getIndentRulesSupport(t.getLanguageIdentifier().id);return!h||o<1||o>t.getLineCount()?null:h.getIndentMetadata(t.getLineContent(o))}getEnterAction(t,o,h){const m=this.getScopedLineTokens(o,h.startLineNumber,h.startColumn),y=this._getRichEditSupport(m.languageId);if(!y)return null;const w=m.getLineContent(),g=w.substr(0,h.startColumn-1-m.firstCharOffset);let f;h.isEmpty()?f=w.substr(h.startColumn-1-m.firstCharOffset):f=this.getScopedLineTokens(o,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-m.firstCharOffset);let _="";if(h.startLineNumber>1&&m.firstCharOffset===0){const R=this.getScopedLineTokens(o,h.startLineNumber-1);R.languageId===m.languageId&&(_=R.getLineContent())}const D=y.onEnter(t,_,g,f);if(!D)return null;const N=D.indentAction;let I=D.appendText;const M=D.removeText||0;I?N===S.IndentAction.Indent&&(I="	"+I):N===S.IndentAction.Indent||N===S.IndentAction.IndentOutdent?I="	":I="";let O=this.getIndentationAtPosition(o,h.startLineNumber,h.startColumn);return M&&(O=O.substring(0,O.length-M)),{indentAction:N,appendText:I,removeText:M,indentation:O}}getIndentationAtPosition(t,o,h){const m=t.getLineContent(o);let y=T.getLeadingWhitespace(m);return y.length>h-1&&(y=y.substring(0,h-1)),y}getScopedLineTokens(t,o,h){t.forceTokenization(o);const m=t.getLineTokens(o),y=typeof h=="undefined"?t.getLineMaxColumn(o)-1:h-1;return(0,p.createScopedLineTokens)(m,y)}getBracketsSupport(t){const o=this._getRichEditSupport(t);return o&&o.brackets||null}}e.LanguageConfigurationRegistryImpl=n,e.LanguageConfigurationRegistry=new n}),define(ee[389],te([0,1,29]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class k{constructor(s,n,d,t,o){this._parsedThemeRuleBrand=void 0,this.token=s,this.index=n,this.fontStyle=d,this.foreground=t,this.background=o}}e.ParsedTokenThemeRule=k;function T(u){if(!u||!Array.isArray(u))return[];let s=[],n=0;for(let d=0,t=u.length;d<t;d++){let o=u[d],h=-1;if(typeof o.fontStyle=="string"){h=0;let w=o.fontStyle.split(" ");for(let g=0,f=w.length;g<f;g++)switch(w[g]){case"italic":h=h|1;break;case"bold":h=h|2;break;case"underline":h=h|4;break}}let m=null;typeof o.foreground=="string"&&(m=o.foreground);let y=null;typeof o.background=="string"&&(y=o.background),s[n++]=new k(o.token||"",d,h,m,y)}return s}e.parseTokenTheme=T;function L(u,s){u.sort((g,f)=>{let _=r(g.token,f.token);return _!==0?_:g.index-f.index});let n=0,d="000000",t="ffffff";for(;u.length>=1&&u[0].token==="";){let g=u.shift();g.fontStyle!==-1&&(n=g.fontStyle),g.foreground!==null&&(d=g.foreground),g.background!==null&&(t=g.background)}let o=new p;for(let g of s)o.getId(g);let h=o.getId(d),m=o.getId(t),y=new a(n,h,m),w=new l(y);for(let g=0,f=u.length;g<f;g++){let _=u[g];w.insert(_.token,_.fontStyle,o.getId(_.foreground),o.getId(_.background))}return new C(o,w)}const S=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class p{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(s){if(s===null)return 0;const n=s.match(S);if(!n)throw new Error("Illegal value for token color: "+s);s=n[1].toUpperCase();let d=this._color2id.get(s);return d||(d=++this._lastColorId,this._color2id.set(s,d),this._id2color[d]=b.Color.fromHex("#"+s),d)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=p;class C{constructor(s,n){this._colorMap=s,this._root=n,this._cache=new Map}static createFromRawTokenTheme(s,n){return this.createFromParsedTokenTheme(T(s),n)}static createFromParsedTokenTheme(s,n){return L(s,n)}getColorMap(){return this._colorMap.getColorMap()}_match(s){return this._root.match(s)}match(s,n){let d=this._cache.get(n);if(typeof d=="undefined"){let t=this._match(n),o=v(n);d=(t.metadata|o<<8)>>>0,this._cache.set(n,d)}return(d|s<<0)>>>0}}e.TokenTheme=C;const i=/\b(comment|string|regex|regexp)\b/;function v(u){let s=u.match(i);if(!s)return 0;switch(s[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=v;function r(u,s){return u<s?-1:u>s?1:0}e.strcmp=r;class a{constructor(s,n,d){this._themeTrieElementRuleBrand=void 0,this._fontStyle=s,this._foreground=n,this._background=d,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new a(this._fontStyle,this._foreground,this._background)}acceptOverwrite(s,n,d){s!==-1&&(this._fontStyle=s),n!==0&&(this._foreground=n),d!==0&&(this._background=d),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}e.ThemeTrieElementRule=a;class l{constructor(s){this._themeTrieElementBrand=void 0,this._mainRule=s,this._children=new Map}match(s){if(s==="")return this._mainRule;let n=s.indexOf("."),d,t;n===-1?(d=s,t=""):(d=s.substring(0,n),t=s.substring(n+1));let o=this._children.get(d);return typeof o!="undefined"?o.match(t):this._mainRule}insert(s,n,d,t){if(s===""){this._mainRule.acceptOverwrite(n,d,t);return}let o=s.indexOf("."),h,m;o===-1?(h=s,m=""):(h=s.substring(0,o),m=s.substring(o+1));let y=this._children.get(h);typeof y=="undefined"&&(y=new l(this._mainRule.clone()),this._children.set(h,y)),y.insert(m,n,d,t)}}e.ThemeTrieElement=l;function c(u){let s=[];for(let n=1,d=u.length;n<d;n++){let t=u[n];s[n]=`.mtk${n} { color: ${t}; }`}return s.push(".mtki { font-style: italic; }"),s.push(".mtkb { font-weight: bold; }"),s.push(".mtku { text-decoration: underline; text-underline-position: under; }"),s.join(`
`)}e.generateTokensCSSForColorMap=c}),define(ee[390],te([0,1,6,2]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistryImpl=void 0;class T{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new b.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(S){this._onDidChange.fire({changedLanguages:S,changedColorMap:!1})}register(S,p){return this._map.set(S,p),this.fire([S]),(0,k.toDisposable)(()=>{this._map.get(S)===p&&(this._map.delete(S),this.fire([S]))})}registerPromise(S,p){let C=null,i=!1;return this._promises.set(S,p.then(v=>{this._promises.delete(S),!(i||!v)&&(C=this.register(S,v))})),(0,k.toDisposable)(()=>{i=!0,C&&C.dispose()})}getPromise(S){const p=this.get(S);if(p)return Promise.resolve(p);const C=this._promises.get(S);return C?C.then(i=>this.get(S)):null}get(S){return this._map.get(S)||null}setColorMap(S){this._colorMap=S,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistryImpl=T}),define(ee[391],te([0,1,103,17]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function T(C){for(let i=0,v=C.length;i<v;i+=4){const r=C[i+0],a=C[i+1],l=C[i+2],c=C[i+3];C[i+0]=c,C[i+1]=l,C[i+2]=a,C[i+3]=r}}function L(C){const i=new Uint8Array(C.buffer,C.byteOffset,C.length*4);return k.isLittleEndian()||T(i),b.VSBuffer.wrap(i)}function S(C){const i=new Uint32Array(p(C));let v=0;if(i[v++]=C.id,C.type==="full")i[v++]=1,i[v++]=C.data.length,i.set(C.data,v),v+=C.data.length;else{i[v++]=2,i[v++]=C.deltas.length;for(const r of C.deltas)i[v++]=r.start,i[v++]=r.deleteCount,r.data?(i[v++]=r.data.length,i.set(r.data,v),v+=r.data.length):i[v++]=0}return L(i)}e.encodeSemanticTokensDto=S;function p(C){let i=0;if(i+=1+1,C.type==="full")i+=1+C.data.length;else{i+=1,i+=(1+1+1)*C.deltas.length;for(const v of C.deltas)v.data&&(i+=v.data.length)}return i}}),define(ee[174],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.AccessibilitySupport=void 0;var b;(function(E){E[E.Unknown=0]="Unknown",E[E.Disabled=1]="Disabled",E[E.Enabled=2]="Enabled"})(b=e.AccessibilitySupport||(e.AccessibilitySupport={}));var k;(function(E){E[E.KeepWhitespace=1]="KeepWhitespace",E[E.InsertAsSnippet=4]="InsertAsSnippet"})(k=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var T;(function(E){E[E.Method=0]="Method",E[E.Function=1]="Function",E[E.Constructor=2]="Constructor",E[E.Field=3]="Field",E[E.Variable=4]="Variable",E[E.Class=5]="Class",E[E.Struct=6]="Struct",E[E.Interface=7]="Interface",E[E.Module=8]="Module",E[E.Property=9]="Property",E[E.Event=10]="Event",E[E.Operator=11]="Operator",E[E.Unit=12]="Unit",E[E.Value=13]="Value",E[E.Constant=14]="Constant",E[E.Enum=15]="Enum",E[E.EnumMember=16]="EnumMember",E[E.Keyword=17]="Keyword",E[E.Text=18]="Text",E[E.Color=19]="Color",E[E.File=20]="File",E[E.Reference=21]="Reference",E[E.Customcolor=22]="Customcolor",E[E.Folder=23]="Folder",E[E.TypeParameter=24]="TypeParameter",E[E.User=25]="User",E[E.Issue=26]="Issue",E[E.Snippet=27]="Snippet"})(T=e.CompletionItemKind||(e.CompletionItemKind={}));var L;(function(E){E[E.Deprecated=1]="Deprecated"})(L=e.CompletionItemTag||(e.CompletionItemTag={}));var S;(function(E){E[E.Invoke=0]="Invoke",E[E.TriggerCharacter=1]="TriggerCharacter",E[E.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(S=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var p;(function(E){E[E.EXACT=0]="EXACT",E[E.ABOVE=1]="ABOVE",E[E.BELOW=2]="BELOW"})(p=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var C;(function(E){E[E.NotSet=0]="NotSet",E[E.ContentFlush=1]="ContentFlush",E[E.RecoverFromMarkers=2]="RecoverFromMarkers",E[E.Explicit=3]="Explicit",E[E.Paste=4]="Paste",E[E.Undo=5]="Undo",E[E.Redo=6]="Redo"})(C=e.CursorChangeReason||(e.CursorChangeReason={}));var i;(function(E){E[E.LF=1]="LF",E[E.CRLF=2]="CRLF"})(i=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var v;(function(E){E[E.Text=0]="Text",E[E.Read=1]="Read",E[E.Write=2]="Write"})(v=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var r;(function(E){E[E.None=0]="None",E[E.Keep=1]="Keep",E[E.Brackets=2]="Brackets",E[E.Advanced=3]="Advanced",E[E.Full=4]="Full"})(r=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var a;(function(E){E[E.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",E[E.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",E[E.accessibilitySupport=2]="accessibilitySupport",E[E.accessibilityPageSize=3]="accessibilityPageSize",E[E.ariaLabel=4]="ariaLabel",E[E.autoClosingBrackets=5]="autoClosingBrackets",E[E.autoClosingDelete=6]="autoClosingDelete",E[E.autoClosingOvertype=7]="autoClosingOvertype",E[E.autoClosingQuotes=8]="autoClosingQuotes",E[E.autoIndent=9]="autoIndent",E[E.automaticLayout=10]="automaticLayout",E[E.autoSurround=11]="autoSurround",E[E.codeLens=12]="codeLens",E[E.codeLensFontFamily=13]="codeLensFontFamily",E[E.codeLensFontSize=14]="codeLensFontSize",E[E.colorDecorators=15]="colorDecorators",E[E.columnSelection=16]="columnSelection",E[E.comments=17]="comments",E[E.contextmenu=18]="contextmenu",E[E.copyWithSyntaxHighlighting=19]="copyWithSyntaxHighlighting",E[E.cursorBlinking=20]="cursorBlinking",E[E.cursorSmoothCaretAnimation=21]="cursorSmoothCaretAnimation",E[E.cursorStyle=22]="cursorStyle",E[E.cursorSurroundingLines=23]="cursorSurroundingLines",E[E.cursorSurroundingLinesStyle=24]="cursorSurroundingLinesStyle",E[E.cursorWidth=25]="cursorWidth",E[E.disableLayerHinting=26]="disableLayerHinting",E[E.disableMonospaceOptimizations=27]="disableMonospaceOptimizations",E[E.domReadOnly=28]="domReadOnly",E[E.dragAndDrop=29]="dragAndDrop",E[E.emptySelectionClipboard=30]="emptySelectionClipboard",E[E.extraEditorClassName=31]="extraEditorClassName",E[E.fastScrollSensitivity=32]="fastScrollSensitivity",E[E.find=33]="find",E[E.fixedOverflowWidgets=34]="fixedOverflowWidgets",E[E.folding=35]="folding",E[E.foldingStrategy=36]="foldingStrategy",E[E.foldingHighlight=37]="foldingHighlight",E[E.foldingImportsByDefault=38]="foldingImportsByDefault",E[E.unfoldOnClickAfterEndOfLine=39]="unfoldOnClickAfterEndOfLine",E[E.fontFamily=40]="fontFamily",E[E.fontInfo=41]="fontInfo",E[E.fontLigatures=42]="fontLigatures",E[E.fontSize=43]="fontSize",E[E.fontWeight=44]="fontWeight",E[E.formatOnPaste=45]="formatOnPaste",E[E.formatOnType=46]="formatOnType",E[E.glyphMargin=47]="glyphMargin",E[E.gotoLocation=48]="gotoLocation",E[E.hideCursorInOverviewRuler=49]="hideCursorInOverviewRuler",E[E.highlightActiveIndentGuide=50]="highlightActiveIndentGuide",E[E.hover=51]="hover",E[E.inDiffEditor=52]="inDiffEditor",E[E.inlineSuggest=53]="inlineSuggest",E[E.letterSpacing=54]="letterSpacing",E[E.lightbulb=55]="lightbulb",E[E.lineDecorationsWidth=56]="lineDecorationsWidth",E[E.lineHeight=57]="lineHeight",E[E.lineNumbers=58]="lineNumbers",E[E.lineNumbersMinChars=59]="lineNumbersMinChars",E[E.linkedEditing=60]="linkedEditing",E[E.links=61]="links",E[E.matchBrackets=62]="matchBrackets",E[E.minimap=63]="minimap",E[E.mouseStyle=64]="mouseStyle",E[E.mouseWheelScrollSensitivity=65]="mouseWheelScrollSensitivity",E[E.mouseWheelZoom=66]="mouseWheelZoom",E[E.multiCursorMergeOverlapping=67]="multiCursorMergeOverlapping",E[E.multiCursorModifier=68]="multiCursorModifier",E[E.multiCursorPaste=69]="multiCursorPaste",E[E.occurrencesHighlight=70]="occurrencesHighlight",E[E.overviewRulerBorder=71]="overviewRulerBorder",E[E.overviewRulerLanes=72]="overviewRulerLanes",E[E.padding=73]="padding",E[E.parameterHints=74]="parameterHints",E[E.peekWidgetDefaultFocus=75]="peekWidgetDefaultFocus",E[E.definitionLinkOpensInPeek=76]="definitionLinkOpensInPeek",E[E.quickSuggestions=77]="quickSuggestions",E[E.quickSuggestionsDelay=78]="quickSuggestionsDelay",E[E.readOnly=79]="readOnly",E[E.renameOnType=80]="renameOnType",E[E.renderControlCharacters=81]="renderControlCharacters",E[E.renderIndentGuides=82]="renderIndentGuides",E[E.renderFinalNewline=83]="renderFinalNewline",E[E.renderLineHighlight=84]="renderLineHighlight",E[E.renderLineHighlightOnlyWhenFocus=85]="renderLineHighlightOnlyWhenFocus",E[E.renderValidationDecorations=86]="renderValidationDecorations",E[E.renderWhitespace=87]="renderWhitespace",E[E.revealHorizontalRightPadding=88]="revealHorizontalRightPadding",E[E.roundedSelection=89]="roundedSelection",E[E.rulers=90]="rulers",E[E.scrollbar=91]="scrollbar",E[E.scrollBeyondLastColumn=92]="scrollBeyondLastColumn",E[E.scrollBeyondLastLine=93]="scrollBeyondLastLine",E[E.scrollPredominantAxis=94]="scrollPredominantAxis",E[E.selectionClipboard=95]="selectionClipboard",E[E.selectionHighlight=96]="selectionHighlight",E[E.selectOnLineNumbers=97]="selectOnLineNumbers",E[E.showFoldingControls=98]="showFoldingControls",E[E.showUnused=99]="showUnused",E[E.snippetSuggestions=100]="snippetSuggestions",E[E.smartSelect=101]="smartSelect",E[E.smoothScrolling=102]="smoothScrolling",E[E.stickyTabStops=103]="stickyTabStops",E[E.stopRenderingLineAfter=104]="stopRenderingLineAfter",E[E.suggest=105]="suggest",E[E.suggestFontSize=106]="suggestFontSize",E[E.suggestLineHeight=107]="suggestLineHeight",E[E.suggestOnTriggerCharacters=108]="suggestOnTriggerCharacters",E[E.suggestSelection=109]="suggestSelection",E[E.tabCompletion=110]="tabCompletion",E[E.tabIndex=111]="tabIndex",E[E.unusualLineTerminators=112]="unusualLineTerminators",E[E.useShadowDOM=113]="useShadowDOM",E[E.useTabStops=114]="useTabStops",E[E.wordSeparators=115]="wordSeparators",E[E.wordWrap=116]="wordWrap",E[E.wordWrapBreakAfterCharacters=117]="wordWrapBreakAfterCharacters",E[E.wordWrapBreakBeforeCharacters=118]="wordWrapBreakBeforeCharacters",E[E.wordWrapColumn=119]="wordWrapColumn",E[E.wordWrapOverride1=120]="wordWrapOverride1",E[E.wordWrapOverride2=121]="wordWrapOverride2",E[E.wrappingIndent=122]="wrappingIndent",E[E.wrappingStrategy=123]="wrappingStrategy",E[E.showDeprecated=124]="showDeprecated",E[E.inlayHints=125]="inlayHints",E[E.editorClassName=126]="editorClassName",E[E.pixelRatio=127]="pixelRatio",E[E.tabFocusMode=128]="tabFocusMode",E[E.layoutInfo=129]="layoutInfo",E[E.wrappingInfo=130]="wrappingInfo"})(a=e.EditorOption||(e.EditorOption={}));var l;(function(E){E[E.TextDefined=0]="TextDefined",E[E.LF=1]="LF",E[E.CRLF=2]="CRLF"})(l=e.EndOfLinePreference||(e.EndOfLinePreference={}));var c;(function(E){E[E.LF=0]="LF",E[E.CRLF=1]="CRLF"})(c=e.EndOfLineSequence||(e.EndOfLineSequence={}));var u;(function(E){E[E.None=0]="None",E[E.Indent=1]="Indent",E[E.IndentOutdent=2]="IndentOutdent",E[E.Outdent=3]="Outdent"})(u=e.IndentAction||(e.IndentAction={}));var s;(function(E){E[E.Other=0]="Other",E[E.Type=1]="Type",E[E.Parameter=2]="Parameter"})(s=e.InlayHintKind||(e.InlayHintKind={}));var n;(function(E){E[E.Automatic=0]="Automatic",E[E.Explicit=1]="Explicit"})(n=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var d;(function(E){E[E.DependsOnKbLayout=-1]="DependsOnKbLayout",E[E.Unknown=0]="Unknown",E[E.Backspace=1]="Backspace",E[E.Tab=2]="Tab",E[E.Enter=3]="Enter",E[E.Shift=4]="Shift",E[E.Ctrl=5]="Ctrl",E[E.Alt=6]="Alt",E[E.PauseBreak=7]="PauseBreak",E[E.CapsLock=8]="CapsLock",E[E.Escape=9]="Escape",E[E.Space=10]="Space",E[E.PageUp=11]="PageUp",E[E.PageDown=12]="PageDown",E[E.End=13]="End",E[E.Home=14]="Home",E[E.LeftArrow=15]="LeftArrow",E[E.UpArrow=16]="UpArrow",E[E.RightArrow=17]="RightArrow",E[E.DownArrow=18]="DownArrow",E[E.Insert=19]="Insert",E[E.Delete=20]="Delete",E[E.KEY_0=21]="KEY_0",E[E.KEY_1=22]="KEY_1",E[E.KEY_2=23]="KEY_2",E[E.KEY_3=24]="KEY_3",E[E.KEY_4=25]="KEY_4",E[E.KEY_5=26]="KEY_5",E[E.KEY_6=27]="KEY_6",E[E.KEY_7=28]="KEY_7",E[E.KEY_8=29]="KEY_8",E[E.KEY_9=30]="KEY_9",E[E.KEY_A=31]="KEY_A",E[E.KEY_B=32]="KEY_B",E[E.KEY_C=33]="KEY_C",E[E.KEY_D=34]="KEY_D",E[E.KEY_E=35]="KEY_E",E[E.KEY_F=36]="KEY_F",E[E.KEY_G=37]="KEY_G",E[E.KEY_H=38]="KEY_H",E[E.KEY_I=39]="KEY_I",E[E.KEY_J=40]="KEY_J",E[E.KEY_K=41]="KEY_K",E[E.KEY_L=42]="KEY_L",E[E.KEY_M=43]="KEY_M",E[E.KEY_N=44]="KEY_N",E[E.KEY_O=45]="KEY_O",E[E.KEY_P=46]="KEY_P",E[E.KEY_Q=47]="KEY_Q",E[E.KEY_R=48]="KEY_R",E[E.KEY_S=49]="KEY_S",E[E.KEY_T=50]="KEY_T",E[E.KEY_U=51]="KEY_U",E[E.KEY_V=52]="KEY_V",E[E.KEY_W=53]="KEY_W",E[E.KEY_X=54]="KEY_X",E[E.KEY_Y=55]="KEY_Y",E[E.KEY_Z=56]="KEY_Z",E[E.Meta=57]="Meta",E[E.ContextMenu=58]="ContextMenu",E[E.F1=59]="F1",E[E.F2=60]="F2",E[E.F3=61]="F3",E[E.F4=62]="F4",E[E.F5=63]="F5",E[E.F6=64]="F6",E[E.F7=65]="F7",E[E.F8=66]="F8",E[E.F9=67]="F9",E[E.F10=68]="F10",E[E.F11=69]="F11",E[E.F12=70]="F12",E[E.F13=71]="F13",E[E.F14=72]="F14",E[E.F15=73]="F15",E[E.F16=74]="F16",E[E.F17=75]="F17",E[E.F18=76]="F18",E[E.F19=77]="F19",E[E.NumLock=78]="NumLock",E[E.ScrollLock=79]="ScrollLock",E[E.US_SEMICOLON=80]="US_SEMICOLON",E[E.US_EQUAL=81]="US_EQUAL",E[E.US_COMMA=82]="US_COMMA",E[E.US_MINUS=83]="US_MINUS",E[E.US_DOT=84]="US_DOT",E[E.US_SLASH=85]="US_SLASH",E[E.US_BACKTICK=86]="US_BACKTICK",E[E.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",E[E.US_BACKSLASH=88]="US_BACKSLASH",E[E.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",E[E.US_QUOTE=90]="US_QUOTE",E[E.OEM_8=91]="OEM_8",E[E.OEM_102=92]="OEM_102",E[E.NUMPAD_0=93]="NUMPAD_0",E[E.NUMPAD_1=94]="NUMPAD_1",E[E.NUMPAD_2=95]="NUMPAD_2",E[E.NUMPAD_3=96]="NUMPAD_3",E[E.NUMPAD_4=97]="NUMPAD_4",E[E.NUMPAD_5=98]="NUMPAD_5",E[E.NUMPAD_6=99]="NUMPAD_6",E[E.NUMPAD_7=100]="NUMPAD_7",E[E.NUMPAD_8=101]="NUMPAD_8",E[E.NUMPAD_9=102]="NUMPAD_9",E[E.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",E[E.NUMPAD_ADD=104]="NUMPAD_ADD",E[E.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",E[E.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",E[E.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",E[E.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",E[E.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",E[E.ABNT_C1=110]="ABNT_C1",E[E.ABNT_C2=111]="ABNT_C2",E[E.MAX_VALUE=112]="MAX_VALUE"})(d=e.KeyCode||(e.KeyCode={}));var t;(function(E){E[E.Hint=1]="Hint",E[E.Info=2]="Info",E[E.Warning=4]="Warning",E[E.Error=8]="Error"})(t=e.MarkerSeverity||(e.MarkerSeverity={}));var o;(function(E){E[E.Unnecessary=1]="Unnecessary",E[E.Deprecated=2]="Deprecated"})(o=e.MarkerTag||(e.MarkerTag={}));var h;(function(E){E[E.Inline=1]="Inline",E[E.Gutter=2]="Gutter"})(h=e.MinimapPosition||(e.MinimapPosition={}));var m;(function(E){E[E.UNKNOWN=0]="UNKNOWN",E[E.TEXTAREA=1]="TEXTAREA",E[E.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",E[E.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",E[E.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",E[E.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",E[E.CONTENT_TEXT=6]="CONTENT_TEXT",E[E.CONTENT_EMPTY=7]="CONTENT_EMPTY",E[E.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",E[E.CONTENT_WIDGET=9]="CONTENT_WIDGET",E[E.OVERVIEW_RULER=10]="OVERVIEW_RULER",E[E.SCROLLBAR=11]="SCROLLBAR",E[E.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",E[E.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(m=e.MouseTargetType||(e.MouseTargetType={}));var y;(function(E){E[E.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",E[E.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",E[E.TOP_CENTER=2]="TOP_CENTER"})(y=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var w;(function(E){E[E.Left=1]="Left",E[E.Center=2]="Center",E[E.Right=4]="Right",E[E.Full=7]="Full"})(w=e.OverviewRulerLane||(e.OverviewRulerLane={}));var g;(function(E){E[E.Off=0]="Off",E[E.On=1]="On",E[E.Relative=2]="Relative",E[E.Interval=3]="Interval",E[E.Custom=4]="Custom"})(g=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var f;(function(E){E[E.None=0]="None",E[E.Text=1]="Text",E[E.Blocks=2]="Blocks"})(f=e.RenderMinimap||(e.RenderMinimap={}));var _;(function(E){E[E.Smooth=0]="Smooth",E[E.Immediate=1]="Immediate"})(_=e.ScrollType||(e.ScrollType={}));var D;(function(E){E[E.Auto=1]="Auto",E[E.Hidden=2]="Hidden",E[E.Visible=3]="Visible"})(D=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var N;(function(E){E[E.LTR=0]="LTR",E[E.RTL=1]="RTL"})(N=e.SelectionDirection||(e.SelectionDirection={}));var I;(function(E){E[E.Invoke=1]="Invoke",E[E.TriggerCharacter=2]="TriggerCharacter",E[E.ContentChange=3]="ContentChange"})(I=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var M;(function(E){E[E.File=0]="File",E[E.Module=1]="Module",E[E.Namespace=2]="Namespace",E[E.Package=3]="Package",E[E.Class=4]="Class",E[E.Method=5]="Method",E[E.Property=6]="Property",E[E.Field=7]="Field",E[E.Constructor=8]="Constructor",E[E.Enum=9]="Enum",E[E.Interface=10]="Interface",E[E.Function=11]="Function",E[E.Variable=12]="Variable",E[E.Constant=13]="Constant",E[E.String=14]="String",E[E.Number=15]="Number",E[E.Boolean=16]="Boolean",E[E.Array=17]="Array",E[E.Object=18]="Object",E[E.Key=19]="Key",E[E.Null=20]="Null",E[E.EnumMember=21]="EnumMember",E[E.Struct=22]="Struct",E[E.Event=23]="Event",E[E.Operator=24]="Operator",E[E.TypeParameter=25]="TypeParameter"})(M=e.SymbolKind||(e.SymbolKind={}));var O;(function(E){E[E.Deprecated=1]="Deprecated"})(O=e.SymbolTag||(e.SymbolTag={}));var R;(function(E){E[E.Hidden=0]="Hidden",E[E.Blink=1]="Blink",E[E.Smooth=2]="Smooth",E[E.Phase=3]="Phase",E[E.Expand=4]="Expand",E[E.Solid=5]="Solid"})(R=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var P;(function(E){E[E.Line=1]="Line",E[E.Block=2]="Block",E[E.Underline=3]="Underline",E[E.LineThin=4]="LineThin",E[E.BlockOutline=5]="BlockOutline",E[E.UnderlineThin=6]="UnderlineThin"})(P=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var A;(function(E){E[E.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",E[E.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",E[E.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",E[E.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(A=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var F;(function(E){E[E.None=0]="None",E[E.Same=1]="Same",E[E.Indent=2]="Indent",E[E.DeepIndent=3]="DeepIndent"})(F=e.WrappingIndent||(e.WrappingIndent={}))}),define(ee[222],te([0,1,23,6,41,24,13,3,21,134,174]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class r{static chord(c,u){return(0,T.KeyChord)(c,u)}}e.KeyMod=r,r.CtrlCmd=2048,r.Shift=1024,r.Alt=512,r.WinCtrl=256;function a(){return{editor:void 0,languages:void 0,CancellationTokenSource:b.CancellationTokenSource,Emitter:k.Emitter,KeyCode:v.KeyCode,KeyMod:r,Position:S.Position,Range:p.Range,Selection:C.Selection,SelectionDirection:v.SelectionDirection,MarkerSeverity:v.MarkerSeverity,MarkerTag:v.MarkerTag,Uri:L.URI,Token:i.Token}}e.createMonacoBaseAPI=a}),define(ee[223],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class b{constructor(S,p,C){this._colorZoneBrand=void 0,this.from=S|0,this.to=p|0,this.colorId=C|0}static compare(S,p){return S.colorId===p.colorId?S.from===p.from?S.to-p.to:S.from-p.from:S.colorId-p.colorId}}e.ColorZone=b;class k{constructor(S,p,C){this._overviewRulerZoneBrand=void 0,this.startLineNumber=S,this.endLineNumber=p,this.color=C,this._colorZone=null}static compare(S,p){return S.color===p.color?S.startLineNumber===p.startLineNumber?S.endLineNumber-p.endLineNumber:S.startLineNumber-p.startLineNumber:S.color<p.color?-1:1}setColorZone(S){this._colorZone=S}getColorZones(){return this._colorZone}}e.OverviewRulerZone=k;class T{constructor(S){this._getVerticalOffsetForLine=S,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(S){this._zones=S,this._zones.sort(k.compare)}setLineHeight(S){return this._lineHeight===S?!1:(this._lineHeight=S,this._colorZonesInvalid=!0,!0)}setPixelRatio(S){this._pixelRatio=S,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(S){return this._domWidth===S?!1:(this._domWidth=S,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(S){return this._domHeight===S?!1:(this._domHeight=S,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(S){return this._outerHeight===S?!1:(this._outerHeight=S,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const S=this._colorZonesInvalid,p=Math.floor(this._lineHeight),C=Math.floor(this.getCanvasHeight()),i=Math.floor(this._outerHeight),v=C/i,r=Math.floor(4*this._pixelRatio/2);let a=[];for(let l=0,c=this._zones.length;l<c;l++){const u=this._zones[l];if(!S){const y=u.getColorZones();if(y){a.push(y);continue}}const s=Math.floor(v*this._getVerticalOffsetForLine(u.startLineNumber)),n=Math.floor(v*(this._getVerticalOffsetForLine(u.endLineNumber)+p));let d=Math.floor((s+n)/2),t=n-d;t<r&&(t=r),d-t<0&&(d=t),d+t>C&&(d=C-t);const o=u.color;let h=this._color2Id[o];h||(h=++this._lastAssignedId,this._color2Id[o]=h,this._id2Color[h]=o);const m=new b(d-t,d+t,h);u.setColorZone(m),a.push(m)}return this._colorZonesInvalid=!1,a.sort(b.compare),a}}e.OverviewZoneManager=T}),define(ee[113],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class b{constructor(i,v){this._restrictedRenderingContextBrand=void 0,this._viewLayout=i,this.viewportData=v,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const r=this._viewLayout.getCurrentViewport();this.scrollTop=r.top,this.scrollLeft=r.left,this.viewportWidth=r.width,this.viewportHeight=r.height}getScrolledTopFromAbsoluteTop(i){return i-this.scrollTop}getVerticalOffsetForLineNumber(i){return this._viewLayout.getVerticalOffsetForLineNumber(i)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=b;class k extends b{constructor(i,v,r){super(i,v);this._renderingContextBrand=void 0,this._viewLines=r}linesVisibleRangesForRange(i,v){return this._viewLines.linesVisibleRangesForRange(i,v)}visibleRangeForPosition(i){return this._viewLines.visibleRangeForPosition(i)}}e.RenderingContext=k;class T{constructor(i,v,r){this.outsideRenderedLine=i,this.lineNumber=v,this.ranges=r}}e.LineVisibleRanges=T;class L{constructor(i,v){this.left=Math.round(i),this.width=Math.round(v)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=L;class S{constructor(i,v){this.outsideRenderedLine=i,this.left=Math.round(v)}}e.HorizontalPosition=S;class p{constructor(i,v){this.outsideRenderedLine=i,this.ranges=v}}e.VisibleRanges=p}),define(ee[392],te([0,1,113]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class k{constructor(S,p){this._floatHorizontalRangeBrand=void 0,this.left=S,this.width=p}toString(){return`[${this.left},${this.width}]`}static compare(S,p){return S.left-p.left}}class T{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(S,p){S.selectNodeContents(p)}static _readClientRects(S,p,C,i,v){const r=this._createRange();try{return r.setStart(S,p),r.setEnd(C,i),r.getClientRects()}catch(a){return null}finally{this._detachRange(r,v)}}static _mergeAdjacentRanges(S){if(S.length===1)return[new b.HorizontalRange(S[0].left,S[0].width)];S.sort(k.compare);let p=[],C=0,i=S[0].left,v=S[0].width;for(let r=1,a=S.length;r<a;r++){const l=S[r],c=l.left,u=l.width;i+v+.9>=c?v=Math.max(v,c+u-i):(p[C++]=new b.HorizontalRange(i,v),i=c,v=u)}return p[C++]=new b.HorizontalRange(i,v),p}static _createHorizontalRangesFromClientRects(S,p){if(!S||S.length===0)return null;const C=[];for(let i=0,v=S.length;i<v;i++){const r=S[i];C[i]=new k(Math.max(0,r.left-p),r.width)}return this._mergeAdjacentRanges(C)}static readHorizontalRanges(S,p,C,i,v,r,a){const l=0,c=S.children.length-1;if(l>c)return null;if(p=Math.min(c,Math.max(l,p)),i=Math.min(c,Math.max(l,i)),p===i&&C===v&&C===0&&!S.children[p].firstChild){const d=S.children[p].getClientRects();return this._createHorizontalRangesFromClientRects(d,r)}p!==i&&i>0&&v===0&&(i--,v=1073741824);let u=S.children[p].firstChild,s=S.children[i].firstChild;if((!u||!s)&&(!u&&C===0&&p>0&&(u=S.children[p-1].firstChild,C=1073741824),!s&&v===0&&i>0&&(s=S.children[i-1].firstChild,v=1073741824)),!u||!s)return null;C=Math.min(u.textContent.length,Math.max(0,C)),v=Math.min(s.textContent.length,Math.max(0,v));const n=this._readClientRects(u,C,s,v,a);return this._createHorizontalRangesFromClientRects(n,r)}}e.RangeUtil=T}),define(ee[393],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=e.EditorTheme=void 0;class b{constructor(L){this._theme=L}get type(){return this._theme.type}update(L){this._theme=L}getColor(L){return this._theme.getColor(L)}}e.EditorTheme=b;class k{constructor(L,S,p){this.configuration=L,this.theme=new b(S),this.model=p,this.viewLayout=p.viewLayout}addEventHandler(L){this.model.addViewEventHandler(L)}removeEventHandler(L){this.model.removeViewEventHandler(L)}}e.ViewContext=k}),define(ee[175],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class b{constructor(){this.type=0}}e.ViewCompositionStartEvent=b;class k{constructor(){this.type=1}}e.ViewCompositionEndEvent=k;class T{constructor(h){this.type=2,this._source=h}hasChanged(h){return this._source.hasChanged(h)}}e.ViewConfigurationChangedEvent=T;class L{constructor(h,m){this.type=3,this.selections=h,this.modelSelections=m}}e.ViewCursorStateChangedEvent=L;class S{constructor(h){this.type=4,h?(this.affectsMinimap=h.affectsMinimap,this.affectsOverviewRuler=h.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=S;class p{constructor(){this.type=5}}e.ViewFlushedEvent=p;class C{constructor(h){this.type=6,this.isFocused=h}}e.ViewFocusChangedEvent=C;class i{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=i;class v{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=v;class r{constructor(h,m){this.type=9,this.fromLineNumber=h,this.toLineNumber=m}}e.ViewLinesChangedEvent=r;class a{constructor(h,m){this.type=10,this.fromLineNumber=h,this.toLineNumber=m}}e.ViewLinesDeletedEvent=a;class l{constructor(h,m){this.type=11,this.fromLineNumber=h,this.toLineNumber=m}}e.ViewLinesInsertedEvent=l;class c{constructor(h,m,y,w,g,f){this.type=12,this.source=h,this.range=m,this.selections=y,this.verticalType=w,this.revealHorizontal=g,this.scrollType=f}}e.ViewRevealRangeRequestEvent=c;class u{constructor(h){this.type=13,this.scrollWidth=h.scrollWidth,this.scrollLeft=h.scrollLeft,this.scrollHeight=h.scrollHeight,this.scrollTop=h.scrollTop,this.scrollWidthChanged=h.scrollWidthChanged,this.scrollLeftChanged=h.scrollLeftChanged,this.scrollHeightChanged=h.scrollHeightChanged,this.scrollTopChanged=h.scrollTopChanged}}e.ViewScrollChangedEvent=u;class s{constructor(){this.type=14}}e.ViewThemeChangedEvent=s;class n{constructor(h){this.type=15,this.ranges=h}}e.ViewTokensChangedEvent=n;class d{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=d;class t{constructor(){this.type=17}}e.ViewZonesChangedEvent=t}),define(ee[136],te([0,1,8]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class k{constructor(C,i,v,r){this.startColumn=C,this.endColumn=i,this.className=v,this.type=r,this._lineDecorationBrand=void 0}static _equals(C,i){return C.startColumn===i.startColumn&&C.endColumn===i.endColumn&&C.className===i.className&&C.type===i.type}static equalsArr(C,i){const v=C.length,r=i.length;if(v!==r)return!1;for(let a=0;a<v;a++)if(!k._equals(C[a],i[a]))return!1;return!0}static extractWrapped(C,i,v){if(C.length===0)return C;const r=i+1,a=v+1,l=v-i,c=[];let u=0;for(const s of C)s.endColumn<=r||s.startColumn>=a||(c[u++]=new k(Math.max(1,s.startColumn-r+1),Math.min(l+1,s.endColumn-r+1),s.className,s.type));return c}static filter(C,i,v,r){if(C.length===0)return[];let a=[],l=0;for(let c=0,u=C.length;c<u;c++){const s=C[c],n=s.range;if(n.endLineNumber<i||n.startLineNumber>i||n.isEmpty()&&(s.type===0||s.type===3))continue;const d=n.startLineNumber===i?n.startColumn:v,t=n.endLineNumber===i?n.endColumn:r;a[l++]=new k(d,t,s.inlineClassName,s.type)}return a}static _typeCompare(C,i){const v=[2,0,1,3];return v[C]-v[i]}static compare(C,i){if(C.startColumn!==i.startColumn)return C.startColumn-i.startColumn;if(C.endColumn!==i.endColumn)return C.endColumn-i.endColumn;const v=k._typeCompare(C.type,i.type);return v!==0?v:C.className!==i.className?C.className<i.className?-1:1:0}}e.LineDecoration=k;class T{constructor(C,i,v,r){this.startOffset=C,this.endOffset=i,this.className=v,this.metadata=r}}e.DecorationSegment=T;class L{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(C){let i=0;for(let v=0,r=C.length;v<r;v++)i|=C[v];return i}consumeLowerThan(C,i,v){for(;this.count>0&&this.stopOffsets[0]<C;){let r=0;for(;r+1<this.count&&this.stopOffsets[r]===this.stopOffsets[r+1];)r++;v.push(new T(i,this.stopOffsets[r],this.classNames.join(" "),L._metadata(this.metadata))),i=this.stopOffsets[r]+1,this.stopOffsets.splice(0,r+1),this.classNames.splice(0,r+1),this.metadata.splice(0,r+1),this.count-=r+1}return this.count>0&&i<C&&(v.push(new T(i,C-1,this.classNames.join(" "),L._metadata(this.metadata))),i=C),i}insert(C,i,v){if(this.count===0||this.stopOffsets[this.count-1]<=C)this.stopOffsets.push(C),this.classNames.push(i),this.metadata.push(v);else for(let r=0;r<this.count;r++)if(this.stopOffsets[r]>=C){this.stopOffsets.splice(r,0,C),this.classNames.splice(r,0,i),this.metadata.splice(r,0,v);break}this.count++}}class S{static normalize(C,i){if(i.length===0)return[];let v=[];const r=new L;let a=0;for(let l=0,c=i.length;l<c;l++){const u=i[l];let s=u.startColumn,n=u.endColumn;const d=u.className,t=u.type===1?2:u.type===2?4:0;if(s>1){const m=C.charCodeAt(s-2);b.isHighSurrogate(m)&&s--}if(n>1){const m=C.charCodeAt(n-2);b.isHighSurrogate(m)&&n--}const o=s-1,h=n-2;a=r.consumeLowerThan(o,a,v),r.count===0&&(a=o),r.insert(h,d,t)}return r.consumeLowerThan(1073741824,a,v),v}}e.LineDecorationsNormalizer=S}),define(ee[394],te([0,1,8]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class k{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(p){this._hasPending=!0,this._inserts.push(p)}change(p){this._hasPending=!0,this._changes.push(p)}remove(p){this._hasPending=!0,this._removes.push(p)}mustCommit(){return this._hasPending}commit(p){if(!this._hasPending)return;const C=this._inserts,i=this._changes,v=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],p._commitPendingChanges(C,i,v)}}class T{constructor(p,C,i,v,r){this.id=p,this.afterLineNumber=C,this.ordinal=i,this.height=v,this.minWidth=r,this.prefixSum=0}}e.EditorWhitespace=T;class L{constructor(p,C,i,v){this._instanceId=b.singleLetterHash(++L.INSTANCE_COUNT),this._pendingChanges=new k,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=p,this._lineHeight=C,this._paddingTop=i,this._paddingBottom=v}static findInsertionIndex(p,C,i){let v=0,r=p.length;for(;v<r;){const a=v+r>>>1;C===p[a].afterLineNumber?i<p[a].ordinal?r=a:v=a+1:C<p[a].afterLineNumber?r=a:v=a+1}return v}setLineHeight(p){this._checkPendingChanges(),this._lineHeight=p}setPadding(p,C){this._paddingTop=p,this._paddingBottom=C}onFlushed(p){this._checkPendingChanges(),this._lineCount=p}changeWhitespace(p){let C=!1;try{p({insertWhitespace:(v,r,a,l)=>{C=!0,v=v|0,r=r|0,a=a|0,l=l|0;const c=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new T(c,v,r,a,l)),c},changeOneWhitespace:(v,r,a)=>{C=!0,r=r|0,a=a|0,this._pendingChanges.change({id:v,newAfterLineNumber:r,newHeight:a})},removeWhitespace:v=>{C=!0,this._pendingChanges.remove({id:v})}})}finally{this._pendingChanges.commit(this)}return C}_commitPendingChanges(p,C,i){if((p.length>0||i.length>0)&&(this._minWidth=-1),p.length+C.length+i.length<=1){for(const c of p)this._insertWhitespace(c);for(const c of C)this._changeOneWhitespace(c.id,c.newAfterLineNumber,c.newHeight);for(const c of i){const u=this._findWhitespaceIndex(c.id);u!==-1&&this._removeWhitespace(u)}return}const v=new Set;for(const c of i)v.add(c.id);const r=new Map;for(const c of C)r.set(c.id,c);const a=c=>{let u=[];for(const s of c)if(!v.has(s.id)){if(r.has(s.id)){const n=r.get(s.id);s.afterLineNumber=n.newAfterLineNumber,s.height=n.newHeight}u.push(s)}return u},l=a(this._arr).concat(a(p));l.sort((c,u)=>c.afterLineNumber===u.afterLineNumber?c.ordinal-u.ordinal:c.afterLineNumber-u.afterLineNumber),this._arr=l,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(p){const C=L.findInsertionIndex(this._arr,p.afterLineNumber,p.ordinal);this._arr.splice(C,0,p),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,C-1)}_findWhitespaceIndex(p){const C=this._arr;for(let i=0,v=C.length;i<v;i++)if(C[i].id===p)return i;return-1}_changeOneWhitespace(p,C,i){const v=this._findWhitespaceIndex(p);if(v!==-1&&(this._arr[v].height!==i&&(this._arr[v].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,v-1)),this._arr[v].afterLineNumber!==C)){const r=this._arr[v];this._removeWhitespace(v),r.afterLineNumber=C,this._insertWhitespace(r)}}_removeWhitespace(p){this._arr.splice(p,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,p-1)}onLinesDeleted(p,C){this._checkPendingChanges(),p=p|0,C=C|0,this._lineCount-=C-p+1;for(let i=0,v=this._arr.length;i<v;i++){const r=this._arr[i].afterLineNumber;p<=r&&r<=C?this._arr[i].afterLineNumber=p-1:r>C&&(this._arr[i].afterLineNumber-=C-p+1)}}onLinesInserted(p,C){this._checkPendingChanges(),p=p|0,C=C|0,this._lineCount+=C-p+1;for(let i=0,v=this._arr.length;i<v;i++){const r=this._arr[i].afterLineNumber;p<=r&&(this._arr[i].afterLineNumber+=C-p+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(p){this._checkPendingChanges(),p=p|0;let C=Math.max(0,this._prefixSumValidIndex+1);C===0&&(this._arr[0].prefixSum=this._arr[0].height,C++);for(let i=C;i<=p;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,p),this._arr[p].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const p=this._lineHeight*this._lineCount,C=this.getWhitespacesTotalHeight();return p+C+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(p){this._checkPendingChanges(),p=p|0;const C=this._findLastWhitespaceBeforeLineNumber(p);return C===-1?0:this.getWhitespacesAccumulatedHeight(C)}_findLastWhitespaceBeforeLineNumber(p){p=p|0;const C=this._arr;let i=0,v=C.length-1;for(;i<=v;){const a=(v-i|0)/2|0,l=i+a|0;if(C[l].afterLineNumber<p){if(l+1>=C.length||C[l+1].afterLineNumber>=p)return l;i=l+1|0}else v=l-1|0}return-1}_findFirstWhitespaceAfterLineNumber(p){p=p|0;const i=this._findLastWhitespaceBeforeLineNumber(p)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(p){return this._checkPendingChanges(),p=p|0,this._findFirstWhitespaceAfterLineNumber(p)}getVerticalOffsetForLineNumber(p){this._checkPendingChanges(),p=p|0;let C;p>1?C=this._lineHeight*(p-1):C=0;const i=this.getWhitespaceAccumulatedHeightBeforeLineNumber(p);return C+i+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let p=0;for(let C=0,i=this._arr.length;C<i;C++)p=Math.max(p,this._arr[C].minWidth);this._minWidth=p}return this._minWidth}isAfterLines(p){this._checkPendingChanges();const C=this.getLinesTotalHeight();return p>C}isInTopPadding(p){return this._paddingTop===0?!1:(this._checkPendingChanges(),p<this._paddingTop)}isInBottomPadding(p){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const C=this.getLinesTotalHeight();return p>=C-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(p){if(this._checkPendingChanges(),p=p|0,p<0)return 1;const C=this._lineCount|0,i=this._lineHeight;let v=1,r=C;for(;v<r;){const a=(v+r)/2|0,l=this.getVerticalOffsetForLineNumber(a)|0;if(p>=l+i)v=a+1;else{if(p>=l)return a;r=a}}return v>C?C:v}getLinesViewportData(p,C){this._checkPendingChanges(),p=p|0,C=C|0;const i=this._lineHeight,v=this.getLineNumberAtOrAfterVerticalOffset(p)|0,r=this.getVerticalOffsetForLineNumber(v)|0;let a=this._lineCount|0,l=this.getFirstWhitespaceIndexAfterLineNumber(v)|0;const c=this.getWhitespacesCount()|0;let u,s;l===-1?(l=c,s=a+1,u=0):(s=this.getAfterLineNumberForWhitespaceIndex(l)|0,u=this.getHeightForWhitespaceIndex(l)|0);let n=r,d=n;const t=5e5;let o=0;r>=t&&(o=Math.floor(r/t)*t,o=Math.floor(o/i)*i,d-=o);const h=[],m=p+(C-p)/2;let y=-1;for(let _=v;_<=a;_++){if(y===-1){const D=n,N=n+i;(D<=m&&m<N||D>m)&&(y=_)}for(n+=i,h[_-v]=d,d+=i;s===_;)d+=u,n+=u,l++,l>=c?s=a+1:(s=this.getAfterLineNumberForWhitespaceIndex(l)|0,u=this.getHeightForWhitespaceIndex(l)|0);if(n>=C){a=_;break}}y===-1&&(y=a);const w=this.getVerticalOffsetForLineNumber(a)|0;let g=v,f=a;return g<f&&r<p&&g++,g<f&&w+i>C&&f--,{bigNumbersDelta:o,startLineNumber:v,endLineNumber:a,relativeVerticalOffset:h,centeredLineNumber:y,completelyVisibleStartLineNumber:g,completelyVisibleEndLineNumber:f}}getVerticalOffsetForWhitespaceIndex(p){this._checkPendingChanges(),p=p|0;const C=this.getAfterLineNumberForWhitespaceIndex(p);let i;C>=1?i=this._lineHeight*C:i=0;let v;return p>0?v=this.getWhitespacesAccumulatedHeight(p-1):v=0,i+v+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(p){this._checkPendingChanges(),p=p|0;let C=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;const v=this.getVerticalOffsetForWhitespaceIndex(i),r=this.getHeightForWhitespaceIndex(i);if(p>=v+r)return-1;for(;C<i;){const a=Math.floor((C+i)/2),l=this.getVerticalOffsetForWhitespaceIndex(a),c=this.getHeightForWhitespaceIndex(a);if(p>=l+c)C=a+1;else{if(p>=l)return a;i=a}}return C}getWhitespaceAtVerticalOffset(p){this._checkPendingChanges(),p=p|0;const C=this.getWhitespaceIndexAtOrAfterVerticallOffset(p);if(C<0||C>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(C);if(i>p)return null;const v=this.getHeightForWhitespaceIndex(C),r=this.getIdForWhitespaceIndex(C),a=this.getAfterLineNumberForWhitespaceIndex(C);return{id:r,afterLineNumber:a,verticalOffset:i,height:v}}getWhitespaceViewportData(p,C){this._checkPendingChanges(),p=p|0,C=C|0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(p),v=this.getWhitespacesCount()-1;if(i<0)return[];let r=[];for(let a=i;a<=v;a++){const l=this.getVerticalOffsetForWhitespaceIndex(a),c=this.getHeightForWhitespaceIndex(a);if(l>=C)break;r.push({id:this.getIdForWhitespaceIndex(a),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(a),verticalOffset:l,height:c})}return r}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].id}getAfterLineNumberForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].afterLineNumber}getHeightForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].height}}e.LinesLayout=L,L.INSTANCE_COUNT=0}),define(ee[114],te([0,1,8,83,136]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class L{constructor(m,y,w){this._linePartBrand=void 0,this.endIndex=m,this.type=y,this.metadata=w}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class S{constructor(m,y){this.startOffset=m,this.endOffset=y}equals(m){return this.startOffset===m.startOffset&&this.endOffset===m.endOffset}}e.LineRange=S;class p{constructor(m,y,w,g,f,_,D,N,I,M,O,R,P,A,F,E,W,V,$){this.useMonospaceOptimizations=m,this.canUseHalfwidthRightwardsArrow=y,this.lineContent=w,this.continuesWithWrappedLine=g,this.isBasicASCII=f,this.containsRTL=_,this.fauxIndentLength=D,this.lineTokens=N,this.lineDecorations=I.sort(T.LineDecoration.compare),this.tabSize=M,this.startVisibleColumn=O,this.spaceWidth=R,this.stopRenderingLineAfter=F,this.renderWhitespace=E==="all"?4:E==="boundary"?1:E==="selection"?2:E==="trailing"?3:0,this.renderControlCharacters=W,this.fontLigatures=V,this.selectionsOnLine=$&&$.sort((J,ie)=>J.startOffset<ie.startOffset?-1:1);const Z=Math.abs(A-R),X=Math.abs(P-R);Z<X?(this.renderSpaceWidth=A,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=P,this.renderSpaceCharCode=183)}sameSelection(m){if(this.selectionsOnLine===null)return m===null;if(m===null||m.length!==this.selectionsOnLine.length)return!1;for(let y=0;y<this.selectionsOnLine.length;y++)if(!this.selectionsOnLine[y].equals(m[y]))return!1;return!0}equals(m){return this.useMonospaceOptimizations===m.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===m.canUseHalfwidthRightwardsArrow&&this.lineContent===m.lineContent&&this.continuesWithWrappedLine===m.continuesWithWrappedLine&&this.isBasicASCII===m.isBasicASCII&&this.containsRTL===m.containsRTL&&this.fauxIndentLength===m.fauxIndentLength&&this.tabSize===m.tabSize&&this.startVisibleColumn===m.startVisibleColumn&&this.spaceWidth===m.spaceWidth&&this.renderSpaceWidth===m.renderSpaceWidth&&this.renderSpaceCharCode===m.renderSpaceCharCode&&this.stopRenderingLineAfter===m.stopRenderingLineAfter&&this.renderWhitespace===m.renderWhitespace&&this.renderControlCharacters===m.renderControlCharacters&&this.fontLigatures===m.fontLigatures&&T.LineDecoration.equalsArr(this.lineDecorations,m.lineDecorations)&&this.lineTokens.equals(m.lineTokens)&&this.sameSelection(m.selectionsOnLine)}}e.RenderLineInput=p;class C{constructor(m,y){this.partIndex=m,this.charIndex=y}}e.DomPosition=C;class i{constructor(m,y){this.length=m,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(m){return(m&4294901760)>>>16}static getCharIndex(m){return(m&65535)>>>0}setColumnInfo(m,y,w,g){const f=(y<<16|w<<0)>>>0;this._data[m-1]=f,this._absoluteOffsets[m-1]=g+w}getAbsoluteOffset(m){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[m-1]}charOffsetToPartData(m){return this.length===0?0:m<0?this._data[0]:m>=this.length?this._data[this.length-1]:this._data[m]}getDomPosition(m){const y=this.charOffsetToPartData(m-1),w=i.getPartIndex(y),g=i.getCharIndex(y);return new C(w,g)}getColumn(m,y){return this.partDataToCharOffset(m.partIndex,y,m.charIndex)+1}partDataToCharOffset(m,y,w){if(this.length===0)return 0;let g=(m<<16|w<<0)>>>0,f=0,_=this.length-1;for(;f+1<_;){let F=f+_>>>1,E=this._data[F];if(E===g)return F;E>g?_=F:f=F}if(f===_)return f;let D=this._data[f],N=this._data[_];if(D===g)return f;if(N===g)return _;let I=i.getPartIndex(D),M=i.getCharIndex(D),O=i.getPartIndex(N),R;I!==O?R=y:R=i.getCharIndex(N);let P=w-M,A=R-w;return P<=A?f:_}}e.CharacterMapping=i;class v{constructor(m,y,w){this._renderLineOutputBrand=void 0,this.characterMapping=m,this.containsRTL=y,this.containsForeignElements=w}}e.RenderLineOutput=v;function r(h,m){if(h.lineContent.length===0){if(h.lineDecorations.length>0){m.appendASCIIString("<span>");let y=0,w=0,g=0;for(const _ of h.lineDecorations)(_.type===1||_.type===2)&&(m.appendASCIIString('<span class="'),m.appendASCIIString(_.className),m.appendASCIIString('"></span>'),_.type===1&&(g|=1,y++),_.type===2&&(g|=2,w++));m.appendASCIIString("</span>");const f=new i(1,y+w);return f.setColumnInfo(1,y,0,0),new v(f,!1,g)}return m.appendASCIIString("<span><span></span></span>"),new v(new i(0,0),!1,0)}return o(u(h),m)}e.renderViewLine=r;class a{constructor(m,y,w,g){this.characterMapping=m,this.html=y,this.containsRTL=w,this.containsForeignElements=g}}e.RenderLineOutput2=a;function l(h){let m=(0,k.createStringBuilder)(1e4),y=r(h,m);return new a(y.characterMapping,m.build(),y.containsRTL,y.containsForeignElements)}e.renderViewLine2=l;class c{constructor(m,y,w,g,f,_,D,N,I,M,O,R,P,A,F){this.fontIsMonospace=m,this.canUseHalfwidthRightwardsArrow=y,this.lineContent=w,this.len=g,this.isOverflowing=f,this.parts=_,this.containsForeignElements=D,this.fauxIndentLength=N,this.tabSize=I,this.startVisibleColumn=M,this.containsRTL=O,this.spaceWidth=R,this.renderSpaceCharCode=P,this.renderWhitespace=A,this.renderControlCharacters=F}}function u(h){const m=h.lineContent;let y,w;h.stopRenderingLineAfter!==-1&&h.stopRenderingLineAfter<m.length?(y=!0,w=h.stopRenderingLineAfter):(y=!1,w=m.length);let g=s(h.lineTokens,h.fauxIndentLength,w);(h.renderWhitespace===4||h.renderWhitespace===1||h.renderWhitespace===2&&!!h.selectionsOnLine||h.renderWhitespace===3)&&(g=d(h,m,w,g));let f=0;if(h.lineDecorations.length>0){for(let _=0,D=h.lineDecorations.length;_<D;_++){const N=h.lineDecorations[_];N.type===3||N.type===1?f|=1:N.type===2&&(f|=2)}g=t(m,w,g,h.lineDecorations)}return h.containsRTL||(g=n(m,g,!h.isBasicASCII||h.fontLigatures)),new c(h.useMonospaceOptimizations,h.canUseHalfwidthRightwardsArrow,m,w,y,g,f,h.fauxIndentLength,h.tabSize,h.startVisibleColumn,h.containsRTL,h.spaceWidth,h.renderSpaceCharCode,h.renderWhitespace,h.renderControlCharacters)}function s(h,m,y){let w=[],g=0;m>0&&(w[g++]=new L(m,"",0));for(let f=0,_=h.getCount();f<_;f++){const D=h.getEndOffset(f);if(D<=m)continue;const N=h.getClassName(f);if(D>=y){w[g++]=new L(y,N,0);break}w[g++]=new L(D,N,0)}return w}function n(h,m,y){let w=0,g=[],f=0;if(y)for(let _=0,D=m.length;_<D;_++){const N=m[_],I=N.endIndex;if(w+50<I){const M=N.type,O=N.metadata;let R=-1,P=w;for(let A=w;A<I;A++)h.charCodeAt(A)===32&&(R=A),R!==-1&&A-P>=50&&(g[f++]=new L(R+1,M,O),P=R+1,R=-1);P!==I&&(g[f++]=new L(I,M,O))}else g[f++]=N;w=I}else for(let _=0,D=m.length;_<D;_++){const N=m[_],I=N.endIndex;let M=I-w;if(M>50){const O=N.type,R=N.metadata,P=Math.ceil(M/50);for(let A=1;A<P;A++){let F=w+A*50;g[f++]=new L(F,O,R)}g[f++]=new L(I,O,R)}else g[f++]=N;w=I}return g}function d(h,m,y,w){const g=h.continuesWithWrappedLine,f=h.fauxIndentLength,_=h.tabSize,D=h.startVisibleColumn,N=h.useMonospaceOptimizations,I=h.selectionsOnLine,M=h.renderWhitespace===1,O=h.renderWhitespace===3,R=h.renderSpaceWidth!==h.spaceWidth;let P=[],A=0,F=0,E=w[F].type,W=w[F].endIndex;const V=w.length;let $=!1,Z=b.firstNonWhitespaceIndex(m),X;Z===-1?($=!0,Z=y,X=y):X=b.lastNonWhitespaceIndex(m);let J=!1,ie=0,de=I&&I[ie],ue=D%_;for(let B=f;B<y;B++){const j=m.charCodeAt(B);de&&B>=de.endOffset&&(ie++,de=I&&I[ie]);let H;if(B<Z||B>X)H=!0;else if(j===9)H=!0;else if(j===32)if(M)if(J)H=!0;else{const z=B+1<y?m.charCodeAt(B+1):0;H=z===32||z===9}else H=!0;else H=!1;if(H&&I&&(H=!!de&&de.startOffset<=B&&de.endOffset>B),H&&O&&(H=$||B>X),J){if(!H||!N&&ue>=_){if(R){const z=A>0?P[A-1].endIndex:f;for(let Q=z+1;Q<=B;Q++)P[A++]=new L(Q,"mtkw",1)}else P[A++]=new L(B,"mtkw",1);ue=ue%_}}else(B===W||H&&B>f)&&(P[A++]=new L(B,E,0),ue=ue%_);for(j===9?ue=_:b.isFullWidthCharacter(j)?ue+=2:ue++,J=H;B===W&&(F++,F<V);)E=w[F].type,W=w[F].endIndex}let q=!1;if(J)if(g&&M){let B=y>0?m.charCodeAt(y-1):0,j=y>1?m.charCodeAt(y-2):0;B===32&&j!==32&&j!==9||(q=!0)}else q=!0;if(q)if(R){const B=A>0?P[A-1].endIndex:f;for(let j=B+1;j<=y;j++)P[A++]=new L(j,"mtkw",1)}else P[A++]=new L(y,"mtkw",1);else P[A++]=new L(y,E,0);return P}function t(h,m,y,w){w.sort(T.LineDecoration.compare);const g=T.LineDecorationsNormalizer.normalize(h,w),f=g.length;let _=0,D=[],N=0,I=0;for(let O=0,R=y.length;O<R;O++){const P=y[O],A=P.endIndex,F=P.type,E=P.metadata;for(;_<f&&g[_].startOffset<A;){const W=g[_];if(W.startOffset>I&&(I=W.startOffset,D[N++]=new L(I,F,E)),W.endOffset+1<=A)I=W.endOffset+1,D[N++]=new L(I,F+" "+W.className,E|W.metadata),_++;else{I=A,D[N++]=new L(I,F+" "+W.className,E|W.metadata);break}}A>I&&(I=A,D[N++]=new L(I,F,E))}const M=y[y.length-1].endIndex;if(_<f&&g[_].startOffset===M)for(;_<f&&g[_].startOffset===M;){const O=g[_];D[N++]=new L(I,O.className,O.metadata),_++}return D}function o(h,m){const y=h.fontIsMonospace,w=h.canUseHalfwidthRightwardsArrow,g=h.containsForeignElements,f=h.lineContent,_=h.len,D=h.isOverflowing,N=h.parts,I=h.fauxIndentLength,M=h.tabSize,O=h.startVisibleColumn,R=h.containsRTL,P=h.spaceWidth,A=h.renderSpaceCharCode,F=h.renderWhitespace,E=h.renderControlCharacters,W=new i(_+1,N.length);let V=!1,$=0,Z=O,X=0,J=0,ie=0,de=0;R?m.appendASCIIString('<span dir="ltr">'):m.appendASCIIString("<span>");for(let ue=0,q=N.length;ue<q;ue++){de+=ie;const B=N[ue],j=B.endIndex,H=B.type,z=F!==0&&B.isWhitespace(),Q=z&&!y&&(H==="mtkw"||!g),x=$===j&&B.isPseudoAfter();if(X=0,m.appendASCIIString('<span class="'),m.appendASCIIString(Q?"mtkz":H),m.appendASCII(34),z){let le=0;{let oe=$,K=Z;for(;oe<j;oe++){const ae=(f.charCodeAt(oe)===9?M-K%M:1)|0;le+=ae,oe>=I&&(K+=ae)}}for(Q&&(m.appendASCIIString(' style="width:'),m.appendASCIIString(String(P*le)),m.appendASCIIString('px"')),m.appendASCII(62);$<j;$++){W.setColumnInfo($+1,ue-J,X,de),J=0;const oe=f.charCodeAt($);let K;if(oe===9){K=M-Z%M|0,!w||K>1?m.write1(8594):m.write1(65515);for(let re=2;re<=K;re++)m.write1(160)}else K=1,m.write1(A);X+=K,$>=I&&(Z+=K)}ie=le}else{let le=0;for(m.appendASCII(62);$<j;$++){W.setColumnInfo($+1,ue-J,X,de),J=0;const oe=f.charCodeAt($);let K=1,re=1;switch(oe){case 9:K=M-Z%M,re=K;for(let ae=1;ae<=K;ae++)m.write1(160);break;case 32:m.write1(160);break;case 60:m.appendASCIIString("&lt;");break;case 62:m.appendASCIIString("&gt;");break;case 38:m.appendASCIIString("&amp;");break;case 0:E?m.write1(9216):m.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:m.write1(65533);break;default:b.isFullWidthCharacter(oe)&&re++,E&&oe<32?m.write1(9216+oe):E&&oe===127?m.write1(9249):m.write1(oe)}X+=K,le+=K,$>=I&&(Z+=re)}ie=le}x?J++:J=0,$>=_&&!V&&B.isPseudoAfter()&&(V=!0,W.setColumnInfo($+1,ue,X,de)),m.appendASCIIString("</span>")}return V||W.setColumnInfo(_+1,N.length-1,X,de),D&&m.appendASCIIString("<span>&hellip;</span>"),m.appendASCIIString("</span>"),new v(W,R,g)}}),define(ee[395],te([0,1,3]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class k{constructor(L,S,p,C){this.selections=L,this.startLineNumber=S.startLineNumber|0,this.endLineNumber=S.endLineNumber|0,this.relativeVerticalOffset=S.relativeVerticalOffset,this.bigNumbersDelta=S.bigNumbersDelta|0,this.whitespaceViewportData=p,this._model=C,this.visibleRange=new b.Range(S.startLineNumber,this._model.getLineMinColumn(S.startLineNumber),S.endLineNumber,this._model.getLineMaxColumn(S.endLineNumber))}getViewLineRenderingData(L){return this._model.getViewLineRenderingData(this.visibleRange,L)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=k}),define(ee[224],te([0,1,129]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumComputer=e.PrefixSumIndexOfResult=void 0;class k{constructor(S,p){this._prefixSumIndexOfResultBrand=void 0,this.index=S,this.remainder=p}}e.PrefixSumIndexOfResult=k;class T{constructor(S){this.values=S,this.prefixSum=new Uint32Array(S.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(S,p){S=(0,b.toUint32)(S);const C=this.values,i=this.prefixSum,v=p.length;return v===0?!1:(this.values=new Uint32Array(C.length+v),this.values.set(C.subarray(0,S),0),this.values.set(C.subarray(S),S+v),this.values.set(p,S),S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(S,p){return S=(0,b.toUint32)(S),p=(0,b.toUint32)(p),this.values[S]===p?!1:(this.values[S]=p,S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),!0)}removeValues(S,p){S=(0,b.toUint32)(S),p=(0,b.toUint32)(p);const C=this.values,i=this.prefixSum;if(S>=C.length)return!1;let v=C.length-S;return p>=v&&(p=v),p===0?!1:(this.values=new Uint32Array(C.length-p),this.values.set(C.subarray(0,S),0),this.values.set(C.subarray(S+p),S),this.prefixSum=new Uint32Array(this.values.length),S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(S){return S<0?0:(S=(0,b.toUint32)(S),this._getPrefixSum(S))}_getPrefixSum(S){if(S<=this.prefixSumValidIndex[0])return this.prefixSum[S];let p=this.prefixSumValidIndex[0]+1;p===0&&(this.prefixSum[0]=this.values[0],p++),S>=this.values.length&&(S=this.values.length-1);for(let C=p;C<=S;C++)this.prefixSum[C]=this.prefixSum[C-1]+this.values[C];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],S),this.prefixSum[S]}getIndexOf(S){S=Math.floor(S),this.getTotalSum();let p=0,C=this.values.length-1,i=0,v=0,r=0;for(;p<=C;)if(i=p+(C-p)/2|0,v=this.prefixSum[i],r=v-this.values[i],S<r)C=i-1;else if(S>=v)p=i+1;else break;return new k(i,S-r)}}e.PrefixSumComputer=T}),define(ee[396],te([0,1,8,13,224]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class L{constructor(p,C,i,v){this._uri=p,this._lines=C,this._eol=i,this._versionId=v,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(p){p.eol&&p.eol!==this._eol&&(this._eol=p.eol,this._lineStarts=null);const C=p.changes;for(const i of C)this._acceptDeleteRange(i.range),this._acceptInsertText(new k.Position(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=p.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const p=this._eol.length,C=this._lines.length,i=new Uint32Array(C);for(let v=0;v<C;v++)i[v]=this._lines[v].length+p;this._lineStarts=new T.PrefixSumComputer(i)}}_setLineText(p,C){this._lines[p]=C,this._lineStarts&&this._lineStarts.changeValue(p,this._lines[p].length+this._eol.length)}_acceptDeleteRange(p){if(p.startLineNumber===p.endLineNumber){if(p.startColumn===p.endColumn)return;this._setLineText(p.startLineNumber-1,this._lines[p.startLineNumber-1].substring(0,p.startColumn-1)+this._lines[p.startLineNumber-1].substring(p.endColumn-1));return}this._setLineText(p.startLineNumber-1,this._lines[p.startLineNumber-1].substring(0,p.startColumn-1)+this._lines[p.endLineNumber-1].substring(p.endColumn-1)),this._lines.splice(p.startLineNumber,p.endLineNumber-p.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(p.startLineNumber,p.endLineNumber-p.startLineNumber)}_acceptInsertText(p,C){if(C.length===0)return;let i=(0,b.splitLines)(C);if(i.length===1){this._setLineText(p.lineNumber-1,this._lines[p.lineNumber-1].substring(0,p.column-1)+i[0]+this._lines[p.lineNumber-1].substring(p.column-1));return}i[i.length-1]+=this._lines[p.lineNumber-1].substring(p.column-1),this._setLineText(p.lineNumber-1,this._lines[p.lineNumber-1].substring(0,p.column-1)+i[0]);let v=new Uint32Array(i.length-1);for(let r=1;r<i.length;r++)this._lines.splice(p.lineNumber+r-1,0,i[r]),v[r-1]=i[r].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(p.lineNumber,v)}}e.MirrorTextModel=L}),define(ee[397],te([0,1,128,17,24,13,3,377,396,135,383,386,222,20,81]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=void 0;class u extends C.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(t){return this._lines[t-1]}getWordAtPosition(t,o){let h=(0,i.getWordAtText)(t.column,(0,i.ensureValidWordDefinition)(o),this._lines[t.lineNumber-1],0);return h?new S.Range(t.lineNumber,h.startColumn,t.lineNumber,h.endColumn):null}words(t){const o=this._lines,h=this._wordenize.bind(this);let m=0,y="",w=0,g=[];return{*[Symbol.iterator](){for(;;)if(w<g.length){const f=y.substring(g[w].start,g[w].end);w+=1,yield f}else if(m<o.length)y=o[m],g=h(y,t),w=0,m+=1;else break}}}getLineWords(t,o){let h=this._lines[t-1],m=this._wordenize(h,o),y=[];for(const w of m)y.push({word:h.substring(w.start,w.end),startColumn:w.start+1,endColumn:w.end+1});return y}_wordenize(t,o){const h=[];let m;for(o.lastIndex=0;(m=o.exec(t))&&m[0].length!==0;)h.push({start:m.index,end:m.index+m[0].length});return h}getValueInRange(t){if(t=this._validateRange(t),t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);let o=this._eol,h=t.startLineNumber-1,m=t.endLineNumber-1,y=[];y.push(this._lines[h].substring(t.startColumn-1));for(let w=h+1;w<m;w++)y.push(this._lines[w]);return y.push(this._lines[m].substring(0,t.endColumn-1)),y.join(o)}offsetAt(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getPrefixSum(t.lineNumber-2)+(t.column-1)}positionAt(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();let o=this._lineStarts.getIndexOf(t),h=this._lines[o.index].length;return{lineNumber:1+o.index,column:1+Math.min(o.remainder,h)}}_validateRange(t){const o=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),h=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return o.lineNumber!==t.startLineNumber||o.column!==t.startColumn||h.lineNumber!==t.endLineNumber||h.column!==t.endColumn?{startLineNumber:o.lineNumber,startColumn:o.column,endLineNumber:h.lineNumber,endColumn:h.column}:t}_validatePosition(t){if(!L.Position.isIPosition(t))throw new Error("bad position");let{lineNumber:o,column:h}=t,m=!1;if(o<1)o=1,h=1,m=!0;else if(o>this._lines.length)o=this._lines.length,h=this._lines[o-1].length+1,m=!0;else{let y=this._lines[o-1].length+1;h<1?(h=1,m=!0):h>y&&(h=y,m=!0)}return m?{lineNumber:o,column:h}:t}}class s{constructor(t,o){this._host=t,this._models=Object.create(null),this._foreignModuleFactory=o,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(t){return this._models[t]}_getModels(){let t=[];return Object.keys(this._models).forEach(o=>t.push(this._models[o])),t}acceptNewModel(t){this._models[t.url]=new u(T.URI.parse(t.url),t.lines,t.EOL,t.versionId)}acceptModelChanged(t,o){if(!this._models[t])return;this._models[t].onEvents(o)}acceptRemovedModel(t){!this._models[t]||delete this._models[t]}computeDiff(t,o,h,m){return Ie(this,void 0,void 0,function*(){const y=this._getModel(t),w=this._getModel(o);if(!y||!w)return null;const g=y.getLinesContent(),f=w.getLinesContent(),D=new p.DiffComputer(g,f,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:h,shouldMakePrettyDiff:!0,maxComputationTime:m}).computeDiff(),N=D.changes.length>0?!1:this._modelsAreIdentical(y,w);return{quitEarly:D.quitEarly,identical:N,changes:D.changes}})}_modelsAreIdentical(t,o){const h=t.getLineCount(),m=o.getLineCount();if(h!==m)return!1;for(let y=1;y<=h;y++){const w=t.getLineContent(y),g=o.getLineContent(y);if(w!==g)return!1}return!0}computeMoreMinimalEdits(t,o){return Ie(this,void 0,void 0,function*(){const h=this._getModel(t);if(!h)return o;const m=[];let y;o=o.slice(0).sort((w,g)=>{if(w.range&&g.range)return S.Range.compareRangesUsingStarts(w.range,g.range);let f=w.range?0:1,_=g.range?0:1;return f-_});for(let{range:w,text:g,eol:f}of o){if(typeof f=="number"&&(y=f),S.Range.isEmpty(w)&&!g)continue;const _=h.getValueInRange(w);if(g=g.replace(/\r\n|\n|\r/g,h.eol),_===g)continue;if(Math.max(g.length,_.length)>s._diffLimit){m.push({range:w,text:g});continue}const D=(0,b.stringDiff)(_,g,!1),N=h.offsetAt(S.Range.lift(w).getStartPosition());for(const I of D){const M=h.positionAt(N+I.originalStart),O=h.positionAt(N+I.originalStart+I.originalLength),R={text:g.substr(I.modifiedStart,I.modifiedLength),range:{startLineNumber:M.lineNumber,startColumn:M.column,endLineNumber:O.lineNumber,endColumn:O.column}};h.getValueInRange(R.range)!==R.text&&m.push(R)}}return typeof y=="number"&&m.push({eol:y,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),m})}computeLinks(t){return Ie(this,void 0,void 0,function*(){let o=this._getModel(t);return o?(0,v.computeLinks)(o):null})}textualSuggest(t,o,h,m){return Ie(this,void 0,void 0,function*(){const y=new c.StopWatch(!0),w=new RegExp(h,m),g=new Set;e:for(let f of t){const _=this._getModel(f);if(!!_){for(let D of _.words(w))if(!(D===o||!isNaN(Number(D)))&&(g.add(D),g.size>s._suggestionsLimit))break e}}return{words:Array.from(g),duration:y.elapsed()}})}computeWordRanges(t,o,h,m){return Ie(this,void 0,void 0,function*(){let y=this._getModel(t);if(!y)return Object.create(null);const w=new RegExp(h,m),g=Object.create(null);for(let f=o.startLineNumber;f<o.endLineNumber;f++){let _=y.getLineWords(f,w);for(const D of _){if(!isNaN(Number(D.word)))continue;let N=g[D.word];N||(N=[],g[D.word]=N),N.push({startLineNumber:f,startColumn:D.startColumn,endLineNumber:f,endColumn:D.endColumn})}}return g})}navigateValueSet(t,o,h,m,y){return Ie(this,void 0,void 0,function*(){let w=this._getModel(t);if(!w)return null;let g=new RegExp(m,y);o.startColumn===o.endColumn&&(o={startLineNumber:o.startLineNumber,startColumn:o.startColumn,endLineNumber:o.endLineNumber,endColumn:o.endColumn+1});let f=w.getValueInRange(o),_=w.getWordAtPosition({lineNumber:o.startLineNumber,column:o.startColumn},g);if(!_)return null;let D=w.getValueInRange(_);return r.BasicInplaceReplace.INSTANCE.navigateValueSet(o,f,_,D,h)})}loadForeignModule(t,o,h){const m=(g,f)=>this._host.fhr(g,f);let w={host:l.createProxyObject(h,m),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(w,o),Promise.resolve(l.getAllMethodNames(this._foreignModule))):new Promise((g,f)=>{G([t],_=>{this._foreignModule=_.create(w,o),g(l.getAllMethodNames(this._foreignModule))},f)})}fmr(t,o){if(!this._foreignModule||typeof this._foreignModule[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,o))}catch(h){return Promise.reject(h)}}}e.EditorSimpleWorker=s,s._diffLimit=1e5,s._suggestionsLimit=1e4;function n(d){return new s(d,null)}e.create=n,typeof importScripts=="function"&&(k.globals.monaco=(0,a.createMonacoBaseAPI)())}),define(ee[115],te([0,1,2]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class k extends b.Disposable{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(L){return!1}onCompositionEnd(L){return!1}onConfigurationChanged(L){return!1}onCursorStateChanged(L){return!1}onDecorationsChanged(L){return!1}onFlushed(L){return!1}onFocusChanged(L){return!1}onLanguageConfigurationChanged(L){return!1}onLineMappingChanged(L){return!1}onLinesChanged(L){return!1}onLinesDeleted(L){return!1}onLinesInserted(L){return!1}onRevealRangeRequest(L){return!1}onScrollChanged(L){return!1}onThemeChanged(L){return!1}onTokensChanged(L){return!1}onTokensColorsChanged(L){return!1}onZonesChanged(L){return!1}handleEvents(L){let S=!1;for(let p=0,C=L.length;p<C;p++){let i=L[p];switch(i.type){case 0:this.onCompositionStart(i)&&(S=!0);break;case 1:this.onCompositionEnd(i)&&(S=!0);break;case 2:this.onConfigurationChanged(i)&&(S=!0);break;case 3:this.onCursorStateChanged(i)&&(S=!0);break;case 4:this.onDecorationsChanged(i)&&(S=!0);break;case 5:this.onFlushed(i)&&(S=!0);break;case 6:this.onFocusChanged(i)&&(S=!0);break;case 7:this.onLanguageConfigurationChanged(i)&&(S=!0);break;case 8:this.onLineMappingChanged(i)&&(S=!0);break;case 9:this.onLinesChanged(i)&&(S=!0);break;case 10:this.onLinesDeleted(i)&&(S=!0);break;case 11:this.onLinesInserted(i)&&(S=!0);break;case 12:this.onRevealRangeRequest(i)&&(S=!0);break;case 13:this.onScrollChanged(i)&&(S=!0);break;case 15:this.onTokensChanged(i)&&(S=!0);break;case 14:this.onThemeChanged(i)&&(S=!0);break;case 16:this.onTokensColorsChanged(i)&&(S=!0);break;case 17:this.onZonesChanged(i)&&(S=!0);break;default:console.info("View received unknown event: "),console.info(i)}}S&&(this._shouldRender=!0)}}e.ViewEventHandler=k}),define(ee[97],te([0,1,115]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class k extends b.ViewEventHandler{}e.DynamicViewOverlay=k}),define(ee[47],te([0,1,30,115]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class T extends k.ViewEventHandler{constructor(p){super();this._context=p,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=T;class L{static write(p,C){p instanceof b.FastDomNode,p.setAttribute("data-mprt",String(C))}static read(p){const C=p.getAttribute("data-mprt");return C===null?0:parseInt(C,10)}static collect(p,C){let i=[],v=0;for(;p&&p!==document.body&&p!==C;)p.nodeType===p.ELEMENT_NODE&&(i[v++]=this.read(p)),p=p.parentElement;const r=new Uint8Array(v);for(let a=0;a<v;a++)r[a]=i[v-a-1];return r}}e.PartFingerprints=L}),define(ee[398],te([0,1,7,30,47]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class L{constructor(v,r){this._coordinateBrand=void 0,this.top=v,this.left=r}}class S extends T.ViewPart{constructor(v,r){super(v);this._viewDomNode=r,this._widgets={},this.domNode=(0,k.createFastDomNode)(document.createElement("div")),T.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,k.createFastDomNode)(document.createElement("div")),T.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(v){const r=Object.keys(this._widgets);for(const a of r)this._widgets[a].onConfigurationChanged(v);return!0}onDecorationsChanged(v){return!0}onFlushed(v){return!0}onLineMappingChanged(v){const r=Object.keys(this._widgets);for(const a of r)this._widgets[a].onLineMappingChanged(v);return!0}onLinesChanged(v){return!0}onLinesDeleted(v){return!0}onLinesInserted(v){return!0}onScrollChanged(v){return!0}onZonesChanged(v){return!0}addWidget(v){const r=new p(this._context,this._viewDomNode,v);this._widgets[r.id]=r,r.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(r.domNode):this.domNode.appendChild(r.domNode),this.setShouldRender()}setWidgetPosition(v,r,a){this._widgets[v.getId()].setPosition(r,a),this.setShouldRender()}removeWidget(v){const r=v.getId();if(this._widgets.hasOwnProperty(r)){const a=this._widgets[r];delete this._widgets[r];const l=a.domNode.domNode;l.parentNode.removeChild(l),l.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(v){return this._widgets.hasOwnProperty(v)?this._widgets[v].suppressMouseDown:!1}onBeforeRender(v){const r=Object.keys(this._widgets);for(const a of r)this._widgets[a].onBeforeRender(v)}prepareRender(v){const r=Object.keys(this._widgets);for(const a of r)this._widgets[a].prepareRender(v)}render(v){const r=Object.keys(this._widgets);for(const a of r)this._widgets[a].render(v)}}e.ViewContentWidgets=S;class p{constructor(v,r,a){this._context=v,this._viewDomNode=r,this._actual=a,this.domNode=(0,k.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const l=this._context.configuration.options,c=l.get(129);this._fixedOverflowWidgets=l.get(34),this._contentWidth=c.contentWidth,this._contentLeft=c.contentLeft,this._lineHeight=l.get(57),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(v){const r=this._context.configuration.options;if(this._lineHeight=r.get(57),v.hasChanged(129)){const a=r.get(129);this._contentLeft=a.contentLeft,this._contentWidth=a.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(v){this._setPosition(this._range)}_setPosition(v){if(this._range=v,this._viewRange=null,this._range){const r=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(r.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(r.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(r))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(v,r){this._setPosition(v),this._preference=r,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(v,r,a,l,c){const u=v.top,s=u,n=r.top+this._lineHeight,d=c.viewportHeight-n,t=u-l,o=s>=l,h=n,m=d>=l;let y=v.left,w=r.left;return y+a>c.scrollLeft+c.viewportWidth&&(y=c.scrollLeft+c.viewportWidth-a),w+a>c.scrollLeft+c.viewportWidth&&(w=c.scrollLeft+c.viewportWidth-a),y<c.scrollLeft&&(y=c.scrollLeft),w<c.scrollLeft&&(w=c.scrollLeft),{fitsAbove:o,aboveTop:t,aboveLeft:y,fitsBelow:m,belowTop:h,belowLeft:w}}_layoutHorizontalSegmentInPage(v,r,a,l){const c=Math.max(0,r.left-l),u=Math.min(r.left+r.width+l,v.width);let s=r.left+a-b.StandardWindow.scrollX;if(s+l>u){const n=s-(u-l);s-=n,a-=n}if(s<c){const n=s-c;s-=n,a-=n}return[a,s]}_layoutBoxInPage(v,r,a,l,c){const u=v.top-l,s=r.top+this._lineHeight,n=b.getDomNodePagePosition(this._viewDomNode.domNode),d=n.top+u-b.StandardWindow.scrollY,t=n.top+s-b.StandardWindow.scrollY,o=b.getClientArea(document.body),[h,m]=this._layoutHorizontalSegmentInPage(o,n,v.left-c.scrollLeft+this._contentLeft,a),[y,w]=this._layoutHorizontalSegmentInPage(o,n,r.left-c.scrollLeft+this._contentLeft,a),g=22,f=22,_=d>=g,D=t+l<=o.height-f;return this._fixedOverflowWidgets?{fitsAbove:_,aboveTop:Math.max(d,g),aboveLeft:m,fitsBelow:D,belowTop:t,belowLeft:w}:{fitsAbove:_,aboveTop:u,aboveLeft:h,fitsBelow:D,belowTop:s,belowLeft:y}}_prepareRenderWidgetAtExactPositionOverflowing(v){return new L(v.top,v.left+this._contentLeft)}_getTopAndBottomLeft(v){if(!this._viewRange)return[null,null];const r=v.linesVisibleRangesForRange(this._viewRange,!1);if(!r||r.length===0)return[null,null];let a=r[0],l=r[0];for(const o of r)o.lineNumber<a.lineNumber&&(a=o),o.lineNumber>l.lineNumber&&(l=o);let c=1073741824;for(const o of a.ranges)o.left<c&&(c=o.left);let u=1073741824;for(const o of l.ranges)o.left<u&&(u=o.left);const s=v.getVerticalOffsetForLineNumber(a.lineNumber)-v.scrollTop,n=new L(s,c),d=v.getVerticalOffsetForLineNumber(l.lineNumber)-v.scrollTop,t=new L(d,u);return[n,t]}_prepareRenderWidget(v){const[r,a]=this._getTopAndBottomLeft(v);if(!r||!a)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){let c=null;if(typeof this._actual.beforeRender=="function"&&(c=C(this._actual.beforeRender,this._actual)),c)this._cachedDomNodeClientWidth=c.width,this._cachedDomNodeClientHeight=c.height;else{const u=this.domNode.domNode;this._cachedDomNodeClientWidth=u.clientWidth,this._cachedDomNodeClientHeight=u.clientHeight}}let l;if(this.allowEditorOverflow?l=this._layoutBoxInPage(r,a,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,v):l=this._layoutBoxInViewport(r,a,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,v),this._preference)for(let c=1;c<=2;c++)for(const u of this._preference)if(u===1){if(!l)return null;if(c===2||l.fitsAbove)return{coordinate:new L(l.aboveTop,l.aboveLeft),position:1}}else if(u===2){if(!l)return null;if(c===2||l.fitsBelow)return{coordinate:new L(l.belowTop,l.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(r),position:0}:{coordinate:r,position:0};return null}onBeforeRender(v){!this._viewRange||!this._preference||this._viewRange.endLineNumber<v.startLineNumber||this._viewRange.startLineNumber>v.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(v){this._renderData=this._prepareRenderWidget(v)}render(v){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+v.scrollTop-v.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,this._renderData.position)}}function C(i,v,...r){try{return i.call(v,...r)}catch(a){return null}}}),define(ee[399],te([0,1,97,3,113,327]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class L extends b.DynamicViewOverlay{constructor(p){super();this._context=p;const C=this._context.configuration.options;this._lineHeight=C.get(57),this._typicalHalfwidthCharacterWidth=C.get(41).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(p){const C=this._context.configuration.options;return this._lineHeight=C.get(57),this._typicalHalfwidthCharacterWidth=C.get(41).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return p.scrollTopChanged||p.scrollWidthChanged}onZonesChanged(p){return!0}prepareRender(p){const C=p.getDecorationsInViewport();let i=[],v=0;for(let c=0,u=C.length;c<u;c++){const s=C[c];s.options.className&&(i[v++]=s)}i=i.sort((c,u)=>{if(c.options.zIndex<u.options.zIndex)return-1;if(c.options.zIndex>u.options.zIndex)return 1;const s=c.options.className,n=u.options.className;return s<n?-1:s>n?1:k.Range.compareRangesUsingStarts(c.range,u.range)});const r=p.visibleRange.startLineNumber,a=p.visibleRange.endLineNumber,l=[];for(let c=r;c<=a;c++){const u=c-r;l[u]=""}this._renderWholeLineDecorations(p,i,l),this._renderNormalDecorations(p,i,l),this._renderResult=l}_renderWholeLineDecorations(p,C,i){const v=String(this._lineHeight),r=p.visibleRange.startLineNumber,a=p.visibleRange.endLineNumber;for(let l=0,c=C.length;l<c;l++){const u=C[l];if(!u.options.isWholeLine)continue;const s='<div class="cdr '+u.options.className+'" style="left:0;width:100%;height:'+v+'px;"></div>',n=Math.max(u.range.startLineNumber,r),d=Math.min(u.range.endLineNumber,a);for(let t=n;t<=d;t++){const o=t-r;i[o]+=s}}}_renderNormalDecorations(p,C,i){const v=String(this._lineHeight),r=p.visibleRange.startLineNumber;let a=null,l=!1,c=null;for(let u=0,s=C.length;u<s;u++){const n=C[u];if(n.options.isWholeLine)continue;const d=n.options.className,t=Boolean(n.options.showIfCollapsed);let o=n.range;if(t&&o.endColumn===1&&o.endLineNumber!==o.startLineNumber&&(o=new k.Range(o.startLineNumber,o.startColumn,o.endLineNumber-1,this._context.model.getLineMaxColumn(o.endLineNumber-1))),a===d&&l===t&&k.Range.areIntersectingOrTouching(c,o)){c=k.Range.plusRange(c,o);continue}a!==null&&this._renderNormalDecoration(p,c,a,l,v,r,i),a=d,l=t,c=o}a!==null&&this._renderNormalDecoration(p,c,a,l,v,r,i)}_renderNormalDecoration(p,C,i,v,r,a,l){const c=p.linesVisibleRangesForRange(C,i==="findMatch");if(!!c)for(let u=0,s=c.length;u<s;u++){const n=c[u];if(n.outsideRenderedLine)continue;const d=n.lineNumber-a;if(v&&n.ranges.length===1){const t=n.ranges[0];t.width===0&&(n.ranges[0]=new T.HorizontalRange(t.left,this._typicalHalfwidthCharacterWidth))}for(let t=0,o=n.ranges.length;t<o;t++){const h=n.ranges[t],m='<div class="cdr '+i+'" style="left:'+String(h.left)+"px;width:"+String(h.width)+"px;height:"+r+'px;"></div>';l[d]+=m}}}render(p,C){if(!this._renderResult)return"";const i=C-p;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.DecorationsOverlay=L}),define(ee[176],te([0,1,97,328]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class k{constructor(p,C,i){this._decorationToRenderBrand=void 0,this.startLineNumber=+p,this.endLineNumber=+C,this.className=String(i)}}e.DecorationToRender=k;class T extends b.DynamicViewOverlay{_render(p,C,i){const v=[];for(let l=p;l<=C;l++){const c=l-p;v[c]=[]}if(i.length===0)return v;i.sort((l,c)=>l.className===c.className?l.startLineNumber===c.startLineNumber?l.endLineNumber-c.endLineNumber:l.startLineNumber-c.startLineNumber:l.className<c.className?-1:1);let r=null,a=0;for(let l=0,c=i.length;l<c;l++){const u=i[l],s=u.className;let n=Math.max(u.startLineNumber,p)-p;const d=Math.min(u.endLineNumber,C)-p;r===s?(n=Math.max(a+1,n),a=Math.max(a,d)):(r=s,a=d);for(let t=n;t<=a;t++)v[t].push(r)}return v}}e.DedupOverlay=T;class L extends T{constructor(p){super();this._context=p;const C=this._context.configuration.options,i=C.get(129);this._lineHeight=C.get(57),this._glyphMargin=C.get(47),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(p){const C=this._context.configuration.options,i=C.get(129);return this._lineHeight=C.get(57),this._glyphMargin=C.get(47),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return p.scrollTopChanged}onZonesChanged(p){return!0}_getDecorations(p){const C=p.getDecorationsInViewport();let i=[],v=0;for(let r=0,a=C.length;r<a;r++){const l=C[r],c=l.options.glyphMarginClassName;c&&(i[v++]=new k(l.range.startLineNumber,l.range.endLineNumber,c))}return i}prepareRender(p){if(!this._glyphMargin){this._renderResult=null;return}const C=p.visibleRange.startLineNumber,i=p.visibleRange.endLineNumber,v=this._render(C,i,this._getDecorations(p)),r=this._lineHeight.toString(),a=this._glyphMarginLeft.toString(),l=this._glyphMarginWidth.toString(),c='" style="left:'+a+"px;width:"+l+"px;height:"+r+'px;"></div>',u=[];for(let s=C;s<=i;s++){const n=s-C,d=v[n];d.length===0?u[n]="":u[n]='<div class="cgmr codicon '+d.join(" ")+c}this._renderResult=u}render(p,C){if(!this._renderResult)return"";const i=C-p;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.GlyphMarginOverlay=L}),define(ee[400],te([0,1,176,332]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class k extends b.DedupOverlay{constructor(L){super();this._context=L;const p=this._context.configuration.options.get(129);this._decorationsLeft=p.decorationsLeft,this._decorationsWidth=p.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(L){const p=this._context.configuration.options.get(129);return this._decorationsLeft=p.decorationsLeft,this._decorationsWidth=p.decorationsWidth,!0}onDecorationsChanged(L){return!0}onFlushed(L){return!0}onLinesChanged(L){return!0}onLinesDeleted(L){return!0}onLinesInserted(L){return!0}onScrollChanged(L){return L.scrollTopChanged}onZonesChanged(L){return!0}_getDecorations(L){const S=L.getDecorationsInViewport();let p=[],C=0;for(let i=0,v=S.length;i<v;i++){const r=S[i],a=r.options.linesDecorationsClassName;a&&(p[C++]=new b.DecorationToRender(r.range.startLineNumber,r.range.endLineNumber,a));const l=r.options.firstLineDecorationClassName;l&&(p[C++]=new b.DecorationToRender(r.range.startLineNumber,r.range.startLineNumber,l))}return p}prepareRender(L){const S=L.visibleRange.startLineNumber,p=L.visibleRange.endLineNumber,C=this._render(S,p,this._getDecorations(L)),i=this._decorationsLeft.toString(),v=this._decorationsWidth.toString(),r='" style="left:'+i+"px;width:"+v+'px;"></div>',a=[];for(let l=S;l<=p;l++){const c=l-S,u=C[c];let s="";for(let n=0,d=u.length;n<d;n++)s+='<div class="cldr '+u[n]+r;a[c]=s}this._renderResult=a}render(L,S){return this._renderResult?this._renderResult[S-L]:""}}e.LinesDecorationsOverlay=k}),define(ee[225],te([0,1,30,47]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class T extends k.ViewPart{constructor(S){super(S);const p=this._context.configuration.options,C=p.get(129);this._canUseLayerHinting=!p.get(26),this._contentLeft=C.contentLeft,this._glyphMarginLeft=C.glyphMarginLeft,this._glyphMarginWidth=C.glyphMarginWidth,this._domNode=(0,b.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(T.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,b.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(T.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(S){const p=this._context.configuration.options,C=p.get(129);return this._canUseLayerHinting=!p.get(26),this._contentLeft=C.contentLeft,this._glyphMarginLeft=C.glyphMarginLeft,this._glyphMarginWidth=C.glyphMarginWidth,!0}onScrollChanged(S){return super.onScrollChanged(S)||S.scrollTopChanged}prepareRender(S){}render(S){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const p=S.scrollTop-S.bigNumbersDelta;this._domNode.setTop(-p);const C=Math.min(S.scrollHeight,1e6);this._domNode.setHeight(C),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(C)}}e.Margin=T,T.CLASS_NAME="glyph-margin",T.OUTER_CLASS_NAME="margin"}),define(ee[401],te([0,1,176,333]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class k extends b.DedupOverlay{constructor(L){super();this._context=L,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(L){return!0}onDecorationsChanged(L){return!0}onFlushed(L){return!0}onLinesChanged(L){return!0}onLinesDeleted(L){return!0}onLinesInserted(L){return!0}onScrollChanged(L){return L.scrollTopChanged}onZonesChanged(L){return!0}_getDecorations(L){const S=L.getDecorationsInViewport();let p=[],C=0;for(let i=0,v=S.length;i<v;i++){const r=S[i],a=r.options.marginClassName;a&&(p[C++]=new b.DecorationToRender(r.range.startLineNumber,r.range.endLineNumber,a))}return p}prepareRender(L){const S=L.visibleRange.startLineNumber,p=L.visibleRange.endLineNumber,C=this._render(S,p,this._getDecorations(L)),i=[];for(let v=S;v<=p;v++){const r=v-S,a=C[r];let l="";for(let c=0,u=a.length;c<u;c++)l+='<div class="cmdr '+a[c]+'" style=""></div>';i[r]=l}this._renderResult=i}render(L,S){return this._renderResult?this._renderResult[S-L]:""}}e.MarginViewLineDecorationsOverlay=k}),define(ee[402],te([0,1,30,47,335]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class T extends k.ViewPart{constructor(S){super(S);const C=this._context.configuration.options.get(129);this._widgets={},this._verticalScrollbarWidth=C.verticalScrollbarWidth,this._minimapWidth=C.minimap.minimapWidth,this._horizontalScrollbarHeight=C.horizontalScrollbarHeight,this._editorHeight=C.height,this._editorWidth=C.width,this._domNode=(0,b.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(S){const C=this._context.configuration.options.get(129);return this._verticalScrollbarWidth=C.verticalScrollbarWidth,this._minimapWidth=C.minimap.minimapWidth,this._horizontalScrollbarHeight=C.horizontalScrollbarHeight,this._editorHeight=C.height,this._editorWidth=C.width,!0}addWidget(S){const p=(0,b.createFastDomNode)(S.getDomNode());this._widgets[S.getId()]={widget:S,preference:null,domNode:p},p.setPosition("absolute"),p.setAttribute("widgetId",S.getId()),this._domNode.appendChild(p),this.setShouldRender()}setWidgetPosition(S,p){const C=this._widgets[S.getId()];return C.preference===p?!1:(C.preference=p,this.setShouldRender(),!0)}removeWidget(S){const p=S.getId();if(this._widgets.hasOwnProperty(p)){const i=this._widgets[p].domNode.domNode;delete this._widgets[p],i.parentNode.removeChild(i),this.setShouldRender()}}_renderWidget(S){const p=S.domNode;if(S.preference===null){p.unsetTop();return}if(S.preference===0)p.setTop(0),p.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(S.preference===1){const C=p.domNode.clientHeight;p.setTop(this._editorHeight-C-2*this._horizontalScrollbarHeight),p.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else S.preference===2&&(p.setTop(0),p.domNode.style.right="50%")}prepareRender(S){}render(S){this._domNode.setWidth(this._editorWidth);const p=Object.keys(this._widgets);for(let C=0,i=p.length;C<i;C++){const v=p[C];this._renderWidget(this._widgets[v])}}}e.ViewOverlayWidgets=T}),define(ee[403],te([0,1,30,223,115]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class L extends T.ViewEventHandler{constructor(p,C){super();this._context=p;const i=this._context.configuration.options;this._domNode=(0,b.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(C),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new k.OverviewZoneManager(v=>this._context.viewLayout.getVerticalOffsetForLineNumber(v)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(57)),this._zoneManager.setPixelRatio(i.get(127)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(p){const C=this._context.configuration.options;return p.hasChanged(57)&&(this._zoneManager.setLineHeight(C.get(57)),this._render()),p.hasChanged(127)&&(this._zoneManager.setPixelRatio(C.get(127)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(p){return this._render(),!0}onScrollChanged(p){return p.scrollHeightChanged&&(this._zoneManager.setOuterHeight(p.scrollHeight),this._render()),!0}onZonesChanged(p){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(p){this._domNode.setTop(p.top),this._domNode.setRight(p.right);let C=!1;C=this._zoneManager.setDOMWidth(p.width)||C,C=this._zoneManager.setDOMHeight(p.height)||C,C&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(p){this._zoneManager.setZones(p),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const p=this._zoneManager.getCanvasWidth(),C=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),v=this._zoneManager.getId2Color(),r=this._domNode.domNode.getContext("2d");return r.clearRect(0,0,p,C),i.length>0&&this._renderOneLane(r,i,v,p),!0}_renderOneLane(p,C,i,v){let r=0,a=0,l=0;for(const c of C){const u=c.colorId,s=c.from,n=c.to;u!==r?(p.fillRect(0,a,v,l-a),r=u,p.fillStyle=i[r],a=s,l=n):l>=s?l=Math.max(l,n):(p.fillRect(0,a,v,l-a),a=s,l=n)}p.fillRect(0,a,v,l-a)}}e.OverviewRuler=L}),define(ee[404],te([0,1,30,12,47,13]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const S=()=>{throw new Error("Invalid change accessor")};class p extends T.ViewPart{constructor(v){super(v);const r=this._context.configuration.options,a=r.get(129);this._lineHeight=r.get(57),this._contentWidth=a.contentWidth,this._contentLeft=a.contentLeft,this.domNode=(0,b.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,b.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const v=this._context.viewLayout.getWhitespaces(),r=new Map;for(const l of v)r.set(l.id,l);let a=!1;return this._context.model.changeWhitespace(l=>{const c=Object.keys(this._zones);for(let u=0,s=c.length;u<s;u++){const n=c[u],d=this._zones[n],t=this._computeWhitespaceProps(d.delegate),o=r.get(n);o&&(o.afterLineNumber!==t.afterViewLineNumber||o.height!==t.heightInPx)&&(l.changeOneWhitespace(n,t.afterViewLineNumber,t.heightInPx),this._safeCallOnComputedHeight(d.delegate,t.heightInPx),a=!0)}}),a}onConfigurationChanged(v){const r=this._context.configuration.options,a=r.get(129);return this._lineHeight=r.get(57),this._contentWidth=a.contentWidth,this._contentLeft=a.contentLeft,v.hasChanged(57)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(v){return this._recomputeWhitespacesProps()}onLinesDeleted(v){return!0}onScrollChanged(v){return v.scrollTopChanged||v.scrollWidthChanged}onZonesChanged(v){return!0}onLinesInserted(v){return!0}_getZoneOrdinal(v){return typeof v.afterColumn!="undefined"?v.afterColumn:1e4}_computeWhitespaceProps(v){if(v.afterLineNumber===0)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(v),minWidthInPx:this._minWidthInPixels(v)};let r;if(typeof v.afterColumn!="undefined")r=this._context.model.validateModelPosition({lineNumber:v.afterLineNumber,column:v.afterColumn});else{const u=this._context.model.validateModelPosition({lineNumber:v.afterLineNumber,column:1}).lineNumber;r=new L.Position(u,this._context.model.getModelLineMaxColumn(u))}let a;r.column===this._context.model.getModelLineMaxColumn(r.lineNumber)?a=this._context.model.validateModelPosition({lineNumber:r.lineNumber+1,column:1}):a=this._context.model.validateModelPosition({lineNumber:r.lineNumber,column:r.column+1});const l=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(r),c=this._context.model.coordinatesConverter.modelPositionIsVisible(a);return{afterViewLineNumber:l.lineNumber,heightInPx:c?this._heightInPixels(v):0,minWidthInPx:this._minWidthInPixels(v)}}changeViewZones(v){let r=!1;return this._context.model.changeWhitespace(a=>{const l={addZone:c=>(r=!0,this._addZone(a,c)),removeZone:c=>{!c||(r=this._removeZone(a,c)||r)},layoutZone:c=>{!c||(r=this._layoutZone(a,c)||r)}};C(v,l),l.addZone=S,l.removeZone=S,l.layoutZone=S}),r}_addZone(v,r){const a=this._computeWhitespaceProps(r),c={whitespaceId:v.insertWhitespace(a.afterViewLineNumber,this._getZoneOrdinal(r),a.heightInPx,a.minWidthInPx),delegate:r,isVisible:!1,domNode:(0,b.createFastDomNode)(r.domNode),marginDomNode:r.marginDomNode?(0,b.createFastDomNode)(r.marginDomNode):null};return this._safeCallOnComputedHeight(c.delegate,a.heightInPx),c.domNode.setPosition("absolute"),c.domNode.domNode.style.width="100%",c.domNode.setDisplay("none"),c.domNode.setAttribute("monaco-view-zone",c.whitespaceId),this.domNode.appendChild(c.domNode),c.marginDomNode&&(c.marginDomNode.setPosition("absolute"),c.marginDomNode.domNode.style.width="100%",c.marginDomNode.setDisplay("none"),c.marginDomNode.setAttribute("monaco-view-zone",c.whitespaceId),this.marginDomNode.appendChild(c.marginDomNode)),this._zones[c.whitespaceId]=c,this.setShouldRender(),c.whitespaceId}_removeZone(v,r){if(this._zones.hasOwnProperty(r)){const a=this._zones[r];return delete this._zones[r],v.removeWhitespace(a.whitespaceId),a.domNode.removeAttribute("monaco-visible-view-zone"),a.domNode.removeAttribute("monaco-view-zone"),a.domNode.domNode.parentNode.removeChild(a.domNode.domNode),a.marginDomNode&&(a.marginDomNode.removeAttribute("monaco-visible-view-zone"),a.marginDomNode.removeAttribute("monaco-view-zone"),a.marginDomNode.domNode.parentNode.removeChild(a.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(v,r){if(this._zones.hasOwnProperty(r)){const a=this._zones[r],l=this._computeWhitespaceProps(a.delegate);return v.changeOneWhitespace(a.whitespaceId,l.afterViewLineNumber,l.heightInPx),this._safeCallOnComputedHeight(a.delegate,l.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(v){if(this._zones.hasOwnProperty(v)){const r=this._zones[v];return Boolean(r.delegate.suppressMouseDown)}return!1}_heightInPixels(v){return typeof v.heightInPx=="number"?v.heightInPx:typeof v.heightInLines=="number"?this._lineHeight*v.heightInLines:this._lineHeight}_minWidthInPixels(v){return typeof v.minWidthInPx=="number"?v.minWidthInPx:0}_safeCallOnComputedHeight(v,r){if(typeof v.onComputedHeight=="function")try{v.onComputedHeight(r)}catch(a){(0,k.onUnexpectedError)(a)}}_safeCallOnDomNodeTop(v,r){if(typeof v.onDomNodeTop=="function")try{v.onDomNodeTop(r)}catch(a){(0,k.onUnexpectedError)(a)}}prepareRender(v){}render(v){const r=v.viewportData.whitespaceViewportData,a={};let l=!1;for(let u=0,s=r.length;u<s;u++)a[r[u].id]=r[u],l=!0;const c=Object.keys(this._zones);for(let u=0,s=c.length;u<s;u++){const n=c[u],d=this._zones[n];let t=0,o=0,h="none";a.hasOwnProperty(n)?(t=a[n].verticalOffset-v.bigNumbersDelta,o=a[n].height,h="block",d.isVisible||(d.domNode.setAttribute("monaco-visible-view-zone","true"),d.isVisible=!0),this._safeCallOnDomNodeTop(d.delegate,v.getScrolledTopFromAbsoluteTop(a[n].verticalOffset))):(d.isVisible&&(d.domNode.removeAttribute("monaco-visible-view-zone"),d.isVisible=!1),this._safeCallOnDomNodeTop(d.delegate,v.getScrolledTopFromAbsoluteTop(-1e6))),d.domNode.setTop(t),d.domNode.setHeight(o),d.domNode.setDisplay(h),d.marginDomNode&&(d.marginDomNode.setTop(t),d.marginDomNode.setHeight(o),d.marginDomNode.setDisplay(h))}l&&(this.domNode.setWidth(Math.max(v.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=p;function C(i,v){try{return i(v)}catch(r){(0,k.onUnexpectedError)(r)}}}),define(ee[62],te([0,1,8,13,3]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.InjectedText=e.LineBreakData=e.OutputPosition=e.Viewport=void 0;class L{constructor(s,n,d,t){this._viewportBrand=void 0,this.top=s|0,this.left=n|0,this.width=d|0,this.height=t|0}}e.Viewport=L;class S{constructor(s,n){this.outputLineIndex=s,this.outputOffset=n}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(s,n){const d=this.outputLineIndex>0?n:0;return new k.Position(s+this.outputLineIndex,d+this.outputOffset+1)}}e.OutputPosition=S;class p{constructor(s,n,d,t,o){this.breakOffsets=s,this.breakOffsetsVisibleColumn=n,this.wrappedTextIndentLength=d,this.injectionOffsets=t,this.injectionOptions=o}getInputOffsetOfOutputPosition(s,n){let d=0;if(s===0?d=n:d=this.breakOffsets[s-1]+n,this.injectionOffsets!==null)for(let t=0;t<this.injectionOffsets.length&&d>this.injectionOffsets[t];t++)d<this.injectionOffsets[t]+this.injectionOptions[t].content.length?d=this.injectionOffsets[t]:d-=this.injectionOptions[t].content.length;return d}getOutputPositionOfInputOffset(s,n=2){let d=0;if(this.injectionOffsets!==null)for(let t=0;t<this.injectionOffsets.length&&!(s<this.injectionOffsets[t]||n!==1&&s===this.injectionOffsets[t]);t++)d+=this.injectionOptions[t].content.length;return s+=d,this.getOutputPositionOfOffsetInUnwrappedLine(s,n)}getOutputPositionOfOffsetInUnwrappedLine(s,n=2){let d=0,t=this.breakOffsets.length-1,o=0,h=0;for(;d<=t;){o=d+(t-d)/2|0;const m=this.breakOffsets[o];if(h=o>0?this.breakOffsets[o-1]:0,n===0)if(s<=h)t=o-1;else if(s>m)d=o+1;else break;else if(s<h)t=o-1;else if(s>=m)d=o+1;else break}return new S(o,s-h)}outputPositionToOffsetInUnwrappedLine(s,n){let d=(s>0?this.breakOffsets[s-1]:0)+n;return s>0&&(d-=this.wrappedTextIndentLength),d}normalizeOffsetAroundInjections(s,n){const d=this.getInjectedTextAtOffset(s);if(!d)return s;if(n===2)return s===d.offsetInUnwrappedLine+d.length?d.offsetInUnwrappedLine+d.length:d.offsetInUnwrappedLine;if(n===1){let h=d.offsetInUnwrappedLine+d.length,m=d.injectedTextIndex;for(;m+1<this.injectionOffsets.length&&this.injectionOffsets[m+1]===this.injectionOffsets[m];)h+=this.injectionOptions[m+1].content.length,m++;return h}let t=d.offsetInUnwrappedLine,o=d.injectedTextIndex;for(;o-1>=0&&this.injectionOffsets[o-1]===this.injectionOffsets[o];)t-=this.injectionOptions[o-1].content.length,o++;return t}getInjectedText(s,n){const d=this.outputPositionToOffsetInUnwrappedLine(s,n),t=this.getInjectedTextAtOffset(d);return t?{options:this.injectionOptions[t.injectedTextIndex]}:null}getInjectedTextAtOffset(s){const n=this.injectionOffsets,d=this.injectionOptions;if(n!==null){let t=0;for(let o=0;o<n.length;o++){const h=d[o].content.length,m=n[o]+t,y=n[o]+t+h;if(m>s)break;if(s<=y)return{injectedTextIndex:o,offsetInUnwrappedLine:m,length:h};t+=h}}}}e.LineBreakData=p;class C{constructor(s){this.options=s}}e.InjectedText=C;class i{constructor(s,n){this.tabSize=s,this.data=n}}e.MinimapLinesRenderingData=i;class v{constructor(s,n,d,t,o,h,m){this._viewLineDataBrand=void 0,this.content=s,this.continuesWithWrappedLine=n,this.minColumn=d,this.maxColumn=t,this.startVisibleColumn=o,this.tokens=h,this.inlineDecorations=m}}e.ViewLineData=v;class r{constructor(s,n,d,t,o,h,m,y,w,g){this.minColumn=s,this.maxColumn=n,this.content=d,this.continuesWithWrappedLine=t,this.isBasicASCII=r.isBasicASCII(d,h),this.containsRTL=r.containsRTL(d,this.isBasicASCII,o),this.tokens=m,this.inlineDecorations=y,this.tabSize=w,this.startVisibleColumn=g}static isBasicASCII(s,n){return n?b.isBasicASCII(s):!0}static containsRTL(s,n,d){return!n&&d?b.containsRTL(s):!1}}e.ViewLineRenderingData=r;class a{constructor(s,n,d){this.range=s,this.inlineClassName=n,this.type=d}}e.InlineDecoration=a;class l{constructor(s,n,d,t){this.startOffset=s,this.endOffset=n,this.inlineClassName=d,this.inlineClassNameAffectsLetterSpacing=t}toInlineDecoration(s){return new a(new T.Range(s,this.startOffset+1,s,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=l;class c{constructor(s,n){this._viewModelDecorationBrand=void 0,this.range=s,this.options=n}}e.ViewModelDecoration=c}),define(ee[405],te([0,1,8,94,62,96]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class S extends k.CharacterClassifier{constructor(n,d){super(0);for(let t=0;t<n.length;t++)this.set(n.charCodeAt(t),1);for(let t=0;t<d.length;t++)this.set(d.charCodeAt(t),2)}get(n){return n>=0&&n<256?this._asciiMap[n]:n>=12352&&n<=12543||n>=13312&&n<=19903||n>=19968&&n<=40959?3:this._map.get(n)||this._defaultValue}}let p=[],C=[];class i{constructor(n,d){this.classifier=new S(n,d)}static create(n){return new i(n.get(118),n.get(117))}createLineBreaksComputer(n,d,t,o){d=d|0,t=+t;const h=[],m=[],y=[];return{addRequest:(w,g,f)=>{h.push(w),m.push(g),y.push(f)},finalize:()=>{const w=n.typicalFullwidthCharacterWidth/n.typicalHalfwidthCharacterWidth;let g=[];for(let f=0,_=h.length;f<_;f++){const D=m[f],N=y[f];N&&!N.injectionOptions&&!D?g[f]=v(this.classifier,N,h[f],d,t,w,o):g[f]=r(this.classifier,h[f],D,d,t,w,o)}return p.length=0,C.length=0,g}}}}e.MonospaceLineBreaksComputerFactory=i;function v(s,n,d,t,o,h,m){if(o===-1)return null;const y=d.length;if(y<=1)return null;const w=n.breakOffsets,g=n.breakOffsetsVisibleColumn,f=u(d,t,o,h,m),_=o-f;let D=p,N=C,I=0,M=0,O=0,R=o;const P=w.length;let A=0;if(A>=0){let F=Math.abs(g[A]-R);for(;A+1<P;){const E=Math.abs(g[A+1]-R);if(E>=F)break;F=E,A++}}for(;A<P;){let F=A<0?0:w[A],E=A<0?0:g[A];M>F&&(F=M,E=O);let W=0,V=0,$=0,Z=0;if(E<=R){let J=E,ie=F===0?0:d.charCodeAt(F-1),de=F===0?0:s.get(ie),ue=!0;for(let q=F;q<y;q++){const B=q,j=d.charCodeAt(q);let H,z;if(b.isHighSurrogate(j)?(q++,H=0,z=2):(H=s.get(j),z=a(j,J,t,h)),B>M&&c(ie,de,j,H)&&(W=B,V=J),J+=z,J>R){B>M?($=B,Z=J-z):($=q+1,Z=J),J-V>_&&(W=0),ue=!1;break}ie=j,de=H}if(ue){I>0&&(D[I]=w[w.length-1],N[I]=g[w.length-1],I++);break}}if(W===0){let J=E,ie=d.charCodeAt(F),de=s.get(ie),ue=!1;for(let q=F-1;q>=M;q--){const B=q+1,j=d.charCodeAt(q);if(j===9){ue=!0;break}let H,z;if(b.isLowSurrogate(j)?(q--,H=0,z=2):(H=s.get(j),z=b.isFullWidthCharacter(j)?h:1),J<=R){if($===0&&($=B,Z=J),J<=R-_)break;if(c(j,H,ie,de)){W=B,V=J;break}}J-=z,ie=j,de=H}if(W!==0){const q=_-(Z-V);if(q<=t){const B=d.charCodeAt($);let j;b.isHighSurrogate(B)?j=2:j=a(B,Z,t,h),q-j<0&&(W=0)}}if(ue){A--;continue}}if(W===0&&(W=$,V=Z),W<=M){const J=d.charCodeAt(M);b.isHighSurrogate(J)?(W=M+2,V=O+2):(W=M+1,V=O+a(J,O,t,h))}for(M=W,D[I]=W,O=V,N[I]=V,I++,R=V+_;A<0||A<P&&g[A]<V;)A++;let X=Math.abs(g[A]-R);for(;A+1<P;){const J=Math.abs(g[A+1]-R);if(J>=X)break;X=J,A++}}return I===0?null:(D.length=I,N.length=I,p=n.breakOffsets,C=n.breakOffsetsVisibleColumn,n.breakOffsets=D,n.breakOffsetsVisibleColumn=N,n.wrappedTextIndentLength=f,n)}function r(s,n,d,t,o,h,m){const y=L.LineInjectedText.applyInjectedText(n,d);let w,g;if(d&&d.length>0?(w=d.map(V=>V.options),g=d.map(V=>V.column-1)):(w=null,g=null),o===-1)return w?new T.LineBreakData([y.length],[],0,g,w):null;const f=y.length;if(f<=1)return w?new T.LineBreakData([y.length],[],0,g,w):null;const _=u(y,t,o,h,m),D=o-_;let N=[],I=[],M=0,O=0,R=0,P=o,A=y.charCodeAt(0),F=s.get(A),E=a(A,0,t,h),W=1;b.isHighSurrogate(A)&&(E+=1,A=y.charCodeAt(1),F=s.get(A),W++);for(let V=W;V<f;V++){const $=V,Z=y.charCodeAt(V);let X,J;b.isHighSurrogate(Z)?(V++,X=0,J=2):(X=s.get(Z),J=a(Z,E,t,h)),c(A,F,Z,X)&&(O=$,R=E),E+=J,E>P&&((O===0||E-R>D)&&(O=$,R=E-J),N[M]=O,I[M]=R,M++,P=R+D,O=0),A=Z,F=X}return M===0&&(!d||d.length===0)?null:(N[M]=f,I[M]=E,new T.LineBreakData(N,I,_,g,w))}function a(s,n,d,t){return s===9?d-n%d:b.isFullWidthCharacter(s)||s<32?t:1}function l(s,n){return n-s%n}function c(s,n,d,t){return d!==32&&(n===2||n===3&&t!==2||t===1||t===3&&n!==1)}function u(s,n,d,t,o){let h=0;if(o!==0){const m=b.firstNonWhitespaceIndex(s);if(m!==-1){for(let w=0;w<m;w++)h+=s.charCodeAt(w)===9?l(h,n):1;const y=o===3?2:o===2?1:0;for(let w=0;w<y;w++)h+=l(h,n);h+t>d&&(h=0)}}return h}}),define(ee[177],te([0,1,6,2]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class T extends k.Disposable{constructor(){super();this._onEvent=this._register(new b.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(l){this._addOutgoingEvent(l),this._emitOugoingEvents()}_addOutgoingEvent(l){for(let c=0,u=this._outgoingEvents.length;c<u;c++)if(this._outgoingEvents[c].kind===l.kind){this._outgoingEvents[c]=this._outgoingEvents[c].merge(l);return}this._outgoingEvents.push(l)}_emitOugoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const l=this._outgoingEvents.shift();l.isNoOp()||this._onEvent.fire(l)}}addViewEventHandler(l){for(let c=0,u=this._eventHandlers.length;c<u;c++)this._eventHandlers[c]===l&&console.warn("Detected duplicate listener in ViewEventDispatcher",l);this._eventHandlers.push(l)}removeViewEventHandler(l){for(let c=0;c<this._eventHandlers.length;c++)if(this._eventHandlers[c]===l){this._eventHandlers.splice(c,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new L),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const l=this._collector.outgoingEvents,c=this._collector.viewEvents;this._collector=null;for(const u of l)this._addOutgoingEvent(u);c.length>0&&this._emitMany(c)}this._emitOugoingEvents()}emitSingleViewEvent(l){try{this.beginEmitViewEvents().emitViewEvent(l)}finally{this.endEmitViewEvents()}}_emitMany(l){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(l):this._viewEventQueue=l,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const l=this._viewEventQueue;this._viewEventQueue=null;const c=this._eventHandlers.slice(0);for(const u of c)u.handleEvents(l)}}}e.ViewModelEventDispatcher=T;class L{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(l){this.viewEvents.push(l)}emitOutgoingEvent(l){this.outgoingEvents.push(l)}}e.ViewModelEventsCollector=L;class S{constructor(l,c,u,s){this.kind=0,this._oldContentWidth=l,this._oldContentHeight=c,this.contentWidth=u,this.contentHeight=s,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(l){return l.kind!==0?this:new S(this._oldContentWidth,this._oldContentHeight,l.contentWidth,l.contentHeight)}}e.ContentSizeChangedEvent=S;class p{constructor(l,c){this.kind=1,this.oldHasFocus=l,this.hasFocus=c}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(l){return l.kind!==1?this:new p(this.oldHasFocus,l.hasFocus)}}e.FocusChangedEvent=p;class C{constructor(l,c,u,s,n,d,t,o){this.kind=2,this._oldScrollWidth=l,this._oldScrollLeft=c,this._oldScrollHeight=u,this._oldScrollTop=s,this.scrollWidth=n,this.scrollLeft=d,this.scrollHeight=t,this.scrollTop=o,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(l){return l.kind!==2?this:new C(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,l.scrollWidth,l.scrollLeft,l.scrollHeight,l.scrollTop)}}e.ScrollChangedEvent=C;class i{constructor(){this.kind=3}isNoOp(){return!1}merge(l){return this}}e.ViewZonesChangedEvent=i;class v{constructor(l,c,u,s,n,d,t){this.kind=5,this.oldSelections=l,this.selections=c,this.oldModelVersionId=u,this.modelVersionId=s,this.source=n,this.reason=d,this.reachedMaxCursorCount=t}static _selectionsAreEqual(l,c){if(!l&&!c)return!0;if(!l||!c)return!1;const u=l.length,s=c.length;if(u!==s)return!1;for(let n=0;n<u;n++)if(!l[n].equalsSelection(c[n]))return!1;return!0}isNoOp(){return v._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(l){return l.kind!==5?this:new v(this.oldSelections,l.selections,this.oldModelVersionId,l.modelVersionId,l.source,l.reason,this.reachedMaxCursorCount||l.reachedMaxCursorCount)}}e.CursorStateChangedEvent=v;class r{constructor(){this.kind=4}isNoOp(){return!1}merge(l){return this}}e.ReadOnlyEditAttemptEvent=r}),define(ee[406],te([0,1,6,2,127,394,62,177]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const C=125;class i{constructor(l,c,u,s){l=l|0,c=c|0,u=u|0,s=s|0,l<0&&(l=0),c<0&&(c=0),u<0&&(u=0),s<0&&(s=0),this.width=l,this.contentWidth=c,this.scrollWidth=Math.max(l,c),this.height=u,this.contentHeight=s,this.scrollHeight=Math.max(u,s)}equals(l){return this.width===l.width&&this.contentWidth===l.contentWidth&&this.height===l.height&&this.contentHeight===l.contentHeight}}class v extends k.Disposable{constructor(l,c){super();this._onDidContentSizeChange=this._register(new b.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new i(0,0,0,0),this._scrollable=this._register(new T.Scrollable(l,c)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(l){this._scrollable.setSmoothScrollDuration(l)}validateScrollPosition(l){return this._scrollable.validateScrollPosition(l)}getScrollDimensions(){return this._dimensions}setScrollDimensions(l){if(this._dimensions.equals(l))return;const c=this._dimensions;this._dimensions=l,this._scrollable.setScrollDimensions({width:l.width,scrollWidth:l.scrollWidth,height:l.height,scrollHeight:l.scrollHeight},!0);const u=c.contentWidth!==l.contentWidth,s=c.contentHeight!==l.contentHeight;(u||s)&&this._onDidContentSizeChange.fire(new p.ContentSizeChangedEvent(c.contentWidth,c.contentHeight,l.contentWidth,l.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(l){this._scrollable.setScrollPositionNow(l)}setScrollPositionSmooth(l){this._scrollable.setScrollPositionSmooth(l)}}class r extends k.Disposable{constructor(l,c,u){super();this._configuration=l;const s=this._configuration.options,n=s.get(129),d=s.get(73);this._linesLayout=new L.LinesLayout(c,s.get(57),d.top,d.bottom),this._scrollable=this._register(new v(0,u)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new i(n.contentWidth,0,n.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?C:0)}onConfigurationChanged(l){const c=this._configuration.options;if(l.hasChanged(57)&&this._linesLayout.setLineHeight(c.get(57)),l.hasChanged(73)){const u=c.get(73);this._linesLayout.setPadding(u.top,u.bottom)}if(l.hasChanged(129)){const u=c.get(129),s=u.contentWidth,n=u.height,d=this._scrollable.getScrollDimensions(),t=d.contentWidth;this._scrollable.setScrollDimensions(new i(s,d.contentWidth,n,this._getContentHeight(s,n,t)))}else this._updateHeight();l.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(l){this._linesLayout.onFlushed(l)}onLinesDeleted(l,c){this._linesLayout.onLinesDeleted(l,c)}onLinesInserted(l,c){this._linesLayout.onLinesInserted(l,c)}_getHorizontalScrollbarHeight(l,c){const s=this._configuration.options.get(91);return s.horizontal===2||l>=c?0:s.horizontalScrollbarSize}_getContentHeight(l,c,u){const s=this._configuration.options;let n=this._linesLayout.getLinesTotalHeight();return s.get(93)?n+=Math.max(0,c-s.get(57)-s.get(73).bottom):n+=this._getHorizontalScrollbarHeight(l,u),n}_updateHeight(){const l=this._scrollable.getScrollDimensions(),c=l.width,u=l.height,s=l.contentWidth;this._scrollable.setScrollDimensions(new i(c,l.contentWidth,u,this._getContentHeight(c,u,s)))}getCurrentViewport(){const l=this._scrollable.getScrollDimensions(),c=this._scrollable.getCurrentScrollPosition();return new S.Viewport(c.scrollTop,c.scrollLeft,l.width,l.height)}getFutureViewport(){const l=this._scrollable.getScrollDimensions(),c=this._scrollable.getFutureScrollPosition();return new S.Viewport(c.scrollTop,c.scrollLeft,l.width,l.height)}_computeContentWidth(l){const c=this._configuration.options,u=c.get(130),s=c.get(41);if(u.isViewportWrapping){const n=c.get(129),d=c.get(63);return l>n.contentWidth+s.typicalHalfwidthCharacterWidth&&d.enabled&&d.side==="right"?l+n.verticalScrollbarWidth:l}else{const n=c.get(92)*s.typicalHalfwidthCharacterWidth,d=this._linesLayout.getWhitespaceMinWidth();return Math.max(l+n,d)}}setMaxLineWidth(l){const c=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new i(c.width,this._computeContentWidth(l),c.height,c.contentHeight)),this._updateHeight()}saveState(){const l=this._scrollable.getFutureScrollPosition();let c=l.scrollTop,u=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(c),s=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(u);return{scrollTop:c,scrollTopWithoutViewZones:c-s,scrollLeft:l.scrollLeft}}changeWhitespace(l){const c=this._linesLayout.changeWhitespace(l);return c&&this.onHeightMaybeChanged(),c}getVerticalOffsetForLineNumber(l){return this._linesLayout.getVerticalOffsetForLineNumber(l)}isAfterLines(l){return this._linesLayout.isAfterLines(l)}isInTopPadding(l){return this._linesLayout.isInTopPadding(l)}isInBottomPadding(l){return this._linesLayout.isInBottomPadding(l)}getLineNumberAtVerticalOffset(l){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(l)}getWhitespaceAtVerticalOffset(l){return this._linesLayout.getWhitespaceAtVerticalOffset(l)}getLinesViewportData(){const l=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(l.top,l.top+l.height)}getLinesViewportDataAtScrollTop(l){const c=this._scrollable.getScrollDimensions();return l+c.height>c.scrollHeight&&(l=c.scrollHeight-c.height),l<0&&(l=0),this._linesLayout.getLinesViewportData(l,l+c.height)}getWhitespaceViewportData(){const l=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(l.top,l.top+l.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(l){return this._scrollable.validateScrollPosition(l)}setScrollPosition(l,c){c===1?this._scrollable.setScrollPositionNow(l):this._scrollable.setScrollPositionSmooth(l)}deltaScrollNow(l,c){const u=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:u.scrollLeft+l,scrollTop:u.scrollTop+c})}}e.ViewLayout=r}),define(ee[407],te([0,1,3,21]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class T{constructor(S,p){this._selection=S,this._isMovingLeft=p}getEditOperations(S,p){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const C=this._selection.startLineNumber,i=this._selection.startColumn,v=this._selection.endColumn;if(!(this._isMovingLeft&&i===1)&&!(!this._isMovingLeft&&v===S.getLineMaxColumn(C)))if(this._isMovingLeft){const r=new b.Range(C,i-1,C,i),a=S.getValueInRange(r);p.addEditOperation(r,null),p.addEditOperation(new b.Range(C,v,C,v),a)}else{const r=new b.Range(C,v,C,v+1),a=S.getValueInRange(r);p.addEditOperation(r,null),p.addEditOperation(new b.Range(C,i,C,i),a)}}computeCursorState(S,p){return this._isMovingLeft?new k.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new k.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=T}),define(ee[137],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionKind=void 0;class b{constructor(C){this.value=C}equals(C){return this.value===C.value}contains(C){return this.equals(C)||this.value===""||C.value.startsWith(this.value+b.sep)}intersects(C){return this.contains(C)||C.contains(this)}append(C){return new b(this.value+b.sep+C)}}e.CodeActionKind=b,b.sep=".",b.None=new b("@@none@@"),b.Empty=new b(""),b.QuickFix=new b("quickfix"),b.Refactor=new b("refactor"),b.Source=new b("source"),b.SourceOrganizeImports=b.Source.append("organizeImports"),b.SourceFixAll=b.Source.append("fixAll");function k(p,C){return!(p.include&&!p.include.intersects(C)||p.excludes&&p.excludes.some(i=>L(C,i,p.include))||!p.includeSourceActions&&b.Source.contains(C))}e.mayIncludeActionsOfKind=k;function T(p,C){const i=C.kind?new b(C.kind):void 0;return!(p.include&&(!i||!p.include.contains(i))||p.excludes&&i&&p.excludes.some(v=>L(i,v,p.include))||!p.includeSourceActions&&i&&b.Source.contains(i)||p.onlyIncludePreferredActions&&!C.isPreferred)}e.filtersAction=T;function L(p,C,i){return!(!C.contains(p)||i&&C.contains(i))}class S{constructor(C,i,v){this.kind=C,this.apply=i,this.preferred=v}static fromUser(C,i){return!C||typeof C!="object"?new S(i.kind,i.apply,!1):new S(S.getKindFromUser(C,i.kind),S.getApplyFromUser(C,i.apply),S.getPreferredUser(C))}static getApplyFromUser(C,i){switch(typeof C.apply=="string"?C.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return i}}static getKindFromUser(C,i){return typeof C.kind=="string"?new b(C.kind):i}static getPreferredUser(C){return typeof C.preferred=="boolean"?C.preferred:!1}}e.CodeActionCommandArgs=S}),define(ee[408],te([0,1,6]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class k{constructor(L,S,p){this.presentationIndex=p,this._onColorFlushed=new b.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new b.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new b.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=L,this._color=L,this._colorPresentations=S}get color(){return this._color}set color(L){this._color.equals(L)||(this._color=L,this._onDidChangeColor.fire(L))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(L){this._colorPresentations=L,this.presentationIndex>L.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(L,S){for(let p=0;p<this.colorPresentations.length;p++)if(S.toLowerCase()===this.colorPresentations[p].label){this.presentationIndex=p,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=k}),define(ee[226],te([0,1,56,13,3,21,45]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class p{constructor(i,v){this._selection=i,this._insertSpace=v,this._usedEndToken=null}static _haystackHasNeedleAtOffset(i,v,r){if(r<0)return!1;const a=v.length,l=i.length;if(r+a>l)return!1;for(let c=0;c<a;c++){const u=i.charCodeAt(r+c),s=v.charCodeAt(c);if(u!==s&&!(u>=65&&u<=90&&u+32===s)&&!(s>=65&&s<=90&&s+32===u))return!1}return!0}_createOperationsForBlockComment(i,v,r,a,l,c){const u=i.startLineNumber,s=i.startColumn,n=i.endLineNumber,d=i.endColumn,t=l.getLineContent(u),o=l.getLineContent(n);let h=t.lastIndexOf(v,s-1+v.length),m=o.indexOf(r,d-1-r.length);if(h!==-1&&m!==-1)if(u===n)t.substring(h+v.length,m).indexOf(r)>=0&&(h=-1,m=-1);else{const w=t.substring(h+v.length),g=o.substring(0,m);(w.indexOf(r)>=0||g.indexOf(r)>=0)&&(h=-1,m=-1)}let y;h!==-1&&m!==-1?(a&&h+v.length<t.length&&t.charCodeAt(h+v.length)===32&&(v=v+" "),a&&m>0&&o.charCodeAt(m-1)===32&&(r=" "+r,m-=1),y=p._createRemoveBlockCommentOperations(new T.Range(u,h+v.length+1,n,m+1),v,r)):(y=p._createAddBlockCommentOperations(i,v,r,this._insertSpace),this._usedEndToken=y.length===1?r:null);for(const w of y)c.addTrackedEditOperation(w.range,w.text)}static _createRemoveBlockCommentOperations(i,v,r){let a=[];return T.Range.isEmpty(i)?a.push(b.EditOperation.delete(new T.Range(i.startLineNumber,i.startColumn-v.length,i.endLineNumber,i.endColumn+r.length))):(a.push(b.EditOperation.delete(new T.Range(i.startLineNumber,i.startColumn-v.length,i.startLineNumber,i.startColumn))),a.push(b.EditOperation.delete(new T.Range(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn+r.length)))),a}static _createAddBlockCommentOperations(i,v,r,a){let l=[];return T.Range.isEmpty(i)?l.push(b.EditOperation.replace(new T.Range(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn),v+"  "+r)):(l.push(b.EditOperation.insert(new k.Position(i.startLineNumber,i.startColumn),v+(a?" ":""))),l.push(b.EditOperation.insert(new k.Position(i.endLineNumber,i.endColumn),(a?" ":"")+r))),l}getEditOperations(i,v){const r=this._selection.startLineNumber,a=this._selection.startColumn;i.tokenizeIfCheap(r);const l=i.getLanguageIdAtPosition(r,a),c=S.LanguageConfigurationRegistry.getComments(l);!c||!c.blockCommentStartToken||!c.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,c.blockCommentStartToken,c.blockCommentEndToken,this._insertSpace,i,v)}computeCursorState(i,v){const r=v.getInverseEditOperations();if(r.length===2){const a=r[0],l=r[1];return new L.Selection(a.range.endLineNumber,a.range.endColumn,l.range.startLineNumber,l.range.startColumn)}else{const a=r[0].range,l=this._usedEndToken?-this._usedEndToken.length-1:0;return new L.Selection(a.endLineNumber,a.endColumn+l,a.endLineNumber,a.endColumn+l)}}}e.BlockCommentCommand=p}),define(ee[409],te([0,1,8,56,13,3,21,45,226]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class i{constructor(r,a,l,c,u,s){this._selection=r,this._tabSize=a,this._type=l,this._insertSpace=c,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=u,this._ignoreFirstLine=s||!1}static _gatherPreflightCommentStrings(r,a,l){r.tokenizeIfCheap(a);const c=r.getLanguageIdAtPosition(a,1),u=p.LanguageConfigurationRegistry.getComments(c),s=u?u.lineCommentToken:null;if(!s)return null;let n=[];for(let d=0,t=l-a+1;d<t;d++)n[d]={ignore:!1,commentStr:s,commentStrOffset:0,commentStrLength:s.length};return n}static _analyzeLines(r,a,l,c,u,s,n){let d=!0,t;r===0?t=!0:r===1?t=!1:t=!0;for(let o=0,h=c.length;o<h;o++){const m=c[o],y=u+o;if(y===u&&n){m.ignore=!0;continue}const w=l.getLineContent(y),g=b.firstNonWhitespaceIndex(w);if(g===-1){m.ignore=s,m.commentStrOffset=w.length;continue}if(d=!1,m.ignore=!1,m.commentStrOffset=g,t&&!C.BlockCommentCommand._haystackHasNeedleAtOffset(w,m.commentStr,g)&&(r===0?t=!1:r===1||(m.ignore=!0)),t&&a){const f=g+m.commentStrLength;f<w.length&&w.charCodeAt(f)===32&&(m.commentStrLength+=1)}}if(r===0&&d){t=!1;for(let o=0,h=c.length;o<h;o++)c[o].ignore=!1}return{supported:!0,shouldRemoveComments:t,lines:c}}static _gatherPreflightData(r,a,l,c,u,s,n){const d=i._gatherPreflightCommentStrings(l,c,u);return d===null?{supported:!1}:i._analyzeLines(r,a,l,d,c,s,n)}_executeLineComments(r,a,l,c){let u;l.shouldRemoveComments?u=i._createRemoveLineCommentsOperations(l.lines,c.startLineNumber):(i._normalizeInsertionPoint(r,l.lines,c.startLineNumber,this._tabSize),u=this._createAddLineCommentsOperations(l.lines,c.startLineNumber));const s=new T.Position(c.positionLineNumber,c.positionColumn);for(let n=0,d=u.length;n<d;n++)a.addEditOperation(u[n].range,u[n].text),L.Range.isEmpty(u[n].range)&&L.Range.getStartPosition(u[n].range).equals(s)&&r.getLineContent(s.lineNumber).length+1===s.column&&(this._deltaColumn=(u[n].text||"").length);this._selectionId=a.trackSelection(c)}_attemptRemoveBlockComment(r,a,l,c){let u=a.startLineNumber,s=a.endLineNumber,n=c.length+Math.max(r.getLineFirstNonWhitespaceColumn(a.startLineNumber),a.startColumn),d=r.getLineContent(u).lastIndexOf(l,n-1),t=r.getLineContent(s).indexOf(c,a.endColumn-1-l.length);return d!==-1&&t===-1&&(t=r.getLineContent(u).indexOf(c,d+l.length),s=u),d===-1&&t!==-1&&(d=r.getLineContent(s).lastIndexOf(l,t),u=s),a.isEmpty()&&(d===-1||t===-1)&&(d=r.getLineContent(u).indexOf(l),d!==-1&&(t=r.getLineContent(u).indexOf(c,d+l.length))),d!==-1&&r.getLineContent(u).charCodeAt(d+l.length)===32&&(l+=" "),t!==-1&&r.getLineContent(s).charCodeAt(t-1)===32&&(c=" "+c,t-=1),d!==-1&&t!==-1?C.BlockCommentCommand._createRemoveBlockCommentOperations(new L.Range(u,d+l.length+1,s,t+1),l,c):null}_executeBlockComment(r,a,l){r.tokenizeIfCheap(l.startLineNumber);let c=r.getLanguageIdAtPosition(l.startLineNumber,1),u=p.LanguageConfigurationRegistry.getComments(c);if(!u||!u.blockCommentStartToken||!u.blockCommentEndToken)return;const s=u.blockCommentStartToken,n=u.blockCommentEndToken;let d=this._attemptRemoveBlockComment(r,l,s,n);if(!d){if(l.isEmpty()){const t=r.getLineContent(l.startLineNumber);let o=b.firstNonWhitespaceIndex(t);o===-1&&(o=t.length),d=C.BlockCommentCommand._createAddBlockCommentOperations(new L.Range(l.startLineNumber,o+1,l.startLineNumber,t.length+1),s,n,this._insertSpace)}else d=C.BlockCommentCommand._createAddBlockCommentOperations(new L.Range(l.startLineNumber,r.getLineFirstNonWhitespaceColumn(l.startLineNumber),l.endLineNumber,r.getLineMaxColumn(l.endLineNumber)),s,n,this._insertSpace);d.length===1&&(this._deltaColumn=s.length+1)}this._selectionId=a.trackSelection(l);for(const t of d)a.addEditOperation(t.range,t.text)}getEditOperations(r,a){let l=this._selection;if(this._moveEndPositionDown=!1,l.startLineNumber===l.endLineNumber&&this._ignoreFirstLine){a.addEditOperation(new L.Range(l.startLineNumber,r.getLineMaxColumn(l.startLineNumber),l.startLineNumber+1,1),l.startLineNumber===r.getLineCount()?"":`
`),this._selectionId=a.trackSelection(l);return}l.startLineNumber<l.endLineNumber&&l.endColumn===1&&(this._moveEndPositionDown=!0,l=l.setEndPosition(l.endLineNumber-1,r.getLineMaxColumn(l.endLineNumber-1)));const c=i._gatherPreflightData(this._type,this._insertSpace,r,l.startLineNumber,l.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return c.supported?this._executeLineComments(r,a,c,l):this._executeBlockComment(r,a,l)}computeCursorState(r,a){let l=a.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(l=l.setEndPosition(l.endLineNumber+1,1)),new S.Selection(l.selectionStartLineNumber,l.selectionStartColumn+this._deltaColumn,l.positionLineNumber,l.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(r,a){let l=[];for(let c=0,u=r.length;c<u;c++){const s=r[c];s.ignore||l.push(k.EditOperation.delete(new L.Range(a+c,s.commentStrOffset+1,a+c,s.commentStrOffset+s.commentStrLength+1)))}return l}_createAddLineCommentsOperations(r,a){let l=[];const c=this._insertSpace?" ":"";for(let u=0,s=r.length;u<s;u++){const n=r[u];n.ignore||l.push(k.EditOperation.insert(new T.Position(a+u,n.commentStrOffset+1),n.commentStr+c))}return l}static nextVisibleColumn(r,a,l,c){return l?r+(a-r%a):r+c}static _normalizeInsertionPoint(r,a,l,c){let u=1073741824,s,n;for(let d=0,t=a.length;d<t;d++){if(a[d].ignore)continue;const o=r.getLineContent(l+d);let h=0;for(let m=0,y=a[d].commentStrOffset;h<u&&m<y;m++)h=i.nextVisibleColumn(h,c,o.charCodeAt(m)===9,1);h<u&&(u=h)}u=Math.floor(u/c)*c;for(let d=0,t=a.length;d<t;d++){if(a[d].ignore)continue;const o=r.getLineContent(l+d);let h=0;for(s=0,n=a[d].commentStrOffset;h<u&&s<n;s++)h=i.nextVisibleColumn(h,c,o.charCodeAt(s)===9,1);h>u?a[d].commentStrOffset=s-1:a[d].commentStrOffset=s}}}e.LineCommentCommand=i}),define(ee[410],te([0,1,21,3]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class T{constructor(S,p,C){this.selection=S,this.targetPosition=p,this.copy=C,this.targetSelection=null}getEditOperations(S,p){let C=S.getValueInRange(this.selection);if(this.copy||p.addEditOperation(this.selection,null),p.addEditOperation(new k.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),C),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new b.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new b.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new b.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new b.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new b.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(S,p){return this.targetSelection}}e.DragAndDropCommand=T}),define(ee[411],te([0,1,3]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class k{constructor(L,S,p){this._editorSelection=L,this._ranges=S,this._replaceStrings=p,this._trackedEditorSelectionId=null}getEditOperations(L,S){if(this._ranges.length>0){let p=[];for(let v=0;v<this._ranges.length;v++)p.push({range:this._ranges[v],text:this._replaceStrings[v]});p.sort((v,r)=>b.Range.compareRangesUsingStarts(v.range,r.range));let C=[],i=p[0];for(let v=1;v<p.length;v++)i.range.endLineNumber===p[v].range.startLineNumber&&i.range.endColumn===p[v].range.startColumn?(i.range=i.range.plusRange(p[v].range),i.text=i.text+p[v].text):(C.push(i),i=p[v]);C.push(i);for(const v of C)S.addEditOperation(v.range,v.text)}this._trackedEditorSelectionId=S.trackSelection(this._editorSelection)}computeCursorState(L,S){return S.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=k}),define(ee[412],te([0,1,293]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class k{constructor(v){this.staticValue=v,this.kind=0}}class T{constructor(v){this.pieces=v,this.kind=1}}class L{constructor(v){!v||v.length===0?this._state=new k(""):v.length===1&&v[0].staticValue!==null?this._state=new k(v[0].staticValue):this._state=new T(v)}static fromStaticValue(v){return new L([S.staticValue(v)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(v,r){if(this._state.kind===0)return r?(0,b.buildReplaceStringWithCasePreserved)(v,this._state.staticValue):this._state.staticValue;let a="";for(let l=0,c=this._state.pieces.length;l<c;l++){let u=this._state.pieces[l];if(u.staticValue!==null){a+=u.staticValue;continue}let s=L._substitute(u.matchIndex,v);if(u.caseOps!==null&&u.caseOps.length>0){let n=[],d=u.caseOps.length,t=0;for(let o=0,h=s.length;o<h;o++){if(t>=d){n.push(s.slice(o));break}switch(u.caseOps[t]){case"U":n.push(s[o].toUpperCase());break;case"u":n.push(s[o].toUpperCase()),t++;break;case"L":n.push(s[o].toLowerCase());break;case"l":n.push(s[o].toLowerCase()),t++;break;default:n.push(s[o])}}s=n.join("")}a+=s}return a}static _substitute(v,r){if(r===null)return"";if(v===0)return r[0];let a="";for(;v>0;){if(v<r.length)return(r[v]||"")+a;a=String(v%10)+a,v=Math.floor(v/10)}return"$"+a}}e.ReplacePattern=L;class S{constructor(v,r,a){this.staticValue=v,this.matchIndex=r,!a||a.length===0?this.caseOps=null:this.caseOps=a.slice(0)}static staticValue(v){return new S(v,-1,null)}static caseOps(v,r){return new S(null,v,r)}}e.ReplacePiece=S;class p{constructor(v){this._source=v,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(v){this._emitStatic(this._source.substring(this._lastCharIndex,v)),this._lastCharIndex=v}emitStatic(v,r){this._emitStatic(v),this._lastCharIndex=r}_emitStatic(v){v.length!==0&&(this._currentStaticPiece+=v)}emitMatchIndex(v,r,a){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=S.caseOps(v,a),this._lastCharIndex=r}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new L(this._result)}}function C(i){if(!i||i.length===0)return new L(null);let v=[],r=new p(i);for(let a=0,l=i.length;a<l;a++){let c=i.charCodeAt(a);if(c===92){if(a++,a>=l)break;let u=i.charCodeAt(a);switch(u){case 92:r.emitUnchanged(a-1),r.emitStatic("\\",a+1);break;case 110:r.emitUnchanged(a-1),r.emitStatic(`
`,a+1);break;case 116:r.emitUnchanged(a-1),r.emitStatic("	",a+1);break;case 117:case 85:case 108:case 76:r.emitUnchanged(a-1),r.emitStatic("",a+1),v.push(String.fromCharCode(u));break}continue}if(c===36){if(a++,a>=l)break;let u=i.charCodeAt(a);if(u===36){r.emitUnchanged(a-1),r.emitStatic("$",a+1);continue}if(u===48||u===38){r.emitUnchanged(a-1),r.emitMatchIndex(0,a+1,v),v.length=0;continue}if(49<=u&&u<=57){let s=u-48;if(a+1<l){let n=i.charCodeAt(a+1);if(48<=n&&n<=57){a++,s=s*10+(n-48),r.emitUnchanged(a-2),r.emitMatchIndex(s,a+1,v),v.length=0;continue}}r.emitUnchanged(a-1),r.emitMatchIndex(s,a+1,v),v.length=0;continue}}}return r.finalize()}e.parseReplaceString=C}),define(ee[178],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const b=4278190080;class k{constructor(S,p,C){if(S.length!==p.length||S.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=S,this._endIndexes=p,this._collapseStates=new Uint32Array(Math.ceil(S.length/32)),this._types=C,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let S=[],p=(C,i)=>{let v=S[S.length-1];return this.getStartLineNumber(v)<=C&&this.getEndLineNumber(v)>=i};for(let C=0,i=this._startIndexes.length;C<i;C++){let v=this._startIndexes[C],r=this._endIndexes[C];if(v>e.MAX_LINE_NUMBER||r>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;S.length>0&&!p(v,r);)S.pop();let a=S.length>0?S[S.length-1]:-1;S.push(C),this._startIndexes[C]=v+((a&255)<<24),this._endIndexes[C]=r+((a&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(S){return this._startIndexes[S]&e.MAX_LINE_NUMBER}getEndLineNumber(S){return this._endIndexes[S]&e.MAX_LINE_NUMBER}getType(S){return this._types?this._types[S]:void 0}hasTypes(){return!!this._types}isCollapsed(S){let p=S/32|0,C=S%32;return(this._collapseStates[p]&1<<C)!=0}setCollapsed(S,p){let C=S/32|0,i=S%32,v=this._collapseStates[C];p?this._collapseStates[C]=v|1<<i:this._collapseStates[C]=v&~(1<<i)}setCollapsedAllOfType(S,p){let C=!1;if(this._types)for(let i=0;i<this._types.length;i++)this._types[i]===S&&(this.setCollapsed(i,p),C=!0);return C}toRegion(S){return new T(this,S)}getParentIndex(S){this.ensureParentIndices();let p=((this._startIndexes[S]&b)>>>24)+((this._endIndexes[S]&b)>>>16);return p===e.MAX_FOLDING_REGIONS?-1:p}contains(S,p){return this.getStartLineNumber(S)<=p&&this.getEndLineNumber(S)>=p}findIndex(S){let p=0,C=this._startIndexes.length;if(C===0)return-1;for(;p<C;){let i=Math.floor((p+C)/2);S<this.getStartLineNumber(i)?C=i:p=i+1}return p-1}findRange(S){let p=this.findIndex(S);if(p>=0){if(this.getEndLineNumber(p)>=S)return p;for(p=this.getParentIndex(p);p!==-1;){if(this.contains(p,S))return p;p=this.getParentIndex(p)}}return-1}toString(){let S=[];for(let p=0;p<this.length;p++)S[p]=`[${this.isCollapsed(p)?"+":"-"}] ${this.getStartLineNumber(p)}/${this.getEndLineNumber(p)}`;return S.join(", ")}}e.FoldingRegions=k;class T{constructor(S,p){this.ranges=S,this.index=p}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(S){return S.startLineNumber<=this.startLineNumber&&S.endLineNumber>=this.endLineNumber}containsLine(S){return this.startLineNumber<=S&&S<=this.endLineNumber}}e.FoldingRegion=T}),define(ee[413],te([0,1,6,178]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class T{constructor(n,d){this._updateEventEmitter=new b.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=n,this._decorationProvider=d,this._regions=new k.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(n){if(!n.length)return;n=n.sort((t,o)=>t.regionIndex-o.regionIndex);const d={};this._decorationProvider.changeDecorations(t=>{let o=0,h=-1,m=-1;const y=w=>{for(;o<w;){const g=this._regions.getEndLineNumber(o),f=this._regions.isCollapsed(o);g<=h&&t.changeDecorationOptions(this._editorDecorationIds[o],this._decorationProvider.getDecorationOption(f,g<=m)),f&&g>m&&(m=g),o++}};for(let w of n){let g=w.regionIndex,f=this._editorDecorationIds[g];if(f&&!d[f]){d[f]=!0,y(g);let _=!this._regions.isCollapsed(g);this._regions.setCollapsed(g,_),h=Math.max(h,this._regions.getEndLineNumber(g))}}y(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:n})}update(n,d=[]){let t=[],o=(_,D)=>{for(let N of d)if(_<N&&N<=D)return!0;return!1},h=-1,m=(_,D)=>{const N=n.getStartLineNumber(_),I=n.getEndLineNumber(_);D||(D=n.isCollapsed(_)),D&&o(N,I)&&(D=!1),n.setCollapsed(_,D);const M=this._textModel.getLineMaxColumn(N),O={startLineNumber:N,startColumn:Math.max(M-1,1),endLineNumber:N,endColumn:M};t.push({range:O,options:this._decorationProvider.getDecorationOption(D,I<=h)}),D&&I>h&&(h=I)},y=0,w=()=>{for(;y<this._regions.length;){let _=this._regions.isCollapsed(y);if(y++,_)return y-1}return-1},g=0,f=w();for(;f!==-1&&g<n.length;){let _=this._textModel.getDecorationRange(this._editorDecorationIds[f]);if(_){let D=_.startLineNumber;if(_.startColumn===Math.max(_.endColumn-1,1)&&this._textModel.getLineMaxColumn(D)===_.endColumn)for(;g<n.length;){let N=n.getStartLineNumber(g);if(D>=N)m(g,D===N),g++;else break}}f=w()}for(;g<n.length;)m(g,!1),g++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,t),this._regions=n,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let n=[];for(let d=0;d<this._regions.length;d++)if(this._regions.isCollapsed(d)){let t=this._textModel.getDecorationRange(this._editorDecorationIds[d]);if(t){let o=t.startLineNumber,h=t.endLineNumber+this._regions.getEndLineNumber(d)-this._regions.getStartLineNumber(d);n.push({startLineNumber:o,endLineNumber:h})}}if(n.length>0)return n}applyMemento(n){if(!Array.isArray(n))return;let d=[];for(let t of n){let o=this.getRegionAtLine(t.startLineNumber);o&&!o.isCollapsed&&d.push(o)}this.toggleCollapseState(d)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(n,d){let t=[];if(this._regions){let o=this._regions.findRange(n),h=1;for(;o>=0;){let m=this._regions.toRegion(o);(!d||d(m,h))&&t.push(m),h++,o=m.parentIndex}}return t}getRegionAtLine(n){if(this._regions){let d=this._regions.findRange(n);if(d>=0)return this._regions.toRegion(d)}return null}getRegionsInside(n,d){let t=[],o=n?n.regionIndex+1:0,h=n?n.endLineNumber:Number.MAX_VALUE;if(d&&d.length===2){const m=[];for(let y=o,w=this._regions.length;y<w;y++){let g=this._regions.toRegion(y);if(this._regions.getStartLineNumber(y)<h){for(;m.length>0&&!g.containedBy(m[m.length-1]);)m.pop();m.push(g),d(g,m.length)&&t.push(g)}else break}}else for(let m=o,y=this._regions.length;m<y;m++){let w=this._regions.toRegion(m);if(this._regions.getStartLineNumber(m)<h)(!d||d(w))&&t.push(w);else break}return t}}e.FoldingModel=T;function L(s,n,d){let t=[];for(let o of d){let h=s.getRegionAtLine(o);if(h){const m=!h.isCollapsed;if(t.push(h),n>1){let y=s.getRegionsInside(h,(w,g)=>w.isCollapsed!==m&&g<n);t.push(...y)}}}s.toggleCollapseState(t)}e.toggleCollapseState=L;function S(s,n,d=Number.MAX_VALUE,t){let o=[];if(t&&t.length>0)for(let h of t){let m=s.getRegionAtLine(h);if(m&&(m.isCollapsed!==n&&o.push(m),d>1)){let y=s.getRegionsInside(m,(w,g)=>w.isCollapsed!==n&&g<d);o.push(...y)}}else{let h=s.getRegionsInside(null,(m,y)=>m.isCollapsed!==n&&y<d);o.push(...h)}s.toggleCollapseState(o)}e.setCollapseStateLevelsDown=S;function p(s,n,d,t){let o=[];for(let h of t){let m=s.getAllRegionsAtLine(h,(y,w)=>y.isCollapsed!==n&&w<=d);o.push(...m)}s.toggleCollapseState(o)}e.setCollapseStateLevelsUp=p;function C(s,n,d){let t=[];for(let o of d){let h=s.getAllRegionsAtLine(o,m=>m.isCollapsed!==n);h.length>0&&t.push(h[0])}s.toggleCollapseState(t)}e.setCollapseStateUp=C;function i(s,n,d,t){let o=(m,y)=>y===n&&m.isCollapsed!==d&&!t.some(w=>m.containsLine(w)),h=s.getRegionsInside(null,o);s.toggleCollapseState(h)}e.setCollapseStateAtLevel=i;function v(s,n,d){let t=[];for(let m of d)t.push(s.getAllRegionsAtLine(m,void 0)[0]);let o=m=>t.every(y=>!y.containedBy(m)&&!m.containedBy(y))&&m.isCollapsed!==n,h=s.getRegionsInside(null,o);s.toggleCollapseState(h)}e.setCollapseStateForRest=v;function r(s,n,d){let t=s.textModel,o=s.regions,h=[];for(let m=o.length-1;m>=0;m--)if(d!==o.isCollapsed(m)){let y=o.getStartLineNumber(m);n.test(t.getLineContent(y))&&h.push(o.toRegion(m))}s.toggleCollapseState(h)}e.setCollapseStateForMatchingLines=r;function a(s,n,d){let t=s.regions,o=[];for(let h=t.length-1;h>=0;h--)d!==t.isCollapsed(h)&&n===t.getType(h)&&o.push(t.toRegion(h));s.toggleCollapseState(o)}e.setCollapseStateForType=a;function l(s,n){let d=null,t=n.getRegionAtLine(s);if(t!==null&&(d=t.startLineNumber,s===d)){let o=t.parentIndex;o!==-1?d=n.regions.getStartLineNumber(o):d=null}return d}e.getParentFoldLine=l;function c(s,n){let d=n.getRegionAtLine(s);if(d!==null){if(s!==d.startLineNumber)return d.startLineNumber;{let t=d.parentIndex;if(t===-1)return null;let o=n.regions.getStartLineNumber(d.parentIndex);for(;d!==null;)if(d.regionIndex>0){if(d=n.regions.toRegion(d.regionIndex-1),d.startLineNumber<=o)return null;if(d.parentIndex===t)return d.startLineNumber}else return null}}return null}e.getPreviousFoldLine=c;function u(s,n){let d=n.getRegionAtLine(s);if(d!==null){let t=d.parentIndex;if(t===-1)return null;let o=n.regions.getEndLineNumber(d.parentIndex);for(;d!==null;)if(d.regionIndex<n.regions.length){if(d=n.regions.toRegion(d.regionIndex+1),d.startLineNumber>=o)return null;if(d.parentIndex===t)return d.startLineNumber}else return null}return null}e.getNextFoldLine=u}),define(ee[414],te([0,1,6,3,19]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class L{constructor(i){this._updateEventEmitter=new b.Emitter,this._foldingModel=i,this._foldingModelListener=i.onDidChange(v=>this.updateHiddenRanges()),this._hiddenRanges=[],i.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let i=!1,v=[],r=0,a=0,l=Number.MAX_VALUE,c=-1,u=this._foldingModel.regions;for(;r<u.length;r++){if(!u.isCollapsed(r))continue;let s=u.getStartLineNumber(r)+1,n=u.getEndLineNumber(r);l<=s&&n<=c||(!i&&a<this._hiddenRanges.length&&this._hiddenRanges[a].startLineNumber===s&&this._hiddenRanges[a].endLineNumber===n?(v.push(this._hiddenRanges[a]),a++):(i=!0,v.push(new k.Range(s,1,n,1))),l=s,c=n)}(i||a<this._hiddenRanges.length)&&this.applyHiddenRanges(v)}applyMemento(i){if(!Array.isArray(i)||i.length===0)return!1;let v=[];for(let r of i){if(!r.startLineNumber||!r.endLineNumber)return!1;v.push(new k.Range(r.startLineNumber+1,1,r.endLineNumber,1))}return this.applyHiddenRanges(v),!0}getMemento(){return this._hiddenRanges.map(i=>({startLineNumber:i.startLineNumber-1,endLineNumber:i.endLineNumber}))}applyHiddenRanges(i){this._hiddenRanges=i,this._updateEventEmitter.fire(i)}hasRanges(){return this._hiddenRanges.length>0}isHidden(i){return p(this._hiddenRanges,i)!==null}adjustSelections(i){let v=!1,r=this._foldingModel.textModel,a=null,l=c=>((!a||!S(c,a))&&(a=p(this._hiddenRanges,c)),a?a.startLineNumber-1:null);for(let c=0,u=i.length;c<u;c++){let s=i[c],n=l(s.startLineNumber);n&&(s=s.setStartPosition(n,r.getLineMaxColumn(n)),v=!0);let d=l(s.endLineNumber);d&&(s=s.setEndPosition(d,r.getLineMaxColumn(d)),v=!0),i[c]=s}return v}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=L;function S(C,i){return C>=i.startLineNumber&&C<=i.endLineNumber}function p(C,i){let v=(0,T.findFirstInSorted)(C,r=>i<r.startLineNumber)-1;return v>=0&&C[v].endLineNumber>=i?C[v]:null}}),define(ee[227],te([0,1,12,178,2]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const L=5e3,S={};e.ID_SYNTAX_PROVIDER="syntax";class p{constructor(a,l,c,u=L){this.editorModel=a,this.providers=l,this.limit=u,this.id=e.ID_SYNTAX_PROVIDER;for(const s of l)typeof s.onDidChange=="function"&&(this.disposables||(this.disposables=new T.DisposableStore),this.disposables.add(s.onDidChange(c)))}compute(a){return C(this.providers,this.editorModel,a).then(l=>l?v(l,this.limit):null)}dispose(){var a;(a=this.disposables)===null||a===void 0||a.dispose()}}e.SyntaxRangeProvider=p;function C(r,a,l){let c=null,u=r.map((s,n)=>Promise.resolve(s.provideFoldingRanges(a,S,l)).then(d=>{if(!l.isCancellationRequested&&Array.isArray(d)){Array.isArray(c)||(c=[]);let t=a.getLineCount();for(let o of d)o.start>0&&o.end>o.start&&o.end<=t&&c.push({start:o.start,end:o.end,rank:n,kind:o.kind})}},b.onUnexpectedExternalError));return Promise.all(u).then(s=>c)}class i{constructor(a){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=a}add(a,l,c,u){if(a>k.MAX_LINE_NUMBER||l>k.MAX_LINE_NUMBER)return;let s=this._length;this._startIndexes[s]=a,this._endIndexes[s]=l,this._nestingLevels[s]=u,this._types[s]=c,this._length++,u<30&&(this._nestingLevelCounts[u]=(this._nestingLevelCounts[u]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let a=new Uint32Array(this._length),l=new Uint32Array(this._length);for(let c=0;c<this._length;c++)a[c]=this._startIndexes[c],l[c]=this._endIndexes[c];return new k.FoldingRegions(a,l,this._types)}else{let a=0,l=this._nestingLevelCounts.length;for(let n=0;n<this._nestingLevelCounts.length;n++){let d=this._nestingLevelCounts[n];if(d){if(d+a>this._foldingRangesLimit){l=n;break}a+=d}}let c=new Uint32Array(this._foldingRangesLimit),u=new Uint32Array(this._foldingRangesLimit),s=[];for(let n=0,d=0;n<this._length;n++){let t=this._nestingLevels[n];(t<l||t===l&&a++<this._foldingRangesLimit)&&(c[d]=this._startIndexes[n],u[d]=this._endIndexes[n],s[d]=this._types[n],d++)}return new k.FoldingRegions(c,u,s)}}}e.RangesCollector=i;function v(r,a){let l=r.sort((n,d)=>{let t=n.start-d.start;return t===0&&(t=n.rank-d.rank),t}),c=new i(a),u,s=[];for(let n of l)if(!u)u=n,c.add(n.start,n.end,n.kind&&n.kind.value,s.length);else if(n.start>u.start)if(n.end<=u.end)s.push(u),u=n,c.add(n.start,n.end,n.kind&&n.kind.value,s.length);else{if(n.start>u.end){do u=s.pop();while(u&&n.start>u.end);u&&s.push(u),u=n}c.add(n.start,n.end,n.kind&&n.kind.value,s.length)}return c.toIndentRanges()}e.sanitizeRanges=v}),define(ee[415],te([0,1,227]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InitializingRangeProvider=e.ID_INIT_PROVIDER=void 0,e.ID_INIT_PROVIDER="init";class k{constructor(L,S,p,C){if(this.editorModel=L,this.id=e.ID_INIT_PROVIDER,S.length){let i=v=>({range:{startLineNumber:v.startLineNumber,startColumn:0,endLineNumber:v.endLineNumber,endColumn:L.getLineLength(v.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=L.deltaDecorations([],S.map(i)),this.timeout=setTimeout(p,C)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(L){let S=[];if(this.decorationIds)for(let p of this.decorationIds){let C=this.editorModel.getDecorationRange(p);C&&S.push({start:C.startLineNumber,end:C.endLineNumber,rank:1})}return Promise.resolve((0,b.sanitizeRanges)(S,Number.MAX_VALUE))}}e.InitializingRangeProvider=k}),define(ee[228],te([0,1,56,3]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class T{static _handleEolEdits(S,p){let C,i=[];for(let v of p)typeof v.eol=="number"&&(C=v.eol),v.range&&typeof v.text=="string"&&i.push(v);return typeof C=="number"&&S.hasModel()&&S.getModel().pushEOL(C),i}static _isFullModelReplaceEdit(S,p){if(!S.hasModel())return!1;const C=S.getModel(),i=C.validateRange(p.range);return C.getFullModelRange().equalsRange(i)}static execute(S,p,C){C&&S.pushUndoStop();const i=T._handleEolEdits(S,p);i.length===1&&T._isFullModelReplaceEdit(S,i[0])?S.executeEdits("formatEditsCommand",i.map(v=>b.EditOperation.replace(k.Range.lift(v.range),v.text))):S.executeEdits("formatEditsCommand",i.map(v=>b.EditOperation.replaceMove(k.Range.lift(v.range),v.text))),C&&S.pushUndoStop()}}e.FormattingEdit=T}),define(ee[229],te([0,1,2,6,17]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function L(r,a){return!!r[a]}class S{constructor(a,l){this.target=a.target,this.hasTriggerModifier=L(a.event,l.triggerModifier),this.hasSideBySideModifier=L(a.event,l.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=a.event.detail<=1}}e.ClickLinkMouseEvent=S;class p{constructor(a,l){this.keyCodeIsTriggerKey=a.keyCode===l.triggerKey,this.keyCodeIsSideBySideKey=a.keyCode===l.triggerSideBySideKey,this.hasTriggerModifier=L(a,l.triggerModifier)}}e.ClickLinkKeyboardEvent=p;class C{constructor(a,l,c,u){this.triggerKey=a,this.triggerModifier=l,this.triggerSideBySideKey=c,this.triggerSideBySideModifier=u}equals(a){return this.triggerKey===a.triggerKey&&this.triggerModifier===a.triggerModifier&&this.triggerSideBySideKey===a.triggerSideBySideKey&&this.triggerSideBySideModifier===a.triggerSideBySideModifier}}e.ClickLinkOptions=C;function i(r){return r==="altKey"?T.isMacintosh?new C(57,"metaKey",6,"altKey"):new C(5,"ctrlKey",6,"altKey"):T.isMacintosh?new C(6,"altKey",57,"metaKey"):new C(6,"altKey",5,"ctrlKey")}class v extends b.Disposable{constructor(a){super();this._onMouseMoveOrRelevantKeyDown=this._register(new k.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new k.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new k.Emitter),this.onCancel=this._onCancel.event,this._editor=a,this._opts=i(this._editor.getOption(68)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(l=>{if(l.hasChanged(68)){const c=i(this._editor.getOption(68));if(this._opts.equals(c))return;this._opts=c,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(l=>this._onEditorMouseMove(new S(l,this._opts)))),this._register(this._editor.onMouseDown(l=>this._onEditorMouseDown(new S(l,this._opts)))),this._register(this._editor.onMouseUp(l=>this._onEditorMouseUp(new S(l,this._opts)))),this._register(this._editor.onKeyDown(l=>this._onEditorKeyDown(new p(l,this._opts)))),this._register(this._editor.onKeyUp(l=>this._onEditorKeyUp(new p(l,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(l=>this._onDidChangeCursorSelection(l))),this._register(this._editor.onDidChangeModel(l=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(l=>{(l.scrollTopChanged||l.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(a){a.selection&&a.selection.startColumn!==a.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(a){this._lastMouseMoveEvent=a,this._onMouseMoveOrRelevantKeyDown.fire([a,null])}_onEditorMouseDown(a){this._hasTriggerKeyOnMouseDown=a.hasTriggerModifier,this._lineNumberOnMouseDown=a.target.position?a.target.position.lineNumber:0}_onEditorMouseUp(a){const l=a.target.position?a.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===l&&this._onExecute.fire(a)}_onEditorKeyDown(a){this._lastMouseMoveEvent&&(a.keyCodeIsTriggerKey||a.keyCodeIsSideBySideKey&&a.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,a]):a.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(a){a.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=v}),define(ee[230],te([0,1,15,12]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=void 0;class T{constructor(S,p,C,i,v){this._computer=S,this._state=0,this._hoverTime=v,this._firstWaitScheduler=new b.RunOnceScheduler(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new b.RunOnceScheduler(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new b.RunOnceScheduler(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=p,this._errorCallback=C,this._progressCallback=i}setHoverTime(S){this._hoverTime=S}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=(0,b.createCancelablePromise)(S=>this._computer.computeAsync(S)),this._asyncComputationPromise.then(S=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(S)},S=>this._onError(S))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(S){S&&this._computer.onResult(S,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(S){this._completeCallback(S)}_onError(S){this._errorCallback?this._errorCallback(S):(0,k.onUnexpectedError)(S)}_onProgress(S){this._progressCallback(S)}start(S){if(S===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}e.HoverOperation=T}),define(ee[231],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class b{constructor(L,S){this.priority=L,this.range=S,this.type=1}equals(L){return L.type===1&&this.range.equalsRange(L.range)}canAdoptVisibleHover(L,S){return L.type===1&&S.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=b;class k{constructor(L,S,p){this.priority=L,this.owner=S,this.range=p,this.type=2}equals(L){return L.type===2&&this.owner===L.owner}canAdoptVisibleHover(L,S){return L.type===2&&this.owner===L.owner}}e.HoverForeignElementAnchor=k}),define(ee[416],te([0,1,52]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphHoverWidget=void 0;class k extends b.Widget{constructor(L,S){super();this._id=L,this._editor=S,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-hover hidden",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","tooltip"),this._showAtLineNumber=-1,this._register(this._editor.onDidChangeConfiguration(p=>{p.hasChanged(41)&&this.updateFont()})),this._editor.addOverlayWidget(this)}get isVisible(){return this._isVisible}set isVisible(L){this._isVisible=L,this._domNode.classList.toggle("hidden",!this._isVisible)}getId(){return this._id}getDomNode(){return this._domNode}showAt(L){this._showAtLineNumber=L,this.isVisible||(this.isVisible=!0);const S=this._editor.getLayoutInfo(),p=this._editor.getTopForLineNumber(this._showAtLineNumber),C=this._editor.getScrollTop(),i=this._editor.getOption(57),v=this._domNode.clientHeight,r=p-C-(v-i)/2;this._domNode.style.left=`${S.glyphMarginLeft+S.glyphMarginWidth}px`,this._domNode.style.top=`${Math.max(Math.round(r),0)}px`}hide(){!this.isVisible||(this.isVisible=!1)}getPosition(){return null}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}updateFont(){const L=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),S=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));[...L,...S].forEach(p=>this._editor.applyFontInfo(p))}updateContents(L){this._domNode.textContent="",this._domNode.appendChild(L),this.updateFont()}}e.GlyphHoverWidget=k}),define(ee[417],te([0,1,21]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class k{constructor(L,S,p){this._editRange=L,this._originalSelection=S,this._text=p}getEditOperations(L,S){S.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(L,S){const C=S.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new b.Selection(C.endLineNumber,Math.min(this._originalSelection.positionColumn,C.endColumn),C.endLineNumber,Math.min(this._originalSelection.positionColumn,C.endColumn)):new b.Selection(C.endLineNumber,C.endColumn-this._text.length,C.endLineNumber,C.endColumn)}}e.InPlaceReplaceCommand=k}),define(ee[232],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function b(T,L){let S=0;for(let p=0;p<T.length;p++)T.charAt(p)==="	"?S+=L:S++;return S}e.getSpaceCnt=b;function k(T,L,S){T=T<0?0:T;let p="";if(!S){let C=Math.floor(T/L);T=T%L;for(let i=0;i<C;i++)p+="	"}for(let C=0;C<T;C++)p+=" ";return p}e.generateIndent=k}),define(ee[233],te([0,1,6,2]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGhostTextWidgetModel=e.GhostTextPart=e.GhostText=void 0;class T{constructor(C,i,v=0){this.lineNumber=C,this.parts=i,this.additionalReservedLineCount=v}static equals(C,i){return C===i||!!C&&!!i&&C.equals(i)}equals(C){return this.lineNumber===C.lineNumber&&this.parts.length===C.parts.length&&this.parts.every((i,v)=>i.equals(C.parts[v]))}}e.GhostText=T;class L{constructor(C,i){this.column=C,this.lines=i}equals(C){return this.column===C.column&&this.lines.length===C.lines.length&&this.lines.every((i,v)=>i===C.lines[v])}}e.GhostTextPart=L;class S extends k.Disposable{constructor(C){super();this.editor=C,this._expanded=void 0,this.onDidChangeEmitter=new b.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this._register(C.onDidChangeConfiguration(i=>{i.hasChanged(105)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}get expanded(){return this._expanded===void 0?!0:this._expanded}setExpanded(C){this._expanded=!0,this.onDidChangeEmitter.fire()}}e.BaseGhostTextWidgetModel=S}),define(ee[418],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDisposableRef=void 0;function b(k,T){return{object:k,dispose:()=>T==null?void 0:T.dispose()}}e.createDisposableRef=b}),define(ee[419],te([0,1,3,21]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class T{constructor(S,p,C){this._selection=S,this._isCopyingDown=p,this._noop=C||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(S,p){let C=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,C.startLineNumber<C.endLineNumber&&C.endColumn===1&&(this._endLineNumberDelta=1,C=C.setEndPosition(C.endLineNumber-1,S.getLineMaxColumn(C.endLineNumber-1)));let i=[];for(let r=C.startLineNumber;r<=C.endLineNumber;r++)i.push(S.getLineContent(r));const v=i.join(`
`);v===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?p.addEditOperation(new b.Range(C.endLineNumber,S.getLineMaxColumn(C.endLineNumber),C.endLineNumber+1,1),C.endLineNumber===S.getLineCount()?"":`
`):this._isCopyingDown?p.addEditOperation(new b.Range(C.startLineNumber,1,C.startLineNumber,1),v+`
`):p.addEditOperation(new b.Range(C.endLineNumber,S.getLineMaxColumn(C.endLineNumber),C.endLineNumber,S.getLineMaxColumn(C.endLineNumber)),`
`+v),this._selectionId=p.trackSelection(C),this._selectionDirection=this._selection.getDirection()}computeCursorState(S,p){let C=p.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let i=C.startLineNumber,v=C.startColumn,r=C.endLineNumber,a=C.endColumn;this._startLineNumberDelta!==0&&(i=i+this._startLineNumberDelta,v=1),this._endLineNumberDelta!==0&&(r=r+this._endLineNumberDelta,a=1),C=k.Selection.createWithDirection(i,v,r,a,this._selectionDirection)}return C}}e.CopyLinesCommand=T}),define(ee[420],te([0,1,56,3]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class T{constructor(C,i){this.selection=C,this.descending=i,this.selectionId=null}static getCollator(){return T._COLLATOR||(T._COLLATOR=new Intl.Collator),T._COLLATOR}getEditOperations(C,i){let v=S(C,this.selection,this.descending);v&&i.addEditOperation(v.range,v.text),this.selectionId=i.trackSelection(this.selection)}computeCursorState(C,i){return i.getTrackedSelection(this.selectionId)}static canRun(C,i,v){if(C===null)return!1;let r=L(C,i,v);if(!r)return!1;for(let a=0,l=r.before.length;a<l;a++)if(r.before[a]!==r.after[a])return!0;return!1}}e.SortLinesCommand=T,T._COLLATOR=null;function L(p,C,i){let v=C.startLineNumber,r=C.endLineNumber;if(C.endColumn===1&&r--,v>=r)return null;let a=[];for(let c=v;c<=r;c++)a.push(p.getLineContent(c));let l=a.slice(0);return l.sort(T.getCollator().compare),i===!0&&(l=l.reverse()),{startLineNumber:v,endLineNumber:r,before:a,after:l}}function S(p,C,i){let v=L(p,C,i);return v?b.EditOperation.replace(new k.Range(v.startLineNumber,1,v.endLineNumber,p.getLineMaxColumn(v.endLineNumber)),v.after.join(`
`)):null}}),define(ee[234],te([0,1,13,3,72]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class L{provideSelectionRanges(p,C){return Ie(this,void 0,void 0,function*(){const i=[];for(const v of C){const r=[];i.push(r);const a=new Map;yield new Promise(l=>L._bracketsRightYield(l,0,p,v,a)),yield new Promise(l=>L._bracketsLeftYield(l,0,p,v,a,r))}return i})}static _bracketsRightYield(p,C,i,v,r){const a=new Map,l=Date.now();for(;;){if(C>=L._maxRounds){p();break}if(!v){p();break}let c=i.findNextBracket(v);if(!c){p();break}if(Date.now()-l>L._maxDuration){setTimeout(()=>L._bracketsRightYield(p,C+1,i,v,r));break}const s=c.close[0];if(c.isOpen){let n=a.has(s)?a.get(s):0;a.set(s,n+1)}else{let n=a.has(s)?a.get(s):0;if(n-=1,a.set(s,Math.max(0,n)),n<0){let d=r.get(s);d||(d=new T.LinkedList,r.set(s,d)),d.push(c.range)}}v=c.range.getEndPosition()}}static _bracketsLeftYield(p,C,i,v,r,a){const l=new Map,c=Date.now();for(;;){if(C>=L._maxRounds&&r.size===0){p();break}if(!v){p();break}let u=i.findPrevBracket(v);if(!u){p();break}if(Date.now()-c>L._maxDuration){setTimeout(()=>L._bracketsLeftYield(p,C+1,i,v,r,a));break}const n=u.close[0];if(u.isOpen){let d=l.has(n)?l.get(n):0;if(d-=1,l.set(n,Math.max(0,d)),d<0){let t=r.get(n);if(t){let o=t.shift();t.size===0&&r.delete(n);const h=k.Range.fromPositions(u.range.getEndPosition(),o.getStartPosition()),m=k.Range.fromPositions(u.range.getStartPosition(),o.getEndPosition());a.push({range:h}),a.push({range:m}),L._addBracketLeading(i,m,a)}}}else{let d=l.has(n)?l.get(n):0;l.set(n,d+1)}v=u.range.getStartPosition()}}static _addBracketLeading(p,C,i){if(C.startLineNumber===C.endLineNumber)return;const v=C.startLineNumber,r=p.getLineFirstNonWhitespaceColumn(v);r!==0&&r!==C.startColumn&&(i.push({range:k.Range.fromPositions(new b.Position(v,r),C.getEndPosition())}),i.push({range:k.Range.fromPositions(new b.Position(v,1),C.getEndPosition())}));const a=v-1;if(a>0){const l=p.getLineFirstNonWhitespaceColumn(a);l===C.startColumn&&l!==p.getLineLastNonWhitespaceColumn(a)&&(i.push({range:k.Range.fromPositions(new b.Position(a,l),C.getEndPosition())}),i.push({range:k.Range.fromPositions(new b.Position(a,1),C.getEndPosition())}))}}}e.BracketSelectionRangeProvider=L,L._maxDuration=30,L._maxRounds=2}),define(ee[421],te([0,1,3,8]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class T{provideSelectionRanges(S,p){const C=[];for(const i of p){const v=[];C.push(v),this._addInWordRanges(v,S,i),this._addWordRanges(v,S,i),this._addWhitespaceLine(v,S,i),v.push({range:S.getFullModelRange()})}return C}_addInWordRanges(S,p,C){const i=p.getWordAtPosition(C);if(!i)return;let{word:v,startColumn:r}=i,a=C.column-r,l=a,c=a,u=0;for(;l>=0;l--){let s=v.charCodeAt(l);if(l!==a&&(s===95||s===45))break;if((0,k.isLowerAsciiLetter)(s)&&(0,k.isUpperAsciiLetter)(u))break;u=s}for(l+=1;c<v.length;c++){let s=v.charCodeAt(c);if((0,k.isUpperAsciiLetter)(s)&&(0,k.isLowerAsciiLetter)(u))break;if(s===95||s===45)break;u=s}l<c&&S.push({range:new b.Range(C.lineNumber,r+l,C.lineNumber,r+c)})}_addWordRanges(S,p,C){const i=p.getWordAtPosition(C);i&&S.push({range:new b.Range(C.lineNumber,i.startColumn,C.lineNumber,i.endColumn)})}_addWhitespaceLine(S,p,C){p.getLineLength(C.lineNumber)>0&&p.getLineFirstNonWhitespaceColumn(C.lineNumber)===0&&p.getLineLastNonWhitespaceColumn(C.lineNumber)===0&&S.push({range:new b.Range(C.lineNumber,1,C.lineNumber,p.getLineMaxColumn(C.lineNumber))})}}e.WordSelectionRangeProvider=T}),define(ee[116],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class b{constructor(){this.value="",this.pos=0}static isDigitCharacter(u){return u>=48&&u<=57}static isVariableCharacter(u){return u===95||u>=97&&u<=122||u>=65&&u<=90}text(u){this.value=u,this.pos=0}tokenText(u){return this.value.substr(u.pos,u.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let u=this.pos,s=0,n=this.value.charCodeAt(u),d;if(d=b._table[n],typeof d=="number")return this.pos+=1,{type:d,pos:u,len:1};if(b.isDigitCharacter(n)){d=8;do s+=1,n=this.value.charCodeAt(u+s);while(b.isDigitCharacter(n));return this.pos+=s,{type:d,pos:u,len:s}}if(b.isVariableCharacter(n)){d=9;do n=this.value.charCodeAt(u+ ++s);while(b.isVariableCharacter(n)||b.isDigitCharacter(n));return this.pos+=s,{type:d,pos:u,len:s}}d=10;do s+=1,n=this.value.charCodeAt(u+s);while(!isNaN(n)&&typeof b._table[n]=="undefined"&&!b.isDigitCharacter(n)&&!b.isVariableCharacter(n));return this.pos+=s,{type:d,pos:u,len:s}}}e.Scanner=b,b._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class k{constructor(){this._children=[]}appendChild(u){return u instanceof T&&this._children[this._children.length-1]instanceof T?this._children[this._children.length-1].value+=u.value:(u.parent=this,this._children.push(u)),this}replace(u,s){const{parent:n}=u,d=n.children.indexOf(u),t=n.children.slice(0);t.splice(d,1,...s),n._children=t,function o(h,m){for(const y of h)y.parent=m,o(y.children,y)}(s,n)}get children(){return this._children}get snippet(){let u=this;for(;;){if(!u)return;if(u instanceof a)return u;u=u.parent}}toString(){return this.children.reduce((u,s)=>u+s.toString(),"")}len(){return 0}}e.Marker=k;class T extends k{constructor(u){super();this.value=u}toString(){return this.value}len(){return this.value.length}clone(){return new T(this.value)}}e.Text=T;class L extends k{}e.TransformableMarker=L;class S extends L{constructor(u){super();this.index=u}static compareByIndex(u,s){return u.index===s.index?0:u.isFinalTabstop?1:s.isFinalTabstop||u.index<s.index?-1:u.index>s.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof p?this._children[0]:void 0}clone(){let u=new S(this.index);return this.transform&&(u.transform=this.transform.clone()),u._children=this.children.map(s=>s.clone()),u}}e.Placeholder=S;class p extends k{constructor(){super(...arguments);this.options=[]}appendChild(u){return u instanceof T&&(u.parent=this,this.options.push(u)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let u=new p;return this.options.forEach(u.appendChild,u),u}}e.Choice=p;class C extends k{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(u){const s=this;let n=!1,d=u.replace(this.regexp,function(){return n=!0,s._replace(Array.prototype.slice.call(arguments,0,-2))});return!n&&this._children.some(t=>t instanceof i&&Boolean(t.elseValue))&&(d=this._replace([])),d}_replace(u){let s="";for(const n of this._children)if(n instanceof i){let d=u[n.index]||"";d=n.resolve(d),s+=d}else s+=n.toString();return s}toString(){return""}clone(){let u=new C;return u.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),u._children=this.children.map(s=>s.clone()),u}}e.Transform=C;class i extends k{constructor(u,s,n,d){super();this.index=u,this.shorthandName=s,this.ifValue=n,this.elseValue=d}resolve(u){return this.shorthandName==="upcase"?u?u.toLocaleUpperCase():"":this.shorthandName==="downcase"?u?u.toLocaleLowerCase():"":this.shorthandName==="capitalize"?u?u[0].toLocaleUpperCase()+u.substr(1):"":this.shorthandName==="pascalcase"?u?this._toPascalCase(u):"":this.shorthandName==="camelcase"?u?this._toCamelCase(u):"":Boolean(u)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(u)&&typeof this.elseValue=="string"?this.elseValue:u||""}_toPascalCase(u){const s=u.match(/[a-z0-9]+/gi);return s?s.map(n=>n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):u}_toCamelCase(u){const s=u.match(/[a-z0-9]+/gi);return s?s.map((n,d)=>d===0?n.toLowerCase():n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):u}clone(){return new i(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=i;class v extends L{constructor(u){super();this.name=u}resolve(u){let s=u.resolve(this);return this.transform&&(s=this.transform.resolve(s||"")),s!==void 0?(this._children=[new T(s)],!0):!1}clone(){const u=new v(this.name);return this.transform&&(u.transform=this.transform.clone()),u._children=this.children.map(s=>s.clone()),u}}e.Variable=v;function r(c,u){const s=[...c];for(;s.length>0;){const n=s.shift();if(!u(n))break;s.unshift(...n.children)}}class a extends k{get placeholderInfo(){if(!this._placeholders){let u=[],s;this.walk(function(n){return n instanceof S&&(u.push(n),s=!s||s.index<n.index?n:s),!0}),this._placeholders={all:u,last:s}}return this._placeholders}get placeholders(){const{all:u}=this.placeholderInfo;return u}offset(u){let s=0,n=!1;return this.walk(d=>d===u?(n=!0,!1):(s+=d.len(),!0)),n?s:-1}fullLen(u){let s=0;return r([u],n=>(s+=n.len(),!0)),s}enclosingPlaceholders(u){let s=[],{parent:n}=u;for(;n;)n instanceof S&&s.push(n),n=n.parent;return s}resolveVariables(u){return this.walk(s=>(s instanceof v&&s.resolve(u)&&(this._placeholders=void 0),!0)),this}appendChild(u){return this._placeholders=void 0,super.appendChild(u)}replace(u,s){return this._placeholders=void 0,super.replace(u,s)}clone(){let u=new a;return this._children=this.children.map(s=>s.clone()),u}walk(u){r(this.children,u)}}e.TextmateSnippet=a;class l{constructor(){this._scanner=new b,this._token={type:14,pos:0,len:0}}static escape(u){return u.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(u){return/\${?CLIPBOARD/.test(u)}parse(u,s,n){this._scanner.text(u),this._token=this._scanner.next();const d=new a;for(;this._parse(d););const t=new Map,o=[];let h=0;d.walk(m=>(m instanceof S&&(h+=1,m.isFinalTabstop?t.set(0,void 0):!t.has(m.index)&&m.children.length>0?t.set(m.index,m.children):o.push(m)),!0));for(const m of o){const y=t.get(m.index);if(y){const w=new S(m.index);w.transform=m.transform;for(const g of y)w.appendChild(g.clone());d.replace(m,[w])}}return n||(n=h>0&&s),!t.has(0)&&n&&d.appendChild(new S(0)),d}_accept(u,s){if(u===void 0||this._token.type===u){let n=s?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),n}return!1}_backTo(u){return this._scanner.pos=u.pos+u.len,this._token=u,!1}_until(u){const s=this._token;for(;this._token.type!==u;){if(this._token.type===14)return!1;if(this._token.type===5){const d=this._scanner.next();if(d.type!==0&&d.type!==4&&d.type!==5)return!1}this._token=this._scanner.next()}const n=this._scanner.value.substring(s.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}_parse(u){return this._parseEscaped(u)||this._parseTabstopOrVariableName(u)||this._parseComplexPlaceholder(u)||this._parseComplexVariable(u)||this._parseAnything(u)}_parseEscaped(u){let s;return(s=this._accept(5,!0))?(s=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||s,u.appendChild(new T(s)),!0):!1}_parseTabstopOrVariableName(u){let s;const n=this._token;return this._accept(0)&&(s=this._accept(9,!0)||this._accept(8,!0))?(u.appendChild(/^\d+$/.test(s)?new S(Number(s)):new v(s)),!0):this._backTo(n)}_parseComplexPlaceholder(u){let s;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(s=this._accept(8,!0))))return this._backTo(n);const t=new S(Number(s));if(this._accept(1))for(;;){if(this._accept(4))return u.appendChild(t),!0;if(!this._parse(t))return u.appendChild(new T("${"+s+":")),t.children.forEach(u.appendChild,u),!0}else if(t.index>0&&this._accept(7)){const o=new p;for(;;){if(this._parseChoiceElement(o)){if(this._accept(2))continue;if(this._accept(7)&&(t.appendChild(o),this._accept(4)))return u.appendChild(t),!0}return this._backTo(n),!1}}else return this._accept(6)?this._parseTransform(t)?(u.appendChild(t),!0):(this._backTo(n),!1):this._accept(4)?(u.appendChild(t),!0):this._backTo(n)}_parseChoiceElement(u){const s=this._token,n=[];for(;!(this._token.type===2||this._token.type===7);){let d;if((d=this._accept(5,!0))?d=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||d:d=this._accept(void 0,!0),!d)return this._backTo(s),!1;n.push(d)}return n.length===0?(this._backTo(s),!1):(u.appendChild(new T(n.join(""))),!0)}_parseComplexVariable(u){let s;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(s=this._accept(9,!0))))return this._backTo(n);const t=new v(s);if(this._accept(1))for(;;){if(this._accept(4))return u.appendChild(t),!0;if(!this._parse(t))return u.appendChild(new T("${"+s+":")),t.children.forEach(u.appendChild,u),!0}else return this._accept(6)?this._parseTransform(t)?(u.appendChild(t),!0):(this._backTo(n),!1):this._accept(4)?(u.appendChild(t),!0):this._backTo(n)}_parseTransform(u){let s=new C,n="",d="";for(;!this._accept(6);){let t;if(t=this._accept(5,!0)){t=this._accept(6,!0)||t,n+=t;continue}if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let t;if(t=this._accept(5,!0)){t=this._accept(5,!0)||this._accept(6,!0)||t,s.appendChild(new T(t));continue}if(!(this._parseFormatString(s)||this._parseAnything(s)))return!1}for(;!this._accept(4);){if(this._token.type!==14){d+=this._accept(void 0,!0);continue}return!1}try{s.regexp=new RegExp(n,d)}catch(t){return!1}return u.transform=s,!0}_parseFormatString(u){const s=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);let d=this._accept(8,!0);if(d)if(n){if(this._accept(4))return u.appendChild(new i(Number(d))),!0;if(!this._accept(1))return this._backTo(s),!1}else return u.appendChild(new i(Number(d))),!0;else return this._backTo(s),!1;if(this._accept(6)){let t=this._accept(9,!0);return!t||!this._accept(4)?(this._backTo(s),!1):(u.appendChild(new i(Number(d),t)),!0)}else if(this._accept(11)){let t=this._until(4);if(t)return u.appendChild(new i(Number(d),void 0,t,void 0)),!0}else if(this._accept(12)){let t=this._until(4);if(t)return u.appendChild(new i(Number(d),void 0,void 0,t)),!0}else if(this._accept(13)){let t=this._until(1);if(t){let o=this._until(4);if(o)return u.appendChild(new i(Number(d),void 0,t,o)),!0}}else{let t=this._until(4);if(t)return u.appendChild(new i(Number(d),void 0,void 0,t)),!0}return this._backTo(s),!1}_parseAnything(u){return this._token.type!==14?(u.appendChild(new T(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=l}),define(ee[422],te([0,1,67,8,19]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class L{constructor(C,i){this.leadingLineContent=C,this.characterCountDelta=i}}e.LineContext=L;class S{constructor(C,i,v,r,a,l,c){this.clipboardText=c,this._snippetCompareFn=S._compareCompletionItems,this._items=C,this._column=i,this._wordDistance=r,this._options=a,this._refilterKind=1,this._lineContext=v,l==="top"?this._snippetCompareFn=S._compareCompletionItemsSnippetsUp:l==="bottom"&&(this._snippetCompareFn=S._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(C){(this._lineContext.leadingLineContent!==C.leadingLineContent||this._lineContext.characterCountDelta!==C.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<C.characterCountDelta&&this._filteredItems?2:1,this._lineContext=C)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const C=new Set;for(let[i,v]of this._providerInfo)v&&C.add(i);return C}adopt(C){let i=[];for(let v=0;v<this._items.length;)C.has(this._items[v].provider)?v++:(i.push(this._items[v]),this._items[v]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,i}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const C=[],{leadingLineContent:i,characterCountDelta:v}=this._lineContext;let r="",a="";const l=this._refilterKind===1?this._items:this._filteredItems,c=[],u=!this._options.filterGraceful||l.length>2e3?b.fuzzyScore:b.fuzzyScoreGracefulAggressive;for(let s=0;s<l.length;s++){const n=l[s];if(n.isInvalid)continue;this._providerInfo.set(n.provider,Boolean(n.container.incomplete));const d=n.position.column-n.editStart.column,t=d+v-(n.position.column-this._column);if(r.length!==t&&(r=t===0?"":i.slice(-t),a=r.toLowerCase()),n.word=r,t===0)n.score=b.FuzzyScore.Default;else{let o=0;for(;o<d;){const h=r.charCodeAt(o);if(h===32||h===9)o+=1;else break}if(o>=t)n.score=b.FuzzyScore.Default;else if(typeof n.completion.filterText=="string"){let h=u(r,a,o,n.completion.filterText,n.filterTextLow,0,!1);if(!h)continue;(0,k.compareIgnoreCase)(n.completion.filterText,n.textLabel)===0?n.score=h:(n.score=(0,b.anyScore)(r,a,o,n.textLabel,n.labelLow,0),n.score[0]=h[0])}else{let h=u(r,a,o,n.textLabel,n.labelLow,0,!1);if(!h)continue;n.score=h}}n.idx=s,n.distance=this._wordDistance.distance(n.position,n.completion),c.push(n),C.push(n.textLabel.length)}this._filteredItems=c.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:C.length?(0,T.quickSelect)(C.length-.85,C,(s,n)=>s-n):0}}static _compareCompletionItems(C,i){return C.score[0]>i.score[0]?-1:C.score[0]<i.score[0]?1:C.distance<i.distance?-1:C.distance>i.distance?1:C.idx<i.idx?-1:C.idx>i.idx?1:0}static _compareCompletionItemsSnippetsDown(C,i){if(C.completion.kind!==i.completion.kind){if(C.completion.kind===27)return 1;if(i.completion.kind===27)return-1}return S._compareCompletionItems(C,i)}static _compareCompletionItemsSnippetsUp(C,i){if(C.completion.kind!==i.completion.kind){if(C.completion.kind===27)return-1;if(i.completion.kind===27)return 1}return S._compareCompletionItems(C,i)}}e.CompletionModel=S}),define(ee[235],te([0,1,6,2,7,107]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class S{constructor(){this._onDidWillResize=new b.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new b.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new k.DisposableStore,this._size=new T.Dimension(0,0),this._minSize=new T.Dimension(0,0),this._maxSize=new T.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new L.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new L.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new L.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:L.OrthogonalEdge.North}),this._southSash=new L.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:L.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let C,i=0,v=0;this._sashListener.add(b.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{C===void 0&&(this._onDidWillResize.fire(),C=this._size,i=0,v=0)})),this._sashListener.add(b.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{C!==void 0&&(C=void 0,i=0,v=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(r=>{C&&(v=r.currentX-r.startX,this.layout(C.height+i,C.width+v),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(r=>{C&&(v=-(r.currentX-r.startX),this.layout(C.height+i,C.width+v),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(r=>{C&&(i=-(r.currentY-r.startY),this.layout(C.height+i,C.width+v),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(r=>{C&&(i=r.currentY-r.startY,this.layout(C.height+i,C.width+v),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(b.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(r=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(b.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(r=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(C,i,v,r){this._northSash.state=C?3:0,this._eastSash.state=i?3:0,this._southSash.state=v?3:0,this._westSash.state=r?3:0}layout(C=this.size.height,i=this.size.width){const{height:v,width:r}=this._minSize,{height:a,width:l}=this._maxSize;C=Math.max(v,Math.min(a,C)),i=Math.max(r,Math.min(l,i));const c=new T.Dimension(i,C);T.Dimension.equals(c,this._size)||(this.domNode.style.height=C+"px",this.domNode.style.width=i+"px",this._size=c,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(C){this._maxSize=C}get maxSize(){return this._maxSize}set minSize(C){this._minSize=C}get minSize(){return this._minSize}set preferredSize(C){this._preferredSize=C}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=S}),define(ee[423],te([0,1,19,2,94]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class L{constructor(p,C,i){this._disposables=new k.DisposableStore,this._disposables.add(C.onDidShow(()=>this._onItem(C.getFocusedItem()))),this._disposables.add(C.onDidFocus(this._onItem,this)),this._disposables.add(C.onDidHide(this.reset,this)),this._disposables.add(p.onWillType(v=>{if(this._active&&!C.isFrozen()){const r=v.charCodeAt(v.length-1);this._active.acceptCharacters.has(r)&&p.getOption(0)&&i(this._active.item)}}))}_onItem(p){if(!p||!(0,b.isNonEmptyArray)(p.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===p.item)return;const C=new T.CharacterSet;for(const i of p.item.completion.commitCharacters)i.length>0&&C.add(i.charCodeAt(0));this._active={acceptCharacters:C,item:p}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=L}),define(ee[424],te([0,1,2]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class k{constructor(L,S){this._disposables=new b.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(L.onWillType(()=>{if(!this._empty||!L.hasModel())return;const p=L.getSelections(),C=p.length;let i=!1;for(let r=0;r<C;r++)if(!p[r].isEmpty()){i=!0;break}if(!i)return;this._lastOvertyped=[];const v=L.getModel();for(let r=0;r<C;r++){const a=p[r];if(v.getValueLengthInRange(a)>k._maxSelectionLength)return;this._lastOvertyped[r]={value:v.getValueInRange(a),multiline:a.startLineNumber!==a.endLineNumber}}this._empty=!1})),this._disposables.add(S.onDidCancel(p=>{!this._empty&&!p.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(L){if(!this._empty&&L>=0&&L<this._lastOvertyped.length)return this._lastOvertyped[L]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=k,k._maxSelectionLength=51200}),define(ee[425],te([0,1,19,3,234]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class L{static create(p,C){return Ie(this,void 0,void 0,function*(){if(!C.getOption(105).localityBonus||!C.hasModel())return L.None;const i=C.getModel(),v=C.getPosition();if(!p.canComputeWordRanges(i.uri))return L.None;const[r]=yield new T.BracketSelectionRangeProvider().provideSelectionRanges(i,[v]);if(r.length===0)return L.None;const a=yield p.computeWordRanges(i.uri,r[0].range);if(!a)return L.None;const l=i.getWordUntilPosition(v);return delete a[l.word],new class extends L{distance(c,u){if(!v.equals(C.getPosition()))return 0;if(u.kind===17)return 2<<20;let s=typeof u.label=="string"?u.label:u.label.label,n=a[s];if((0,b.isFalsyOrEmpty)(n))return 2<<20;let d=(0,b.binarySearch)(n,k.Range.fromPositions(c),k.Range.compareRangesUsingStarts),t=d>=0?n[d]:n[Math.max(0,~d-1)],o=r.length;for(const h of r){if(!k.Range.containsRange(h.range,t))break;o-=1}return o}}})}}e.WordDistance=L,L.None=new class extends L{distance(){return 0}}}),define(ee[236],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function b(c){return Array.isArray(c)}e.isFuzzyActionArr=b;function k(c){return!b(c)}e.isFuzzyAction=k;function T(c){return typeof c=="string"}e.isString=T;function L(c){return!T(c)}e.isIAction=L;function S(c){return!c}e.empty=S;function p(c,u){return c.ignoreCase&&u?u.toLowerCase():u}e.fixCase=p;function C(c){return c.replace(/[&<>'"_]/g,"-")}e.sanitize=C;function i(c,u){console.log(`${c.languageId}: ${u}`)}e.log=i;function v(c,u){return new Error(`${c.languageId}: ${u}`)}e.createError=v;function r(c,u,s,n,d){const t=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let o=null;return u.replace(t,function(h,m,y,w,g,f,_,D,N){return S(y)?S(w)?!S(g)&&g<n.length?p(c,n[g]):!S(_)&&c&&typeof c[_]=="string"?c[_]:(o===null&&(o=d.split("."),o.unshift(d)),!S(f)&&f<o.length?p(c,o[f]):""):p(c,s):"$"})}e.substituteMatches=r;function a(c,u){let s=u;for(;s&&s.length>0;){const n=c.tokenizer[s];if(n)return n;const d=s.lastIndexOf(".");d<0?s=null:s=s.substr(0,d)}return null}e.findRules=a;function l(c,u){let s=u;for(;s&&s.length>0;){if(c.stateNames[s])return!0;const d=s.lastIndexOf(".");d<0?s=null:s=s.substr(0,d)}return!1}e.stateExists=l}),define(ee[426],te([0,1,236]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function k(c,u){if(!u||!Array.isArray(u))return!1;for(const s of u)if(!c(s))return!1;return!0}function T(c,u){return typeof c=="boolean"?c:u}function L(c,u){return typeof c=="string"?c:u}function S(c){const u={};for(const s of c)u[s]=!0;return u}function p(c,u=!1){u&&(c=c.map(function(n){return n.toLowerCase()}));const s=S(c);return u?function(n){return s[n.toLowerCase()]!==void 0&&s.hasOwnProperty(n.toLowerCase())}:function(n){return s[n]!==void 0&&s.hasOwnProperty(n)}}function C(c,u){u=u.replace(/@@/g,"");let s=0,n;do n=!1,u=u.replace(/@(\w+)/g,function(t,o){n=!0;let h="";if(typeof c[o]=="string")h=c[o];else if(c[o]&&c[o]instanceof RegExp)h=c[o].source;else throw c[o]===void 0?b.createError(c,"language definition does not contain attribute '"+o+"', used at: "+u):b.createError(c,"attribute reference '"+o+"' must be a string, used at: "+u);return b.empty(h)?"":"(?:"+h+")"}),s++;while(n&&s<5);u=u.replace(/\x01/g,"@");let d=(c.ignoreCase?"i":"")+(c.unicode?"u":"");return new RegExp(u,d)}function i(c,u,s,n){if(n<0)return c;if(n<u.length)return u[n];if(n>=100){n=n-100;let d=s.split(".");if(d.unshift(s),n<d.length)return d[n]}return null}function v(c,u,s,n){let d=-1,t=s,o=s.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);o&&(o[3]&&(d=parseInt(o[3]),o[2]&&(d=d+100)),t=o[4]);let h="~",m=t;!t||t.length===0?(h="!=",m=""):/^\w*$/.test(m)?h="==":(o=t.match(/^(@|!@|~|!~|==|!=)(.*)$/),o&&(h=o[1],m=o[2]));let y;if((h==="~"||h==="!~")&&/^(\w|\|)*$/.test(m)){let w=p(m.split("|"),c.ignoreCase);y=function(g){return h==="~"?w(g):!w(g)}}else if(h==="@"||h==="!@"){let w=c[m];if(!w)throw b.createError(c,"the @ match target '"+m+"' is not defined, in rule: "+u);if(!k(function(f){return typeof f=="string"},w))throw b.createError(c,"the @ match target '"+m+"' must be an array of strings, in rule: "+u);let g=p(w,c.ignoreCase);y=function(f){return h==="@"?g(f):!g(f)}}else if(h==="~"||h==="!~")if(m.indexOf("$")<0){let w=C(c,"^"+m+"$");y=function(g){return h==="~"?w.test(g):!w.test(g)}}else y=function(w,g,f,_){return C(c,"^"+b.substituteMatches(c,m,g,f,_)+"$").test(w)};else if(m.indexOf("$")<0){let w=b.fixCase(c,m);y=function(g){return h==="=="?g===w:g!==w}}else{let w=b.fixCase(c,m);y=function(g,f,_,D,N){let I=b.substituteMatches(c,w,f,_,D);return h==="=="?g===I:g!==I}}return d===-1?{name:s,value:n,test:function(w,g,f,_){return y(w,w,g,f,_)}}:{name:s,value:n,test:function(w,g,f,_){let D=i(w,g,f,d);return y(D||"",w,g,f,_)}}}function r(c,u,s){if(s){if(typeof s=="string")return s;if(s.token||s.token===""){if(typeof s.token!="string")throw b.createError(c,"a 'token' attribute must be of type string, in rule: "+u);{let n={token:s.token};if(s.token.indexOf("$")>=0&&(n.tokenSubst=!0),typeof s.bracket=="string")if(s.bracket==="@open")n.bracket=1;else if(s.bracket==="@close")n.bracket=-1;else throw b.createError(c,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+u);if(s.next){if(typeof s.next!="string")throw b.createError(c,"the next state must be a string value in rule: "+u);{let d=s.next;if(!/^(@pop|@push|@popall)$/.test(d)&&(d[0]==="@"&&(d=d.substr(1)),d.indexOf("$")<0&&!b.stateExists(c,b.substituteMatches(c,d,"",[],""))))throw b.createError(c,"the next state '"+s.next+"' is not defined in rule: "+u);n.next=d}}return typeof s.goBack=="number"&&(n.goBack=s.goBack),typeof s.switchTo=="string"&&(n.switchTo=s.switchTo),typeof s.log=="string"&&(n.log=s.log),typeof s.nextEmbedded=="string"&&(n.nextEmbedded=s.nextEmbedded,c.usesEmbedded=!0),n}}else if(Array.isArray(s)){let n=[];for(let d=0,t=s.length;d<t;d++)n[d]=r(c,u,s[d]);return{group:n}}else if(s.cases){let n=[];for(let t in s.cases)if(s.cases.hasOwnProperty(t)){const o=r(c,u,s.cases[t]);t==="@default"||t==="@"||t===""?n.push({test:void 0,value:o,name:t}):t==="@eos"?n.push({test:function(h,m,y,w){return w},value:o,name:t}):n.push(v(c,u,t,o))}const d=c.defaultToken;return{test:function(t,o,h,m){for(const y of n)if(!y.test||y.test(t,o,h,m))return y.value;return d}}}else throw b.createError(c,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+u)}else return{token:""}}class a{constructor(u){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=u}setRegex(u,s){let n;if(typeof s=="string")n=s;else if(s instanceof RegExp)n=s.source;else throw b.createError(u,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=n.length>0&&n[0]==="^",this.name=this.name+": "+n,this.regex=C(u,"^(?:"+(this.matchOnlyAtLineStart?n.substr(1):n)+")")}setAction(u,s){this.action=r(u,this.name,s)}}function l(c,u){if(!u||typeof u!="object")throw new Error("Monarch: expecting a language definition object");let s={};s.languageId=c,s.includeLF=T(u.includeLF,!1),s.noThrow=!1,s.maxStack=100,s.start=typeof u.start=="string"?u.start:null,s.ignoreCase=T(u.ignoreCase,!1),s.unicode=T(u.unicode,!1),s.tokenPostfix=L(u.tokenPostfix,"."+s.languageId),s.defaultToken=L(u.defaultToken,"source"),s.usesEmbedded=!1;let n=u;n.languageId=c,n.includeLF=s.includeLF,n.ignoreCase=s.ignoreCase,n.unicode=s.unicode,n.noThrow=s.noThrow,n.usesEmbedded=s.usesEmbedded,n.stateNames=u.tokenizer,n.defaultToken=s.defaultToken;function d(o,h,m){for(const y of m){let w=y.include;if(w){if(typeof w!="string")throw b.createError(s,"an 'include' attribute must be a string at: "+o);if(w[0]==="@"&&(w=w.substr(1)),!u.tokenizer[w])throw b.createError(s,"include target '"+w+"' is not defined at: "+o);d(o+"."+w,h,u.tokenizer[w])}else{const g=new a(o);if(Array.isArray(y)&&y.length>=1&&y.length<=3)if(g.setRegex(n,y[0]),y.length>=3)if(typeof y[1]=="string")g.setAction(n,{token:y[1],next:y[2]});else if(typeof y[1]=="object"){const f=y[1];f.next=y[2],g.setAction(n,f)}else throw b.createError(s,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+o);else g.setAction(n,y[1]);else{if(!y.regex)throw b.createError(s,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+o);y.name&&typeof y.name=="string"&&(g.name=y.name),y.matchOnlyAtStart&&(g.matchOnlyAtLineStart=T(y.matchOnlyAtLineStart,!1)),g.setRegex(n,y.regex),g.setAction(n,y.action)}h.push(g)}}}if(!u.tokenizer||typeof u.tokenizer!="object")throw b.createError(s,"a language definition must define the 'tokenizer' attribute as an object");s.tokenizer=[];for(let o in u.tokenizer)if(u.tokenizer.hasOwnProperty(o)){s.start||(s.start=o);const h=u.tokenizer[o];s.tokenizer[o]=new Array,d("tokenizer."+o,s.tokenizer[o],h)}if(s.usesEmbedded=n.usesEmbedded,u.brackets){if(!Array.isArray(u.brackets))throw b.createError(s,"the 'brackets' attribute must be defined as an array")}else u.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let t=[];for(let o of u.brackets){let h=o;if(h&&Array.isArray(h)&&h.length===3&&(h={token:h[2],open:h[0],close:h[1]}),h.open===h.close)throw b.createError(s,"open and close brackets in a 'brackets' attribute must be different: "+h.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof h.open=="string"&&typeof h.token=="string"&&typeof h.close=="string")t.push({token:h.token+s.tokenPostfix,open:b.fixCase(s,h.open),close:b.fixCase(s,h.close)});else throw b.createError(s,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return s.brackets=t,s.noThrow=!0,s}e.compile=l}),define(ee[427],te([4,5]),function(G,e){return G.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(ee[428],te([4,5]),function(G,e){return G.create("vs/base/browser/ui/findinput/findInput",e)}),define(ee[429],te([4,5]),function(G,e){return G.create("vs/base/browser/ui/findinput/findInputCheckboxes",e)}),define(ee[237],te([0,1,165,429,27]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexCheckbox=e.WholeWordsCheckbox=e.CaseSensitiveCheckbox=void 0;const L=k.localize(0,null),S=k.localize(1,null),p=k.localize(2,null);class C extends b.Checkbox{constructor(a){super({icon:T.Codicon.caseSensitive,title:L+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}e.CaseSensitiveCheckbox=C;class i extends b.Checkbox{constructor(a){super({icon:T.Codicon.wholeWord,title:S+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}e.WholeWordsCheckbox=i;class v extends b.Checkbox{constructor(a){super({icon:T.Codicon.regex,title:p+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}e.RegexCheckbox=v}),define(ee[430],te([4,5]),function(G,e){return G.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(ee[431],te([4,5]),function(G,e){return G.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(ee[432],te([0,1,20,7,23,2,431,15]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function C(r,a){(0,b.isString)(a)?r.title=a:(a==null?void 0:a.markdownNotSupportedFallback)?r.title=a.markdownNotSupportedFallback:r.removeAttribute("title")}e.setupNativeHover=C;function i(r,a,l){if(!l)return;const c=v(l);let u,s;const n=t=>{if(u)return;const o=new T.CancellationTokenSource,h=D=>{const N=D.type===k.EventType.MOUSE_DOWN;N&&(s==null||s.dispose(),s=void 0),(N||D.fromElement===a)&&(u==null||u.dispose(),u=void 0)},m=k.addDisposableListener(a,k.EventType.MOUSE_LEAVE,h,!0),y=k.addDisposableListener(a,k.EventType.MOUSE_DOWN,h,!0),w={targetElements:[a],dispose:()=>{}};let g;if(r.placement===void 0||r.placement==="mouse"){const D=N=>w.x=N.x+10;g=k.addDisposableListener(a,k.EventType.MOUSE_MOVE,D,!0)}const f=()=>Ie(this,void 0,void 0,function*(){var D;if(u){const N={text:(0,S.localize)(0,null),target:w,hoverPosition:2};s==null||s.dispose(),s=r.showHover(N);const I=(D=yield c(o.token))!==null&&D!==void 0?D:(0,b.isString)(l)?void 0:l.markdownNotSupportedFallback;if(s==null||s.dispose(),s=void 0,I&&u){const M={text:I,target:w,showPointer:r.placement==="element",hoverPosition:2};s=r.showHover(M)}}g==null||g.dispose()}),_=new p.RunOnceScheduler(f,r.delay);_.schedule(),u=(0,L.toDisposable)(()=>{_.dispose(),g==null||g.dispose(),y.dispose(),m.dispose(),o.dispose(!0)})},d=k.addDisposableListener(a,k.EventType.MOUSE_OVER,n,!0);return(0,L.toDisposable)(()=>{d.dispose(),u==null||u.dispose(),s==null||s.dispose()})}e.setupCustomHover=i;function v(r){if((0,b.isString)(r))return()=>Ie(this,void 0,void 0,function*(){return r});if((0,b.isFunction)(r.markdown))return r.markdown;{const a=r.markdown;return()=>Ie(this,void 0,void 0,function*(){return a})}}}),define(ee[179],te([0,1,7,161,2,126,42,432,311]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class C{constructor(c){this._element=c}get element(){return this._element}set textContent(c){this.disposed||c===this._textContent||(this._textContent=c,this._element.textContent=c)}set className(c){this.disposed||c===this._className||(this._className=c,this._element.className=c)}set empty(c){this.disposed||c===this._empty||(this._empty=c,this._element.style.marginLeft=c?"0":"")}dispose(){this.disposed=!0}}class i extends T.Disposable{constructor(c,u){super();this.customHovers=new Map,this.domNode=this._register(new C(b.append(c,b.$(".monaco-icon-label")))),this.labelContainer=b.append(this.domNode.element,b.$(".monaco-icon-label-container"));const s=b.append(this.labelContainer,b.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new C(b.append(this.labelContainer,b.$("span.monaco-icon-description-container")))),(u==null?void 0:u.supportHighlights)||(u==null?void 0:u.supportIcons)?this.nameNode=new a(s,!!u.supportIcons):this.nameNode=new v(s),(u==null?void 0:u.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new k.HighlightedLabel(b.append(this.descriptionContainer.element,b.$("span.label-description")),!!u.supportIcons):this.descriptionNodeFactory=()=>this._register(new C(b.append(this.descriptionContainer.element,b.$("span.label-description")))),this.hoverDelegate=u==null?void 0:u.hoverDelegate}setLabel(c,u,s){const n=["monaco-icon-label"];s&&(s.extraClasses&&n.push(...s.extraClasses),s.italic&&n.push("italic"),s.strikethrough&&n.push("strikethrough")),this.domNode.className=n.join(" "),this.setupHover(this.labelContainer,s==null?void 0:s.title),this.nameNode.setLabel(c,s),(u||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof k.HighlightedLabel?(this.descriptionNode.set(u||"",s?s.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,s==null?void 0:s.descriptionTitle)):(this.descriptionNode.textContent=u||"",this.setupHover(this.descriptionNode.element,(s==null?void 0:s.descriptionTitle)||""),this.descriptionNode.empty=!u))}setupHover(c,u){const s=this.customHovers.get(c);if(s&&(s.dispose(),this.customHovers.delete(c)),!u){c.removeAttribute("title");return}if(!this.hoverDelegate)(0,p.setupNativeHover)(c,u);else{const n=(0,p.setupCustomHover)(this.hoverDelegate,c,u);n&&this.customHovers.set(c,n)}}dispose(){super.dispose();for(const c of this.customHovers.values())c.dispose();this.customHovers.clear()}}e.IconLabel=i;class v{constructor(c){this.container=c,this.label=void 0,this.singleLabel=void 0}setLabel(c,u){if(!(this.label===c&&(0,S.equals)(this.options,u)))if(this.label=c,this.options=u,typeof c=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=b.append(this.container,b.$("a.label-name",{id:u==null?void 0:u.domId}))),this.singleLabel.textContent=c;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let s=0;s<c.length;s++){const n=c[s],d=(u==null?void 0:u.domId)&&`${u==null?void 0:u.domId}_${s}`;b.append(this.container,b.$("a.label-name",{id:d,"data-icon-label-count":c.length,"data-icon-label-index":s,role:"treeitem"},n)),s<c.length-1&&b.append(this.container,b.$("span.label-separator",void 0,(u==null?void 0:u.separator)||"/"))}}}}function r(l,c,u){if(!u)return;let s=0;return l.map(n=>{const d={start:s,end:s+n.length},t=u.map(o=>L.Range.intersect(d,o)).filter(o=>!L.Range.isEmpty(o)).map(({start:o,end:h})=>({start:o-s,end:h-s}));return s=d.end+c.length,t})}class a{constructor(c,u){this.container=c,this.supportIcons=u,this.label=void 0,this.singleLabel=void 0}setLabel(c,u){if(!(this.label===c&&(0,S.equals)(this.options,u)))if(this.label=c,this.options=u,typeof c=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new k.HighlightedLabel(b.append(this.container,b.$("a.label-name",{id:u==null?void 0:u.domId})),this.supportIcons)),this.singleLabel.set(c,u==null?void 0:u.matches,void 0,u==null?void 0:u.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const s=(u==null?void 0:u.separator)||"/",n=r(c,s,u==null?void 0:u.matches);for(let d=0;d<c.length;d++){const t=c[d],o=n?n[d]:void 0,h=(u==null?void 0:u.domId)&&`${u==null?void 0:u.domId}_${d}`,m=b.$("a.label-name",{id:h,"data-icon-label-count":c.length,"data-icon-label-index":d,role:"treeitem"});new k.HighlightedLabel(b.append(this.container,m),this.supportIcons).set(t,o,void 0,u==null?void 0:u.labelEscapeNewLines),d<c.length-1&&b.append(m,b.$("span.label-separator",void 0,s))}}}}}),define(ee[433],te([4,5]),function(G,e){return G.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(ee[434],te([4,5]),function(G,e){return G.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(ee[435],te([4,5]),function(G,e){return G.create("vs/base/browser/ui/menu/menu",e)}),define(ee[436],te([4,5]),function(G,e){return G.create("vs/base/browser/ui/tree/abstractTree",e)}),define(ee[180],te([0,1,2,108,7,6,51,101,164,19,166,91,67,158,436,15,17,102,199,200,324]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class o extends v.ElementsDragAndDropData{constructor(E){super(E.elements.map(W=>W.element));this.data=E}}function h(F){return F instanceof v.ElementsDragAndDropData?new o(F):F}class m{constructor(E,W){this.modelProvider=E,this.dnd=W,this.autoExpandDisposable=b.Disposable.None}getDragURI(E){return this.dnd.getDragURI(E.element)}getDragLabel(E,W){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(E.map(V=>V.element),W)}onDragStart(E,W){this.dnd.onDragStart&&this.dnd.onDragStart(h(E),W)}onDragOver(E,W,V,$,Z=!0){const X=this.dnd.onDragOver(h(E),W&&W.element,V,$),J=this.autoExpandNode!==W;if(J&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=W),typeof W=="undefined")return X;if(J&&typeof X!="boolean"&&X.autoExpand&&(this.autoExpandDisposable=(0,u.disposableTimeout)(()=>{const B=this.modelProvider(),j=B.getNodeLocation(W);B.isCollapsed(j)&&B.setCollapsed(j,!1),this.autoExpandNode=void 0},500)),typeof X=="boolean"||!X.accept||typeof X.bubble=="undefined"||X.feedback){if(!Z){const B=typeof X=="boolean"?X:X.accept,j=typeof X=="boolean"?void 0:X.effect;return{accept:B,effect:j,feedback:[V]}}return X}if(X.bubble===1){const B=this.modelProvider(),j=B.getNodeLocation(W),H=B.getParentNodeLocation(j),z=B.getNode(H),Q=H&&B.getListIndex(H);return this.onDragOver(E,z,Q,$,!1)}const ie=this.modelProvider(),de=ie.getNodeLocation(W),ue=ie.getListIndex(de),q=ie.getListRenderCount(de);return Object.assign(Object.assign({},X),{feedback:(0,i.range)(ue,ue+q)})}drop(E,W,V,$){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(h(E),W&&W.element,V,$)}onDragEnd(E){this.dnd.onDragEnd&&this.dnd.onDragEnd(E)}}function y(F,E){return E&&Object.assign(Object.assign({},E),{identityProvider:E.identityProvider&&{getId(W){return E.identityProvider.getId(W.element)}},dnd:E.dnd&&new m(F,E.dnd),multipleSelectionController:E.multipleSelectionController&&{isSelectionSingleChangeEvent(W){return E.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},W),{element:W.element}))},isSelectionRangeChangeEvent(W){return E.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},W),{element:W.element}))}},accessibilityProvider:E.accessibilityProvider&&Object.assign(Object.assign({},E.accessibilityProvider),{getSetSize(W){const V=F(),$=V.getNodeLocation(W),Z=V.getParentNodeLocation($);return V.getNode(Z).visibleChildrenCount},getPosInSet(W){return W.visibleChildIndex+1},isChecked:E.accessibilityProvider&&E.accessibilityProvider.isChecked?W=>E.accessibilityProvider.isChecked(W.element):void 0,getRole:E.accessibilityProvider&&E.accessibilityProvider.getRole?W=>E.accessibilityProvider.getRole(W.element):()=>"treeitem",getAriaLabel(W){return E.accessibilityProvider.getAriaLabel(W.element)},getWidgetAriaLabel(){return E.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:E.accessibilityProvider&&E.accessibilityProvider.getWidgetRole?()=>E.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:E.accessibilityProvider&&E.accessibilityProvider.getAriaLevel?W=>E.accessibilityProvider.getAriaLevel(W.element):W=>W.depth,getActiveDescendantId:E.accessibilityProvider.getActiveDescendantId&&(W=>E.accessibilityProvider.getActiveDescendantId(W.element))}),keyboardNavigationLabelProvider:E.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},E.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(W){return E.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(W.element)}}),enableKeyboardNavigation:E.simpleKeyboardNavigation})}class w{constructor(E){this.delegate=E}getHeight(E){return this.delegate.getHeight(E.element)}getTemplateId(E){return this.delegate.getTemplateId(E.element)}hasDynamicHeight(E){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(E.element)}setDynamicHeight(E,W){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(E.element,W)}}e.ComposedTreeDelegate=w;var g;(function(F){F.None="none",F.OnHover="onHover",F.Always="always"})(g=e.RenderIndentGuides||(e.RenderIndentGuides={}));class f{constructor(E,W=[]){this._elements=W,this.onDidChange=L.Event.forEach(E,V=>this._elements=V)}get elements(){return this._elements}}class _{constructor(E,W,V,$,Z={}){this.renderer=E,this.modelProvider=W,this.activeNodes=$,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=_.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new d.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=b.Disposable.None,this.disposables=new b.DisposableStore,this.templateId=E.templateId,this.updateOptions(Z),L.Event.map(V,X=>X.node)(this.onDidChangeNodeTwistieState,this,this.disposables),E.onDidChangeTwistieState&&E.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(E={}){if(typeof E.indent!="undefined"&&(this.indent=(0,n.clamp)(E.indent,0,40)),typeof E.renderIndentGuides!="undefined"){const W=E.renderIndentGuides!==g.None;if(W!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=W,this.indentGuidesDisposable.dispose(),W)){const V=new b.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,V),this.indentGuidesDisposable=V,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof E.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=E.hideTwistiesOfChildlessElements)}renderTemplate(E){const W=(0,T.append)(E,(0,T.$)(".monaco-tl-row")),V=(0,T.append)(W,(0,T.$)(".monaco-tl-indent")),$=(0,T.append)(W,(0,T.$)(".monaco-tl-twistie")),Z=(0,T.append)(W,(0,T.$)(".monaco-tl-contents")),X=this.renderer.renderTemplate(Z);return{container:E,indent:V,twistie:$,indentGuidesDisposable:b.Disposable.None,templateData:X}}renderElement(E,W,V,$){typeof $=="number"&&(this.renderedNodes.set(E,{templateData:V,height:$}),this.renderedElements.set(E.element,E));const Z=_.DefaultIndent+(E.depth-1)*this.indent;V.twistie.style.paddingLeft=`${Z}px`,V.indent.style.width=`${Z+this.indent-16}px`,this.renderTwistie(E,V),typeof $=="number"&&this.renderIndentGuides(E,V),this.renderer.renderElement(E,W,V.templateData,$)}disposeElement(E,W,V,$){V.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(E,W,V.templateData,$),typeof $=="number"&&(this.renderedNodes.delete(E),this.renderedElements.delete(E.element))}disposeTemplate(E){this.renderer.disposeTemplate(E.templateData)}onDidChangeTwistieState(E){const W=this.renderedElements.get(E);!W||this.onDidChangeNodeTwistieState(W)}onDidChangeNodeTwistieState(E){const W=this.renderedNodes.get(E);!W||(this.renderTwistie(E,W.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(E,W.templateData))}renderTwistie(E,W){W.twistie.classList.remove(...t.treeItemExpandedIcon.classNamesArray);let V=!1;this.renderer.renderTwistie&&(V=this.renderer.renderTwistie(E.element,W.twistie)),E.collapsible&&(!this.hideTwistiesOfChildlessElements||E.visibleChildrenCount>0)?(V||W.twistie.classList.add(...t.treeItemExpandedIcon.classNamesArray),W.twistie.classList.add("collapsible"),W.twistie.classList.toggle("collapsed",E.collapsed)):W.twistie.classList.remove("collapsible","collapsed"),E.collapsible?W.container.setAttribute("aria-expanded",String(!E.collapsed)):W.container.removeAttribute("aria-expanded")}renderIndentGuides(E,W){if((0,T.clearNode)(W.indent),W.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const V=new b.DisposableStore,$=this.modelProvider();let Z=E;for(;;){const X=$.getNodeLocation(Z),J=$.getParentNodeLocation(X);if(!J)break;const ie=$.getNode(J),de=(0,T.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(ie)&&de.classList.add("active"),W.indent.childElementCount===0?W.indent.appendChild(de):W.indent.insertBefore(de,W.indent.firstElementChild),this.renderedIndentGuides.add(ie,de),V.add((0,b.toDisposable)(()=>this.renderedIndentGuides.delete(ie,de))),Z=ie}W.indentGuidesDisposable=V}_onDidChangeActiveNodes(E){if(!this.shouldRenderIndentGuides)return;const W=new Set,V=this.modelProvider();E.forEach($=>{const Z=V.getNodeLocation($);try{const X=V.getParentNodeLocation(Z);$.collapsible&&$.children.length>0&&!$.collapsed?W.add($):X&&W.add(V.getNode(X))}catch(X){}}),this.activeIndentNodes.forEach($=>{W.has($)||this.renderedIndentGuides.forEach($,Z=>Z.classList.remove("active"))}),W.forEach($=>{this.activeIndentNodes.has($)||this.renderedIndentGuides.forEach($,Z=>Z.classList.add("active"))}),this.activeIndentNodes=W}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,b.dispose)(this.disposables)}}_.DefaultIndent=8;class D{constructor(E,W,V){this.tree=E,this.keyboardNavigationLabelProvider=W,this._filter=V,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new b.DisposableStore,E.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(E){this._pattern=E,this._lowercasePattern=E.toLowerCase()}filter(E,W){if(this._filter){const Z=this._filter.filter(E,W);if(this.tree.options.simpleKeyboardNavigation)return Z;let X;if(typeof Z=="boolean"?X=Z?1:0:(0,l.isFilterResult)(Z)?X=(0,l.getVisibleState)(Z.visibility):X=Z,X===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:a.FuzzyScore.Default,visibility:!0};const V=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(E),$=Array.isArray(V)?V:[V];for(const Z of $){const X=Z&&Z.toString();if(typeof X=="undefined")return{data:a.FuzzyScore.Default,visibility:!0};const J=(0,a.fuzzyScore)(this._pattern,this._lowercasePattern,0,X,X.toLowerCase(),0,!0);if(J)return this._matchCount++,$.length===1?{data:J,visibility:!0}:{data:{label:X,score:J},visibility:!0}}return this.tree.options.filterOnType?2:{data:a.FuzzyScore.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,b.dispose)(this.disposables)}}class N{constructor(E,W,V,$,Z){this.tree=E,this.view=V,this.filter=$,this.keyboardNavigationDelegate=Z,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new L.Emitter,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new L.Emitter,this.enabledDisposables=new b.DisposableStore,this.disposables=new b.DisposableStore,this.domNode=(0,T.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,T.addDisposableListener)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,T.append)(V.getHTMLElement(),(0,T.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,T.append)(this.domNode,(0,T.$)("span.label"));const X=(0,T.append)(this.domNode,(0,T.$)(".controls"));this._filterOnType=!!E.options.filterOnType,this.filterOnTypeDomNode=(0,T.append)(X,(0,T.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,T.addDisposableListener)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,T.append)(X,(0,T.$)("button.clear"+t.treeFilterClearIcon.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,c.localize)(0,null),this.keyboardNavigationEventFilter=E.options.keyboardNavigationEventFilter,W.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(E.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(E){E.simpleKeyboardNavigation?this.disable():this.enable(),typeof E.filterOnType!="undefined"&&(this._filterOnType=!!E.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof E.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=E.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const E=this.enabledDisposables.add(new r.DomEmitter(this.view.getHTMLElement(),"keydown")),W=L.Event.chain(E.event).filter($=>!(0,k.isInputElement)($.target)||$.target===this.filterOnTypeDomNode).filter($=>$.key!=="Dead"&&!/^Media/.test($.key)).map($=>new S.StandardKeyboardEvent($)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter($=>this.keyboardNavigationDelegate.mightProducePrintableCharacter($)&&!($.keyCode===18||$.keyCode===16||$.keyCode===15||$.keyCode===17)||(this.pattern.length>0||this.triggered)&&($.keyCode===9||$.keyCode===1)&&!$.altKey&&!$.ctrlKey&&!$.metaKey||$.keyCode===1&&(s.isMacintosh?$.altKey&&!$.metaKey:$.ctrlKey)&&!$.shiftKey).forEach($=>{$.stopPropagation(),$.preventDefault()}).event,V=this.enabledDisposables.add(new r.DomEmitter(this.clearDomNode,"click"));L.Event.chain(L.Event.any(W,V.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(E){typeof E=="string"?this.onInput(E):E instanceof MouseEvent||E.keyCode===9||E.keyCode===1&&(s.isMacintosh?E.altKey:E.ctrlKey)?this.onInput(""):E.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+E.browserEvent.key)}onInput(E){const W=this.view.getHTMLElement();E&&!this.domNode.parentElement?W.append(this.domNode):!E&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=E,this._onDidChangePattern.fire(E),this.filter.pattern=E,this.tree.refilter(),E&&this.tree.focusNext(0,!0,void 0,$=>!a.FuzzyScore.isDefault($.filterData));const V=this.tree.getFocus();if(V.length>0){const $=V[0];this.tree.getRelativeTop($)===null&&this.tree.reveal($,.5)}this.render(),E||(this.triggered=!1)}onDragStart(){const E=this.view.getHTMLElement(),{left:W}=(0,T.getDomNodePagePosition)(E),V=E.clientWidth,$=V/2,Z=this.domNode.clientWidth,X=new b.DisposableStore;let J=this.positionClassName;const ie=()=>{switch(J){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${V-Z-6}px`;break}},de=q=>{q.preventDefault();const B=q.clientX-W;q.dataTransfer&&(q.dataTransfer.dropEffect="none"),B<$?J="nw":J="ne",ie()},ue=()=>{this.positionClassName=J,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,b.dispose)(X)};ie(),this.domNode.classList.remove(J),this.domNode.classList.add("dragging"),X.add((0,b.toDisposable)(()=>this.domNode.classList.remove("dragging"))),X.add((0,T.addDisposableListener)(document,"dragover",q=>de(q))),X.add((0,T.addDisposableListener)(this.domNode,"dragend",()=>ue())),C.StaticDND.CurrentDragAndDropData=new C.DragAndDropData("vscode-ui"),X.add((0,b.toDisposable)(()=>C.StaticDND.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...t.treeFilterOnTypeOffIcon.classNamesArray),this.filterOnTypeDomNode.classList.add(...t.treeFilterOnTypeOnIcon.classNamesArray),this.filterOnTypeDomNode.title=(0,c.localize)(1,null)):(this.filterOnTypeDomNode.classList.remove(...t.treeFilterOnTypeOnIcon.classNamesArray),this.filterOnTypeDomNode.classList.add(...t.treeFilterOnTypeOffIcon.classNamesArray),this.filterOnTypeDomNode.title=(0,c.localize)(2,null))}render(){const E=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&E?(this.messageDomNode.textContent=(0,c.localize)(3,null),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",E),this.domNode.title=(0,c.localize)(4,null,this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(E){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!a.FuzzyScore.isDefault(E.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,b.dispose)(this.disposables)}}function I(F){let E=p.TreeMouseEventTarget.Unknown;return(0,T.hasParentWithClass)(F.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?E=p.TreeMouseEventTarget.Twistie:(0,T.hasParentWithClass)(F.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(E=p.TreeMouseEventTarget.Element),{browserEvent:F.browserEvent,element:F.element?F.element.element:null,target:E}}function M(F,E){E(F),F.children.forEach(W=>M(W,E))}class O{constructor(E,W){this.getFirstViewElementWithTrait=E,this.identityProvider=W,this.nodes=[],this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(E,W){var V;!((V=W)===null||V===void 0?void 0:V.__forceEvent)&&(0,i.equals)(this.nodes,E)||this._set(E,!1,W)}_set(E,W,V){if(this.nodes=[...E],this.elements=void 0,this._nodeSet=void 0,!W){const $=this;this._onDidChange.fire({get elements(){return $.get()},browserEvent:V})}}get(){return this.elements||(this.elements=this.nodes.map(E=>E.element)),[...this.elements]}getNodes(){return this.nodes}has(E){return this.nodeSet.has(E)}onDidModelSplice({insertedNodes:E,deletedNodes:W}){if(!this.identityProvider){const ie=this.createNodeSet(),de=ue=>ie.delete(ue);W.forEach(ue=>M(ue,de)),this.set([...ie.values()]);return}const V=new Set,$=ie=>V.add(this.identityProvider.getId(ie.element).toString());W.forEach(ie=>M(ie,$));const Z=new Map,X=ie=>Z.set(this.identityProvider.getId(ie.element).toString(),ie);E.forEach(ie=>M(ie,X));const J=[];for(const ie of this.nodes){const de=this.identityProvider.getId(ie.element).toString();if(!V.has(de))J.push(ie);else{const q=Z.get(de);q&&J.push(q)}}if(this.nodes.length>0&&J.length===0){const ie=this.getFirstViewElementWithTrait();ie&&J.push(ie)}this._set(J,!0)}createNodeSet(){const E=new Set;for(const W of this.nodes)E.add(W);return E}}class R extends k.MouseController{constructor(E,W){super(E);this.tree=W}onViewPointer(E){if((0,k.isInputElement)(E.browserEvent.target)||(0,k.isMonacoEditor)(E.browserEvent.target))return;const W=E.element;if(!W)return super.onViewPointer(E);if(this.isSelectionRangeChangeEvent(E)||this.isSelectionSingleChangeEvent(E))return super.onViewPointer(E);const V=E.browserEvent.target,$=V.classList.contains("monaco-tl-twistie")||V.classList.contains("monaco-icon-label")&&V.classList.contains("folder-icon")&&E.browserEvent.offsetX<16;let Z=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?Z=this.tree.expandOnlyOnTwistieClick(W.element):Z=!!this.tree.expandOnlyOnTwistieClick,Z&&!$&&E.browserEvent.detail!==2)return super.onViewPointer(E);if(!this.tree.expandOnDoubleClick&&E.browserEvent.detail===2)return super.onViewPointer(E);if(W.collapsible){const X=this.tree.model,J=X.getNodeLocation(W),ie=E.browserEvent.altKey;if(this.tree.setFocus([J]),X.setCollapsed(J,void 0,ie),Z&&$)return}super.onViewPointer(E)}onDoubleClick(E){E.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(E)}}class P extends k.List{constructor(E,W,V,$,Z,X,J,ie){super(E,W,V,$,ie);this.focusTrait=Z,this.selectionTrait=X,this.anchorTrait=J}createMouseController(E){return new R(this,E.tree)}splice(E,W,V=[]){if(super.splice(E,W,V),V.length===0)return;const $=[],Z=[];let X;V.forEach((J,ie)=>{this.focusTrait.has(J)&&$.push(E+ie),this.selectionTrait.has(J)&&Z.push(E+ie),this.anchorTrait.has(J)&&(X=E+ie)}),$.length>0&&super.setFocus((0,i.distinctES6)([...super.getFocus(),...$])),Z.length>0&&super.setSelection((0,i.distinctES6)([...super.getSelection(),...Z])),typeof X=="number"&&super.setAnchor(X)}setFocus(E,W,V=!1){super.setFocus(E,W),V||this.focusTrait.set(E.map($=>this.element($)),W)}setSelection(E,W,V=!1){super.setSelection(E,W),V||this.selectionTrait.set(E.map($=>this.element($)),W)}setAnchor(E,W=!1){super.setAnchor(E),W||(typeof E=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(E)]))}}class A{constructor(E,W,V,$,Z={}){this._options=Z,this.eventBufferer=new L.EventBufferer,this.disposables=new b.DisposableStore,this._onWillRefilter=new L.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new L.Emitter;const X=new w(V),J=new L.Relay,ie=new L.Relay,de=new f(ie.event);this.renderers=$.map(B=>new _(B,()=>this.model,J.event,de,Z));for(let B of this.renderers)this.disposables.add(B);let ue;Z.keyboardNavigationLabelProvider&&(ue=new D(this,Z.keyboardNavigationLabelProvider,Z.filter),Z=Object.assign(Object.assign({},Z),{filter:ue}),this.disposables.add(ue)),this.focus=new O(()=>this.view.getFocusedElements()[0],Z.identityProvider),this.selection=new O(()=>this.view.getSelectedElements()[0],Z.identityProvider),this.anchor=new O(()=>this.view.getAnchorElement(),Z.identityProvider),this.view=new P(E,W,X,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},y(()=>this.model,Z)),{tree:this})),this.model=this.createModel(E,this.view,Z),J.input=this.model.onDidChangeCollapseState;const q=L.Event.forEach(this.model.onDidSplice,B=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(B),this.selection.onDidModelSplice(B)})});if(q(()=>null,null,this.disposables),ie.input=L.Event.chain(L.Event.any(q,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const B=new Set;for(const j of this.focus.getNodes())B.add(j);for(const j of this.selection.getNodes())B.add(j);return[...B.values()]}).event,Z.keyboardSupport!==!1){const B=L.Event.chain(this.view.onKeyDown).filter(j=>!(0,k.isInputElement)(j.target)).map(j=>new S.StandardKeyboardEvent(j));B.filter(j=>j.keyCode===15).on(this.onLeftArrow,this,this.disposables),B.filter(j=>j.keyCode===17).on(this.onRightArrow,this,this.disposables),B.filter(j=>j.keyCode===10).on(this.onSpace,this,this.disposables)}if(Z.keyboardNavigationLabelProvider){const B=Z.keyboardNavigationDelegate||k.DefaultKeyboardNavigationDelegate;this.typeFilterController=new N(this,this.model,this.view,ue,B),this.focusNavigationFilter=j=>this.typeFilterController.shouldAllowFocus(j),this.disposables.add(this.typeFilterController)}this.styleElement=(0,T.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===g.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return L.Event.map(this.view.onMouseDblClick,I)}get onPointer(){return L.Event.map(this.view.onPointer,I)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(E={}){this._options=Object.assign(Object.assign({},this._options),E);for(const W of this.renderers)W.updateOptions(E);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===g.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(E){this.view.scrollTop=E}domFocus(){this.view.domFocus()}layout(E,W){this.view.layout(E,W)}style(E){const W=`.${this.view.domId}`,V=[];E.treeIndentGuidesStroke&&(V.push(`.monaco-list${W}:hover .monaco-tl-indent > .indent-guide, .monaco-list${W}.always .monaco-tl-indent > .indent-guide  { border-color: ${E.treeIndentGuidesStroke.transparent(.4)}; }`),V.push(`.monaco-list${W} .monaco-tl-indent > .indent-guide.active { border-color: ${E.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=V.join(`
`),this.view.style(E)}collapse(E,W=!1){return this.model.setCollapsed(E,!0,W)}expand(E,W=!1){return this.model.setCollapsed(E,!1,W)}isCollapsible(E){return this.model.isCollapsible(E)}setCollapsible(E,W){return this.model.setCollapsible(E,W)}isCollapsed(E){return this.model.isCollapsed(E)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(E,W){const V=E.map(Z=>this.model.getNode(Z));this.selection.set(V,W);const $=E.map(Z=>this.model.getListIndex(Z)).filter(Z=>Z>-1);this.view.setSelection($,W,!0)}getSelection(){return this.selection.get()}setFocus(E,W){const V=E.map(Z=>this.model.getNode(Z));this.focus.set(V,W);const $=E.map(Z=>this.model.getListIndex(Z)).filter(Z=>Z>-1);this.view.setFocus($,W,!0)}focusNext(E=1,W=!1,V,$=this.focusNavigationFilter){this.view.focusNext(E,W,V,$)}getFocus(){return this.focus.get()}reveal(E,W){this.model.expandTo(E);const V=this.model.getListIndex(E);V!==-1&&this.view.reveal(V,W)}getRelativeTop(E){const W=this.model.getListIndex(E);return W===-1?null:this.view.getRelativeTop(W)}onLeftArrow(E){E.preventDefault(),E.stopPropagation();const W=this.view.getFocusedElements();if(W.length===0)return;const V=W[0],$=this.model.getNodeLocation(V);if(!this.model.setCollapsed($,!0)){const X=this.model.getParentNodeLocation($);if(!X)return;const J=this.model.getListIndex(X);this.view.reveal(J),this.view.setFocus([J])}}onRightArrow(E){E.preventDefault(),E.stopPropagation();const W=this.view.getFocusedElements();if(W.length===0)return;const V=W[0],$=this.model.getNodeLocation(V);if(!this.model.setCollapsed($,!1)){if(!V.children.some(ie=>ie.visible))return;const[X]=this.view.getFocus(),J=X+1;this.view.reveal(J),this.view.setFocus([J])}}onSpace(E){E.preventDefault(),E.stopPropagation();const W=this.view.getFocusedElements();if(W.length===0)return;const V=W[0],$=this.model.getNodeLocation(V),Z=E.browserEvent.altKey;this.model.setCollapsed($,void 0,Z)}dispose(){(0,b.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=A}),define(ee[437],te([0,1,180,159]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class T extends b.AbstractTree{constructor(S,p,C,i,v,r={}){super(S,p,C,i,r);this.user=S,this.dataSource=v,this.identityProvider=r.identityProvider}createModel(S,p,C){return new k.ObjectTreeModel(S,p,C)}}e.DataTree=T}),define(ee[238],te([0,1,54,180,159,292,90]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class p extends k.AbstractTree{constructor(a,l,c,u,s={}){super(a,l,c,u,s)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(a,l=b.Iterable.empty(),c){this.model.setChildren(a,l,c)}rerender(a){if(a===void 0){this.view.rerender();return}this.model.rerender(a)}hasElement(a){return this.model.has(a)}createModel(a,l,c){return new T.ObjectTreeModel(a,l,c)}}e.ObjectTree=p;class C{constructor(a,l){this._compressedTreeNodeProvider=a,this.renderer=l,this.templateId=l.templateId,l.onDidChangeTwistieState&&(this.onDidChangeTwistieState=l.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(a){const l=this.renderer.renderTemplate(a);return{compressedTreeNode:void 0,data:l}}renderElement(a,l,c,u){const s=this.compressedTreeNodeProvider.getCompressedTreeNode(a.element);s.element.elements.length===1?(c.compressedTreeNode=void 0,this.renderer.renderElement(a,l,c.data,u)):(c.compressedTreeNode=s,this.renderer.renderCompressedElements(s,l,c.data,u))}disposeElement(a,l,c,u){c.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(c.compressedTreeNode,l,c.data,u):this.renderer.disposeElement&&this.renderer.disposeElement(a,l,c.data,u)}disposeTemplate(a){this.renderer.disposeTemplate(a.data)}renderTwistie(a,l){return this.renderer.renderTwistie?this.renderer.renderTwistie(a,l):!1}}Re([S.memoize],C.prototype,"compressedTreeNodeProvider",null);function i(r,a){return a&&Object.assign(Object.assign({},a),{keyboardNavigationLabelProvider:a.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(l){let c;try{c=r().getCompressedTreeNode(l)}catch(u){return a.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(l)}return c.element.elements.length===1?a.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(l):a.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(c.element.elements)}}})}class v extends p{constructor(a,l,c,u,s={}){const n=()=>this,d=u.map(t=>new C(n,t));super(a,l,c,d,i(n,s))}setChildren(a,l=b.Iterable.empty(),c){this.model.setChildren(a,l,c)}createModel(a,l,c){return new L.CompressibleObjectTreeModel(a,l,c)}updateOptions(a={}){super.updateOptions(a),typeof a.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(a.compressionEnabled)}getCompressedTreeNode(a=null){return this.model.getCompressedTreeNode(a)}}e.CompressibleObjectTree=v}),define(ee[438],te([0,1,180,238,101,2,6,15,54,166,12,158,200]),function(G,e,b,k,T,L,S,p,C,i,v,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function l(M){return Object.assign(Object.assign({},M),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function c(M,O){return O.parent?O.parent===M?!0:c(M,O.parent):!1}function u(M,O){return M===O||c(M,O)||c(O,M)}class s{constructor(O){this.node=O}get element(){return this.node.element.element}get children(){return this.node.children.map(O=>new s(O))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class n{constructor(O,R,P){this.renderer=O,this.nodeMapper=R,this.onDidChangeTwistieState=P,this.renderedNodes=new Map,this.templateId=O.templateId}renderTemplate(O){return{templateData:this.renderer.renderTemplate(O)}}renderElement(O,R,P,A){this.renderer.renderElement(this.nodeMapper.map(O),R,P.templateData,A)}renderTwistie(O,R){return O.slow?(R.classList.add(...a.treeItemLoadingIcon.classNamesArray),!0):(R.classList.remove(...a.treeItemLoadingIcon.classNamesArray),!1)}disposeElement(O,R,P,A){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(O),R,P.templateData,A)}disposeTemplate(O){this.renderer.disposeTemplate(O.templateData)}dispose(){this.renderedNodes.clear()}}function d(M){return{browserEvent:M.browserEvent,elements:M.elements.map(O=>O.element)}}function t(M){return{browserEvent:M.browserEvent,element:M.element&&M.element.element,target:M.target}}class o extends i.ElementsDragAndDropData{constructor(O){super(O.elements.map(R=>R.element));this.data=O}}function h(M){return M instanceof i.ElementsDragAndDropData?new o(M):M}class m{constructor(O){this.dnd=O}getDragURI(O){return this.dnd.getDragURI(O.element)}getDragLabel(O,R){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(O.map(P=>P.element),R)}onDragStart(O,R){this.dnd.onDragStart&&this.dnd.onDragStart(h(O),R)}onDragOver(O,R,P,A,F=!0){return this.dnd.onDragOver(h(O),R&&R.element,P,A)}drop(O,R,P,A){this.dnd.drop(h(O),R&&R.element,P,A)}onDragEnd(O){this.dnd.onDragEnd&&this.dnd.onDragEnd(O)}}function y(M){return M&&Object.assign(Object.assign({},M),{collapseByDefault:!0,identityProvider:M.identityProvider&&{getId(O){return M.identityProvider.getId(O.element)}},dnd:M.dnd&&new m(M.dnd),multipleSelectionController:M.multipleSelectionController&&{isSelectionSingleChangeEvent(O){return M.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},O),{element:O.element}))},isSelectionRangeChangeEvent(O){return M.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},O),{element:O.element}))}},accessibilityProvider:M.accessibilityProvider&&Object.assign(Object.assign({},M.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:M.accessibilityProvider.getRole?O=>M.accessibilityProvider.getRole(O.element):()=>"treeitem",isChecked:M.accessibilityProvider.isChecked?O=>{var R;return!!((R=M.accessibilityProvider)===null||R===void 0?void 0:R.isChecked(O.element))}:void 0,getAriaLabel(O){return M.accessibilityProvider.getAriaLabel(O.element)},getWidgetAriaLabel(){return M.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:M.accessibilityProvider.getWidgetRole?()=>M.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:M.accessibilityProvider.getAriaLevel&&(O=>M.accessibilityProvider.getAriaLevel(O.element)),getActiveDescendantId:M.accessibilityProvider.getActiveDescendantId&&(O=>M.accessibilityProvider.getActiveDescendantId(O.element))}),filter:M.filter&&{filter(O,R){return M.filter.filter(O.element,R)}},keyboardNavigationLabelProvider:M.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},M.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(O){return M.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(O.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof M.expandOnlyOnTwistieClick=="undefined"?void 0:typeof M.expandOnlyOnTwistieClick!="function"?M.expandOnlyOnTwistieClick:O=>M.expandOnlyOnTwistieClick(O.element),additionalScrollHeight:M.additionalScrollHeight})}function w(M,O){O(M),M.children.forEach(R=>w(R,O))}class g{constructor(O,R,P,A,F,E={}){this.user=O,this.dataSource=F,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new S.Emitter,this._onDidChangeNodeSlowState=new S.Emitter,this.nodeMapper=new T.WeakMapper(W=>new s(W)),this.disposables=new L.DisposableStore,this.identityProvider=E.identityProvider,this.autoExpandSingleChildren=typeof E.autoExpandSingleChildren=="undefined"?!1:E.autoExpandSingleChildren,this.sorter=E.sorter,this.collapseByDefault=E.collapseByDefault,this.tree=this.createTree(O,R,P,A,E),this.root=l({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return S.Event.map(this.tree.onDidChangeFocus,d)}get onDidChangeSelection(){return S.Event.map(this.tree.onDidChangeSelection,d)}get onMouseDblClick(){return S.Event.map(this.tree.onMouseDblClick,t)}get onPointer(){return S.Event.map(this.tree.onPointer,t)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(O,R,P,A,F){const E=new b.ComposedTreeDelegate(P),W=A.map($=>new n($,this.nodeMapper,this._onDidChangeNodeSlowState.event)),V=y(F)||{};return new k.ObjectTree(O,R,E,W,V)}updateOptions(O={}){this.tree.updateOptions(O)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(O){this.tree.scrollTop=O}domFocus(){this.tree.domFocus()}layout(O,R){this.tree.layout(O,R)}style(O){this.tree.style(O)}getInput(){return this.root.element}setInput(O,R){return Ie(this,void 0,void 0,function*(){this.refreshPromises.forEach(A=>A.cancel()),this.refreshPromises.clear(),this.root.element=O;const P=R&&{viewState:R,focus:[],selection:[]};yield this._updateChildren(O,!0,!1,P),P&&(this.tree.setFocus(P.focus),this.tree.setSelection(P.selection)),R&&typeof R.scrollTop=="number"&&(this.scrollTop=R.scrollTop)})}_updateChildren(O=this.root.element,R=!0,P=!1,A,F){return Ie(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new T.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event));const E=this.getDataNode(O);if(yield this.refreshAndRenderNode(E,R,A,F),P)try{this.tree.rerender(E)}catch(W){}})}rerender(O){if(O===void 0||O===this.root.element){this.tree.rerender();return}const R=this.getDataNode(O);this.tree.rerender(R)}collapse(O,R=!1){const P=this.getDataNode(O);return this.tree.collapse(P===this.root?null:P,R)}expand(O,R=!1){return Ie(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new T.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event));const P=this.getDataNode(O);if(this.tree.hasElement(P)&&!this.tree.isCollapsible(P)||(P.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event)),P!==this.root&&!P.refreshPromise&&!this.tree.isCollapsed(P)))return!1;const A=this.tree.expand(P===this.root?null:P,R);return P.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event)),A})}setSelection(O,R){const P=O.map(A=>this.getDataNode(A));this.tree.setSelection(P,R)}getSelection(){return this.tree.getSelection().map(R=>R.element)}setFocus(O,R){const P=O.map(A=>this.getDataNode(A));this.tree.setFocus(P,R)}getFocus(){return this.tree.getFocus().map(R=>R.element)}reveal(O,R){this.tree.reveal(this.getDataNode(O),R)}getDataNode(O){const R=this.nodes.get(O===this.root.element?null:O);if(!R)throw new T.TreeError(this.user,`Data tree node not found: ${O}`);return R}refreshAndRenderNode(O,R,P,A){return Ie(this,void 0,void 0,function*(){yield this.refreshNode(O,R,P),this.render(O,P,A)})}refreshNode(O,R,P){return Ie(this,void 0,void 0,function*(){let A;return this.subTreeRefreshPromises.forEach((F,E)=>{!A&&u(E,O)&&(A=F.then(()=>this.refreshNode(O,R,P)))}),A||this.doRefreshSubTree(O,R,P)})}doRefreshSubTree(O,R,P){return Ie(this,void 0,void 0,function*(){let A;O.refreshPromise=new Promise(F=>A=F),this.subTreeRefreshPromises.set(O,O.refreshPromise),O.refreshPromise.finally(()=>{O.refreshPromise=void 0,this.subTreeRefreshPromises.delete(O)});try{const F=yield this.doRefreshNode(O,R,P);O.stale=!1,yield p.Promises.settled(F.map(E=>this.doRefreshSubTree(E,R,P)))}finally{A()}})}doRefreshNode(O,R,P){return Ie(this,void 0,void 0,function*(){O.hasChildren=!!this.dataSource.hasChildren(O.element);let A;if(!O.hasChildren)A=Promise.resolve(C.Iterable.empty());else{const F=(0,p.timeout)(800);F.then(()=>{O.slow=!0,this._onDidChangeNodeSlowState.fire(O)},E=>null),A=this.doGetChildren(O).finally(()=>F.cancel())}try{const F=yield A;return this.setChildren(O,F,R,P)}catch(F){if(O!==this.root&&this.tree.hasElement(O)&&this.tree.collapse(O),(0,v.isPromiseCanceledError)(F))return[];throw F}finally{O.slow&&(O.slow=!1,this._onDidChangeNodeSlowState.fire(O))}})}doGetChildren(O){let R=this.refreshPromises.get(O);return R||(R=(0,p.createCancelablePromise)(()=>Ie(this,void 0,void 0,function*(){const P=yield this.dataSource.getChildren(O.element);return this.processChildren(P)})),this.refreshPromises.set(O,R),R.finally(()=>{this.refreshPromises.delete(O)}))}_onDidChangeCollapseState({node:O,deep:R}){O.element!==null&&!O.collapsed&&O.element.stale&&(R?this.collapse(O.element.element):this.refreshAndRenderNode(O.element,!1).catch(v.onUnexpectedError))}setChildren(O,R,P,A){const F=[...R];if(O.children.length===0&&F.length===0)return[];const E=new Map,W=new Map;for(const Z of O.children)if(E.set(Z.element,Z),this.identityProvider){const X=this.tree.isCollapsed(Z);W.set(Z.id,{node:Z,collapsed:X})}const V=[],$=F.map(Z=>{const X=!!this.dataSource.hasChildren(Z);if(!this.identityProvider){const ue=l({element:Z,parent:O,hasChildren:X});return X&&this.collapseByDefault&&!this.collapseByDefault(Z)&&(ue.collapsedByDefault=!1,V.push(ue)),ue}const J=this.identityProvider.getId(Z).toString(),ie=W.get(J);if(ie){const ue=ie.node;return E.delete(ue.element),this.nodes.delete(ue.element),this.nodes.set(Z,ue),ue.element=Z,ue.hasChildren=X,P?ie.collapsed?(ue.children.forEach(q=>w(q,B=>this.nodes.delete(B.element))),ue.children.splice(0,ue.children.length),ue.stale=!0):V.push(ue):X&&this.collapseByDefault&&!this.collapseByDefault(Z)&&(ue.collapsedByDefault=!1,V.push(ue)),ue}const de=l({element:Z,parent:O,id:J,hasChildren:X});return A&&A.viewState.focus&&A.viewState.focus.indexOf(J)>-1&&A.focus.push(de),A&&A.viewState.selection&&A.viewState.selection.indexOf(J)>-1&&A.selection.push(de),A&&A.viewState.expanded&&A.viewState.expanded.indexOf(J)>-1?V.push(de):X&&this.collapseByDefault&&!this.collapseByDefault(Z)&&(de.collapsedByDefault=!1,V.push(de)),de});for(const Z of E.values())w(Z,X=>this.nodes.delete(X.element));for(const Z of $)this.nodes.set(Z.element,Z);return O.children.splice(0,O.children.length,...$),O!==this.root&&this.autoExpandSingleChildren&&$.length===1&&V.length===0&&($[0].collapsedByDefault=!1,V.push($[0])),V}render(O,R,P){const A=O.children.map(E=>this.asTreeElement(E,R)),F=P&&Object.assign(Object.assign({},P),{diffIdentityProvider:P.diffIdentityProvider&&{getId(E){return P.diffIdentityProvider.getId(E.element)}}});this.tree.setChildren(O===this.root?null:O,A,F),O!==this.root&&this.tree.setCollapsible(O,O.hasChildren),this._onDidRender.fire()}asTreeElement(O,R){if(O.stale)return{element:O,collapsible:O.hasChildren,collapsed:!0};let P;return R&&R.viewState.expanded&&O.id&&R.viewState.expanded.indexOf(O.id)>-1?P=!1:P=O.collapsedByDefault,O.collapsedByDefault=void 0,{element:O,children:O.hasChildren?C.Iterable.map(O.children,A=>this.asTreeElement(A,R)):[],collapsible:O.hasChildren,collapsed:P}}processChildren(O){return this.sorter&&(O=[...O].sort(this.sorter.compare.bind(this.sorter))),O}dispose(){this.disposables.dispose()}}e.AsyncDataTree=g;class f{constructor(O){this.node=O}get element(){return{elements:this.node.element.elements.map(O=>O.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(O=>new f(O))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class _{constructor(O,R,P,A){this.renderer=O,this.nodeMapper=R,this.compressibleNodeMapperProvider=P,this.onDidChangeTwistieState=A,this.renderedNodes=new Map,this.disposables=[],this.templateId=O.templateId}renderTemplate(O){return{templateData:this.renderer.renderTemplate(O)}}renderElement(O,R,P,A){this.renderer.renderElement(this.nodeMapper.map(O),R,P.templateData,A)}renderCompressedElements(O,R,P,A){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(O),R,P.templateData,A)}renderTwistie(O,R){return O.slow?(R.classList.add(...a.treeItemLoadingIcon.classNamesArray),!0):(R.classList.remove(...a.treeItemLoadingIcon.classNamesArray),!1)}disposeElement(O,R,P,A){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(O),R,P.templateData,A)}disposeCompressedElements(O,R,P,A){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(O),R,P.templateData,A)}disposeTemplate(O){this.renderer.disposeTemplate(O.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,L.dispose)(this.disposables)}}function D(M){const O=M&&y(M);return O&&Object.assign(Object.assign({},O),{keyboardNavigationLabelProvider:O.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},O.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(R){return M.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(R.map(P=>P.element))}})})}class N extends g{constructor(O,R,P,A,F,E,W={}){super(O,R,P,F,E,W);this.compressionDelegate=A,this.compressibleNodeMapper=new T.WeakMapper(V=>new f(V)),this.filter=W.filter}createTree(O,R,P,A,F){const E=new b.ComposedTreeDelegate(P),W=A.map($=>new _($,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),V=D(F)||{};return new k.CompressibleObjectTree(O,R,E,W,V)}asTreeElement(O,R){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(O.element)},super.asTreeElement(O,R))}updateOptions(O={}){this.tree.updateOptions(O)}render(O,R){if(!this.identityProvider)return super.render(O,R);const P=J=>this.identityProvider.getId(J).toString(),A=J=>{const ie=new Set;for(const de of J){const ue=this.tree.getCompressedTreeNode(de===this.root?null:de);if(!!ue.element)for(const q of ue.element.elements)ie.add(P(q.element))}return ie},F=A(this.tree.getSelection()),E=A(this.tree.getFocus());super.render(O,R);const W=this.getSelection();let V=!1;const $=this.getFocus();let Z=!1;const X=J=>{const ie=J.element;if(ie)for(let de=0;de<ie.elements.length;de++){const ue=P(ie.elements[de].element),q=ie.elements[ie.elements.length-1].element;F.has(ue)&&W.indexOf(q)===-1&&(W.push(q),V=!0),E.has(ue)&&$.indexOf(q)===-1&&($.push(q),Z=!0)}J.children.forEach(X)};X(this.tree.getCompressedTreeNode(O===this.root?null:O)),V&&this.setSelection(W),Z&&this.setFocus($)}processChildren(O){return this.filter&&(O=C.Iterable.filter(O,R=>{const P=this.filter.filter(R,1),A=I(P);if(A===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return A===1})),super.processChildren(O)}}e.CompressibleAsyncDataTree=N;function I(M){return typeof M=="boolean"?M?1:0:(0,r.isFilterResult)(M)?(0,r.getVisibleState)(M.visibility):(0,r.getVisibleState)(M)}}),define(ee[439],te([4,5]),function(G,e){return G.create("vs/base/common/actions",e)}),define(ee[50],te([0,1,439,2,6]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class L extends k.Disposable{constructor(r,a="",l="",c=!0,u){super();this._onDidChange=this._register(new T.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._checked=!1,this._id=r,this._label=a,this._cssClass=l,this._enabled=c,this._actionCallback=u}get id(){return this._id}get label(){return this._label}set label(r){this._setLabel(r)}_setLabel(r){this._label!==r&&(this._label=r,this._onDidChange.fire({label:r}))}get tooltip(){return this._tooltip||""}set tooltip(r){this._setTooltip(r)}_setTooltip(r){this._tooltip!==r&&(this._tooltip=r,this._onDidChange.fire({tooltip:r}))}get class(){return this._cssClass}set class(r){this._setClass(r)}_setClass(r){this._cssClass!==r&&(this._cssClass=r,this._onDidChange.fire({class:r}))}get enabled(){return this._enabled}set enabled(r){this._setEnabled(r)}_setEnabled(r){this._enabled!==r&&(this._enabled=r,this._onDidChange.fire({enabled:r}))}get checked(){return this._checked}set checked(r){this._setChecked(r)}_setChecked(r){this._checked!==r&&(this._checked=r,this._onDidChange.fire({checked:r}))}run(r,a){return Ie(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(r))})}}e.Action=L;class S extends k.Disposable{constructor(){super(...arguments);this._onBeforeRun=this._register(new T.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new T.Emitter),this.onDidRun=this._onDidRun.event}run(r,a){return Ie(this,void 0,void 0,function*(){if(!r.enabled)return;this._onBeforeRun.fire({action:r});let l;try{yield this.runAction(r,a)}catch(c){l=c}this._onDidRun.fire({action:r,error:l})})}runAction(r,a){return Ie(this,void 0,void 0,function*(){yield r.run(a)})}}e.ActionRunner=S;class p extends L{constructor(r){super(p.ID,r,r?"separator text":"separator");this.checked=!1,this.enabled=!1}}e.Separator=p,p.ID="vs.actions.separator";class C{constructor(r,a,l,c){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=r,this.label=a,this.class=c,this._actions=l}get actions(){return this._actions}dispose(){}run(){return Ie(this,void 0,void 0,function*(){})}}e.SubmenuAction=C;class i extends L{constructor(){super(i.ID,b.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=i,i.ID="vs.actions.empty"}),define(ee[117],te([0,1,17,427,2,50,20,60,164,39,7,206]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionViewItem=e.BaseActionViewItem=void 0;class r extends T.Disposable{constructor(c,u,s={}){super();this.options=s,this._context=c||this,this._action=u,u instanceof L.Action&&this._register(u.onDidChange(n=>{!this.element||this.handleActionChangeEvent(n)}))}handleActionChangeEvent(c){c.enabled!==void 0&&this.updateEnabled(),c.checked!==void 0&&this.updateChecked(),c.class!==void 0&&this.updateClass(),c.label!==void 0&&(this.updateLabel(),this.updateTooltip()),c.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new L.ActionRunner)),this._actionRunner}set actionRunner(c){this._actionRunner=c}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(c){this._context=c}render(c){const u=this.element=c;this._register(p.Gesture.addTarget(c));const s=this.options&&this.options.draggable;s&&(c.draggable=!0,i.isFirefox&&this._register((0,v.addDisposableListener)(c,v.EventType.DRAG_START,n=>{var d;return(d=n.dataTransfer)===null||d===void 0?void 0:d.setData(C.DataTransfers.TEXT,this._action.label)}))),this._register((0,v.addDisposableListener)(u,p.EventType.Tap,n=>this.onClick(n,!0))),this._register((0,v.addDisposableListener)(u,v.EventType.MOUSE_DOWN,n=>{s||v.EventHelper.stop(n,!0),this._action.enabled&&n.button===0&&u.classList.add("active")})),b.isMacintosh&&this._register((0,v.addDisposableListener)(u,v.EventType.CONTEXT_MENU,n=>{n.button===0&&n.ctrlKey===!0&&this.onClick(n)})),this._register((0,v.addDisposableListener)(u,v.EventType.CLICK,n=>{v.EventHelper.stop(n,!0),this.options&&this.options.isMenu||b.setImmediate(()=>this.onClick(n))})),this._register((0,v.addDisposableListener)(u,v.EventType.DBLCLICK,n=>{v.EventHelper.stop(n,!0)})),[v.EventType.MOUSE_UP,v.EventType.MOUSE_OUT].forEach(n=>{this._register((0,v.addDisposableListener)(u,n,d=>{v.EventHelper.stop(d),u.classList.remove("active")}))})}onClick(c,u=!1){var s;v.EventHelper.stop(c,!0);const n=S.isUndefinedOrNull(this._context)?((s=this.options)===null||s===void 0?void 0:s.useEventAsContext)?c:{preserveFocus:u}:this._context;this.actionRunner.run(this._action,n)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(c){this.element&&(this.element.tabIndex=c?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=r;class a extends r{constructor(c,u,s={}){super(c,u,s);this.options=s,this.options.icon=s.icon!==void 0?s.icon:!1,this.options.label=s.label!==void 0?s.label:!0,this.cssClass=""}render(c){super.render(c),this.element&&(this.label=(0,v.append)(this.element,(0,v.$)("a.action-label"))),this.label&&(this._action.id===L.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,v.append)(this.element,(0,v.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(c){this.label&&(this.label.tabIndex=c?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let c=null;this.getAction().tooltip?c=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(c=this.getAction().label,this.options.keybinding&&(c=k.localize(0,null,c,this.options.keybinding))),c&&this.label&&(this.label.title=c)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=a}),define(ee[84],te([0,1,2,50,7,20,51,6,117,206]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class i extends b.Disposable{constructor(r,a={}){var l,c,u,s,n,d;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new p.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new p.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new p.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new p.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=a,this._context=(l=a.context)!==null&&l!==void 0?l:null,this._orientation=(c=this.options.orientation)!==null&&c!==void 0?c:0,this._triggerKeys={keyDown:(s=(u=this.options.triggerKeys)===null||u===void 0?void 0:u.keyDown)!==null&&s!==void 0?s:!1,keys:(d=(n=this.options.triggerKeys)===null||n===void 0?void 0:n.keys)!==null&&d!==void 0?d:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new k.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(h=>this._onDidRun.fire(h))),this._register(this._actionRunner.onBeforeRun(h=>this._onBeforeRun.fire(h))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",a.animated!==!1&&this.domNode.classList.add("animated");let t,o;switch(this._orientation){case 0:t=[15],o=[17];break;case 1:t=[16],o=[18],this.domNode.className+=" vertical";break}this._register(T.addDisposableListener(this.domNode,T.EventType.KEY_DOWN,h=>{const m=new S.StandardKeyboardEvent(h);let y=!0;const w=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;t&&(m.equals(t[0])||m.equals(t[1]))?y=this.focusPrevious():o&&(m.equals(o[0])||m.equals(o[1]))?y=this.focusNext():m.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():m.equals(14)?y=this.focusFirst():m.equals(13)?y=this.focusLast():m.equals(2)&&w instanceof C.BaseActionViewItem&&w.trapsArrowNavigation?y=this.focusNext():this.isTriggerKeyEvent(m)?this._triggerKeys.keyDown?this.doTrigger(m):this.triggerKeyDown=!0:y=!1,y&&(m.preventDefault(),m.stopPropagation())})),this._register(T.addDisposableListener(this.domNode,T.EventType.KEY_UP,h=>{const m=new S.StandardKeyboardEvent(h);this.isTriggerKeyEvent(m)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(m)),m.preventDefault(),m.stopPropagation()):(m.equals(2)||m.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(T.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(T.getActiveElement()===this.domNode||!T.isAncestor(T.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),r.appendChild(this.domNode)}isTriggerKeyEvent(r){let a=!1;return this._triggerKeys.keys.forEach(l=>{a=a||r.equals(l)}),a}updateFocusedItem(){for(let r=0;r<this.actionsList.children.length;r++){const a=this.actionsList.children[r];if(T.isAncestor(T.getActiveElement(),a)){this.focusedItem=r;break}}}get context(){return this._context}set context(r){this._context=r,this.viewItems.forEach(a=>a.setActionContext(r))}get actionRunner(){return this._actionRunner}set actionRunner(r){r&&(this._actionRunner=r,this.viewItems.forEach(a=>a.actionRunner=r))}getContainer(){return this.domNode}push(r,a={}){const l=Array.isArray(r)?r:[r];let c=L.isNumber(a.index)?a.index:null;l.forEach(u=>{const s=document.createElement("li");s.className="action-item",s.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(T.addDisposableListener(s,T.EventType.CONTEXT_MENU,d=>{T.EventHelper.stop(d,!0)}));let n;this.options.actionViewItemProvider&&(n=this.options.actionViewItemProvider(u)),n||(n=new C.ActionViewItem(this.context,u,a)),n.actionRunner=this._actionRunner,n.setActionContext(this.context),n.render(s),this.focusable&&n instanceof C.BaseActionViewItem&&this.viewItems.length===0&&n.setFocusable(!0),c===null||c<0||c>=this.actionsList.children.length?(this.actionsList.appendChild(s),this.viewItems.push(n),this._actionIds.push(u.id)):(this.actionsList.insertBefore(s,this.actionsList.children[c]),this.viewItems.splice(c,0,n),this._actionIds.splice(c,0,u.id),c++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}clear(){(0,b.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],T.clearNode(this.actionsList)}length(){return this.viewItems.length}focus(r){let a=!1,l;if(r===void 0?a=!0:typeof r=="number"?l=r:typeof r=="boolean"&&(a=r),a&&typeof this.focusedItem=="undefined"){const c=this.viewItems.findIndex(u=>u.isEnabled());this.focusedItem=c===-1?void 0:c,this.updateFocus()}else l!==void 0&&(this.focusedItem=l),this.updateFocus()}focusFirst(){return this.focusedItem=this.length()>1?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const r=this.focusedItem;let a;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=r,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,a=this.viewItems[this.focusedItem]}while(this.focusedItem!==r&&this.options.focusOnlyEnabledItems&&!a.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const r=this.focusedItem;let a;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=r,!1;this.focusedItem=this.viewItems.length-1}a=this.viewItems[this.focusedItem]}while(this.focusedItem!==r&&this.options.focusOnlyEnabledItems&&!a.isEnabled());return this.updateFocus(!0),!0}updateFocus(r,a){typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:a});for(let l=0;l<this.viewItems.length;l++){const c=this.viewItems[l],u=c;if(l===this.focusedItem){let s=!0;L.isFunction(u.focus)||(s=!1),this.options.focusOnlyEnabledItems&&L.isFunction(c.isEnabled)&&!c.isEnabled()&&(s=!1),s?u.focus(r):this.actionsList.focus({preventScroll:a})}else L.isFunction(u.blur)&&u.blur()}}doTrigger(r){if(typeof this.focusedItem=="undefined")return;const a=this.viewItems[this.focusedItem];if(a instanceof C.BaseActionViewItem){const l=a._context===null||a._context===void 0?r:a._context;this.run(a._action,l)}}run(r,a){return Ie(this,void 0,void 0,function*(){yield this._actionRunner.run(r,a)})}dispose(){(0,b.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}e.ActionBar=i}),define(ee[440],te([0,1,60,50,7,51,6,209]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.BaseDropdown=void 0;class p extends k.ActionRunner{constructor(v,r){super();this._onDidChangeVisibility=new S.Emitter,this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,T.append)(v,(0,T.$)(".monaco-dropdown")),this._label=(0,T.append)(this._element,(0,T.$)(".dropdown-label"));let a=r.labelRenderer;a||(a=c=>(c.textContent=r.label||"",null));for(const c of[T.EventType.CLICK,T.EventType.MOUSE_DOWN,b.EventType.Tap])this._register((0,T.addDisposableListener)(this.element,c,u=>T.EventHelper.stop(u,!0)));for(const c of[T.EventType.MOUSE_DOWN,b.EventType.Tap])this._register((0,T.addDisposableListener)(this._label,c,u=>{u instanceof MouseEvent&&u.detail>1||(this.visible?this.hide():this.show())}));this._register((0,T.addDisposableListener)(this._label,T.EventType.KEY_UP,c=>{const u=new L.StandardKeyboardEvent(c);(u.equals(3)||u.equals(10))&&(T.EventHelper.stop(c,!0),this.visible?this.hide():this.show())}));const l=a(this._label);l&&this._register(l),this._register(b.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=p;class C extends p{constructor(v,r){super(v,r);this._actions=[],this._contextMenuProvider=r.contextMenuProvider,this.actions=r.actions||[],this.actionProvider=r.actionProvider,this.menuClassName=r.menuClassName||"",this.menuAsChild=!!r.menuAsChild}set menuOptions(v){this._menuOptions=v}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(v){this._actions=v}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:v=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(v):void 0,getKeyBinding:v=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(v):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=C}),define(ee[441],te([0,1,7,6,117,440,209]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class S extends T.BaseActionViewItem{constructor(C,i,v,r=Object.create(null)){super(null,C,r);this.actionItem=null,this._onDidChangeVisibility=this._register(new k.Emitter),this.menuActionsOrProvider=i,this.contextMenuProvider=v,this.options=r,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(C){this.actionItem=C;const i=a=>{this.element=(0,b.append)(a,(0,b.$)("a.action-label"));let l=[];return typeof this.options.classNames=="string"?l=this.options.classNames.split(/\s+/g).filter(c=>!!c):this.options.classNames&&(l=this.options.classNames),l.find(c=>c==="icon")||l.push("codicon"),this.element.classList.add(...l),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},v=Array.isArray(this.menuActionsOrProvider),r={contextMenuProvider:this.contextMenuProvider,labelRenderer:i,menuAsChild:this.options.menuAsChild,actions:v?this.menuActionsOrProvider:void 0,actionProvider:v?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new L.DropdownMenu(C,r)),this._register(this.dropdownMenu.onDidChangeVisibility(a=>{var l;(l=this.element)===null||l===void 0||l.setAttribute("aria-expanded",`${a}`),this._onDidChangeVisibility.fire(a)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const a=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return a.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(C){super.setActionContext(C),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=C:this.dropdownMenu.menuOptions={context:C})}updateEnabled(){var C,i;const v=!this.getAction().enabled;(C=this.actionItem)===null||C===void 0||C.classList.toggle("disabled",v),(i=this.element)===null||i===void 0||i.classList.toggle("disabled",v)}}e.DropdownMenuActionViewItem=S}),define(ee[181],te([0,1,433,7,160,44,84,6,52,29,42,287,61,91,312]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const c=k.$,u={inputBackground:i.Color.fromHex("#3C3C3C"),inputForeground:i.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:i.Color.fromHex("#55AAFF"),inputValidationInfoBackground:i.Color.fromHex("#063B49"),inputValidationWarningBorder:i.Color.fromHex("#B89500"),inputValidationWarningBackground:i.Color.fromHex("#352A05"),inputValidationErrorBorder:i.Color.fromHex("#BE1100"),inputValidationErrorBackground:i.Color.fromHex("#5A1D1D")};class s extends C.Widget{constructor(t,o,h){var m;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new p.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new p.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=o,this.options=h||Object.create(null),(0,v.mixin)(this.options,u,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(m=this.options.tooltip)!==null&&m!==void 0?m:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=k.append(t,c(".monaco-inputbox.idle"));let y=this.options.flexibleHeight?"textarea":"input",w=k.append(this.element,c(".ibwrapper"));if(this.input=k.append(w,c(y+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=k.append(w,c("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new a.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),k.append(t,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(_=>this.input.scrollTop=_.scrollTop));const g=this._register(new l.DomEmitter(document,"selectionchange")),f=p.Event.filter(g.event,()=>{const _=document.getSelection();return(_==null?void 0:_.anchorNode)===w});this._register(f(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new S.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(t){this.placeholder=t,this.input.setAttribute("placeholder",t)}setTooltip(t){this.tooltip=t,this.input.title=t}setAriaLabel(t){this.ariaLabel=t,t?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(t){this.input.value!==t&&(this.input.value=t,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:k.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(t=null){this.input.select(),t&&(this.input.setSelectionRange(t.start,t.end),t.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return k.getTotalWidth(this.input)}set width(t){if(this.options.flexibleHeight&&this.options.flexibleWidth){let o=0;if(this.mirror){const h=parseFloat(this.mirror.style.paddingLeft||"")||0,m=parseFloat(this.mirror.style.paddingRight||"")||0;o=h+m}this.input.style.width=t-o+"px"}else this.input.style.width=t+"px";this.mirror&&(this.mirror.style.width=t+"px")}set paddingRight(t){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${t}px)`:this.input.style.paddingRight=t+"px",this.mirror&&(this.mirror.style.paddingRight=t+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const t=this.cachedContentHeight,o=this.cachedHeight,h=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:t,height:o}),this.scrollableElement.setScrollPosition({scrollTop:h})}showMessage(t,o){this.message=t,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(t.type));const h=this.stylesForType(this.message.type);this.element.style.border=h.border?`1px solid ${h.border}`:"",(this.hasFocus()||o)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let t=null;return this.validation&&(t=this.validation(this.value),t?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(t)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),t==null?void 0:t.type}stylesForType(t){switch(t){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(t){switch(t){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let t,o=()=>t.style.width=k.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:m=>{if(!this.message)return null;t=k.append(m,c(".monaco-inputbox-container")),o();const y={inline:!0,className:"monaco-inputbox-message"},w=this.message.formatContent?(0,T.renderFormattedText)(this.message.content,y):(0,T.renderText)(this.message.content,y);w.classList.add(this.classForType(this.message.type));const g=this.stylesForType(this.message.type);return w.style.backgroundColor=g.background?g.background.toString():"",w.style.color=g.foreground?g.foreground.toString():"",w.style.border=g.border?`1px solid ${g.border}`:"",k.append(t,w),null},onHide:()=>{this.state="closed"},layout:o});let h;this.message.type===3?h=b.localize(0,null,this.message.content):this.message.type===2?h=b.localize(1,null,this.message.content):h=b.localize(2,null,this.message.content),L.alert(h),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const t=this.value,h=t.charCodeAt(t.length-1)===10?" ":"";(t+h).replace(/\u000c/g,"")?this.mirror.textContent=t+h:this.mirror.innerText="\xA0",this.layout()}style(t){this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const t=this.inputBackground?this.inputBackground.toString():"",o=this.inputForeground?this.inputForeground.toString():"",h=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=t,this.element.style.color=o,this.input.style.backgroundColor="inherit",this.input.style.color=o,this.element.style.borderWidth=h?"1px":"",this.element.style.borderStyle=h?"solid":"",this.element.style.borderColor=h}layout(){if(!this.mirror)return;const t=this.cachedContentHeight;this.cachedContentHeight=k.getTotalHeight(this.mirror),t!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(t){const o=this.inputElement,h=o.selectionStart,m=o.selectionEnd,y=o.value;h!==null&&m!==null&&(this.value=y.substr(0,h)+t+y.substr(m),o.setSelectionRange(h+1,h+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}e.InputBox=s;class n extends s{constructor(t,o,h){super(t,o,h);this.history=new r.HistoryNavigator(h.history,100)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let t=this.getNextValue();t&&(t=t===this.value?this.getNextValue():t),t&&(this.value=t,L.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let t=this.getPreviousValue();t&&(t=t===this.value?this.getPreviousValue():t),t&&(this.value=t,L.status(this.value))}getCurrentValue(){let t=this.history.current();return t||(t=this.history.last(),this.history.next()),t}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=n}),define(ee[442],te([0,1,428,7,181,52,6,237,210]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const C=b.localize(0,null);class i extends L.Widget{constructor(r,a,l,c){super();this._showOptionButtons=l,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onCaseSensitiveKeyDown=this._register(new S.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new S.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=a,this.placeholder=c.placeholder||"",this.validation=c.validation,this.label=c.label||C,this.inputActiveOptionBorder=c.inputActiveOptionBorder,this.inputActiveOptionForeground=c.inputActiveOptionForeground,this.inputActiveOptionBackground=c.inputActiveOptionBackground,this.inputBackground=c.inputBackground,this.inputForeground=c.inputForeground,this.inputBorder=c.inputBorder,this.inputValidationInfoBorder=c.inputValidationInfoBorder,this.inputValidationInfoBackground=c.inputValidationInfoBackground,this.inputValidationInfoForeground=c.inputValidationInfoForeground,this.inputValidationWarningBorder=c.inputValidationWarningBorder,this.inputValidationWarningBackground=c.inputValidationWarningBackground,this.inputValidationWarningForeground=c.inputValidationWarningForeground,this.inputValidationErrorBorder=c.inputValidationErrorBorder,this.inputValidationErrorBackground=c.inputValidationErrorBackground,this.inputValidationErrorForeground=c.inputValidationErrorForeground;const u=c.appendCaseSensitiveLabel||"",s=c.appendWholeWordsLabel||"",n=c.appendRegexLabel||"",d=c.history||[],t=!!c.flexibleHeight,o=!!c.flexibleWidth,h=c.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new T.HistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:d,flexibleHeight:t,flexibleWidth:o,flexibleMaxHeight:h})),this.regex=this._register(new p.RegexCheckbox({appendTitle:n,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(w=>{this._onDidOptionChange.fire(w),!w&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(w=>{this._onRegexKeyDown.fire(w)})),this.wholeWords=this._register(new p.WholeWordsCheckbox({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(w=>{this._onDidOptionChange.fire(w),!w&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new p.CaseSensitiveCheckbox({appendTitle:u,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(w=>{this._onDidOptionChange.fire(w),!w&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(w=>{this._onCaseSensitiveKeyDown.fire(w)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let m=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,w=>{if(w.equals(15)||w.equals(17)||w.equals(9)){let g=m.indexOf(document.activeElement);if(g>=0){let f=-1;w.equals(17)?f=(g+1)%m.length:w.equals(15)&&(g===0?f=m.length-1:f=g-1),w.equals(9)?(m[g].blur(),this.inputBox.focus()):f>=0&&m[f].focus(),k.EventHelper.stop(w,!0)}}});let y=document.createElement("div");y.className="controls",y.style.display=this._showOptionButtons?"block":"none",y.appendChild(this.caseSensitive.domNode),y.appendChild(this.wholeWords.domNode),y.appendChild(this.regex.domNode),this.domNode.appendChild(y),r&&r.appendChild(this.domNode),this._register(k.addDisposableListener(this.inputBox.inputElement,"compositionstart",w=>{this.imeSessionInProgress=!0})),this._register(k.addDisposableListener(this.inputBox.inputElement,"compositionend",w=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,w=>this._onKeyDown.fire(w)),this.onkeyup(this.inputBox.inputElement,w=>this._onKeyUp.fire(w)),this.oninput(this.inputBox.inputElement,w=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,w=>this._onMouseDown.fire(w))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(r){this.fixFocusOnOptionClickEnabled=r}setEnabled(r){r?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(r){this.inputBox.value!==r&&(this.inputBox.value=r)}style(r){this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const r={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(r),this.wholeWords.style(r),this.caseSensitive.style(r);const a={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(a)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(r){this.caseSensitive.checked=r}getWholeWords(){return this.wholeWords.checked}setWholeWords(r){this.wholeWords.checked=r}getRegex(){return this.regex.checked}setRegex(r){this.regex.checked=r,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=i}),define(ee[443],te([0,1,430,7,181,52,6,165,27,210]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseCheckbox=void 0;const i=b.localize(0,null),v=b.localize(1,null);class r extends p.Checkbox{constructor(c){super({icon:C.Codicon.preserveCase,title:v+c.appendTitle,isChecked:c.isChecked,inputActiveOptionBorder:c.inputActiveOptionBorder,inputActiveOptionForeground:c.inputActiveOptionForeground,inputActiveOptionBackground:c.inputActiveOptionBackground})}}e.PreserveCaseCheckbox=r;class a extends L.Widget{constructor(c,u,s,n){super();this._showOptionButtons=s,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onPreserveCaseKeyDown=this._register(new S.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=u,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||i,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;const d=n.appendPreserveCaseLabel||"",t=n.history||[],o=!!n.flexibleHeight,h=!!n.flexibleWidth,m=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new T.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:t,flexibleHeight:o,flexibleWidth:h,flexibleMaxHeight:m})),this.preserveCase=this._register(new r({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(g=>{this._onPreserveCaseKeyDown.fire(g)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let y=[this.preserveCase.domNode];this.onkeydown(this.domNode,g=>{if(g.equals(15)||g.equals(17)||g.equals(9)){let f=y.indexOf(document.activeElement);if(f>=0){let _=-1;g.equals(17)?_=(f+1)%y.length:g.equals(15)&&(f===0?_=y.length-1:_=f-1),g.equals(9)?(y[f].blur(),this.inputBox.focus()):_>=0&&y[_].focus(),k.EventHelper.stop(g,!0)}}});let w=document.createElement("div");w.className="controls",w.style.display=this._showOptionButtons?"block":"none",w.appendChild(this.preserveCase.domNode),this.domNode.appendChild(w),c&&c.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,g=>this._onKeyDown.fire(g)),this.onkeyup(this.inputBox.inputElement,g=>this._onKeyUp.fire(g)),this.oninput(this.inputBox.inputElement,g=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,g=>this._onMouseDown.fire(g))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(c){c?this.enable():this.disable()}style(c){this.inputActiveOptionBorder=c.inputActiveOptionBorder,this.inputActiveOptionForeground=c.inputActiveOptionForeground,this.inputActiveOptionBackground=c.inputActiveOptionBackground,this.inputBackground=c.inputBackground,this.inputForeground=c.inputForeground,this.inputBorder=c.inputBorder,this.inputValidationInfoBackground=c.inputValidationInfoBackground,this.inputValidationInfoForeground=c.inputValidationInfoForeground,this.inputValidationInfoBorder=c.inputValidationInfoBorder,this.inputValidationWarningBackground=c.inputValidationWarningBackground,this.inputValidationWarningForeground=c.inputValidationWarningForeground,this.inputValidationWarningBorder=c.inputValidationWarningBorder,this.inputValidationErrorBackground=c.inputValidationErrorBackground,this.inputValidationErrorForeground=c.inputValidationErrorForeground,this.inputValidationErrorBorder=c.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const c={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(c);const u={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(u)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(c){this.preserveCase.checked=c}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(c){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=c,this.domNode.style.width=c+"px"}dispose(){super.dispose()}}e.ReplaceInput=a}),define(ee[444],te([0,1,435,8,50,84,7,51,15,2,61,207,17,27,117,130,39,55,104]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;const t=(0,l.registerCodicon)("menu-selection",l.Codicon.check),o=(0,l.registerCodicon)("menu-submenu",l.Codicon.chevronRight);var h;(function(D){D[D.Right=0]="Right",D[D.Left=1]="Left"})(h=e.Direction||(e.Direction={}));class m extends L.ActionBar{constructor(N,I,M={}){N.classList.add("monaco-menu-container"),N.setAttribute("role","presentation");const O=document.createElement("div");O.classList.add("monaco-menu"),O.setAttribute("role","presentation"),super(O,{orientation:1,actionViewItemProvider:A=>this.doGetActionViewItem(A,M,R),context:M.context,actionRunner:M.actionRunner,ariaLabel:M.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...a.isMacintosh||a.isLinux?[10]:[]],keyDown:!0}}),this.menuElement=O,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new i.DisposableStore),this.initializeStyleSheet(N),(0,S.addDisposableListener)(O,S.EventType.KEY_DOWN,A=>{new p.StandardKeyboardEvent(A).equals(2)&&A.preventDefault()}),M.enableMnemonics&&this.menuDisposables.add((0,S.addDisposableListener)(O,S.EventType.KEY_DOWN,A=>{const F=A.key.toLocaleLowerCase();if(this.mnemonics.has(F)){S.EventHelper.stop(A,!0);const E=this.mnemonics.get(F);if(E.length===1&&(E[0]instanceof w&&E[0].container&&this.focusItemByElement(E[0].container),E[0].onClick(A)),E.length>1){const W=E.shift();W&&W.container&&(this.focusItemByElement(W.container),E.push(W)),this.mnemonics.set(F,E)}}})),a.isLinux&&this._register((0,S.addDisposableListener)(O,S.EventType.KEY_DOWN,A=>{const F=new p.StandardKeyboardEvent(A);F.equals(14)||F.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),S.EventHelper.stop(A,!0)):(F.equals(13)||F.equals(12))&&(this.focusedItem=0,this.focusPrevious(),S.EventHelper.stop(A,!0))})),this._register((0,S.addDisposableListener)(this.domNode,S.EventType.MOUSE_OUT,A=>{let F=A.relatedTarget;(0,S.isAncestor)(F,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),A.stopPropagation())})),this._register((0,S.addDisposableListener)(this.actionsList,S.EventType.MOUSE_OVER,A=>{let F=A.target;if(!(!F||!(0,S.isAncestor)(F,this.actionsList)||F===this.actionsList)){for(;F.parentElement!==this.actionsList&&F.parentElement!==null;)F=F.parentElement;if(F.classList.contains("action-item")){const E=this.focusedItem;this.setFocusedItem(F),E!==this.focusedItem&&this.updateFocus()}}}));let R={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new v.DomScrollableElement(O,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const P=this.scrollableElement.getDomNode();P.style.position="",this._register((0,S.addDisposableListener)(P,S.EventType.MOUSE_UP,A=>{A.preventDefault()})),O.style.maxHeight=`${Math.max(10,window.innerHeight-N.getBoundingClientRect().top-35)}px`,I=I.filter(A=>{var F;return((F=M.submenuIds)===null||F===void 0?void 0:F.has(A.id))?(console.warn(`Found submenu cycle: ${A.id}`),!1):!0}),this.push(I,{icon:!0,label:!0,isMenu:!0}),N.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(A=>!(A instanceof g)).forEach((A,F,E)=>{A.updatePositionInSet(F+1,E.length)})}initializeStyleSheet(N){(0,S.isInShadowDOM)(N)?(this.styleSheet=(0,S.createStyleSheet)(N),this.styleSheet.textContent=_):(m.globalStyleSheet||(m.globalStyleSheet=(0,S.createStyleSheet)(),m.globalStyleSheet.textContent=_),this.styleSheet=m.globalStyleSheet)}style(N){const I=this.getContainer(),M=N.foregroundColor?`${N.foregroundColor}`:"",O=N.backgroundColor?`${N.backgroundColor}`:"",R=N.borderColor?`1px solid ${N.borderColor}`:"",P=N.shadowColor?`0 2px 4px ${N.shadowColor}`:"";I.style.border=R,this.domNode.style.color=M,this.domNode.style.backgroundColor=O,I.style.boxShadow=P,this.viewItems&&this.viewItems.forEach(A=>{(A instanceof y||A instanceof g)&&A.style(N)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(N){const I=this.focusedItem;this.setFocusedItem(N),I!==this.focusedItem&&this.updateFocus()}setFocusedItem(N){for(let I=0;I<this.actionsList.children.length;I++){let M=this.actionsList.children[I];if(N===M){this.focusedItem=I;break}}}updateFocus(N){super.updateFocus(N,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(N,I,M){if(N instanceof T.Separator)return new g(I.context,N,{icon:!0});if(N instanceof T.SubmenuAction){const O=new w(N,N.actions,M,Object.assign(Object.assign({},I),{submenuIds:new Set([...I.submenuIds||[],N.id])}));if(I.enableMnemonics){const R=O.getMnemonic();if(R&&O.isEnabled()){let P=[];this.mnemonics.has(R)&&(P=this.mnemonics.get(R)),P.push(O),this.mnemonics.set(R,P)}}return O}else{const O={enableMnemonics:I.enableMnemonics,useEventAsContext:I.useEventAsContext};if(I.getKeyBinding){const P=I.getKeyBinding(N);if(P){const A=P.getLabel();A&&(O.keybinding=A)}}const R=new y(I.context,N,O);if(I.enableMnemonics){const P=R.getMnemonic();if(P&&R.isEnabled()){let A=[];this.mnemonics.has(P)&&(A=this.mnemonics.get(P)),A.push(R),this.mnemonics.set(P,A)}}return R}}}e.Menu=m;class y extends c.BaseActionViewItem{constructor(N,I,M={}){if(M.isMenu=!0,super(I,I,M),this.options=M,this.options.icon=M.icon!==void 0?M.icon:!1,this.options.label=M.label!==void 0?M.label:!0,this.cssClass="",this.options.label&&M.enableMnemonics){let O=this.getAction().label;if(O){let R=e.MENU_MNEMONIC_REGEX.exec(O);R&&(this.mnemonic=(R[1]?R[1]:R[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new C.RunOnceScheduler(()=>{!this.element||(this._register((0,S.addDisposableListener)(this.element,S.EventType.MOUSE_UP,O=>{if(S.EventHelper.stop(O,!0),s.isFirefox){if(new n.StandardMouseEvent(O).rightButton)return;this.onClick(O)}else setTimeout(()=>{this.onClick(O)},0)})),this._register((0,S.addDisposableListener)(this.element,S.EventType.CONTEXT_MENU,O=>{S.EventHelper.stop(O,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(N){super.render(N),!!this.element&&(this.container=N,this.item=(0,S.append)(this.element,(0,S.$)("a.action-menu-item")),this._action.id===T.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,S.append)(this.item,(0,S.$)("span.menu-item-check"+t.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,S.append)(this.item,(0,S.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,S.append)(this.item,(0,S.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(N,I){this.item&&(this.item.setAttribute("aria-posinset",`${N}`),this.item.setAttribute("aria-setsize",`${I}`))}updateLabel(){if(!!this.label&&this.options.label){(0,S.clearNode)(this.label);let N=(0,d.stripIcons)(this.getAction().label);if(N){const I=f(N);this.options.enableMnemonics||(N=I),this.label.setAttribute("aria-label",I.replace(/&&/g,"&"));const M=e.MENU_MNEMONIC_REGEX.exec(N);if(M){N=k.escape(N),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let O=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(N);for(;O&&O[1];)O=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(N);const R=P=>P.replace(/&amp;&amp;/g,"&amp;");O?this.label.append(k.ltrim(R(N.substr(0,O.index))," "),(0,S.$)("u",{"aria-hidden":"true"},O[3]),k.rtrim(R(N.substr(O.index+O[0].length))," ")):this.label.innerText=R(N).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(M[1]?M[1]:M[3]).toLocaleLowerCase())}else this.label.innerText=N.replace(/&&/g,"&").trim()}}}updateTooltip(){let N=null;this.getAction().tooltip?N=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(N=this.getAction().label,this.options.keybinding&&(N=b.localize(0,null,N,this.options.keybinding))),N&&this.item&&(this.item.title=N)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){!this.item||(this.getAction().checked?(this.item.classList.add("checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(this.item.classList.remove("checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false")))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const N=this.element&&this.element.classList.contains("focused"),I=N&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,M=N&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,O=N&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=I?I.toString():"",this.item.style.backgroundColor=M?M.toString():""),this.check&&(this.check.style.color=I?I.toString():""),this.container&&(this.container.style.border=O)}style(N){this.menuStyle=N,this.applyStyle()}}class w extends y{constructor(N,I,M,O){super(N,N,O);this.submenuActions=I,this.parentData=M,this.submenuOptions=O,this.mysubmenu=null,this.submenuDisposables=this._register(new i.DisposableStore),this.mouseOver=!1,this.expandDirection=O&&O.expandDirection!==void 0?O.expandDirection:h.Right,this.showScheduler=new C.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new C.RunOnceScheduler(()=>{this.element&&!(0,S.isAncestor)((0,S.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(N){super.render(N),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,S.append)(this.item,(0,S.$)("span.submenu-indicator"+o.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,S.addDisposableListener)(this.element,S.EventType.KEY_UP,I=>{let M=new p.StandardKeyboardEvent(I);(M.equals(17)||M.equals(3))&&(S.EventHelper.stop(I,!0),this.createSubmenu(!0))})),this._register((0,S.addDisposableListener)(this.element,S.EventType.KEY_DOWN,I=>{let M=new p.StandardKeyboardEvent(I);(0,S.getActiveElement)()===this.item&&(M.equals(17)||M.equals(3))&&S.EventHelper.stop(I,!0)})),this._register((0,S.addDisposableListener)(this.element,S.EventType.MOUSE_OVER,I=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,S.addDisposableListener)(this.element,S.EventType.MOUSE_LEAVE,I=>{this.mouseOver=!1})),this._register((0,S.addDisposableListener)(this.element,S.EventType.FOCUS_OUT,I=>{this.element&&!(0,S.isAncestor)((0,S.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(N){S.EventHelper.stop(N,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(N){if(this.parentData.submenu&&(N||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(I){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(N,I,M,O){const R={top:0,left:0};return R.left=(0,r.layout)(N.width,I.width,{position:O===h.Right?0:1,offset:M.left,size:M.width}),R.left>=M.left&&R.left<M.left+M.width&&(M.left+10+I.width<=N.width&&(R.left=M.left+10),M.top+=10,M.height=0),R.top=(0,r.layout)(N.height,I.height,{position:0,offset:M.top,size:0}),R.top+I.height===M.top&&R.top+M.height+I.height<=N.height&&(R.top+=M.height),R}createSubmenu(N=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,S.append)(this.element,(0,S.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const I=getComputedStyle(this.parentData.parent.domNode),M=parseFloat(I.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new m(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new T.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const O=this.element.getBoundingClientRect(),R={top:O.top-M,left:O.left,height:O.height+2*M,width:O.width},P=this.submenuContainer.getBoundingClientRect(),{top:A,left:F}=this.calculateSubmenuMenuLayout(new S.Dimension(window.innerWidth,window.innerHeight),S.Dimension.lift(P),R,this.expandDirection);this.submenuContainer.style.left=`${F}px`,this.submenuContainer.style.top=`${A}px`,this.submenuDisposables.add((0,S.addDisposableListener)(this.submenuContainer,S.EventType.KEY_UP,E=>{new p.StandardKeyboardEvent(E).equals(15)&&(S.EventHelper.stop(E,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,S.addDisposableListener)(this.submenuContainer,S.EventType.KEY_DOWN,E=>{new p.StandardKeyboardEvent(E).equals(15)&&S.EventHelper.stop(E,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(N),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(N){var I;this.item&&((I=this.item)===null||I===void 0||I.setAttribute("aria-expanded",N))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const I=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=I?`${I}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class g extends c.ActionViewItem{style(N){this.label&&(this.label.style.borderBottomColor=N.separatorColor?`${N.separatorColor}`:"")}}function f(D){const N=e.MENU_MNEMONIC_REGEX,I=N.exec(D);if(!I)return D;const M=!I[1];return D.replace(N,M?"$2$3":"").trim()}e.cleanMnemonic=f;let _=`
.monaco-menu {
	font-size: 13px;

}

${(0,u.formatRule)(t)}
${(0,u.formatRule)(o)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
	box-shadow: #DDD 0 6px 6px -6px inset;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
	box-shadow: #DDD 6px 0 6px -6px inset;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top.left {
	box-shadow: #DDD 6px 6px 6px -6px inset;
}

/* ---------- Default Style ---------- */

:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(100, 100, 100, .4);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(121, 121, 121, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(111, 195, 223, .6);
}

.monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(100, 100, 100, .7);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(111, 195, 223, .8);
}

.monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(0, 0, 0, .6);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(191, 191, 191, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(111, 195, 223, 1);
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {
	box-shadow: #000 6px 0 6px -6px inset;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {
	box-shadow: #000 6px 6px 6px -6px inset;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.left {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {
	box-shadow: none;
}
`}),define(ee[445],te([0,1,7,181,2,51,74,55,132]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const C=b.$;class i extends T.Disposable{constructor(r){super();this.parent=r,this.onKeyDown=a=>b.addDisposableListener(this.inputBox.inputElement,b.EventType.KEY_DOWN,l=>{a(new L.StandardKeyboardEvent(l))}),this.onMouseDown=a=>b.addDisposableListener(this.inputBox.inputElement,b.EventType.MOUSE_DOWN,l=>{a(new p.StandardMouseEvent(l))}),this.onDidChange=a=>this.inputBox.onDidChange(a),this.container=b.append(this.parent,C(".quick-input-box")),this.inputBox=this._register(new k.InputBox(this.container,void 0))}get value(){return this.inputBox.value}set value(r){this.inputBox.value=r}select(r=null){this.inputBox.select(r)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(r){this.inputBox.setPlaceHolder(r)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(r){this.inputBox.setAriaLabel(r)}get password(){return this.inputBox.inputElement.type==="password"}set password(r){this.inputBox.inputElement.type=r?"password":"text"}setAttribute(r,a){this.inputBox.inputElement.setAttribute(r,a)}removeAttribute(r){this.inputBox.inputElement.removeAttribute(r)}showDecoration(r){r===S.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:r===S.default.Info?1:r===S.default.Warning?2:3,content:""})}stylesForType(r){return this.inputBox.stylesForType(r===S.default.Info?1:r===S.default.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(r){this.inputBox.style(r)}}e.QuickInputBox=i}),define(ee[446],te([4,5]),function(G,e){return G.create("vs/base/common/errorMessage",e)}),define(ee[447],te([0,1,446,20,19]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function L(i,v){return v&&(i.stack||i.stacktrace)?b.localize(0,null,p(i),S(i.stack)||S(i.stacktrace)):p(i)}function S(i){return Array.isArray(i)?i.join(`
`):i}function p(i){return typeof i.code=="string"&&typeof i.errno=="number"&&typeof i.syscall=="string"?b.localize(1,null,i.message):i.message||b.localize(2,null)}function C(i=null,v=!1){if(!i)return b.localize(3,null);if(Array.isArray(i)){const r=T.coalesce(i),a=C(r[0],v);return r.length>1?b.localize(4,null,a,r.length):a}if(k.isString(i))return i;if(i.detail){const r=i.detail;if(r.error)return L(r.error,v);if(r.exception)return L(r.exception,v)}return i.stack?L(i,v):i.message?i.message:b.localize(5,null)}e.toErrorMessage=C}),define(ee[448],te([4,5]),function(G,e){return G.create("vs/base/common/keybindingLabels",e)}),define(ee[182],te([0,1,448]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class k{constructor(S,p,C=p){this.modifierLabels=[null],this.modifierLabels[2]=S,this.modifierLabels[1]=p,this.modifierLabels[3]=C}toLabel(S,p,C){if(p.length===0)return null;const i=[];for(let v=0,r=p.length;v<r;v++){const a=p[v],l=C(a);if(l===null)return null;i[v]=T(a,l,this.modifierLabels[S])}return i.join(" ")}}e.ModifierLabelProvider=k,e.UILabelProvider=new k({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:b.localize(0,null),shiftKey:b.localize(1,null),altKey:b.localize(2,null),metaKey:b.localize(3,null),separator:"+"},{ctrlKey:b.localize(4,null),shiftKey:b.localize(5,null),altKey:b.localize(6,null),metaKey:b.localize(7,null),separator:"+"}),e.AriaLabelProvider=new k({ctrlKey:b.localize(8,null),shiftKey:b.localize(9,null),altKey:b.localize(10,null),metaKey:b.localize(11,null),separator:"+"},{ctrlKey:b.localize(12,null),shiftKey:b.localize(13,null),altKey:b.localize(14,null),metaKey:b.localize(15,null),separator:"+"},{ctrlKey:b.localize(16,null),shiftKey:b.localize(17,null),altKey:b.localize(18,null),metaKey:b.localize(19,null),separator:"+"});function T(L,S,p){if(S===null)return"";const C=[];return L.ctrlKey&&C.push(p.ctrlKey),L.shiftKey&&C.push(p.shiftKey),L.altKey&&C.push(p.altKey),L.metaKey&&C.push(p.metaKey),S!==""&&C.push(S),C.join(p.separator)}}),define(ee[449],te([0,1,42,182,7,434,313]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const S=T.$;class p{constructor(i,v,r){this.os=v,this.keyElements=new Set,this.options=r||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=T.append(i,S(".monaco-keybinding")),this.didEverRender=!1,i.appendChild(this.domNode)}get element(){return this.domNode}set(i,v){this.didEverRender&&this.keybinding===i&&p.areSame(this.matches,v)||(this.keybinding=i,this.matches=v,this.render())}render(){if(this.clear(),this.keybinding){let[i,v]=this.keybinding.getParts();i&&this.renderPart(this.domNode,i,this.matches?this.matches.firstPart:null),v&&(T.append(this.domNode,S("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,v,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){T.clearNode(this.domNode),this.keyElements.clear()}renderPart(i,v,r){const a=k.UILabelProvider.modifierLabels[this.os];v.ctrlKey&&this.renderKey(i,a.ctrlKey,Boolean(r==null?void 0:r.ctrlKey),a.separator),v.shiftKey&&this.renderKey(i,a.shiftKey,Boolean(r==null?void 0:r.shiftKey),a.separator),v.altKey&&this.renderKey(i,a.altKey,Boolean(r==null?void 0:r.altKey),a.separator),v.metaKey&&this.renderKey(i,a.metaKey,Boolean(r==null?void 0:r.metaKey),a.separator);const l=v.keyLabel;l&&this.renderKey(i,l,Boolean(r==null?void 0:r.keyCode),"")}renderKey(i,v,r,a){T.append(i,this.createKeyElement(v,r?".highlight":"")),a&&T.append(i,S("span.monaco-keybinding-key-separator",void 0,a))}renderUnbound(i){T.append(i,this.createKeyElement((0,L.localize)(0,null)))}createKeyElement(i,v=""){const r=S("span.monaco-keybinding-key"+v,void 0,i);return this.keyElements.add(r),r}style(i){this.labelBackground=i.keybindingLabelBackground,this.labelForeground=i.keybindingLabelForeground,this.labelBorder=i.keybindingLabelBorder,this.labelBottomBorder=i.keybindingLabelBottomBorder,this.labelShadow=i.keybindingLabelShadow,this.applyStyles()}applyStyles(){var i;if(this.element){for(const v of this.keyElements)this.labelBackground&&(v.style.backgroundColor=(i=this.labelBackground)===null||i===void 0?void 0:i.toString()),this.labelBorder&&(v.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(v.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(v.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(i,v){return i===v||!i&&!v?!0:!!i&&!!v&&(0,b.equals)(i.firstPart,v.firstPart)&&(0,b.equals)(i.chordPart,v.chordPart)}}e.KeybindingLabel=p}),define(ee[450],te([4,5]),function(G,e){return G.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(ee[451],te([4,5]),function(G,e){return G.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(ee[452],te([0,1,7,2,104,291,6,51,179,161,90,19,17,84,50,213,20,449,451,27,132]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const o=b.$;class h{constructor(N){this.hidden=!1,this._onChecked=new S.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,N)}get checked(){return!!this._checked}set checked(N){N!==this._checked&&(this._checked=N,this._onChecked.fire(N))}dispose(){this._onChecked.dispose()}}class m{get templateId(){return m.ID}renderTemplate(N){const I=Object.create(null);I.toDisposeElement=[],I.toDisposeTemplate=[],I.entry=b.append(N,o(".quick-input-list-entry"));const M=b.append(I.entry,o("label.quick-input-list-label"));I.toDisposeTemplate.push(b.addStandardDisposableListener(M,b.EventType.CLICK,E=>{I.checkbox.offsetParent||E.preventDefault()})),I.checkbox=b.append(M,o("input.quick-input-list-checkbox")),I.checkbox.type="checkbox",I.toDisposeTemplate.push(b.addStandardDisposableListener(I.checkbox,b.EventType.CHANGE,E=>{I.element.checked=I.checkbox.checked}));const O=b.append(M,o(".quick-input-list-rows")),R=b.append(O,o(".quick-input-list-row")),P=b.append(O,o(".quick-input-list-row"));I.label=new C.IconLabel(R,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const A=b.append(R,o(".quick-input-list-entry-keybinding"));I.keybinding=new n.KeybindingLabel(A,a.OS);const F=b.append(P,o(".quick-input-list-label-meta"));return I.detail=new i.HighlightedLabel(F,!0),I.separator=b.append(I.entry,o(".quick-input-list-separator")),I.actionBar=new l.ActionBar(I.entry),I.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),I.toDisposeTemplate.push(I.actionBar),I}renderElement(N,I,M){M.toDisposeElement=(0,k.dispose)(M.toDisposeElement),M.element=N,M.checkbox.checked=N.checked,M.toDisposeElement.push(N.onChecked(E=>M.checkbox.checked=E));const{labelHighlights:O,descriptionHighlights:R,detailHighlights:P}=N,A=Object.create(null);A.matches=O||[],A.descriptionTitle=N.saneDescription,A.descriptionMatches=R||[],A.extraClasses=N.item.iconClasses,A.italic=N.item.italic,A.strikethrough=N.item.strikethrough,M.label.setLabel(N.saneLabel,N.saneDescription,A),M.keybinding.set(N.item.keybinding),M.detail.set(N.saneDetail,P),N.separator&&N.separator.label?(M.separator.textContent=N.separator.label,M.separator.style.display=""):M.separator.style.display="none",M.entry.classList.toggle("quick-input-list-separator-border",!!N.separator),M.actionBar.clear();const F=N.item.buttons;F&&F.length?(M.actionBar.push(F.map((E,W)=>{let V=E.iconClass||(E.iconPath?(0,u.getIconClass)(E.iconPath):void 0);E.alwaysVisible&&(V=V?`${V} always-visible`:"always-visible");const $=new c.Action(`id-${W}`,"",V,!0,()=>Ie(this,void 0,void 0,function*(){N.fireButtonTriggered({button:E,item:N.item})}));return $.tooltip=E.tooltip||"",$}),{icon:!0,label:!1}),M.entry.classList.add("has-actions")):M.entry.classList.remove("has-actions")}disposeElement(N,I,M){M.toDisposeElement=(0,k.dispose)(M.toDisposeElement)}disposeTemplate(N){N.toDisposeElement=(0,k.dispose)(N.toDisposeElement),N.toDisposeTemplate=(0,k.dispose)(N.toDisposeTemplate)}}m.ID="listelement";class y{getHeight(N){return N.saneDetail?44:22}getTemplateId(N){return m.ID}}var w;(function(D){D[D.First=1]="First",D[D.Second=2]="Second",D[D.Last=3]="Last",D[D.Next=4]="Next",D[D.Previous=5]="Previous",D[D.NextPage=6]="NextPage",D[D.PreviousPage=7]="PreviousPage"})(w=e.QuickInputListFocus||(e.QuickInputListFocus={}));class g{constructor(N,I,M){this.parent=N,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new S.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new S.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new S.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new S.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new S.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new S.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new S.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=I,this.container=b.append(this.parent,o(".quick-input-list"));const O=new y,R=new _;this.list=M.createList("QuickInput",this.container,O,[new m],{identityProvider:{getId:P=>P.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:R}),this.list.getHTMLElement().id=I,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(P=>{const A=new p.StandardKeyboardEvent(P);switch(A.keyCode){case 10:this.toggleCheckbox();break;case 31:(a.isMacintosh?P.metaKey:P.ctrlKey)&&this.list.setFocus((0,r.range)(this.list.length));break;case 16:const F=this.list.getFocus();F.length===1&&F[0]===0&&this._onLeave.fire();break;case 18:const E=this.list.getFocus();E.length===1&&E[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(A)})),this.disposables.push(this.list.onMouseDown(P=>{P.browserEvent.button!==2&&P.browserEvent.preventDefault()})),this.disposables.push(b.addDisposableListener(this.container,b.EventType.CLICK,P=>{(P.x||P.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(P=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(P=>{typeof P.index=="number"&&(P.browserEvent.preventDefault(),this.list.setSelection([P.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return S.Event.map(this.list.onDidChangeFocus,N=>N.elements.map(I=>I.item))}get onDidChangeSelection(){return S.Event.map(this.list.onDidChangeSelection,N=>({items:N.elements.map(I=>I.item),event:N.browserEvent}))}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(N,I=!0){for(let M=0,O=N.length;M<O;M++){const R=N[M];if(!R.hidden)if(R.checked)I=!0;else return!1}return I}getCheckedCount(){let N=0;const I=this.elements;for(let M=0,O=I.length;M<O;M++)I[M].checked&&N++;return N}getVisibleCount(){let N=0;const I=this.elements;for(let M=0,O=I.length;M<O;M++)I[M].hidden||N++;return N}setAllVisibleChecked(N){try{this._fireCheckedEvents=!1,this.elements.forEach(I=>{I.hidden||(I.checked=N)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(N){this.elementDisposables=(0,k.dispose)(this.elementDisposables);const I=M=>this.fireButtonTriggered(M);this.inputElements=N,this.elements=N.reduce((M,O,R)=>{var P,A,F;if(O.type!=="separator"){const E=R&&N[R-1],W=O.label&&O.label.replace(/\r?\n/g," "),V=O.meta&&O.meta.replace(/\r?\n/g," "),$=O.description&&O.description.replace(/\r?\n/g," "),Z=O.detail&&O.detail.replace(/\r?\n/g," "),X=O.ariaLabel||[W,$,Z].map(J=>(0,t.getCodiconAriaLabel)(J)).filter(J=>!!J).join(", ");M.push(new h({index:R,item:O,saneLabel:W,saneMeta:V,saneAriaLabel:X,saneDescription:$,saneDetail:Z,labelHighlights:(P=O.highlights)===null||P===void 0?void 0:P.label,descriptionHighlights:(A=O.highlights)===null||A===void 0?void 0:A.description,detailHighlights:(F=O.highlights)===null||F===void 0?void 0:F.detail,checked:!1,separator:E&&E.type==="separator"?E:void 0,fireButtonTriggered:I}))}return M},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(M=>M.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((M,O,R)=>(M.set(O.item,R),M),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(N=>N.item)}setFocusedElements(N){if(this.list.setFocus(N.filter(I=>this.elementsToIndexes.has(I)).map(I=>this.elementsToIndexes.get(I))),N.length>0){const I=this.list.getFocus()[0];typeof I=="number"&&this.list.reveal(I)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(N){this.list.setSelection(N.filter(I=>this.elementsToIndexes.has(I)).map(I=>this.elementsToIndexes.get(I)))}getCheckedElements(){return this.elements.filter(N=>N.checked).map(N=>N.item)}setCheckedElements(N){try{this._fireCheckedEvents=!1;const I=new Set;for(const M of N)I.add(M);for(const M of this.elements)M.checked=I.has(M.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(N){this.list.getHTMLElement().style.pointerEvents=N?"":"none"}focus(N){if(!this.list.length)return;switch(N===w.Next&&this.list.getFocus()[0]===this.list.length-1&&(N=w.First),N===w.Previous&&this.list.getFocus()[0]===0&&(N=w.Last),N===w.Second&&this.list.length<2&&(N=w.First),N){case w.First:this.list.focusFirst();break;case w.Second:this.list.focusNth(1);break;case w.Last:this.list.focusLast();break;case w.Next:this.list.focusNext();break;case w.Previous:this.list.focusPrevious();break;case w.NextPage:this.list.focusNextPage();break;case w.PreviousPage:this.list.focusPreviousPage();break}const I=this.list.getFocus()[0];typeof I=="number"&&this.list.reveal(I)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(N){this.list.getHTMLElement().style.maxHeight=N?`calc(${Math.floor(N/44)*44}px)`:"",this.list.layout()}filter(N){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(N=N.trim(),!N||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(M=>{M.labelHighlights=void 0,M.descriptionHighlights=void 0,M.detailHighlights=void 0,M.hidden=!1;const O=M.index&&this.inputElements[M.index-1];M.separator=O&&O.type==="separator"?O:void 0});else{let M;this.elements.forEach(O=>{const R=this.matchOnLabel?(0,s.withNullAsUndefined)((0,T.matchesFuzzyIconAware)(N,(0,T.parseLabelWithIcons)(O.saneLabel))):void 0,P=this.matchOnDescription?(0,s.withNullAsUndefined)((0,T.matchesFuzzyIconAware)(N,(0,T.parseLabelWithIcons)(O.saneDescription||""))):void 0,A=this.matchOnDetail?(0,s.withNullAsUndefined)((0,T.matchesFuzzyIconAware)(N,(0,T.parseLabelWithIcons)(O.saneDetail||""))):void 0,F=this.matchOnMeta?(0,s.withNullAsUndefined)((0,T.matchesFuzzyIconAware)(N,(0,T.parseLabelWithIcons)(O.saneMeta||""))):void 0;if(R||P||A||F?(O.labelHighlights=R,O.descriptionHighlights=P,O.detailHighlights=A,O.hidden=!1):(O.labelHighlights=void 0,O.descriptionHighlights=void 0,O.detailHighlights=void 0,O.hidden=!O.item.alwaysShow),O.separator=void 0,!this.sortByLabel){const E=O.index&&this.inputElements[O.index-1];M=E&&E.type==="separator"?E:M,M&&!O.hidden&&(O.separator=M,M=void 0)}})}const I=this.elements.filter(M=>!M.hidden);if(this.sortByLabel&&N){const M=N.toLowerCase();I.sort((O,R)=>f(O,R,M))}return this.elementsToIndexes=I.reduce((M,O,R)=>(M.set(O.item,R),M),new Map),this.list.splice(0,this.list.length,I),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(I.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const N=this.list.getFocusedElements(),I=this.allVisibleChecked(N);for(const M of N)M.checked=!I}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(N){this.container.style.display=N?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,k.dispose)(this.elementDisposables),this.disposables=(0,k.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(N){this._onButtonTriggered.fire(N)}style(N){this.list.style(N)}}Re([v.memoize],g.prototype,"onDidChangeFocus",null),Re([v.memoize],g.prototype,"onDidChangeSelection",null),e.QuickInputList=g;function f(D,N,I){const M=D.labelHighlights||[],O=N.labelHighlights||[];return M.length&&!O.length?-1:!M.length&&O.length?1:M.length===0&&O.length===0?0:(0,L.compareAnything)(D.saneLabel,N.saneLabel,I)}class _{getWidgetAriaLabel(){return(0,d.localize)(0,null)}getAriaLabel(N){return N.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}}),define(ee[453],te([0,1,205,7,23,452,445,51,450,208,316,6,304,2,74,84,50,19,15,213,27,105,17,132]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const y=k.$,g={iconClass:(0,o.registerCodicon)("quick-input-back",o.Codicon.arrowLeft).classNames,tooltip:(0,C.localize)(0,null),handle:-1};class f extends l.Disposable{constructor(I){super();this.ui=I,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=f.noPromptMessage,this._severity=c.default.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new r.Emitter),this.onDidHideEmitter=this._register(new r.Emitter),this.onDisposeEmitter=this._register(new r.Emitter),this.visibleDisposables=this._register(new l.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(I){this._title=I,this.update()}get description(){return this._description}set description(I){this._description=I,this.update()}get step(){return this._steps}set step(I){this._steps=I,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(I){this._totalSteps=I,this.update()}get enabled(){return this._enabled}set enabled(I){this._enabled=I,this.update()}get contextKey(){return this._contextKey}set contextKey(I){this._contextKey=I,this.update()}get busy(){return this._busy}set busy(I){this._busy=I,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(I){const M=this._ignoreFocusOut!==I&&!m.isIOS;this._ignoreFocusOut=I&&!m.isIOS,M&&this.update()}get buttons(){return this._buttons}set buttons(I){this._buttons=I,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(I){this._validationMessage=I,this.update()}get severity(){return this._severity}set severity(I){this._severity=I,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(I=>{this.buttons.indexOf(I)!==-1&&this.onDidTriggerButtonEmitter.fire(I)})),this.ui.show(this),this.visible=!0,this.update())}hide(){!this.visible||this.ui.hide()}didHide(I=b.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:I})}update(){if(!this.visible)return;const I=this.getTitle();I&&this.ui.title.textContent!==I?this.ui.title.textContent=I:!I&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0;");const M=this.getDescription();if(this.ui.description1.textContent!==M&&(this.ui.description1.textContent=M),this.ui.description2.textContent!==M&&(this.ui.description2.textContent=M),this.busy&&!this.busyDelay&&(this.busyDelay=new d.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const R=this.buttons.filter(A=>A===g);this.ui.leftActionBar.push(R.map((A,F)=>{const E=new s.Action(`id-${F}`,"",A.iconClass||(0,t.getIconClass)(A.iconPath),!0,()=>Ie(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(A)}));return E.tooltip=A.tooltip||"",E}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const P=this.buttons.filter(A=>A!==g);this.ui.rightActionBar.push(P.map((A,F)=>{const E=new s.Action(`id-${F}`,"",A.iconClass||(0,t.getIconClass)(A.iconPath),!0,()=>Ie(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(A)}));return E.tooltip=A.tooltip||"",E}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const O=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==O&&(this._lastValidationMessage=O,k.reset(this.ui.message,...(0,h.renderLabelWithIcons)(O))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,C.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(I){if(this.ui.inputBox.showDecoration(I),I!==c.default.Ignore){const M=this.ui.inputBox.stylesForType(I);this.ui.message.style.color=M.foreground?`${M.foreground}`:"",this.ui.message.style.backgroundColor=M.background?`${M.background}`:"",this.ui.message.style.border=M.border?`1px solid ${M.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}f.noPromptMessage=(0,C.localize)(1,null);class _ extends f{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new r.Emitter),this.onWillAcceptEmitter=this._register(new r.Emitter),this.onDidAcceptEmitter=this._register(new r.Emitter),this.onDidCustomEmitter=this._register(new r.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._itemActivation=this.ui.isScreenReaderOptimized()?b.ItemActivation.NONE:b.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new r.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new r.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new r.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=I=>I,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(I){this._quickNavigate=I,this.update()}get value(){return this._value}set value(I){this._value!==I&&(this._value=I||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(I){this._ariaLabel=I,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(I){this._placeholder=I,this.update()}get items(){return this._items}set items(I){this._items=I,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(I){this._canSelectMany=I,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(I){this._canAcceptInBackground=I}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(I){this._matchOnDescription=I,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(I){this._matchOnDetail=I,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(I){this._matchOnLabel=I,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(I){this._sortByLabel=I,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(I){this._autoFocusOnList=I,this.update()}get itemActivation(){return this._itemActivation}set itemActivation(I){this._itemActivation=I}get activeItems(){return this._activeItems}set activeItems(I){this._activeItems=I,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(I){this._selectedItems=I,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?b.NO_KEY_MODS:this.ui.keyMods}set valueSelection(I){this._valueSelection=I,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(I){this._customButton=I,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(I){this._customButtonLabel=I,this.update()}get customHover(){return this._customButtonHover}set customHover(I){this._customButtonHover=I,this.update()}get ok(){return this._ok}set ok(I){this._ok=I,this.update()}get hideInput(){return!!this._hideInput}set hideInput(I){this._hideInput=I,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(L.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(I=>{if(I===this.value)return;this._value=I,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(I)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(I=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(I=>{switch(I.keyCode){case 18:this.ui.list.focus(L.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),k.EventHelper.stop(I,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(L.QuickInputListFocus.Previous):this.ui.list.focus(L.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),k.EventHelper.stop(I,!0);break;case 12:this.ui.list.focus(L.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),k.EventHelper.stop(I,!0);break;case 11:this.ui.list.focus(L.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),k.EventHelper.stop(I,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(I.ctrlKey||I.metaKey)&&!I.shiftKey&&!I.altKey&&(this.ui.list.focus(L.QuickInputListFocus.First),k.EventHelper.stop(I,!0));break;case 13:(I.ctrlKey||I.metaKey)&&!I.shiftKey&&!I.altKey&&(this.ui.list.focus(L.QuickInputListFocus.Last),k.EventHelper.stop(I,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{!this.canSelectMany&&this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(I=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,n.equals)(I,this._activeItems,(M,O)=>M===O)||(this._activeItems=I,this.onDidChangeActiveEmitter.fire(I))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:I,event:M})=>{if(this.canSelectMany){I.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,n.equals)(I,this._selectedItems,(O,R)=>O===R)||(this._selectedItems=I,this.onDidChangeSelectionEmitter.fire(I),I.length&&this.handleAccept(M instanceof MouseEvent&&M.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(I=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,n.equals)(I,this._selectedItems,(M,O)=>M===O)||(this._selectedItems=I,this.onDidChangeSelectionEmitter.fire(I))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(I=>this.onDidTriggerItemButtonEmitter.fire(I))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(I){let M=!1;this.onWillAcceptEmitter.fire({veto:()=>M=!0}),M||this.onDidAcceptEmitter.fire({inBackground:I})}registerQuickNavigation(){return k.addDisposableListener(this.ui.container,k.EventType.KEY_UP,I=>{if(this.canSelectMany||!this._quickNavigate)return;const M=new p.StandardKeyboardEvent(I),O=M.keyCode;this._quickNavigate.keybindings.some(A=>{const[F,E]=A.getParts();return E?!1:F.shiftKey&&O===4?!(M.ctrlKey||M.altKey||M.metaKey):!!(F.altKey&&O===6||F.ctrlKey&&O===5||F.metaKey&&O===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const I=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",I&&!this.description);const M={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!I,progressBar:!I,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(M),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const O=this.ariaLabel||this.placeholder||_.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==O&&(this.ui.inputBox.ariaLabel=O),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case b.ItemActivation.NONE:this._itemActivation=b.ItemActivation.FIRST;break;case b.ItemActivation.SECOND:this.ui.list.focus(L.QuickInputListFocus.Second),this._itemActivation=b.ItemActivation.FIRST;break;case b.ItemActivation.LAST:this.ui.list.focus(L.QuickInputListFocus.Last),this._itemActivation=b.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),M.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(L.QuickInputListFocus.First))}}_.DEFAULT_ARIA_LABEL=(0,C.localize)(3,null);class D extends l.Disposable{constructor(I){super();this.options=I,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new r.Emitter),this.onDidCustomEmitter=this._register(new r.Emitter),this.onDidTriggerButtonEmitter=this._register(new r.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new r.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new r.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=I.idPrefix,this.parentElement=I.container,this.styles=I.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const I=M=>{this.keyMods.ctrlCmd=M.ctrlKey||M.metaKey,this.keyMods.alt=M.altKey};this._register(k.addDisposableListener(window,k.EventType.KEY_DOWN,I,!0)),this._register(k.addDisposableListener(window,k.EventType.KEY_UP,I,!0)),this._register(k.addDisposableListener(window,k.EventType.MOUSE_DOWN,I,!0))}getUI(){if(this.ui)return this.ui;const I=k.append(this.parentElement,y(".quick-input-widget.show-file-icons"));I.tabIndex=-1,I.style.display="none";const M=k.createStyleSheet(I),O=k.append(I,y(".quick-input-titlebar")),R=this._register(new u.ActionBar(O));R.domNode.classList.add("quick-input-left-action-bar");const P=k.append(O,y(".quick-input-title")),A=this._register(new u.ActionBar(O));A.domNode.classList.add("quick-input-right-action-bar");const F=k.append(I,y(".quick-input-description")),E=k.append(I,y(".quick-input-header")),W=k.append(E,y("input.quick-input-check-all"));W.type="checkbox",this._register(k.addStandardDisposableListener(W,k.EventType.CHANGE,oe=>{const K=W.checked;Q.setAllVisibleChecked(K)})),this._register(k.addDisposableListener(W,k.EventType.CLICK,oe=>{(oe.x||oe.y)&&X.setFocus()}));const V=k.append(E,y(".quick-input-description")),$=k.append(E,y(".quick-input-and-message")),Z=k.append($,y(".quick-input-filter")),X=this._register(new S.QuickInputBox(Z));X.setAttribute("aria-describedby",`${this.idPrefix}message`);const J=k.append(Z,y(".quick-input-visible-count"));J.setAttribute("aria-live","polite"),J.setAttribute("aria-atomic","true");const ie=new i.CountBadge(J,{countFormat:(0,C.localize)(4,null)}),de=k.append(Z,y(".quick-input-count"));de.setAttribute("aria-live","polite");const ue=new i.CountBadge(de,{countFormat:(0,C.localize)(5,null)}),q=k.append(E,y(".quick-input-action")),B=new a.Button(q);B.label=(0,C.localize)(6,null),this._register(B.onDidClick(oe=>{this.onDidAcceptEmitter.fire()}));const j=k.append(E,y(".quick-input-action")),H=new a.Button(j);H.label=(0,C.localize)(7,null),this._register(H.onDidClick(oe=>{this.onDidCustomEmitter.fire()}));const z=k.append($,y(`#${this.idPrefix}message.quick-input-message`)),Q=this._register(new L.QuickInputList(I,this.idPrefix+"list",this.options));this._register(Q.onChangedAllVisibleChecked(oe=>{W.checked=oe})),this._register(Q.onChangedVisibleCount(oe=>{ie.setCount(oe)})),this._register(Q.onChangedCheckedCount(oe=>{ue.setCount(oe)})),this._register(Q.onLeave(()=>{setTimeout(()=>{X.setFocus(),this.controller instanceof _&&this.controller.canSelectMany&&Q.clearFocus()},0)})),this._register(Q.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const x=new v.ProgressBar(I);x.getContainer().classList.add("quick-input-progress");const le=k.trackFocus(I);return this._register(le),this._register(k.addDisposableListener(I,k.EventType.FOCUS,oe=>{this.previousFocusElement=oe.relatedTarget instanceof HTMLElement?oe.relatedTarget:void 0},!0)),this._register(le.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(b.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(k.addDisposableListener(I,k.EventType.FOCUS,oe=>{X.setFocus()})),this._register(k.addDisposableListener(I,k.EventType.KEY_DOWN,oe=>{const K=new p.StandardKeyboardEvent(oe);switch(K.keyCode){case 3:k.EventHelper.stop(oe,!0),this.onDidAcceptEmitter.fire();break;case 9:k.EventHelper.stop(oe,!0),this.hide(b.QuickInputHideReason.Gesture);break;case 2:if(!K.altKey&&!K.ctrlKey&&!K.metaKey){const re=[".action-label.codicon"];I.classList.contains("show-checkboxes")?re.push("input"):re.push("input[type=text]"),this.getUI().list.isDisplayed()&&re.push(".monaco-list");const ae=I.querySelectorAll(re.join(", "));K.shiftKey&&K.target===ae[0]?(k.EventHelper.stop(oe,!0),ae[ae.length-1].focus()):!K.shiftKey&&K.target===ae[ae.length-1]&&(k.EventHelper.stop(oe,!0),ae[0].focus())}break}})),this.ui={container:I,styleSheet:M,leftActionBar:R,titleBar:O,title:P,description1:F,description2:V,rightActionBar:A,checkAll:W,filterContainer:Z,inputBox:X,visibleCountContainer:J,visibleCount:ie,countContainer:de,count:ue,okContainer:q,ok:B,message:z,customButtonContainer:j,customButton:H,list:Q,progressBar:x,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:oe=>this.show(oe),hide:()=>this.hide(),setVisibilities:oe=>this.setVisibilities(oe),setComboboxAccessibility:oe=>this.setComboboxAccessibility(oe),setEnabled:oe=>this.setEnabled(oe),setContextKey:oe=>this.options.setContextKey(oe)},this.updateStyles(),this.ui}pick(I,M={},O=T.CancellationToken.None){return new Promise((R,P)=>{let A=V=>{A=R,M.onKeyMods&&M.onKeyMods(F.keyMods),R(V)};if(O.isCancellationRequested){A(void 0);return}const F=this.createQuickPick();let E;const W=[F,F.onDidAccept(()=>{if(F.canSelectMany)A(F.selectedItems.slice()),F.hide();else{const V=F.activeItems[0];V&&(A(V),F.hide())}}),F.onDidChangeActive(V=>{const $=V[0];$&&M.onDidFocus&&M.onDidFocus($)}),F.onDidChangeSelection(V=>{if(!F.canSelectMany){const $=V[0];$&&(A($),F.hide())}}),F.onDidTriggerItemButton(V=>M.onDidTriggerItemButton&&M.onDidTriggerItemButton(Object.assign(Object.assign({},V),{removeItem:()=>{const $=F.items.indexOf(V.item);if($!==-1){const Z=F.items.slice(),X=Z.splice($,1),J=F.activeItems.filter(ie=>ie!==X[0]);F.items=Z,J&&(F.activeItems=J)}}}))),F.onDidChangeValue(V=>{E&&!V&&(F.activeItems.length!==1||F.activeItems[0]!==E)&&(F.activeItems=[E])}),O.onCancellationRequested(()=>{F.hide()}),F.onDidHide(()=>{(0,l.dispose)(W),A(void 0)})];F.title=M.title,F.canSelectMany=!!M.canPickMany,F.placeholder=M.placeHolder,F.ignoreFocusOut=!!M.ignoreFocusLost,F.matchOnDescription=!!M.matchOnDescription,F.matchOnDetail=!!M.matchOnDetail,F.matchOnLabel=M.matchOnLabel===void 0||M.matchOnLabel,F.autoFocusOnList=M.autoFocusOnList===void 0||M.autoFocusOnList,F.quickNavigate=M.quickNavigate,F.contextKey=M.contextKey,F.busy=!0,Promise.all([I,M.activeItem]).then(([V,$])=>{E=$,F.busy=!1,F.items=V,F.canSelectMany&&(F.selectedItems=V.filter(Z=>Z.type!=="separator"&&Z.picked)),E&&(F.activeItems=[E])}),F.show(),Promise.resolve(I).then(void 0,V=>{P(V),F.hide()})})}createQuickPick(){const I=this.getUI();return new _(I)}show(I){const M=this.getUI();this.onShowEmitter.fire();const O=this.controller;this.controller=I,O&&O.didHide(),this.setEnabled(!0),M.leftActionBar.clear(),M.title.textContent="",M.description1.textContent="",M.description2.textContent="",M.rightActionBar.clear(),M.checkAll.checked=!1,M.inputBox.placeholder="",M.inputBox.password=!1,M.inputBox.showDecoration(c.default.Ignore),M.visibleCount.setCount(0),M.count.setCount(0),k.reset(M.message),M.progressBar.stop(),M.list.setElements([]),M.list.matchOnDescription=!1,M.list.matchOnDetail=!1,M.list.matchOnLabel=!0,M.list.sortByLabel=!0,M.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),M.inputBox.ariaLabel="";const R=this.options.backKeybindingLabel();g.tooltip=R?(0,C.localize)(8,null,R):(0,C.localize)(9,null),M.container.style.display="",this.updateLayout(),M.inputBox.setFocus()}setVisibilities(I){const M=this.getUI();M.title.style.display=I.title?"":"none",M.description1.style.display=I.description&&(I.inputBox||I.checkAll)?"":"none",M.description2.style.display=I.description&&!(I.inputBox||I.checkAll)?"":"none",M.checkAll.style.display=I.checkAll?"":"none",M.filterContainer.style.display=I.inputBox?"":"none",M.visibleCountContainer.style.display=I.visibleCount?"":"none",M.countContainer.style.display=I.count?"":"none",M.okContainer.style.display=I.ok?"":"none",M.customButtonContainer.style.display=I.customButton?"":"none",M.message.style.display=I.message?"":"none",M.progressBar.getContainer().style.display=I.progressBar?"":"none",M.list.display(!!I.list),M.container.classList[I.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(I){if(I!==this.comboboxAccessibility){const M=this.getUI();this.comboboxAccessibility=I,this.comboboxAccessibility?(M.inputBox.setAttribute("role","combobox"),M.inputBox.setAttribute("aria-haspopup","true"),M.inputBox.setAttribute("aria-autocomplete","list"),M.inputBox.setAttribute("aria-activedescendant",M.list.getActiveDescendant()||"")):(M.inputBox.removeAttribute("role"),M.inputBox.removeAttribute("aria-haspopup"),M.inputBox.removeAttribute("aria-autocomplete"),M.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(I){if(I!==this.enabled){this.enabled=I;for(const M of this.getUI().leftActionBar.viewItems)M.getAction().enabled=I;for(const M of this.getUI().rightActionBar.viewItems)M.getAction().enabled=I;this.getUI().checkAll.disabled=!I,this.getUI().ok.enabled=I,this.getUI().list.enabled=I}}hide(I){var M;const O=this.controller;if(O){const R=!((M=this.ui)===null||M===void 0?void 0:M.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",R||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),O.didHide(I)}}layout(I,M){this.dimension=I,this.titleBarOffset=M,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const I=this.ui.container.style,M=Math.min(this.dimension.width*.62,D.MAX_WIDTH);I.width=M+"px",I.marginLeft="-"+M/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(I){this.styles=I,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:I,quickInputBackground:M,quickInputForeground:O,contrastBorder:R,widgetShadow:P}=this.styles.widget;this.ui.titleBar.style.backgroundColor=I?I.toString():"",this.ui.container.style.backgroundColor=M?M.toString():"",this.ui.container.style.color=O?O.toString():"",this.ui.container.style.border=R?`1px solid ${R}`:"",this.ui.container.style.boxShadow=P?`0 0 8px 2px ${P}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const A=[];this.styles.list.pickerGroupBorder&&A.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&A.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(A.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&A.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&A.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&A.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&A.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&A.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),A.push("}"));const F=A.join(`
`);F!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=F)}}}e.QuickInputController=D,D.MAX_WIDTH=600}),define(ee[454],te([4,5]),function(G,e){return G.create("vs/editor/browser/controller/coreCommands",e)}),define(ee[455],te([4,5]),function(G,e){return G.create("vs/editor/browser/controller/textAreaHandler",e)}),define(ee[456],te([4,5]),function(G,e){return G.create("vs/editor/browser/core/keybindingCancellation",e)}),define(ee[457],te([4,5]),function(G,e){return G.create("vs/editor/browser/editorExtensions",e)}),define(ee[458],te([4,5]),function(G,e){return G.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(ee[459],te([4,5]),function(G,e){return G.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(ee[460],te([4,5]),function(G,e){return G.create("vs/editor/browser/widget/diffReview",e)}),define(ee[461],te([4,5]),function(G,e){return G.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(ee[462],te([0,1,461,7,50,2,3,27]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class C extends L.Disposable{constructor(v,r,a,l,c,u){super();this._viewZoneId=v,this._marginDomNode=r,this.editor=a,this.diff=l,this._contextMenuService=c,this._clipboardService=u,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=p.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const s=a.getOption(57),n=a.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${s}px`,this._diffActions.style.lineHeight=`${s}px`,this._marginDomNode.appendChild(this._diffActions);const d=[];d.push(new T.Action("diff.clipboard.copyDeletedContent",l.originalEndLineNumber>l.modifiedStartLineNumber?b.localize(0,null):b.localize(1,null),void 0,!0,()=>Ie(this,void 0,void 0,function*(){const y=new S.Range(l.originalStartLineNumber,1,l.originalEndLineNumber+1,1),w=l.originalModel.getValueInRange(y);yield this._clipboardService.writeText(w)})));let t=0,o;l.originalEndLineNumber>l.modifiedStartLineNumber&&(o=new T.Action("diff.clipboard.copyDeletedLineContent",b.localize(2,null,l.originalStartLineNumber),void 0,!0,()=>Ie(this,void 0,void 0,function*(){const y=l.originalModel.getLineContent(l.originalStartLineNumber+t);yield this._clipboardService.writeText(y)})),d.push(o)),a.getOption(79)||d.push(new T.Action("diff.inline.revertChange",b.localize(3,null),void 0,!0,()=>Ie(this,void 0,void 0,function*(){const y=new S.Range(l.originalStartLineNumber,1,l.originalEndLineNumber,l.originalModel.getLineMaxColumn(l.originalEndLineNumber)),w=l.originalModel.getValueInRange(y);if(l.modifiedEndLineNumber===0){const g=a.getModel().getLineMaxColumn(l.modifiedStartLineNumber);a.executeEdits("diffEditor",[{range:new S.Range(l.modifiedStartLineNumber,g,l.modifiedStartLineNumber,g),text:n+w}])}else{const g=a.getModel().getLineMaxColumn(l.modifiedEndLineNumber);a.executeEdits("diffEditor",[{range:new S.Range(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,g),text:w}])}})));const m=(y,w)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:y,y:w}),getActions:()=>(o&&(o.label=b.localize(4,null,l.originalStartLineNumber+t)),d),autoSelectFirstItem:!0})};this._register(k.addStandardDisposableListener(this._diffActions,"mousedown",y=>{const{top:w,height:g}=k.getDomNodePagePosition(this._diffActions);let f=Math.floor(s/3);y.preventDefault(),m(y.posx,w+g+f)})),this._register(a.onMouseMove(y=>{y.target.type===8||y.target.type===5?y.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,t=this._updateLightBulbPosition(this._marginDomNode,y.event.browserEvent.y,s)):this.visibility=!1:this.visibility=!1})),this._register(a.onMouseDown(y=>{!y.event.rightButton||(y.target.type===8||y.target.type===5)&&y.target.detail.viewZoneId===this._viewZoneId&&(y.event.preventDefault(),t=this._updateLightBulbPosition(this._marginDomNode,y.event.browserEvent.y,s),m(y.event.posx,y.event.posy+s))}))}get visibility(){return this._visibility}set visibility(v){this._visibility!==v&&(this._visibility=v,v?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(v,r,a){const{top:l}=k.getDomNodePagePosition(v),c=r-l,u=Math.floor(c/a),s=u*a;if(this._diffActions.style.top=`${s}px`,this.diff.viewLineCounts){let n=0;for(let d=0;d<this.diff.viewLineCounts.length;d++)if(n+=this.diff.viewLineCounts[d],u<n)return d}return u}}e.InlineDiffMargin=C}),define(ee[463],te([4,5]),function(G,e){return G.create("vs/editor/common/config/commonEditorConfig",e)}),define(ee[464],te([4,5]),function(G,e){return G.create("vs/editor/common/config/editorOptions",e)}),define(ee[35],te([0,1,464,17,135]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.boolean=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class L{constructor(U){this._values=U}hasChanged(U){return this._values[U]}}e.ConfigurationChangedEvent=L;class S{constructor(){this._values=[]}_read(U){return this._values[U]}get(U){return this._values[U]}_write(U,se){this._values[U]=se}}e.ValidatedEditorOptions=S;class p{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=p;class C{constructor(U,se,Y,ne){this.id=U,this.name=se,this.defaultValue=Y,this.schema=ne}compute(U,se,Y){return Y}}class i{constructor(U,se=null){this.schema=void 0,this.id=U,this.name="_never_",this.defaultValue=void 0,this.deps=se}validate(U){return this.defaultValue}}class v{constructor(U,se,Y,ne){this.id=U,this.name=se,this.defaultValue=Y,this.schema=ne}validate(U){return typeof U=="undefined"?this.defaultValue:U}compute(U,se,Y){return Y}}function r(he,U){return typeof he=="undefined"?U:he==="false"?!1:Boolean(he)}e.boolean=r;class a extends v{constructor(U,se,Y,ne=void 0){typeof ne!="undefined"&&(ne.type="boolean",ne.default=Y),super(U,se,Y,ne)}validate(U){return r(U,this.defaultValue)}}class l extends v{constructor(U,se,Y,ne,ce,pe=void 0){typeof pe!="undefined"&&(pe.type="integer",pe.default=Y,pe.minimum=ne,pe.maximum=ce),super(U,se,Y,pe),this.minimum=ne,this.maximum=ce}static clampedInt(U,se,Y,ne){if(typeof U=="undefined")return se;let ce=parseInt(U,10);return isNaN(ce)?se:(ce=Math.max(Y,ce),ce=Math.min(ne,ce),ce|0)}validate(U){return l.clampedInt(U,this.defaultValue,this.minimum,this.maximum)}}class c extends v{constructor(U,se,Y,ne,ce){typeof ce!="undefined"&&(ce.type="number",ce.default=Y),super(U,se,Y,ce),this.validationFn=ne}static clamp(U,se,Y){return U<se?se:U>Y?Y:U}static float(U,se){if(typeof U=="number")return U;if(typeof U=="undefined")return se;const Y=parseFloat(U);return isNaN(Y)?se:Y}validate(U){return this.validationFn(c.float(U,this.defaultValue))}}class u extends v{static string(U,se){return typeof U!="string"?se:U}constructor(U,se,Y,ne=void 0){typeof ne!="undefined"&&(ne.type="string",ne.default=Y),super(U,se,Y,ne)}validate(U){return u.string(U,this.defaultValue)}}function s(he,U,se){return typeof he!="string"||se.indexOf(he)===-1?U:he}e.stringSet=s;class n extends v{constructor(U,se,Y,ne,ce=void 0){typeof ce!="undefined"&&(ce.type="string",ce.enum=ne,ce.default=Y),super(U,se,Y,ce),this._allowedValues=ne}validate(U){return s(U,this.defaultValue,this._allowedValues)}}class d extends C{constructor(U,se,Y,ne,ce,pe,be=void 0){typeof be!="undefined"&&(be.type="string",be.enum=ce,be.default=ne),super(U,se,Y,be),this._allowedValues=ce,this._convert=pe}validate(U){return typeof U!="string"?this.defaultValue:this._allowedValues.indexOf(U)===-1?this.defaultValue:this._convert(U)}}function t(he){switch(he){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class o extends C{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[b.localize(0,null),b.localize(1,null),b.localize(2,null)],default:"auto",description:b.localize(3,null)})}validate(U){switch(U){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(U,se,Y){return Y===0?U.accessibilitySupport:Y}}class h extends C{constructor(){const U={insertSpace:!0,ignoreEmptyLines:!0};super(17,"comments",U,{"editor.comments.insertSpace":{type:"boolean",default:U.insertSpace,description:b.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:U.ignoreEmptyLines,description:b.localize(5,null)}})}validate(U){if(!U||typeof U!="object")return this.defaultValue;const se=U;return{insertSpace:r(se.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:r(se.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function m(he){switch(he){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var y;(function(he){he[he.Line=1]="Line",he[he.Block=2]="Block",he[he.Underline=3]="Underline",he[he.LineThin=4]="LineThin",he[he.BlockOutline=5]="BlockOutline",he[he.UnderlineThin=6]="UnderlineThin"})(y=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function w(he){switch(he){case"line":return y.Line;case"block":return y.Block;case"underline":return y.Underline;case"line-thin":return y.LineThin;case"block-outline":return y.BlockOutline;case"underline-thin":return y.UnderlineThin}}class g extends i{constructor(){super(126,[64,31])}compute(U,se,Y){const ne=["monaco-editor"];return se.get(31)&&ne.push(se.get(31)),U.extraEditorClassName&&ne.push(U.extraEditorClassName),se.get(64)==="default"?ne.push("mouse-default"):se.get(64)==="copy"&&ne.push("mouse-copy"),se.get(99)&&ne.push("showUnused"),se.get(124)&&ne.push("showDeprecated"),ne.join(" ")}}class f extends a{constructor(){super(30,"emptySelectionClipboard",!0,{description:b.localize(6,null)})}compute(U,se,Y){return Y&&U.emptySelectionClipboard}}class _ extends C{constructor(){const U={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(33,"find",U,{"editor.find.cursorMoveOnType":{type:"boolean",default:U.cursorMoveOnType,description:b.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:U.seedSearchStringFromSelection,enumDescriptions:[b.localize(8,null),b.localize(9,null),b.localize(10,null)],description:b.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:U.autoFindInSelection,enumDescriptions:[b.localize(12,null),b.localize(13,null),b.localize(14,null)],description:b.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:U.globalFindClipboard,description:b.localize(16,null),included:k.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:U.addExtraSpaceOnTop,description:b.localize(17,null)},"editor.find.loop":{type:"boolean",default:U.loop,description:b.localize(18,null)}})}validate(U){if(!U||typeof U!="object")return this.defaultValue;const se=U;return{cursorMoveOnType:r(se.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof U.seedSearchStringFromSelection=="boolean"?U.seedSearchStringFromSelection?"always":"never":s(se.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof U.autoFindInSelection=="boolean"?U.autoFindInSelection?"always":"never":s(se.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:r(se.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:r(se.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:r(se.loop,this.defaultValue.loop)}}}class D extends C{constructor(){super(42,"fontLigatures",D.OFF,{anyOf:[{type:"boolean",description:b.localize(19,null)},{type:"string",description:b.localize(20,null)}],description:b.localize(21,null),default:!1})}validate(U){return typeof U=="undefined"?this.defaultValue:typeof U=="string"?U==="false"?D.OFF:U==="true"?D.ON:U:Boolean(U)?D.ON:D.OFF}}e.EditorFontLigatures=D,D.OFF='"liga" off, "calt" off',D.ON='"liga" on, "calt" on';class N extends i{constructor(){super(41)}compute(U,se,Y){return U.fontInfo}}class I extends v{constructor(){super(43,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:b.localize(22,null)})}validate(U){let se=c.float(U,this.defaultValue);return se===0?e.EDITOR_FONT_DEFAULTS.fontSize:c.clamp(se,6,100)}compute(U,se,Y){return U.fontInfo.fontSize}}class M extends C{constructor(){super(44,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:M.MINIMUM_VALUE,maximum:M.MAXIMUM_VALUE,errorMessage:b.localize(23,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:M.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:b.localize(24,null)})}validate(U){return U==="normal"||U==="bold"?U:String(l.clampedInt(U,e.EDITOR_FONT_DEFAULTS.fontWeight,M.MINIMUM_VALUE,M.MAXIMUM_VALUE))}}M.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],M.MINIMUM_VALUE=1,M.MAXIMUM_VALUE=1e3;class O extends C{constructor(){const U={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},se={type:"string",enum:["peek","gotoAndPeek","goto"],default:U.multiple,enumDescriptions:[b.localize(25,null),b.localize(26,null),b.localize(27,null)]},Y=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(48,"gotoLocation",U,{"editor.gotoLocation.multiple":{deprecationMessage:b.localize(28,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:b.localize(29,null)},se),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:b.localize(30,null)},se),"editor.gotoLocation.multipleDeclarations":Object.assign({description:b.localize(31,null)},se),"editor.gotoLocation.multipleImplementations":Object.assign({description:b.localize(32,null)},se),"editor.gotoLocation.multipleReferences":Object.assign({description:b.localize(33,null)},se),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:U.alternativeDefinitionCommand,enum:Y,description:b.localize(34,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:U.alternativeTypeDefinitionCommand,enum:Y,description:b.localize(35,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:U.alternativeDeclarationCommand,enum:Y,description:b.localize(36,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:U.alternativeImplementationCommand,enum:Y,description:b.localize(37,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:U.alternativeReferenceCommand,enum:Y,description:b.localize(38,null)}})}validate(U){var se,Y,ne,ce,pe;if(!U||typeof U!="object")return this.defaultValue;const be=U;return{multiple:s(be.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(se=be.multipleDefinitions)!==null&&se!==void 0?se:s(be.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Y=be.multipleTypeDefinitions)!==null&&Y!==void 0?Y:s(be.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(ne=be.multipleDeclarations)!==null&&ne!==void 0?ne:s(be.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(ce=be.multipleImplementations)!==null&&ce!==void 0?ce:s(be.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(pe=be.multipleReferences)!==null&&pe!==void 0?pe:s(be.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:u.string(be.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:u.string(be.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:u.string(be.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:u.string(be.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:u.string(be.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class R extends C{constructor(){const U={enabled:!0,delay:300,sticky:!0};super(51,"hover",U,{"editor.hover.enabled":{type:"boolean",default:U.enabled,description:b.localize(39,null)},"editor.hover.delay":{type:"number",default:U.delay,description:b.localize(40,null)},"editor.hover.sticky":{type:"boolean",default:U.sticky,description:b.localize(41,null)}})}validate(U){if(!U||typeof U!="object")return this.defaultValue;const se=U;return{enabled:r(se.enabled,this.defaultValue.enabled),delay:l.clampedInt(se.delay,this.defaultValue.delay,0,1e4),sticky:r(se.sticky,this.defaultValue.sticky)}}}class P extends i{constructor(){super(129,[47,56,35,63,91,58,59,93,116,119,120,121,2])}compute(U,se,Y){return P.computeLayout(se,{memory:U.memory,outerWidth:U.outerWidth,outerHeight:U.outerHeight,isDominatedByLongLines:U.isDominatedByLongLines,lineHeight:U.fontInfo.lineHeight,viewLineCount:U.viewLineCount,lineNumbersDigitCount:U.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:U.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:U.fontInfo.maxDigitWidth,pixelRatio:U.pixelRatio})}static computeContainedMinimapLineCount(U){const se=U.height/U.lineHeight,Y=U.scrollBeyondLastLine?se-1:0,ne=(U.viewLineCount+Y)/(U.pixelRatio*U.height),ce=Math.floor(U.viewLineCount/ne);return{typicalViewportLineCount:se,extraLinesBeyondLastLine:Y,desiredRatio:ne,minimapLineCount:ce}}static _computeMinimapLayout(U,se){const Y=U.outerWidth,ne=U.outerHeight,ce=U.pixelRatio;if(!U.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(ce*ne),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:ne};const pe=se.stableMinimapLayoutInput,be=pe&&U.outerHeight===pe.outerHeight&&U.lineHeight===pe.lineHeight&&U.typicalHalfwidthCharacterWidth===pe.typicalHalfwidthCharacterWidth&&U.pixelRatio===pe.pixelRatio&&U.scrollBeyondLastLine===pe.scrollBeyondLastLine&&U.minimap.enabled===pe.minimap.enabled&&U.minimap.side===pe.minimap.side&&U.minimap.size===pe.minimap.size&&U.minimap.showSlider===pe.minimap.showSlider&&U.minimap.renderCharacters===pe.minimap.renderCharacters&&U.minimap.maxColumn===pe.minimap.maxColumn&&U.minimap.scale===pe.minimap.scale&&U.verticalScrollbarWidth===pe.verticalScrollbarWidth&&U.isViewportWrapping===pe.isViewportWrapping,Ee=U.lineHeight,Le=U.typicalHalfwidthCharacterWidth,Te=U.scrollBeyondLastLine,De=U.minimap.renderCharacters;let Me=ce>=2?Math.round(U.minimap.scale*2):U.minimap.scale;const Se=U.minimap.maxColumn,we=U.minimap.size,ye=U.minimap.side,me=U.verticalScrollbarWidth,ve=U.viewLineCount,ge=U.remainingWidth,fe=U.isViewportWrapping,_e=De?2:3;let ke=Math.floor(ce*ne);const Ne=ke/ce;let Ae=!1,Oe=!1,Fe=_e*Me,Pe=Me/ce,xe=1;if(we==="fill"||we==="fit"){const{typicalViewportLineCount:Ue,extraLinesBeyondLastLine:Ze,desiredRatio:$e,minimapLineCount:Qe}=P.computeContainedMinimapLineCount({viewLineCount:ve,scrollBeyondLastLine:Te,height:ne,lineHeight:Ee,pixelRatio:ce});if(ve/Qe>1)Ae=!0,Oe=!0,Me=1,Fe=1,Pe=Me/ce;else{let Xe=!1,Ge=Me+1;if(we==="fit"){const Je=Math.ceil((ve+Ze)*Fe);fe&&be&&ge<=se.stableFitRemainingWidth?(Xe=!0,Ge=se.stableFitMaxMinimapScale):Xe=Je>ke}if(we==="fill"||Xe){Ae=!0;const Je=Me;Fe=Math.min(Ee*ce,Math.max(1,Math.floor(1/$e))),fe&&be&&ge<=se.stableFitRemainingWidth&&(Ge=se.stableFitMaxMinimapScale),Me=Math.min(Ge,Math.max(1,Math.floor(Fe/_e))),Me>Je&&(xe=Math.min(2,Me/Je)),Pe=Me/ce/xe,ke=Math.ceil(Math.max(Ue,ve+Ze)*Fe),fe?(se.stableMinimapLayoutInput=U,se.stableFitRemainingWidth=ge,se.stableFitMaxMinimapScale=Me):(se.stableMinimapLayoutInput=null,se.stableFitRemainingWidth=0)}}}const Be=Math.floor(Se*Pe),ze=Math.min(Be,Math.max(0,Math.floor((ge-me-2)*Pe/(Le+Pe)))+e.MINIMAP_GUTTER_WIDTH);let Ke=Math.floor(ce*ze);const We=Ke/ce;Ke=Math.floor(Ke*xe);const He=De?1:2,Ve=ye==="left"?0:Y-ze-me;return{renderMinimap:He,minimapLeft:Ve,minimapWidth:ze,minimapHeightIsEditorHeight:Ae,minimapIsSampling:Oe,minimapScale:Me,minimapLineHeight:Fe,minimapCanvasInnerWidth:Ke,minimapCanvasInnerHeight:ke,minimapCanvasOuterWidth:We,minimapCanvasOuterHeight:Ne}}static computeLayout(U,se){const Y=se.outerWidth|0,ne=se.outerHeight|0,ce=se.lineHeight|0,pe=se.lineNumbersDigitCount|0,be=se.typicalHalfwidthCharacterWidth,Ee=se.maxDigitWidth,Le=se.pixelRatio,Te=se.viewLineCount,De=U.get(121),Me=De==="inherit"?U.get(120):De,Se=Me==="inherit"?U.get(116):Me,we=U.get(119),ye=U.get(2),me=se.isDominatedByLongLines,ve=U.get(47),ge=U.get(58).renderType!==0,fe=U.get(59),_e=U.get(93),ke=U.get(63),Ne=U.get(91),Ae=Ne.verticalScrollbarSize,Oe=Ne.verticalHasArrows,Fe=Ne.arrowSize,Pe=Ne.horizontalScrollbarSize,xe=U.get(56),Be=U.get(35);let ze;if(typeof xe=="string"&&/^\d+(\.\d+)?ch$/.test(xe)){const nt=parseFloat(xe.substr(0,xe.length-2));ze=l.clampedInt(nt*be,0,0,1e3)}else ze=l.clampedInt(xe,0,0,1e3);Be&&(ze+=16);let Ke=0;if(ge){const nt=Math.max(pe,fe);Ke=Math.round(nt*Ee)}let We=0;ve&&(We=ce);let He=0,Ve=He+We,Ue=Ve+Ke,Ze=Ue+ze;const $e=Y-We-Ke-ze;let Qe=!1,Ye=!1,Xe=-1;ye!==2&&(Me==="inherit"&&me?(Qe=!0,Ye=!0):Se==="on"||Se==="bounded"?Ye=!0:Se==="wordWrapColumn"&&(Xe=we));const Ge=P._computeMinimapLayout({outerWidth:Y,outerHeight:ne,lineHeight:ce,typicalHalfwidthCharacterWidth:be,pixelRatio:Le,scrollBeyondLastLine:_e,minimap:ke,verticalScrollbarWidth:Ae,viewLineCount:Te,remainingWidth:$e,isViewportWrapping:Ye},se.memory||new p);Ge.renderMinimap!==0&&Ge.minimapLeft===0&&(He+=Ge.minimapWidth,Ve+=Ge.minimapWidth,Ue+=Ge.minimapWidth,Ze+=Ge.minimapWidth);const Je=$e-Ge.minimapWidth,et=Math.max(1,Math.floor((Je-Ae-2)/be)),at=Oe?Fe:0;return Ye&&(Xe=Math.max(1,et),Se==="bounded"&&(Xe=Math.min(Xe,we))),{width:Y,height:ne,glyphMarginLeft:He,glyphMarginWidth:We,lineNumbersLeft:Ve,lineNumbersWidth:Ke,decorationsLeft:Ue,decorationsWidth:ze,contentLeft:Ze,contentWidth:Je,minimap:Ge,viewportColumn:et,isWordWrapMinified:Qe,isViewportWrapping:Ye,wrappingColumn:Xe,verticalScrollbarWidth:Ae,horizontalScrollbarHeight:Pe,overviewRuler:{top:at,width:Ae,height:ne-2*at,right:0}}}}e.EditorLayoutInfoComputer=P;class A extends C{constructor(){const U={enabled:!0};super(55,"lightbulb",U,{"editor.lightbulb.enabled":{type:"boolean",default:U.enabled,description:b.localize(42,null)}})}validate(U){return!U||typeof U!="object"?this.defaultValue:{enabled:r(U.enabled,this.defaultValue.enabled)}}}class F extends C{constructor(){const U={enabled:!0,fontSize:0,fontFamily:""};super(125,"inlayHints",U,{"editor.inlayHints.enabled":{type:"boolean",default:U.enabled,description:b.localize(43,null)},"editor.inlayHints.fontSize":{type:"number",default:U.fontSize,markdownDescription:b.localize(44,null)},"editor.inlayHints.fontFamily":{type:"string",default:U.fontFamily,description:b.localize(45,null)}})}validate(U){if(!U||typeof U!="object")return this.defaultValue;const se=U;return{enabled:r(se.enabled,this.defaultValue.enabled),fontSize:l.clampedInt(se.fontSize,this.defaultValue.fontSize,0,100),fontFamily:u.string(se.fontFamily,this.defaultValue.fontFamily)}}}class E extends c{constructor(){super(57,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,U=>c.clamp(U,0,150),{markdownDescription:b.localize(46,null)})}compute(U,se,Y){return U.fontInfo.lineHeight}}class W extends C{constructor(){const U={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(63,"minimap",U,{"editor.minimap.enabled":{type:"boolean",default:U.enabled,description:b.localize(47,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[b.localize(48,null),b.localize(49,null),b.localize(50,null)],default:U.size,description:b.localize(51,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:U.side,description:b.localize(52,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:U.showSlider,description:b.localize(53,null)},"editor.minimap.scale":{type:"number",default:U.scale,minimum:1,maximum:3,enum:[1,2,3],description:b.localize(54,null)},"editor.minimap.renderCharacters":{type:"boolean",default:U.renderCharacters,description:b.localize(55,null)},"editor.minimap.maxColumn":{type:"number",default:U.maxColumn,description:b.localize(56,null)}})}validate(U){if(!U||typeof U!="object")return this.defaultValue;const se=U;return{enabled:r(se.enabled,this.defaultValue.enabled),size:s(se.size,this.defaultValue.size,["proportional","fill","fit"]),side:s(se.side,this.defaultValue.side,["right","left"]),showSlider:s(se.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:r(se.renderCharacters,this.defaultValue.renderCharacters),scale:l.clampedInt(se.scale,1,1,3),maxColumn:l.clampedInt(se.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function V(he){return he==="ctrlCmd"?k.isMacintosh?"metaKey":"ctrlKey":"altKey"}class $ extends C{constructor(){super(73,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:b.localize(57,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:b.localize(58,null)}})}validate(U){if(!U||typeof U!="object")return this.defaultValue;const se=U;return{top:l.clampedInt(se.top,0,0,1e3),bottom:l.clampedInt(se.bottom,0,0,1e3)}}}class Z extends C{constructor(){const U={enabled:!0,cycle:!1};super(74,"parameterHints",U,{"editor.parameterHints.enabled":{type:"boolean",default:U.enabled,description:b.localize(59,null)},"editor.parameterHints.cycle":{type:"boolean",default:U.cycle,description:b.localize(60,null)}})}validate(U){if(!U||typeof U!="object")return this.defaultValue;const se=U;return{enabled:r(se.enabled,this.defaultValue.enabled),cycle:r(se.cycle,this.defaultValue.cycle)}}}class X extends i{constructor(){super(127)}compute(U,se,Y){return U.pixelRatio}}class J extends C{constructor(){const U={other:!0,comments:!1,strings:!1};super(77,"quickSuggestions",U,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:U.strings,description:b.localize(61,null)},comments:{type:"boolean",default:U.comments,description:b.localize(62,null)},other:{type:"boolean",default:U.other,description:b.localize(63,null)}}}],default:U,description:b.localize(64,null)});this.defaultValue=U}validate(U){if(typeof U=="boolean")return U;if(U&&typeof U=="object"){const se=U,Y={other:r(se.other,this.defaultValue.other),comments:r(se.comments,this.defaultValue.comments),strings:r(se.strings,this.defaultValue.strings)};return Y.other&&Y.comments&&Y.strings?!0:!Y.other&&!Y.comments&&!Y.strings?!1:Y}return this.defaultValue}}class ie extends C{constructor(){super(58,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[b.localize(65,null),b.localize(66,null),b.localize(67,null),b.localize(68,null)],default:"on",description:b.localize(69,null)})}validate(U){let se=this.defaultValue.renderType,Y=this.defaultValue.renderFn;return typeof U!="undefined"&&(typeof U=="function"?(se=4,Y=U):U==="interval"?se=3:U==="relative"?se=2:U==="on"?se=1:se=0),{renderType:se,renderFn:Y}}}function de(he){const U=he.get(86);return U==="editable"?he.get(79):U!=="on"}e.filterValidationDecorations=de;class ue extends C{constructor(){const U=[],se={type:"number",description:b.localize(70,null)};super(90,"rulers",U,{type:"array",items:{anyOf:[se,{type:["object"],properties:{column:se,color:{type:"string",description:b.localize(71,null),format:"color-hex"}}}]},default:U,description:b.localize(72,null)})}validate(U){if(Array.isArray(U)){let se=[];for(let Y of U)if(typeof Y=="number")se.push({column:l.clampedInt(Y,0,0,1e4),color:null});else if(Y&&typeof Y=="object"){const ne=Y;se.push({column:l.clampedInt(ne.column,0,0,1e4),color:ne.color})}return se.sort((Y,ne)=>Y.column-ne.column),se}return this.defaultValue}}function q(he,U){if(typeof he!="string")return U;switch(he){case"hidden":return 2;case"visible":return 3;default:return 1}}class B extends C{constructor(){const U={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(91,"scrollbar",U,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[b.localize(73,null),b.localize(74,null),b.localize(75,null)],default:"auto",description:b.localize(76,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[b.localize(77,null),b.localize(78,null),b.localize(79,null)],default:"auto",description:b.localize(80,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:U.verticalScrollbarSize,description:b.localize(81,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:U.horizontalScrollbarSize,description:b.localize(82,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:U.scrollByPage,description:b.localize(83,null)}})}validate(U){if(!U||typeof U!="object")return this.defaultValue;const se=U,Y=l.clampedInt(se.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),ne=l.clampedInt(se.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:l.clampedInt(se.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:q(se.vertical,this.defaultValue.vertical),horizontal:q(se.horizontal,this.defaultValue.horizontal),useShadows:r(se.useShadows,this.defaultValue.useShadows),verticalHasArrows:r(se.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:r(se.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:r(se.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:r(se.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Y,horizontalSliderSize:l.clampedInt(se.horizontalSliderSize,Y,0,1e3),verticalScrollbarSize:ne,verticalSliderSize:l.clampedInt(se.verticalSliderSize,ne,0,1e3),scrollByPage:r(se.scrollByPage,this.defaultValue.scrollByPage)}}}class j extends C{constructor(){const U={enabled:!1,mode:"subwordSmart"};super(53,"inlineSuggest",U,{"editor.inlineSuggest.enabled":{type:"boolean",default:U.enabled,description:b.localize(84,null)},"editor.inlineSuggest.mode":{type:"string",enum:["prefix","subword","subwordSmart"],enumDescriptions:[b.localize(85,null),b.localize(86,null),b.localize(87,null)],default:U.mode,description:b.localize(88,null)}})}validate(U){if(!U||typeof U!="object")return this.defaultValue;const se=U;return{enabled:r(se.enabled,this.defaultValue.enabled),mode:s(se.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class H extends C{constructor(){const U={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(105,"suggest",U,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[b.localize(89,null),b.localize(90,null)],default:U.insertMode,description:b.localize(91,null)},"editor.suggest.filterGraceful":{type:"boolean",default:U.filterGraceful,description:b.localize(92,null)},"editor.suggest.localityBonus":{type:"boolean",default:U.localityBonus,description:b.localize(93,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:U.shareSuggestSelections,markdownDescription:b.localize(94,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:U.snippetsPreventQuickSuggestions,description:b.localize(95,null)},"editor.suggest.showIcons":{type:"boolean",default:U.showIcons,description:b.localize(96,null)},"editor.suggest.showStatusBar":{type:"boolean",default:U.showStatusBar,description:b.localize(97,null)},"editor.suggest.preview":{type:"boolean",default:U.preview,description:b.localize(98,null)},"editor.suggest.previewMode":{type:"string",enum:["prefix","subword","subwordSmart"],enumDescriptions:[b.localize(99,null),b.localize(100,null),b.localize(101,null)],default:U.previewMode,description:b.localize(102,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:U.showInlineDetails,description:b.localize(103,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:b.localize(104,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:b.localize(105,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:b.localize(106,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:b.localize(107,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:b.localize(108,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:b.localize(109,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:b.localize(110,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:b.localize(111,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:b.localize(112,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:b.localize(113,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:b.localize(114,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:b.localize(115,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:b.localize(116,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:b.localize(117,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:b.localize(118,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:b.localize(119,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:b.localize(120,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:b.localize(121,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:b.localize(122,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:b.localize(123,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:b.localize(124,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:b.localize(125,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:b.localize(126,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:b.localize(127,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:b.localize(128,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:b.localize(129,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:b.localize(130,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:b.localize(131,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:b.localize(132,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:b.localize(133,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:b.localize(134,null)}})}validate(U){if(!U||typeof U!="object")return this.defaultValue;const se=U;return{insertMode:s(se.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:r(se.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:r(se.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:r(se.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:r(se.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:r(se.showIcons,this.defaultValue.showIcons),showStatusBar:r(se.showStatusBar,this.defaultValue.showStatusBar),preview:r(se.preview,this.defaultValue.preview),previewMode:s(se.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:r(se.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:r(se.showMethods,this.defaultValue.showMethods),showFunctions:r(se.showFunctions,this.defaultValue.showFunctions),showConstructors:r(se.showConstructors,this.defaultValue.showConstructors),showDeprecated:r(se.showDeprecated,this.defaultValue.showDeprecated),showFields:r(se.showFields,this.defaultValue.showFields),showVariables:r(se.showVariables,this.defaultValue.showVariables),showClasses:r(se.showClasses,this.defaultValue.showClasses),showStructs:r(se.showStructs,this.defaultValue.showStructs),showInterfaces:r(se.showInterfaces,this.defaultValue.showInterfaces),showModules:r(se.showModules,this.defaultValue.showModules),showProperties:r(se.showProperties,this.defaultValue.showProperties),showEvents:r(se.showEvents,this.defaultValue.showEvents),showOperators:r(se.showOperators,this.defaultValue.showOperators),showUnits:r(se.showUnits,this.defaultValue.showUnits),showValues:r(se.showValues,this.defaultValue.showValues),showConstants:r(se.showConstants,this.defaultValue.showConstants),showEnums:r(se.showEnums,this.defaultValue.showEnums),showEnumMembers:r(se.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:r(se.showKeywords,this.defaultValue.showKeywords),showWords:r(se.showWords,this.defaultValue.showWords),showColors:r(se.showColors,this.defaultValue.showColors),showFiles:r(se.showFiles,this.defaultValue.showFiles),showReferences:r(se.showReferences,this.defaultValue.showReferences),showFolders:r(se.showFolders,this.defaultValue.showFolders),showTypeParameters:r(se.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:r(se.showSnippets,this.defaultValue.showSnippets),showUsers:r(se.showUsers,this.defaultValue.showUsers),showIssues:r(se.showIssues,this.defaultValue.showIssues)}}}class z extends C{constructor(){super(101,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:b.localize(135,null),default:!0,type:"boolean"}})}validate(U){return!U||typeof U!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:r(U.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class Q extends i{constructor(){super(128,[79])}compute(U,se,Y){return se.get(79)?!0:U.tabFocusMode}}function x(he){switch(he){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class le extends i{constructor(){super(130,[129])}compute(U,se,Y){const ne=se.get(129);return{isDominatedByLongLines:U.isDominatedByLongLines,isWordWrapMinified:ne.isWordWrapMinified,isViewportWrapping:ne.isViewportWrapping,wrappingColumn:ne.wrappingColumn}}}const oe="Consolas, 'Courier New', monospace",K="Menlo, Monaco, 'Courier New', monospace",re="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'";e.EDITOR_FONT_DEFAULTS={fontFamily:k.isMacintosh?K:k.isLinux?re:oe,fontWeight:"normal",fontSize:k.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},e.editorOptionsRegistry=[];function ae(he){return e.editorOptionsRegistry[he.id]=he,he}e.EditorOptions={acceptSuggestionOnCommitCharacter:ae(new a(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:b.localize(136,null)})),acceptSuggestionOnEnter:ae(new n(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",b.localize(137,null),""],markdownDescription:b.localize(138,null)})),accessibilitySupport:ae(new o),accessibilityPageSize:ae(new l(3,"accessibilityPageSize",10,1,1073741824,{description:b.localize(139,null)})),ariaLabel:ae(new u(4,"ariaLabel",b.localize(140,null))),autoClosingBrackets:ae(new n(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",b.localize(141,null),b.localize(142,null),""],description:b.localize(143,null)})),autoClosingDelete:ae(new n(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",b.localize(144,null),""],description:b.localize(145,null)})),autoClosingOvertype:ae(new n(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",b.localize(146,null),""],description:b.localize(147,null)})),autoClosingQuotes:ae(new n(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",b.localize(148,null),b.localize(149,null),""],description:b.localize(150,null)})),autoIndent:ae(new d(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],t,{enumDescriptions:[b.localize(151,null),b.localize(152,null),b.localize(153,null),b.localize(154,null),b.localize(155,null)],description:b.localize(156,null)})),automaticLayout:ae(new a(10,"automaticLayout",!1)),autoSurround:ae(new n(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[b.localize(157,null),b.localize(158,null),b.localize(159,null),""],description:b.localize(160,null)})),stickyTabStops:ae(new a(103,"stickyTabStops",!1,{description:b.localize(161,null)})),codeLens:ae(new a(12,"codeLens",!0,{description:b.localize(162,null)})),codeLensFontFamily:ae(new u(13,"codeLensFontFamily","",{description:b.localize(163,null)})),codeLensFontSize:ae(new l(14,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:b.localize(164,null)})),colorDecorators:ae(new a(15,"colorDecorators",!0,{description:b.localize(165,null)})),columnSelection:ae(new a(16,"columnSelection",!1,{description:b.localize(166,null)})),comments:ae(new h),contextmenu:ae(new a(18,"contextmenu",!0)),copyWithSyntaxHighlighting:ae(new a(19,"copyWithSyntaxHighlighting",!0,{description:b.localize(167,null)})),cursorBlinking:ae(new d(20,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],m,{description:b.localize(168,null)})),cursorSmoothCaretAnimation:ae(new a(21,"cursorSmoothCaretAnimation",!1,{description:b.localize(169,null)})),cursorStyle:ae(new d(22,"cursorStyle",y.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],w,{description:b.localize(170,null)})),cursorSurroundingLines:ae(new l(23,"cursorSurroundingLines",0,0,1073741824,{description:b.localize(171,null)})),cursorSurroundingLinesStyle:ae(new n(24,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[b.localize(172,null),b.localize(173,null)],description:b.localize(174,null)})),cursorWidth:ae(new l(25,"cursorWidth",0,0,1073741824,{markdownDescription:b.localize(175,null)})),disableLayerHinting:ae(new a(26,"disableLayerHinting",!1)),disableMonospaceOptimizations:ae(new a(27,"disableMonospaceOptimizations",!1)),domReadOnly:ae(new a(28,"domReadOnly",!1)),dragAndDrop:ae(new a(29,"dragAndDrop",!0,{description:b.localize(176,null)})),emptySelectionClipboard:ae(new f),extraEditorClassName:ae(new u(31,"extraEditorClassName","")),fastScrollSensitivity:ae(new c(32,"fastScrollSensitivity",5,he=>he<=0?5:he,{markdownDescription:b.localize(177,null)})),find:ae(new _),fixedOverflowWidgets:ae(new a(34,"fixedOverflowWidgets",!1)),folding:ae(new a(35,"folding",!0,{description:b.localize(178,null)})),foldingStrategy:ae(new n(36,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[b.localize(179,null),b.localize(180,null)],description:b.localize(181,null)})),foldingHighlight:ae(new a(37,"foldingHighlight",!0,{description:b.localize(182,null)})),foldingImportsByDefault:ae(new a(38,"foldingImportsByDefault",!1,{description:b.localize(183,null)})),unfoldOnClickAfterEndOfLine:ae(new a(39,"unfoldOnClickAfterEndOfLine",!1,{description:b.localize(184,null)})),fontFamily:ae(new u(40,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:b.localize(185,null)})),fontInfo:ae(new N),fontLigatures2:ae(new D),fontSize:ae(new I),fontWeight:ae(new M),formatOnPaste:ae(new a(45,"formatOnPaste",!1,{description:b.localize(186,null)})),formatOnType:ae(new a(46,"formatOnType",!1,{description:b.localize(187,null)})),glyphMargin:ae(new a(47,"glyphMargin",!0,{description:b.localize(188,null)})),gotoLocation:ae(new O),hideCursorInOverviewRuler:ae(new a(49,"hideCursorInOverviewRuler",!1,{description:b.localize(189,null)})),highlightActiveIndentGuide:ae(new a(50,"highlightActiveIndentGuide",!0,{description:b.localize(190,null)})),hover:ae(new R),inDiffEditor:ae(new a(52,"inDiffEditor",!1)),letterSpacing:ae(new c(54,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,he=>c.clamp(he,-5,20),{description:b.localize(191,null)})),lightbulb:ae(new A),lineDecorationsWidth:ae(new v(56,"lineDecorationsWidth",10)),lineHeight:ae(new E),lineNumbers:ae(new ie),lineNumbersMinChars:ae(new l(59,"lineNumbersMinChars",5,1,300)),linkedEditing:ae(new a(60,"linkedEditing",!1,{description:b.localize(192,null)})),links:ae(new a(61,"links",!0,{description:b.localize(193,null)})),matchBrackets:ae(new n(62,"matchBrackets","always",["always","near","never"],{description:b.localize(194,null)})),minimap:ae(new W),mouseStyle:ae(new n(64,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:ae(new c(65,"mouseWheelScrollSensitivity",1,he=>he===0?1:he,{markdownDescription:b.localize(195,null)})),mouseWheelZoom:ae(new a(66,"mouseWheelZoom",!1,{markdownDescription:b.localize(196,null)})),multiCursorMergeOverlapping:ae(new a(67,"multiCursorMergeOverlapping",!0,{description:b.localize(197,null)})),multiCursorModifier:ae(new d(68,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],V,{markdownEnumDescriptions:[b.localize(198,null),b.localize(199,null)],markdownDescription:b.localize(200,null)})),multiCursorPaste:ae(new n(69,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[b.localize(201,null),b.localize(202,null)],markdownDescription:b.localize(203,null)})),occurrencesHighlight:ae(new a(70,"occurrencesHighlight",!0,{description:b.localize(204,null)})),overviewRulerBorder:ae(new a(71,"overviewRulerBorder",!0,{description:b.localize(205,null)})),overviewRulerLanes:ae(new l(72,"overviewRulerLanes",3,0,3)),padding:ae(new $),parameterHints:ae(new Z),peekWidgetDefaultFocus:ae(new n(75,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[b.localize(206,null),b.localize(207,null)],description:b.localize(208,null)})),definitionLinkOpensInPeek:ae(new a(76,"definitionLinkOpensInPeek",!1,{description:b.localize(209,null)})),quickSuggestions:ae(new J),quickSuggestionsDelay:ae(new l(78,"quickSuggestionsDelay",10,0,1073741824,{description:b.localize(210,null)})),readOnly:ae(new a(79,"readOnly",!1)),renameOnType:ae(new a(80,"renameOnType",!1,{description:b.localize(211,null),markdownDeprecationMessage:b.localize(212,null)})),renderControlCharacters:ae(new a(81,"renderControlCharacters",!1,{description:b.localize(213,null)})),renderIndentGuides:ae(new a(82,"renderIndentGuides",!0,{description:b.localize(214,null)})),renderFinalNewline:ae(new a(83,"renderFinalNewline",!0,{description:b.localize(215,null)})),renderLineHighlight:ae(new n(84,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",b.localize(216,null)],description:b.localize(217,null)})),renderLineHighlightOnlyWhenFocus:ae(new a(85,"renderLineHighlightOnlyWhenFocus",!1,{description:b.localize(218,null)})),renderValidationDecorations:ae(new n(86,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:ae(new n(87,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",b.localize(219,null),b.localize(220,null),b.localize(221,null),""],description:b.localize(222,null)})),revealHorizontalRightPadding:ae(new l(88,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:ae(new a(89,"roundedSelection",!0,{description:b.localize(223,null)})),rulers:ae(new ue),scrollbar:ae(new B),scrollBeyondLastColumn:ae(new l(92,"scrollBeyondLastColumn",5,0,1073741824,{description:b.localize(224,null)})),scrollBeyondLastLine:ae(new a(93,"scrollBeyondLastLine",!0,{description:b.localize(225,null)})),scrollPredominantAxis:ae(new a(94,"scrollPredominantAxis",!0,{description:b.localize(226,null)})),selectionClipboard:ae(new a(95,"selectionClipboard",!0,{description:b.localize(227,null),included:k.isLinux})),selectionHighlight:ae(new a(96,"selectionHighlight",!0,{description:b.localize(228,null)})),selectOnLineNumbers:ae(new a(97,"selectOnLineNumbers",!0)),showFoldingControls:ae(new n(98,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[b.localize(229,null),b.localize(230,null)],description:b.localize(231,null)})),showUnused:ae(new a(99,"showUnused",!0,{description:b.localize(232,null)})),showDeprecated:ae(new a(124,"showDeprecated",!0,{description:b.localize(233,null)})),inlayHints:ae(new F),snippetSuggestions:ae(new n(100,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[b.localize(234,null),b.localize(235,null),b.localize(236,null),b.localize(237,null)],description:b.localize(238,null)})),smartSelect:ae(new z),smoothScrolling:ae(new a(102,"smoothScrolling",!1,{description:b.localize(239,null)})),stopRenderingLineAfter:ae(new l(104,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:ae(new H),inlineSuggest:ae(new j),suggestFontSize:ae(new l(106,"suggestFontSize",0,0,1e3,{markdownDescription:b.localize(240,null)})),suggestLineHeight:ae(new l(107,"suggestLineHeight",0,0,1e3,{markdownDescription:b.localize(241,null)})),suggestOnTriggerCharacters:ae(new a(108,"suggestOnTriggerCharacters",!0,{description:b.localize(242,null)})),suggestSelection:ae(new n(109,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[b.localize(243,null),b.localize(244,null),b.localize(245,null)],description:b.localize(246,null)})),tabCompletion:ae(new n(110,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[b.localize(247,null),b.localize(248,null),b.localize(249,null)],description:b.localize(250,null)})),tabIndex:ae(new l(111,"tabIndex",0,-1,1073741824)),unusualLineTerminators:ae(new n(112,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[b.localize(251,null),b.localize(252,null),b.localize(253,null)],description:b.localize(254,null)})),useShadowDOM:ae(new a(113,"useShadowDOM",!0)),useTabStops:ae(new a(114,"useTabStops",!0,{description:b.localize(255,null)})),wordSeparators:ae(new u(115,"wordSeparators",T.USUAL_WORD_SEPARATORS,{description:b.localize(256,null)})),wordWrap:ae(new n(116,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[b.localize(257,null),b.localize(258,null),b.localize(259,null),b.localize(260,null)],description:b.localize(261,null)})),wordWrapBreakAfterCharacters:ae(new u(117,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:ae(new u(118,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:ae(new l(119,"wordWrapColumn",80,1,1073741824,{markdownDescription:b.localize(262,null)})),wordWrapOverride1:ae(new n(120,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:ae(new n(121,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:ae(new d(122,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],x,{enumDescriptions:[b.localize(263,null),b.localize(264,null),b.localize(265,null),b.localize(266,null)],description:b.localize(267,null)})),wrappingStrategy:ae(new n(123,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[b.localize(268,null),b.localize(269,null)],description:b.localize(270,null)})),editorClassName:ae(new g),pixelRatio:ae(new X),tabFocusMode:ae(new Q),layoutInfo:ae(new P),wrappingInfo:ae(new le)}}),define(ee[465],te([0,1,13,3,62,35]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecorations=void 0;class S{constructor(C,i,v,r,a){this.editorId=C,this.model=i,this.configuration=v,this._linesCollection=r,this._coordinatesConverter=a,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(C){const i=C.id;let v=this._decorationsCache[i];if(!v){const r=C.range,a=C.options;let l;if(a.isWholeLine){const c=this._coordinatesConverter.convertModelPositionToViewPosition(new b.Position(r.startLineNumber,1),0),u=this._coordinatesConverter.convertModelPositionToViewPosition(new b.Position(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)),1);l=new k.Range(c.lineNumber,c.column,u.lineNumber,u.column)}else l=this._coordinatesConverter.convertModelRangeToViewRange(r,1);v=new T.ViewModelDecoration(l,a),this._decorationsCache[i]=v}return v}getDecorationsViewportData(C){let i=this._cachedModelDecorationsResolver!==null;return i=i&&C.equalsRange(this._cachedModelDecorationsResolverViewRange),i||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(C),this._cachedModelDecorationsResolverViewRange=C),this._cachedModelDecorationsResolver}_getDecorationsViewportData(C){const i=this._linesCollection.getDecorationsInRange(C,this.editorId,(0,L.filterValidationDecorations)(this.configuration.options)),v=C.startLineNumber,r=C.endLineNumber;let a=[],l=0,c=[];for(let u=v;u<=r;u++)c[u-v]=[];for(let u=0,s=i.length;u<s;u++){let n=i[u],d=n.options,t=this._getOrCreateViewModelDecoration(n),o=t.range;if(a[l++]=t,d.inlineClassName){let h=new T.InlineDecoration(o,d.inlineClassName,d.inlineClassNameAffectsLetterSpacing?3:0),m=Math.max(v,o.startLineNumber),y=Math.min(r,o.endLineNumber);for(let w=m;w<=y;w++)c[w-v].push(h)}if(d.beforeContentClassName&&v<=o.startLineNumber&&o.startLineNumber<=r){let h=new T.InlineDecoration(new k.Range(o.startLineNumber,o.startColumn,o.startLineNumber,o.startColumn),d.beforeContentClassName,1);c[o.startLineNumber-v].push(h)}if(d.afterContentClassName&&v<=o.endLineNumber&&o.endLineNumber<=r){let h=new T.InlineDecoration(new k.Range(o.endLineNumber,o.endColumn,o.endLineNumber,o.endColumn),d.afterContentClassName,2);c[o.endLineNumber-v].push(h)}}return{decorations:a,inlineDecorations:c}}}e.ViewModelDecorations=S}),define(ee[466],te([4,5]),function(G,e){return G.create("vs/editor/common/editorContextKeys",e)}),define(ee[467],te([4,5]),function(G,e){return G.create("vs/editor/common/model/editStack",e)}),define(ee[239],te([0,1,467,12,21,24,220,103,43]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function i(s){return s.toString()}class v{constructor(n,d,t,o,h,m,y){this.beforeVersionId=n,this.afterVersionId=d,this.beforeEOL=t,this.afterEOL=o,this.beforeCursorState=h,this.afterCursorState=m,this.changes=y}static create(n,d){const t=n.getAlternativeVersionId(),o=l(n);return new v(t,t,o,o,d,d,[])}append(n,d,t,o,h){d.length>0&&(this.changes=(0,S.compressConsecutiveTextChanges)(this.changes,d)),this.afterEOL=t,this.afterVersionId=o,this.afterCursorState=h}static _writeSelectionsSize(n){return 4+4*4*(n?n.length:0)}static _writeSelections(n,d,t){if(p.writeUInt32BE(n,d?d.length:0,t),t+=4,d)for(const o of d)p.writeUInt32BE(n,o.selectionStartLineNumber,t),t+=4,p.writeUInt32BE(n,o.selectionStartColumn,t),t+=4,p.writeUInt32BE(n,o.positionLineNumber,t),t+=4,p.writeUInt32BE(n,o.positionColumn,t),t+=4;return t}static _readSelections(n,d,t){const o=p.readUInt32BE(n,d);d+=4;for(let h=0;h<o;h++){const m=p.readUInt32BE(n,d);d+=4;const y=p.readUInt32BE(n,d);d+=4;const w=p.readUInt32BE(n,d);d+=4;const g=p.readUInt32BE(n,d);d+=4,t.push(new T.Selection(m,y,w,g))}return d}serialize(){let n=4+4+1+1+v._writeSelectionsSize(this.beforeCursorState)+v._writeSelectionsSize(this.afterCursorState)+4;for(const o of this.changes)n+=o.writeSize();const d=new Uint8Array(n);let t=0;p.writeUInt32BE(d,this.beforeVersionId,t),t+=4,p.writeUInt32BE(d,this.afterVersionId,t),t+=4,p.writeUInt8(d,this.beforeEOL,t),t+=1,p.writeUInt8(d,this.afterEOL,t),t+=1,t=v._writeSelections(d,this.beforeCursorState,t),t=v._writeSelections(d,this.afterCursorState,t),p.writeUInt32BE(d,this.changes.length,t),t+=4;for(const o of this.changes)t=o.write(d,t);return d.buffer}static deserialize(n){const d=new Uint8Array(n);let t=0;const o=p.readUInt32BE(d,t);t+=4;const h=p.readUInt32BE(d,t);t+=4;const m=p.readUInt8(d,t);t+=1;const y=p.readUInt8(d,t);t+=1;const w=[];t=v._readSelections(d,t,w);const g=[];t=v._readSelections(d,t,g);const f=p.readUInt32BE(d,t);t+=4;const _=[];for(let D=0;D<f;D++)t=S.TextChange.read(d,t,_);return new v(o,h,m,y,w,g,_)}}e.SingleModelEditStackData=v;class r{constructor(n,d){this.model=n,this._data=v.create(n,d)}get type(){return 0}get resource(){return L.URI.isUri(this.model)?this.model:this.model.uri}get label(){return b.localize(0,null)}toString(){return(this._data instanceof v?this._data:v.deserialize(this._data)).changes.map(d=>d.toString()).join(", ")}matchesResource(n){return(L.URI.isUri(this.model)?this.model:this.model.uri).toString()===n.toString()}setModel(n){this.model=n}canAppend(n){return this.model===n&&this._data instanceof v}append(n,d,t,o,h){this._data instanceof v&&this._data.append(n,d,t,o,h)}close(){this._data instanceof v&&(this._data=this._data.serialize())}open(){this._data instanceof v||(this._data=v.deserialize(this._data))}undo(){if(L.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof v&&(this._data=this._data.serialize());const n=v.deserialize(this._data);this.model._applyUndo(n.changes,n.beforeEOL,n.beforeVersionId,n.beforeCursorState)}redo(){if(L.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof v&&(this._data=this._data.serialize());const n=v.deserialize(this._data);this.model._applyRedo(n.changes,n.afterEOL,n.afterVersionId,n.afterCursorState)}heapSize(){return this._data instanceof v&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=r;class a{constructor(n,d){this.type=1,this.label=n,this._isOpen=!0,this._editStackElementsArr=d.slice(0),this._editStackElementsMap=new Map;for(const t of this._editStackElementsArr){const o=i(t.resource);this._editStackElementsMap.set(o,t)}this._delegate=null}get resources(){return this._editStackElementsArr.map(n=>n.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(n){const d=i(n);return this._editStackElementsMap.has(d)}setModel(n){const d=i(L.URI.isUri(n)?n:n.uri);this._editStackElementsMap.has(d)&&this._editStackElementsMap.get(d).setModel(n)}canAppend(n){if(!this._isOpen)return!1;const d=i(n.uri);return this._editStackElementsMap.has(d)?this._editStackElementsMap.get(d).canAppend(n):!1}append(n,d,t,o,h){const m=i(n.uri);this._editStackElementsMap.get(m).append(n,d,t,o,h)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const n of this._editStackElementsArr)n.undo()}redo(){for(const n of this._editStackElementsArr)n.redo()}heapSize(n){const d=i(n);return this._editStackElementsMap.has(d)?this._editStackElementsMap.get(d).heapSize():0}split(){return this._editStackElementsArr}toString(){let n=[];for(const d of this._editStackElementsArr)n.push(`${(0,C.basename)(d.resource)}: ${d}`);return`{${n.join(", ")}}`}}e.MultiModelEditStackElement=a;function l(s){return s.getEOL()===`
`?0:1}function c(s){return s?s instanceof r||s instanceof a:!1}e.isEditStackElement=c;class u{constructor(n,d){this._model=n,this._undoRedoService=d}pushStackElement(){const n=this._undoRedoService.getLastElement(this._model.uri);c(n)&&n.close()}popStackElement(){const n=this._undoRedoService.getLastElement(this._model.uri);c(n)&&n.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(n){const d=this._undoRedoService.getLastElement(this._model.uri);if(c(d)&&d.canAppend(this._model))return d;const t=new r(this._model,n);return this._undoRedoService.pushElement(t),t}pushEOL(n){const d=this._getOrCreateEditStackElement(null);this._model.setEOL(n),d.append(this._model,[],l(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(n,d,t){const o=this._getOrCreateEditStackElement(n),h=this._model.applyEdits(d,!0),m=u._computeCursorState(t,h),y=h.map((w,g)=>({index:g,textChange:w.textChange}));return y.sort((w,g)=>w.textChange.oldPosition===g.textChange.oldPosition?w.index-g.index:w.textChange.oldPosition-g.textChange.oldPosition),o.append(this._model,y.map(w=>w.textChange),l(this._model),this._model.getAlternativeVersionId(),m),m}static _computeCursorState(n,d){try{return n?n(d):null}catch(t){return(0,k.onUnexpectedError)(t),null}}}e.EditStack=u}),define(ee[468],te([4,5]),function(G,e){return G.create("vs/editor/common/modes/modesRegistry",e)}),define(ee[469],te([4,5]),function(G,e){return G.create("vs/editor/common/standaloneStrings",e)}),define(ee[63],te([0,1,469]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var k;(function(a){a.noSelection=b.localize(0,null),a.singleSelectionRange=b.localize(1,null),a.singleSelection=b.localize(2,null),a.multiSelectionRange=b.localize(3,null),a.multiSelection=b.localize(4,null),a.emergencyConfOn=b.localize(5,null),a.openingDocs=b.localize(6,null),a.readonlyDiffEditor=b.localize(7,null),a.editableDiffEditor=b.localize(8,null),a.readonlyEditor=b.localize(9,null),a.editableEditor=b.localize(10,null),a.changeConfigToOnMac=b.localize(11,null),a.changeConfigToOnWinLinux=b.localize(12,null),a.auto_on=b.localize(13,null),a.auto_off=b.localize(14,null),a.tabFocusModeOnMsg=b.localize(15,null),a.tabFocusModeOnMsgNoKb=b.localize(16,null),a.tabFocusModeOffMsg=b.localize(17,null),a.tabFocusModeOffMsgNoKb=b.localize(18,null),a.openDocMac=b.localize(19,null),a.openDocWinLinux=b.localize(20,null),a.outroMsg=b.localize(21,null),a.showAccessibilityHelpAction=b.localize(22,null)})(k=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var T;(function(a){a.inspectTokensAction=b.localize(23,null)})(T=e.InspectTokensNLS||(e.InspectTokensNLS={}));var L;(function(a){a.gotoLineActionLabel=b.localize(24,null)})(L=e.GoToLineNLS||(e.GoToLineNLS={}));var S;(function(a){a.helpQuickAccessActionLabel=b.localize(25,null)})(S=e.QuickHelpNLS||(e.QuickHelpNLS={}));var p;(function(a){a.quickCommandActionLabel=b.localize(26,null),a.quickCommandHelp=b.localize(27,null)})(p=e.QuickCommandNLS||(e.QuickCommandNLS={}));var C;(function(a){a.quickOutlineActionLabel=b.localize(28,null),a.quickOutlineByCategoryActionLabel=b.localize(29,null)})(C=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var i;(function(a){a.editorViewAccessibleLabel=b.localize(30,null),a.accessibilityHelpMessage=b.localize(31,null)})(i=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var v;(function(a){a.toggleHighContrast=b.localize(32,null)})(v=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var r;(function(a){a.bulkEditServiceSummary=b.localize(33,null)})(r=e.SimpleServicesNLS||(e.SimpleServicesNLS={}))}),define(ee[470],te([4,5]),function(G,e){return G.create("vs/editor/common/view/editorColorRegistry",e)}),define(ee[471],te([4,5]),function(G,e){return G.create("vs/editor/contrib/anchorSelect/anchorSelect",e)}),define(ee[472],te([4,5]),function(G,e){return G.create("vs/editor/contrib/bracketMatching/bracketMatching",e)}),define(ee[473],te([4,5]),function(G,e){return G.create("vs/editor/contrib/caretOperations/caretOperations",e)}),define(ee[474],te([4,5]),function(G,e){return G.create("vs/editor/contrib/caretOperations/transpose",e)}),define(ee[475],te([4,5]),function(G,e){return G.create("vs/editor/contrib/clipboard/clipboard",e)}),define(ee[476],te([4,5]),function(G,e){return G.create("vs/editor/contrib/codeAction/codeActionCommands",e)}),define(ee[477],te([4,5]),function(G,e){return G.create("vs/editor/contrib/codeAction/lightBulbWidget",e)}),define(ee[478],te([4,5]),function(G,e){return G.create("vs/editor/contrib/codelens/codelensController",e)}),define(ee[479],te([4,5]),function(G,e){return G.create("vs/editor/contrib/comment/comment",e)}),define(ee[480],te([4,5]),function(G,e){return G.create("vs/editor/contrib/contextmenu/contextmenu",e)}),define(ee[481],te([4,5]),function(G,e){return G.create("vs/editor/contrib/cursorUndo/cursorUndo",e)}),define(ee[482],te([4,5]),function(G,e){return G.create("vs/editor/contrib/find/findController",e)}),define(ee[483],te([4,5]),function(G,e){return G.create("vs/editor/contrib/find/findWidget",e)}),define(ee[484],te([4,5]),function(G,e){return G.create("vs/editor/contrib/folding/folding",e)}),define(ee[485],te([4,5]),function(G,e){return G.create("vs/editor/contrib/folding/foldingDecorations",e)}),define(ee[486],te([4,5]),function(G,e){return G.create("vs/editor/contrib/fontZoom/fontZoom",e)}),define(ee[487],te([4,5]),function(G,e){return G.create("vs/editor/contrib/format/format",e)}),define(ee[488],te([4,5]),function(G,e){return G.create("vs/editor/contrib/format/formatActions",e)}),define(ee[489],te([4,5]),function(G,e){return G.create("vs/editor/contrib/gotoError/gotoError",e)}),define(ee[490],te([4,5]),function(G,e){return G.create("vs/editor/contrib/gotoError/gotoErrorWidget",e)}),define(ee[491],te([4,5]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/goToCommands",e)}),define(ee[492],te([4,5]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition",e)}),define(ee[493],te([4,5]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/peek/referencesController",e)}),define(ee[494],te([4,5]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/peek/referencesTree",e)}),define(ee[495],te([4,5]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/peek/referencesWidget",e)}),define(ee[496],te([4,5]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/referencesModel",e)}),define(ee[118],te([0,1,496,6,43,2,8,125,3,49,12]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class r{constructor(s,n,d,t){this.isProviderFirst=s,this.parent=n,this.link=d,this._rangeCallback=t,this.id=p.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var s,n;return(n=(s=this._range)!==null&&s!==void 0?s:this.link.targetSelectionRange)!==null&&n!==void 0?n:this.link.range}set range(s){this._range=s,this._rangeCallback(this)}get ariaMessage(){var s;const n=(s=this.parent.getPreview(this))===null||s===void 0?void 0:s.preview(this.range);return n?(0,b.localize)(1,null,(0,T.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,n.value):(0,b.localize)(0,null,(0,T.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=r;class a{constructor(s){this._modelReference=s}dispose(){this._modelReference.dispose()}preview(s,n=8){const d=this._modelReference.object.textEditorModel;if(!d)return;const{startLineNumber:t,startColumn:o,endLineNumber:h,endColumn:m}=s,y=d.getWordUntilPosition({lineNumber:t,column:o-n}),w=new C.Range(t,y.startColumn,t,o),g=new C.Range(h,m,h,1073741824),f=d.getValueInRange(w).replace(/^\s+/,""),_=d.getValueInRange(s),D=d.getValueInRange(g).replace(/\s+$/,"");return{value:f+_+D,highlight:{start:f.length,end:f.length+_.length}}}}e.FilePreview=a;class l{constructor(s,n){this.parent=s,this.uri=n,this.children=[],this._previews=new i.ResourceMap}dispose(){(0,L.dispose)(this._previews.values()),this._previews.clear()}getPreview(s){return this._previews.get(s.uri)}get ariaMessage(){const s=this.children.length;return s===1?(0,b.localize)(2,null,(0,T.basename)(this.uri),this.uri.fsPath):(0,b.localize)(3,null,s,(0,T.basename)(this.uri),this.uri.fsPath)}resolve(s){return Ie(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let n of this.children)if(!this._previews.has(n.uri))try{const d=yield s.createModelReference(n.uri);this._previews.set(n.uri,new a(d))}catch(d){(0,v.onUnexpectedError)(d)}return this})}}e.FileReferences=l;class c{constructor(s,n){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new k.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=s,this._title=n;const[d]=s;s.sort(c._compareReferences);let t;for(let o of s)if((!t||!T.extUri.isEqual(t.uri,o.uri,!0))&&(t=new l(this,o.uri),this.groups.push(t)),t.children.length===0||c._compareReferences(o,t.children[t.children.length-1])!==0){const h=new r(d===o,t,o,m=>this._onDidChangeReferenceRange.fire(m));this.references.push(h),t.children.push(h)}}dispose(){(0,L.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new c(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,b.localize)(4,null):this.references.length===1?(0,b.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,b.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,b.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(s,n){let{parent:d}=s,t=d.children.indexOf(s),o=d.children.length,h=d.parent.groups.length;return h===1||n&&t+1<o||!n&&t>0?(n?t=(t+1)%o:t=(t+o-1)%o,d.children[t]):(t=d.parent.groups.indexOf(d),n?(t=(t+1)%h,d.parent.groups[t].children[0]):(t=(t+h-1)%h,d.parent.groups[t].children[d.parent.groups[t].children.length-1]))}nearestReference(s,n){const d=this.references.map((t,o)=>({idx:o,prefixLen:S.commonPrefixLength(t.uri.toString(),s.toString()),offsetDist:Math.abs(t.range.startLineNumber-n.lineNumber)*100+Math.abs(t.range.startColumn-n.column)})).sort((t,o)=>t.prefixLen>o.prefixLen?-1:t.prefixLen<o.prefixLen?1:t.offsetDist<o.offsetDist?-1:t.offsetDist>o.offsetDist?1:0)[0];if(d)return this.references[d.idx]}referenceAt(s,n){for(const d of this.references)if(d.uri.toString()===s.toString()&&C.Range.containsPosition(d.range,n))return d}firstReference(){for(const s of this.references)if(s.isProviderFirst)return s;return this.references[0]}static _compareReferences(s,n){return T.extUri.compare(s.uri,n.uri)||C.Range.compareRangesUsingStarts(s.range,n.range)}}e.ReferencesModel=c}),define(ee[497],te([4,5]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/symbolNavigation",e)}),define(ee[498],te([4,5]),function(G,e){return G.create("vs/editor/contrib/hover/hover",e)}),define(ee[499],te([4,5]),function(G,e){return G.create("vs/editor/contrib/hover/markdownHoverParticipant",e)}),define(ee[500],te([4,5]),function(G,e){return G.create("vs/editor/contrib/hover/markerHoverParticipant",e)}),define(ee[501],te([4,5]),function(G,e){return G.create("vs/editor/contrib/inPlaceReplace/inPlaceReplace",e)}),define(ee[502],te([4,5]),function(G,e){return G.create("vs/editor/contrib/indentation/indentation",e)}),define(ee[503],te([4,5]),function(G,e){return G.create("vs/editor/contrib/inlineCompletions/ghostTextController",e)}),define(ee[504],te([4,5]),function(G,e){return G.create("vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant",e)}),define(ee[505],te([4,5]),function(G,e){return G.create("vs/editor/contrib/linesOperations/linesOperations",e)}),define(ee[506],te([4,5]),function(G,e){return G.create("vs/editor/contrib/linkedEditing/linkedEditing",e)}),define(ee[507],te([4,5]),function(G,e){return G.create("vs/editor/contrib/links/links",e)}),define(ee[508],te([4,5]),function(G,e){return G.create("vs/editor/contrib/message/messageController",e)}),define(ee[509],te([4,5]),function(G,e){return G.create("vs/editor/contrib/multicursor/multicursor",e)}),define(ee[510],te([4,5]),function(G,e){return G.create("vs/editor/contrib/parameterHints/parameterHints",e)}),define(ee[511],te([4,5]),function(G,e){return G.create("vs/editor/contrib/parameterHints/parameterHintsWidget",e)}),define(ee[512],te([4,5]),function(G,e){return G.create("vs/editor/contrib/peekView/peekView",e)}),define(ee[513],te([4,5]),function(G,e){return G.create("vs/editor/contrib/quickAccess/gotoLineQuickAccess",e)}),define(ee[514],te([4,5]),function(G,e){return G.create("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess",e)}),define(ee[515],te([4,5]),function(G,e){return G.create("vs/editor/contrib/rename/rename",e)}),define(ee[516],te([4,5]),function(G,e){return G.create("vs/editor/contrib/rename/renameInputField",e)}),define(ee[517],te([4,5]),function(G,e){return G.create("vs/editor/contrib/smartSelect/smartSelect",e)}),define(ee[518],te([4,5]),function(G,e){return G.create("vs/editor/contrib/snippet/snippetController2",e)}),define(ee[519],te([4,5]),function(G,e){return G.create("vs/editor/contrib/snippet/snippetVariables",e)}),define(ee[520],te([4,5]),function(G,e){return G.create("vs/editor/contrib/suggest/suggest",e)}),define(ee[521],te([4,5]),function(G,e){return G.create("vs/editor/contrib/suggest/suggestController",e)}),define(ee[522],te([4,5]),function(G,e){return G.create("vs/editor/contrib/suggest/suggestWidget",e)}),define(ee[523],te([4,5]),function(G,e){return G.create("vs/editor/contrib/suggest/suggestWidgetDetails",e)}),define(ee[524],te([4,5]),function(G,e){return G.create("vs/editor/contrib/suggest/suggestWidgetRenderer",e)}),define(ee[525],te([4,5]),function(G,e){return G.create("vs/editor/contrib/suggest/suggestWidgetStatus",e)}),define(ee[526],te([4,5]),function(G,e){return G.create("vs/editor/contrib/symbolIcons/symbolIcons",e)}),define(ee[527],te([4,5]),function(G,e){return G.create("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode",e)}),define(ee[528],te([4,5]),function(G,e){return G.create("vs/editor/contrib/tokenization/tokenization",e)}),define(ee[529],te([4,5]),function(G,e){return G.create("vs/editor/contrib/unusualLineTerminators/unusualLineTerminators",e)}),define(ee[530],te([4,5]),function(G,e){return G.create("vs/editor/contrib/wordHighlighter/wordHighlighter",e)}),define(ee[531],te([4,5]),function(G,e){return G.create("vs/editor/contrib/wordOperations/wordOperations",e)}),define(ee[532],te([4,5]),function(G,e){return G.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(ee[533],te([4,5]),function(G,e){return G.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ee[534],te([4,5]),function(G,e){return G.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(ee[535],te([4,5]),function(G,e){return G.create("vs/platform/contextkey/common/contextkeys",e)}),define(ee[536],te([4,5]),function(G,e){return G.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(ee[537],te([4,5]),function(G,e){return G.create("vs/platform/list/browser/listService",e)}),define(ee[538],te([4,5]),function(G,e){return G.create("vs/platform/markers/common/markers",e)}),define(ee[539],te([4,5]),function(G,e){return G.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(ee[540],te([4,5]),function(G,e){return G.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(ee[541],te([4,5]),function(G,e){return G.create("vs/platform/theme/common/colorRegistry",e)}),define(ee[542],te([4,5]),function(G,e){return G.create("vs/platform/theme/common/iconRegistry",e)}),define(ee[543],te([4,5]),function(G,e){return G.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(ee[544],te([0,1,7]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;class k{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(L,S){return Ie(this,void 0,void 0,function*(){if(S){this.mapTextToType.set(S,L);return}try{return yield navigator.clipboard.writeText(L)}catch(i){console.error(i)}const p=document.activeElement,C=document.body.appendChild((0,b.$)("textarea",{"aria-hidden":!0}));C.style.height="1px",C.style.width="1px",C.style.position="absolute",C.value=L,C.focus(),C.select(),document.execCommand("copy"),p instanceof HTMLElement&&p.focus(),document.body.removeChild(C)})}readText(L){return Ie(this,void 0,void 0,function*(){if(L)return this.mapTextToType.get(L)||"";try{return yield navigator.clipboard.readText()}catch(S){return console.error(S),""}})}readFindText(){return Ie(this,void 0,void 0,function*(){return this.findText})}writeFindText(L){return Ie(this,void 0,void 0,function*(){this.findText=L})}}e.BrowserClipboardService=k}),define(ee[545],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenContext=void 0;var b;(function(k){k[k.API=0]="API",k[k.USER=1]="USER"})(b=e.EditorOpenContext||(e.EditorOpenContext={}))}),define(ee[546],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class b{constructor(T){this.value=T,this._lower=T.toLowerCase()}static toKey(T){return typeof T=="string"?T.toLowerCase():T._lower}}e.ExtensionIdentifier=b}),define(ee[240],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var b;(function(k){k[k.FILE=0]="FILE",k[k.FOLDER=1]="FOLDER",k[k.ROOT_FOLDER=2]="ROOT_FOLDER"})(b=e.FileKind||(e.FileKind={}))}),define(ee[241],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class b{constructor(T,L=[],S=!1){this.ctor=T,this.staticArguments=L,this.supportsDelayedInstantiation=S}}e.SyncDescriptor=b}),define(ee[75],te([0,1,241]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const k=[];function T(S,p,C){p instanceof b.SyncDescriptor||(p=new b.SyncDescriptor(p,[],C)),k.push([S,p])}e.registerSingleton=T;function L(){return k}e.getSingletonServiceDescriptors=L}),define(ee[547],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class b{constructor(L){this.incoming=new Map,this.outgoing=new Map,this.data=L}}e.Node=b;class k{constructor(L){this._hashFn=L,this._nodes=new Map}roots(){const L=[];for(let S of this._nodes.values())S.outgoing.size===0&&L.push(S);return L}insertEdge(L,S){const p=this.lookupOrInsertNode(L),C=this.lookupOrInsertNode(S);p.outgoing.set(this._hashFn(S),C),C.incoming.set(this._hashFn(L),p)}removeNode(L){const S=this._hashFn(L);this._nodes.delete(S);for(let p of this._nodes.values())p.outgoing.delete(S),p.incoming.delete(S)}lookupOrInsertNode(L){const S=this._hashFn(L);let p=this._nodes.get(S);return p||(p=new b(L),this._nodes.set(S,p)),p}isEmpty(){return this._nodes.size===0}toString(){let L=[];for(let[S,p]of this._nodes)L.push(`${S}, (incoming)[${[...p.incoming.keys()].join(", ")}], (outgoing)[${[...p.outgoing.keys()].join(",")}]`);return L.join(`
`)}findCycleSlow(){for(let[L,S]of this._nodes){const p=new Set([L]),C=this._findCycle(S,p);if(C)return C}}_findCycle(L,S){for(let[p,C]of L.outgoing){if(S.has(p))return[...S,p].join(" -> ");S.add(p);const i=this._findCycle(C,S);if(i)return i;S.delete(p)}}}e.Graph=k}),define(ee[9],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=e.createDecorator=e.IInstantiationService=e._util=void 0;var b;(function(S){S.serviceIds=new Map,S.DI_TARGET="$di$target",S.DI_DEPENDENCIES="$di$dependencies";function p(C){return C[S.DI_DEPENDENCIES]||[]}S.getServiceDependencies=p})(b=e._util||(e._util={})),e.IInstantiationService=T("instantiationService");function k(S,p,C,i){p[b.DI_TARGET]===p?p[b.DI_DEPENDENCIES].push({id:S,index:C,optional:i}):(p[b.DI_DEPENDENCIES]=[{id:S,index:C,optional:i}],p[b.DI_TARGET]=p)}function T(S){if(b.serviceIds.has(S))return b.serviceIds.get(S);const p=function(C,i,v){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");k(p,C,v,!1)};return p.toString=()=>S,b.serviceIds.set(S,p),p}e.createDecorator=T;function L(S){return function(p,C,i){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");k(S,p,i,!0)}}e.optional=L}),define(ee[138],te([0,1,9,24,20]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,b.createDecorator)("IWorkspaceEditService");function L(v){return(0,T.isObject)(v)&&(Boolean(v.newUri)||Boolean(v.oldUri))}function S(v){return(0,T.isObject)(v)&&k.URI.isUri(v.resource)&&(0,T.isObject)(v.edit)}class p{constructor(r){this.metadata=r}static convert(r){return r.edits.map(a=>{if(S(a))return new C(a.resource,a.edit,a.modelVersionId,a.metadata);if(L(a))return new i(a.oldUri,a.newUri,a.options,a.metadata);throw new Error("Unsupported edit")})}}e.ResourceEdit=p;class C extends p{constructor(r,a,l,c){super(c);this.resource=r,this.textEdit=a,this.versionId=l}}e.ResourceTextEdit=C;class i extends p{constructor(r,a,l,c){super(c);this.oldResource=r,this.newResource=a,this.options=l}}e.ResourceFileEdit=i}),define(ee[28],te([0,1,9]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,b.createDecorator)("codeEditorService")}),define(ee[76],te([0,1,9]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=(0,b.createDecorator)(e.ID_EDITOR_WORKER_SERVICE)}),define(ee[183],te([0,1,9]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,b.createDecorator)("markerDecorationsService")}),define(ee[57],te([0,1,9]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModeService=void 0,e.IModeService=(0,b.createDecorator)("modeService")}),define(ee[36],te([0,1,9]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.IModelService=void 0,e.IModelService=(0,b.createDecorator)("modelService");function k(T){return!T.isTooLargeForSyncing()&&!T.isForSimpleWidget}e.shouldSynchronizeModel=k}),define(ee[139],te([0,1,6,92,2,49,102,382,36]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRequestDelays=e.LanguageFeatureRegistry=void 0;function i(a){return typeof a=="string"?!1:Array.isArray(a)?a.every(i):!!a.exclusive}class v{constructor(){this._clock=0,this._entries=[],this._onDidChange=new b.Emitter}get onDidChange(){return this._onDidChange.event}register(l,c){let u={selector:l,provider:c,_score:-1,_time:this._clock++};return this._entries.push(u),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,T.toDisposable)(()=>{if(u){let s=this._entries.indexOf(u);s>=0&&(this._entries.splice(s,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),u=void 0)}})}has(l){return this.all(l).length>0}all(l){if(!l)return[];this._updateScores(l);const c=[];for(let u of this._entries)u._score>0&&c.push(u.provider);return c}ordered(l){const c=[];return this._orderedForEach(l,u=>c.push(u.provider)),c}orderedGroups(l){const c=[];let u,s;return this._orderedForEach(l,n=>{u&&s===n._score?u.push(n.provider):(s=n._score,u=[n.provider],c.push(u))}),c}_orderedForEach(l,c){if(!!l){this._updateScores(l);for(const u of this._entries)u._score>0&&c(u)}}_updateScores(l){let c={uri:l.uri.toString(),language:l.getLanguageIdentifier().language};if(!(this._lastCandidate&&this._lastCandidate.language===c.language&&this._lastCandidate.uri===c.uri)){this._lastCandidate=c;for(let u of this._entries)if(u._score=(0,p.score)(u.selector,l.uri,l.getLanguageIdentifier().language,(0,C.shouldSynchronizeModel)(l)),i(u.selector)&&u._score>0){for(let s of this._entries)s._score=0;u._score=1e3;break}this._entries.sort(v._compareByScoreAndTime)}}static _compareByScoreAndTime(l,c){return l._score<c._score?1:l._score>c._score?-1:l._time<c._time?1:l._time>c._time?-1:0}}e.LanguageFeatureRegistry=v;class r{constructor(l,c,u=Number.MAX_SAFE_INTEGER){this._registry=l,this.min=c,this.max=u,this._cache=new L.LRUCache(50,.7)}_key(l){return l.id+(0,k.hash)(this._registry.all(l))}_clamp(l){return l===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(l*1.3)))}get(l){const c=this._key(l),u=this._cache.get(c);return this._clamp(u==null?void 0:u.value)}update(l,c){const u=this._key(l);let s=this._cache.get(u);return s||(s=new S.MovingAverage,this._cache.set(u,s)),s.update(c),this.get(l)}}e.LanguageFeatureRequestDelays=r}),define(ee[18],te([0,1,24,3,139,390,27]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.DocumentRangeSemanticTokensProviderRegistry=e.DocumentSemanticTokensProviderRegistry=e.FoldingRangeProviderRegistry=e.SelectionRangeRegistry=e.ColorProviderRegistry=e.LinkProviderRegistry=e.OnTypeFormattingEditProviderRegistry=e.DocumentRangeFormattingEditProviderRegistry=e.DocumentFormattingEditProviderRegistry=e.CodeActionProviderRegistry=e.InlayHintsProviderRegistry=e.CodeLensProviderRegistry=e.TypeDefinitionProviderRegistry=e.ImplementationProviderRegistry=e.DeclarationProviderRegistry=e.DefinitionProviderRegistry=e.LinkedEditingRangeProviderRegistry=e.DocumentHighlightProviderRegistry=e.DocumentSymbolProviderRegistry=e.HoverProviderRegistry=e.SignatureHelpProviderRegistry=e.InlineCompletionsProviderRegistry=e.CompletionProviderRegistry=e.RenameProviderRegistry=e.ReferenceProviderRegistry=e.InlayHintKind=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.InlineCompletionTriggerKind=e.completionKindFromString=e.completionKindToCssClass=e.TokenMetadata=e.LanguageIdentifier=void 0;class p{constructor(n,d){this.language=n,this.id=d}}e.LanguageIdentifier=p;class C{static getLanguageId(n){return(n&255)>>>0}static getTokenType(n){return(n&1792)>>>8}static getFontStyle(n){return(n&14336)>>>11}static getForeground(n){return(n&8372224)>>>14}static getBackground(n){return(n&4286578688)>>>23}static getClassNameFromMetadata(n){let d=this.getForeground(n),t="mtk"+d,o=this.getFontStyle(n);return o&1&&(t+=" mtki"),o&2&&(t+=" mtkb"),o&4&&(t+=" mtku"),t}static getInlineStyleFromMetadata(n,d){const t=this.getForeground(n),o=this.getFontStyle(n);let h=`color: ${d[t]};`;return o&1&&(h+="font-style: italic;"),o&2&&(h+="font-weight: bold;"),o&4&&(h+="text-decoration: underline;"),h}}e.TokenMetadata=C,e.completionKindToCssClass=function(){let s=Object.create(null);return s[0]="symbol-method",s[1]="symbol-function",s[2]="symbol-constructor",s[3]="symbol-field",s[4]="symbol-variable",s[5]="symbol-class",s[6]="symbol-struct",s[7]="symbol-interface",s[8]="symbol-module",s[9]="symbol-property",s[10]="symbol-event",s[11]="symbol-operator",s[12]="symbol-unit",s[13]="symbol-value",s[14]="symbol-constant",s[15]="symbol-enum",s[16]="symbol-enum-member",s[17]="symbol-keyword",s[27]="symbol-snippet",s[18]="symbol-text",s[19]="symbol-color",s[20]="symbol-file",s[21]="symbol-reference",s[22]="symbol-customcolor",s[23]="symbol-folder",s[24]="symbol-type-parameter",s[25]="account",s[26]="issues",function(n){const d=s[n];let t=d&&S.iconRegistry.get(d);return t||(console.info("No codicon found for CompletionItemKind "+n),t=S.Codicon.symbolProperty),t.classNames}}(),e.completionKindFromString=function(){let s=Object.create(null);return s.method=0,s.function=1,s.constructor=2,s.field=3,s.variable=4,s.class=5,s.struct=6,s.interface=7,s.module=8,s.property=9,s.event=10,s.operator=11,s.unit=12,s.value=13,s.constant=14,s.enum=15,s["enum-member"]=16,s.enumMember=16,s.keyword=17,s.snippet=27,s.text=18,s.color=19,s.file=20,s.reference=21,s.customcolor=22,s.folder=23,s["type-parameter"]=24,s.typeParameter=24,s.account=25,s.issue=26,function(n,d){let t=s[n];return typeof t=="undefined"&&!d&&(t=9),t}}();var i;(function(s){s[s.Automatic=0]="Automatic",s[s.Explicit=1]="Explicit"})(i=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var v;(function(s){s[s.Invoke=1]="Invoke",s[s.TriggerCharacter=2]="TriggerCharacter",s[s.ContentChange=3]="ContentChange"})(v=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var r;(function(s){s[s.Text=0]="Text",s[s.Read=1]="Read",s[s.Write=2]="Write"})(r=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function a(s){return s&&b.URI.isUri(s.uri)&&k.Range.isIRange(s.range)&&(k.Range.isIRange(s.originSelectionRange)||k.Range.isIRange(s.targetSelectionRange))}e.isLocationLink=a;var l;(function(s){const n=new Map;n.set("file",0),n.set("module",1),n.set("namespace",2),n.set("package",3),n.set("class",4),n.set("method",5),n.set("property",6),n.set("field",7),n.set("constructor",8),n.set("enum",9),n.set("interface",10),n.set("function",11),n.set("variable",12),n.set("constant",13),n.set("string",14),n.set("number",15),n.set("boolean",16),n.set("array",17),n.set("object",18),n.set("key",19),n.set("null",20),n.set("enum-member",21),n.set("struct",22),n.set("event",23),n.set("operator",24),n.set("type-parameter",25);const d=new Map;d.set(0,"file"),d.set(1,"module"),d.set(2,"namespace"),d.set(3,"package"),d.set(4,"class"),d.set(5,"method"),d.set(6,"property"),d.set(7,"field"),d.set(8,"constructor"),d.set(9,"enum"),d.set(10,"interface"),d.set(11,"function"),d.set(12,"variable"),d.set(13,"constant"),d.set(14,"string"),d.set(15,"number"),d.set(16,"boolean"),d.set(17,"array"),d.set(18,"object"),d.set(19,"key"),d.set(20,"null"),d.set(21,"enum-member"),d.set(22,"struct"),d.set(23,"event"),d.set(24,"operator"),d.set(25,"type-parameter");function t(m){return n.get(m)}s.fromString=t;function o(m){return d.get(m)}s.toString=o;function h(m,y){const w=d.get(m);let g=w&&S.iconRegistry.get("symbol-"+w);return g||(console.info("No codicon found for SymbolKind "+m),g=S.Codicon.symbolProperty),`${y?"inline":"block"} ${g.classNames}`}s.toCssClassName=h})(l=e.SymbolKinds||(e.SymbolKinds={}));class c{constructor(n){this.value=n}}e.FoldingRangeKind=c,c.Comment=new c("comment"),c.Imports=new c("imports"),c.Region=new c("region");var u;(function(s){s[s.Other=0]="Other",s[s.Type=1]="Type",s[s.Parameter=2]="Parameter"})(u=e.InlayHintKind||(e.InlayHintKind={})),e.ReferenceProviderRegistry=new T.LanguageFeatureRegistry,e.RenameProviderRegistry=new T.LanguageFeatureRegistry,e.CompletionProviderRegistry=new T.LanguageFeatureRegistry,e.InlineCompletionsProviderRegistry=new T.LanguageFeatureRegistry,e.SignatureHelpProviderRegistry=new T.LanguageFeatureRegistry,e.HoverProviderRegistry=new T.LanguageFeatureRegistry,e.DocumentSymbolProviderRegistry=new T.LanguageFeatureRegistry,e.DocumentHighlightProviderRegistry=new T.LanguageFeatureRegistry,e.LinkedEditingRangeProviderRegistry=new T.LanguageFeatureRegistry,e.DefinitionProviderRegistry=new T.LanguageFeatureRegistry,e.DeclarationProviderRegistry=new T.LanguageFeatureRegistry,e.ImplementationProviderRegistry=new T.LanguageFeatureRegistry,e.TypeDefinitionProviderRegistry=new T.LanguageFeatureRegistry,e.CodeLensProviderRegistry=new T.LanguageFeatureRegistry,e.InlayHintsProviderRegistry=new T.LanguageFeatureRegistry,e.CodeActionProviderRegistry=new T.LanguageFeatureRegistry,e.DocumentFormattingEditProviderRegistry=new T.LanguageFeatureRegistry,e.DocumentRangeFormattingEditProviderRegistry=new T.LanguageFeatureRegistry,e.OnTypeFormattingEditProviderRegistry=new T.LanguageFeatureRegistry,e.LinkProviderRegistry=new T.LanguageFeatureRegistry,e.ColorProviderRegistry=new T.LanguageFeatureRegistry,e.SelectionRangeRegistry=new T.LanguageFeatureRegistry,e.FoldingRangeProviderRegistry=new T.LanguageFeatureRegistry,e.DocumentSemanticTokensProviderRegistry=new T.LanguageFeatureRegistry,e.DocumentRangeSemanticTokensProviderRegistry=new T.LanguageFeatureRegistry,e.TokenizationRegistry=new L.TokenizationRegistryImpl}),define(ee[85],te([0,1,18]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlicedLineTokens=e.LineTokens=void 0;class k{constructor(S,p){this._lineTokensBrand=void 0,this._tokens=S,this._tokensCount=this._tokens.length>>>1,this._text=p}static createEmpty(S){const p=k.defaultTokenMetadata,C=new Uint32Array(2);return C[0]=S.length,C[1]=p,new k(C,S)}equals(S){return S instanceof k?this.slicedEquals(S,0,this._tokensCount):!1}slicedEquals(S,p,C){if(this._text!==S._text||this._tokensCount!==S._tokensCount)return!1;const i=p<<1,v=i+(C<<1);for(let r=i;r<v;r++)if(this._tokens[r]!==S._tokens[r])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(S){return S>0?this._tokens[S-1<<1]:0}getMetadata(S){return this._tokens[(S<<1)+1]}getLanguageId(S){const p=this._tokens[(S<<1)+1];return b.TokenMetadata.getLanguageId(p)}getStandardTokenType(S){const p=this._tokens[(S<<1)+1];return b.TokenMetadata.getTokenType(p)}getForeground(S){const p=this._tokens[(S<<1)+1];return b.TokenMetadata.getForeground(p)}getClassName(S){const p=this._tokens[(S<<1)+1];return b.TokenMetadata.getClassNameFromMetadata(p)}getInlineStyle(S,p){const C=this._tokens[(S<<1)+1];return b.TokenMetadata.getInlineStyleFromMetadata(C,p)}getEndOffset(S){return this._tokens[S<<1]}findTokenIndexAtOffset(S){return k.findIndexInTokensArray(this._tokens,S)}inflate(){return this}sliceAndInflate(S,p,C){return new T(this,S,p,C)}static convertToEndOffset(S,p){const i=(S.length>>>1)-1;for(let v=0;v<i;v++)S[v<<1]=S[v+1<<1];S[i<<1]=p}static findIndexInTokensArray(S,p){if(S.length<=2)return 0;let C=0,i=(S.length>>>1)-1;for(;C<i;){const v=C+Math.floor((i-C)/2),r=S[v<<1];if(r===p)return v+1;r<p?C=v+1:r>p&&(i=v)}return C}withInserted(S){if(S.length===0)return this;let p=0,C=0,i="";const v=new Array;let r=0;for(;;){let a=p<this._tokensCount?this._tokens[p<<1]:-1,l=C<S.length?S[C]:null;if(a!==-1&&(l===null||a<=l.offset)){i+=this._text.substring(r,a);const c=this._tokens[(p<<1)+1];v.push(i.length,c),p++,r=a}else if(l){if(l.offset>r){i+=this._text.substring(r,l.offset);const c=this._tokens[(p<<1)+1];v.push(i.length,c),r=l.offset}i+=l.text,v.push(i.length,l.tokenMetadata),C++}else break}return new k(new Uint32Array(v),i)}}e.LineTokens=k,k.defaultTokenMetadata=(0<<11|1<<14|2<<23)>>>0;class T{constructor(S,p,C,i){this._source=S,this._startOffset=p,this._endOffset=C,this._deltaOffset=i,this._firstTokenIndex=S.findTokenIndexAtOffset(p),this._tokensCount=0;for(let v=this._firstTokenIndex,r=S.getCount();v<r&&!(S.getStartOffset(v)>=C);v++)this._tokensCount++}equals(S){return S instanceof T?this._startOffset===S._startOffset&&this._endOffset===S._endOffset&&this._deltaOffset===S._deltaOffset&&this._source.slicedEquals(S._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(S){return this._source.getForeground(this._firstTokenIndex+S)}getEndOffset(S){const p=this._source.getEndOffset(this._firstTokenIndex+S);return Math.min(this._endOffset,p)-this._startOffset+this._deltaOffset}getClassName(S){return this._source.getClassName(this._firstTokenIndex+S)}getInlineStyle(S,p){return this._source.getInlineStyle(this._firstTokenIndex+S,p)}findTokenIndexAtOffset(S){return this._source.findTokenIndexAtOffset(S+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}e.SlicedLineTokens=T}),define(ee[140],te([0,1,19,85,13,3,18]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokensStore=e.TokensStore2=e.MultilineTokens=e.MultilineTokens2=e.LineTokens2=e.SparseEncodedTokens=e.MultilineTokensBuilder=e.countEOL=void 0;function p(d){let t=0,o=0,h=0,m=0;for(let y=0,w=d.length;y<w;y++){const g=d.charCodeAt(y);g===13?(t===0&&(o=y),t++,y+1<w&&d.charCodeAt(y+1)===10?(m|=2,y++):m|=3,h=y+1):g===10&&(m|=1,t===0&&(o=y),t++,h=y+1)}return t===0&&(o=d.length),[t,o,d.length-h,m]}e.countEOL=p;function C(d){return(d<<0|0<<8|0<<11|1<<14|2<<23)>>>0}const i=new Uint32Array(0).buffer;class v{constructor(){this.tokens=[]}add(t,o){if(this.tokens.length>0){const h=this.tokens[this.tokens.length-1];if(h.startLineNumber+h.tokens.length-1+1===t){h.tokens.push(o);return}}this.tokens.push(new c(t,[o]))}}e.MultilineTokensBuilder=v;class r{constructor(t){this._tokens=t,this._tokenCount=t.length/4}toString(t){let o=[];for(let h=0;h<this._tokenCount;h++)o.push(`(${this._getDeltaLine(h)+t},${this._getStartCharacter(h)}-${this._getEndCharacter(h)})`);return`[${o.join(",")}]`}getMaxDeltaLine(){const t=this._getTokenCount();return t===0?-1:this._getDeltaLine(t-1)}getRange(){const t=this._getTokenCount();if(t===0)return null;const o=this._getStartCharacter(0),h=this._getDeltaLine(t-1),m=this._getEndCharacter(t-1);return new L.Range(0,o+1,h,m+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(t){return this._tokens[4*t]}_getStartCharacter(t){return this._tokens[4*t+1]}_getEndCharacter(t){return this._tokens[4*t+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(t){let o=0,h=this._getTokenCount()-1;for(;o<h;){const m=o+Math.floor((h-o)/2),y=this._getDeltaLine(m);if(y<t)o=m+1;else if(y>t)h=m-1;else{let w=m;for(;w>o&&this._getDeltaLine(w-1)===t;)w--;let g=m;for(;g<h&&this._getDeltaLine(g+1)===t;)g++;return new a(this._tokens.subarray(4*w,4*g+4))}}return this._getDeltaLine(o)===t?new a(this._tokens.subarray(4*o,4*o+4)):null}clear(){this._tokenCount=0}removeTokens(t,o,h,m){const y=this._tokens,w=this._tokenCount;let g=0,f=!1,_=0;for(let D=0;D<w;D++){const N=4*D,I=y[N],M=y[N+1],O=y[N+2],R=y[N+3];if((I>t||I===t&&O>=o)&&(I<h||I===h&&M<=m))f=!0;else{if(g===0&&(_=I),f){const P=4*g;y[P]=I-_,y[P+1]=M,y[P+2]=O,y[P+3]=R}g++}}return this._tokenCount=g,_}split(t,o,h,m){const y=this._tokens,w=this._tokenCount;let g=[],f=[],_=g,D=0,N=0;for(let I=0;I<w;I++){const M=4*I,O=y[M],R=y[M+1],P=y[M+2],A=y[M+3];if(O>t||O===t&&P>=o){if(O<h||O===h&&R<=m)continue;_!==f&&(_=f,D=0,N=O)}_[D++]=O-N,_[D++]=R,_[D++]=P,_[D++]=A}return[new r(new Uint32Array(g)),new r(new Uint32Array(f)),N]}acceptDeleteRange(t,o,h,m,y){const w=this._tokens,g=this._tokenCount,f=m-o;let _=0,D=!1;for(let N=0;N<g;N++){const I=4*N;let M=w[I],O=w[I+1],R=w[I+2];const P=w[I+3];if(M<o||M===o&&R<=h){_++;continue}else if(M===o&&O<h)M===m&&R>y?R-=y-h:R=h;else if(M===o&&O===h)if(M===m&&R>y)R-=y-h;else{D=!0;continue}else if(M<m||M===m&&O<y)if(M===m&&R>y)M===o?(O=h,R=O+(R-y)):(O=0,R=O+(R-y));else{D=!0;continue}else if(M>m){if(f===0&&!D){_=g;break}M-=f}else if(M===m&&O>=y)t&&M===0&&(O+=t,R+=t),M-=f,O-=y-h,R-=y-h;else throw new Error("Not possible!");const A=4*_;w[A]=M,w[A+1]=O,w[A+2]=R,w[A+3]=P,_++}this._tokenCount=_}acceptInsertText(t,o,h,m,y,w){const g=h===0&&m===1&&(w>=48&&w<=57||w>=65&&w<=90||w>=97&&w<=122),f=this._tokens,_=this._tokenCount;for(let D=0;D<_;D++){const N=4*D;let I=f[N],M=f[N+1],O=f[N+2];if(!(I<t||I===t&&O<o)){if(I===t&&O===o)if(g)O+=1;else continue;else if(I===t&&M<o&&o<O)h===0?O+=m:O=o;else{if(I===t&&M===o&&g)continue;if(I===t)if(I+=h,h===0)M+=m,O+=m;else{const R=O-M;M=y+(M-o),O=M+R}else I+=h}f[N]=I,f[N+1]=M,f[N+2]=O}}}}e.SparseEncodedTokens=r;class a{constructor(t){this._tokens=t}getCount(){return this._tokens.length/4}getStartCharacter(t){return this._tokens[4*t+1]}getEndCharacter(t){return this._tokens[4*t+2]}getMetadata(t){return this._tokens[4*t+3]}}e.LineTokens2=a;class l{constructor(t,o){this.startLineNumber=t,this.tokens=o,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(t){return this.startLineNumber<=t&&t<=this.endLineNumber?this.tokens.getLineTokens(t-this.startLineNumber):null}getRange(){const t=this.tokens.getRange();return t&&new L.Range(this.startLineNumber+t.startLineNumber,t.startColumn,this.startLineNumber+t.endLineNumber,t.endColumn)}removeTokens(t){const o=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(o,t.startColumn-1,h,t.endColumn-1),this._updateEndLineNumber()}split(t){const o=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber,[m,y,w]=this.tokens.split(o,t.startColumn-1,h,t.endColumn-1);return[new l(this.startLineNumber,m),new l(this.startLineNumber+w,y)]}applyEdit(t,o){const[h,m,y]=p(o);this.acceptEdit(t,h,m,y,o.length>0?o.charCodeAt(0):0)}acceptEdit(t,o,h,m,y){this._acceptDeleteRange(t),this._acceptInsertText(new T.Position(t.startLineNumber,t.startColumn),o,h,m,y),this._updateEndLineNumber()}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return;const o=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber;if(h<0){const y=h-o;this.startLineNumber-=y;return}const m=this.tokens.getMaxDeltaLine();if(!(o>=m+1)){if(o<0&&h>=m+1){this.startLineNumber=0,this.tokens.clear();return}if(o<0){const y=-o;this.startLineNumber-=y,this.tokens.acceptDeleteRange(t.startColumn-1,0,0,h,t.endColumn-1)}else this.tokens.acceptDeleteRange(0,o,t.startColumn-1,h,t.endColumn-1)}}_acceptInsertText(t,o,h,m,y){if(o===0&&h===0)return;const w=t.lineNumber-this.startLineNumber;if(w<0){this.startLineNumber+=o;return}const g=this.tokens.getMaxDeltaLine();w>=g+1||this.tokens.acceptInsertText(w,t.column-1,o,h,m,y)}}e.MultilineTokens2=l;class c{constructor(t,o){this.startLineNumber=t,this.tokens=o}}e.MultilineTokens=c;function u(d){return d instanceof Uint32Array?d:new Uint32Array(d)}class s{constructor(){this._pieces=[],this._isComplete=!1}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(t,o){this._pieces=t||[],this._isComplete=o}setPartial(t,o){let h=t;if(o.length>0){const y=o[0].getRange(),w=o[o.length-1].getRange();if(!y||!w)return t;h=t.plusRange(y).plusRange(w)}let m=null;for(let y=0,w=this._pieces.length;y<w;y++){const g=this._pieces[y];if(g.endLineNumber<h.startLineNumber)continue;if(g.startLineNumber>h.endLineNumber){m=m||{index:y};break}if(g.removeTokens(h),g.isEmpty()){this._pieces.splice(y,1),y--,w--;continue}if(g.endLineNumber<h.startLineNumber)continue;if(g.startLineNumber>h.endLineNumber){m=m||{index:y};continue}const[f,_]=g.split(h);if(f.isEmpty()){m=m||{index:y};continue}_.isEmpty()||(this._pieces.splice(y,1,f,_),y++,w++,m=m||{index:y})}return m=m||{index:this._pieces.length},o.length>0&&(this._pieces=b.arrayInsert(this._pieces,m.index,o)),h}isComplete(){return this._isComplete}addSemanticTokens(t,o){const h=this._pieces;if(h.length===0)return o;const m=s._findFirstPieceWithLine(h,t),y=h[m].getLineTokens(t);if(!y)return o;const w=o.getCount(),g=y.getCount();let f=0,_=[],D=0,N=0;const I=(M,O)=>{M!==N&&(N=M,_[D++]=M,_[D++]=O)};for(let M=0;M<g;M++){const O=y.getStartCharacter(M),R=y.getEndCharacter(M),P=y.getMetadata(M),A=((P&1?2048:0)|(P&2?4096:0)|(P&4?8192:0)|(P&8?8372224:0)|(P&16?4286578688:0))>>>0,F=~A>>>0;for(;f<w&&o.getEndOffset(f)<=O;)I(o.getEndOffset(f),o.getMetadata(f)),f++;for(f<w&&o.getStartOffset(f)<O&&I(O,o.getMetadata(f));f<w&&o.getEndOffset(f)<R;)I(o.getEndOffset(f),o.getMetadata(f)&F|P&A),f++;if(f<w)I(R,o.getMetadata(f)&F|P&A),o.getEndOffset(f)===R&&f++;else{const E=Math.min(Math.max(0,f-1),w-1);I(R,o.getMetadata(E)&F|P&A)}}for(;f<w;)I(o.getEndOffset(f),o.getMetadata(f)),f++;return new k.LineTokens(new Uint32Array(_),o.getLineContent())}static _findFirstPieceWithLine(t,o){let h=0,m=t.length-1;for(;h<m;){let y=h+Math.floor((m-h)/2);if(t[y].endLineNumber<o)h=y+1;else if(t[y].startLineNumber>o)m=y-1;else{for(;y>h&&t[y-1].startLineNumber<=o&&o<=t[y-1].endLineNumber;)y--;return y}}return h}acceptEdit(t,o,h,m,y){for(const w of this._pieces)w.acceptEdit(t,o,h,m,y)}}e.TokensStore2=s;class n{constructor(){this._lineTokens=[],this._len=0}flush(){this._lineTokens=[],this._len=0}getTokens(t,o,h){let m=null;if(o<this._len&&(m=this._lineTokens[o]),m!==null&&m!==i)return new k.LineTokens(u(m),h);let y=new Uint32Array(2);return y[0]=h.length,y[1]=C(t),new k.LineTokens(y,h)}static _massageTokens(t,o,h){const m=h?u(h):null;if(o===0){let y=!1;if(m&&m.length>1&&(y=S.TokenMetadata.getLanguageId(m[1])!==t),!y)return i}if(!m||m.length===0){const y=new Uint32Array(2);return y[0]=o,y[1]=C(t),y.buffer}return m[m.length-2]=o,m.byteOffset===0&&m.byteLength===m.buffer.byteLength?m.buffer:m}_ensureLine(t){for(;t>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(t,o){o!==0&&(t+o>this._len&&(o=this._len-t),this._lineTokens.splice(t,o),this._len-=o)}_insertLines(t,o){if(o===0)return;let h=[];for(let m=0;m<o;m++)h[m]=null;this._lineTokens=b.arrayInsert(this._lineTokens,t,h),this._len+=o}setTokens(t,o,h,m,y){const w=n._massageTokens(t,h,m);this._ensureLine(o);const g=this._lineTokens[o];return this._lineTokens[o]=w,y?!n._equals(g,w):!1}static _equals(t,o){if(!t||!o)return!t&&!o;const h=u(t),m=u(o);if(h.length!==m.length)return!1;for(let y=0,w=h.length;y<w;y++)if(h[y]!==m[y])return!1;return!0}acceptEdit(t,o,h){this._acceptDeleteRange(t),this._acceptInsertText(new T.Position(t.startLineNumber,t.startColumn),o,h)}_acceptDeleteRange(t){const o=t.startLineNumber-1;if(o>=this._len)return;if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;this._lineTokens[o]=n._delete(this._lineTokens[o],t.startColumn-1,t.endColumn-1);return}this._lineTokens[o]=n._deleteEnding(this._lineTokens[o],t.startColumn-1);const h=t.endLineNumber-1;let m=null;h<this._len&&(m=n._deleteBeginning(this._lineTokens[h],t.endColumn-1)),this._lineTokens[o]=n._append(this._lineTokens[o],m),this._deleteLines(t.startLineNumber,t.endLineNumber-t.startLineNumber)}_acceptInsertText(t,o,h){if(o===0&&h===0)return;const m=t.lineNumber-1;if(!(m>=this._len)){if(o===0){this._lineTokens[m]=n._insert(this._lineTokens[m],t.column-1,h);return}this._lineTokens[m]=n._deleteEnding(this._lineTokens[m],t.column-1),this._lineTokens[m]=n._insert(this._lineTokens[m],t.column-1,h),this._insertLines(t.lineNumber,o)}}static _deleteBeginning(t,o){return t===null||t===i?t:n._delete(t,0,o)}static _deleteEnding(t,o){if(t===null||t===i)return t;const h=u(t),m=h[h.length-2];return n._delete(t,o,m)}static _delete(t,o,h){if(t===null||t===i||o===h)return t;const m=u(t),y=m.length>>>1;if(o===0&&m[m.length-2]===h)return i;const w=k.LineTokens.findIndexInTokensArray(m,o),g=w>0?m[w-1<<1]:0,f=m[w<<1];if(h<f){const M=h-o;for(let O=w;O<y;O++)m[O<<1]-=M;return t}let _,D;g!==o?(m[w<<1]=o,_=w+1<<1,D=o):(_=w<<1,D=g);const N=h-o;for(let M=w+1;M<y;M++){const O=m[M<<1]-N;O>D&&(m[_++]=O,m[_++]=m[(M<<1)+1],D=O)}if(_===m.length)return t;let I=new Uint32Array(_);return I.set(m.subarray(0,_),0),I.buffer}static _append(t,o){if(o===i)return t;if(t===i)return o;if(t===null)return t;if(o===null)return null;const h=u(t),m=u(o),y=m.length>>>1;let w=new Uint32Array(h.length+m.length);w.set(h,0);let g=h.length;const f=h[h.length-2];for(let _=0;_<y;_++)w[g++]=m[_<<1]+f,w[g++]=m[(_<<1)+1];return w.buffer}static _insert(t,o,h){if(t===null||t===i)return t;const m=u(t),y=m.length>>>1;let w=k.LineTokens.findIndexInTokensArray(m,o);w>0&&m[w-1<<1]===o&&w--;for(let g=w;g<y;g++)m[g<<1]+=h;return t}}e.TokensStore=n}),define(ee[242],te([0,1,6,8,3,53,221,140,220,2]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class v extends i.Disposable{constructor(a,l,c,u,s,n,d){super();this._onDidChangeContent=this._register(new b.Emitter),this._BOM=l,this._mightContainNonBasicASCII=!n,this._mightContainRTL=u,this._mightContainUnusualLineTerminators=s,this._pieceTree=new S.PieceTreeBase(a,c,d)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(a){return this._pieceTree.createSnapshot(a?this._BOM:"")}getOffsetAt(a,l){return this._pieceTree.getOffsetAt(a,l)}getPositionAt(a){return this._pieceTree.getPositionAt(a)}getRangeAt(a,l){let c=a+l;const u=this.getPositionAt(a),s=this.getPositionAt(c);return new T.Range(u.lineNumber,u.column,s.lineNumber,s.column)}getValueInRange(a,l=0){if(a.isEmpty())return"";const c=this._getEndOfLine(l);return this._pieceTree.getValueInRange(a,c)}getValueLengthInRange(a,l=0){if(a.isEmpty())return 0;if(a.startLineNumber===a.endLineNumber)return a.endColumn-a.startColumn;let c=this.getOffsetAt(a.startLineNumber,a.startColumn);return this.getOffsetAt(a.endLineNumber,a.endColumn)-c}getCharacterCountInRange(a,l=0){if(this._mightContainNonBasicASCII){let c=0;const u=a.startLineNumber,s=a.endLineNumber;for(let n=u;n<=s;n++){const d=this.getLineContent(n),t=n===u?a.startColumn-1:0,o=n===s?a.endColumn-1:d.length;for(let h=t;h<o;h++)k.isHighSurrogate(d.charCodeAt(h))?(c=c+1,h=h+1):c=c+1}return c+=this._getEndOfLine(l).length*(s-u),c}return this.getValueLengthInRange(a,l)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(a){return this._pieceTree.getLineContent(a)}getLineCharCode(a,l){return this._pieceTree.getLineCharCode(a,l)}getLineLength(a){return this._pieceTree.getLineLength(a)}getLineFirstNonWhitespaceColumn(a){const l=k.firstNonWhitespaceIndex(this.getLineContent(a));return l===-1?0:l+1}getLineLastNonWhitespaceColumn(a){const l=k.lastNonWhitespaceIndex(this.getLineContent(a));return l===-1?0:l+2}_getEndOfLine(a){switch(a){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(a){this._pieceTree.setEOL(a)}applyEdits(a,l,c){let u=this._mightContainRTL,s=this._mightContainUnusualLineTerminators,n=this._mightContainNonBasicASCII,d=!0,t=[];for(let f=0;f<a.length;f++){let _=a[f];d&&_._isTracked&&(d=!1);let D=_.range;if(_.text){let R=!0;n||(R=!k.isBasicASCII(_.text),n=R),!u&&R&&(u=k.containsRTL(_.text)),!s&&R&&(s=k.containsUnusualLineTerminators(_.text))}let N="",I=0,M=0,O=0;if(_.text){let R;[I,M,O,R]=(0,p.countEOL)(_.text);const P=this.getEOL();R===0||R===(P===`\r
`?2:1)?N=_.text:N=_.text.replace(/\r\n|\r|\n/g,P)}t[f]={sortIndex:f,identifier:_.identifier||null,range:D,rangeOffset:this.getOffsetAt(D.startLineNumber,D.startColumn),rangeLength:this.getValueLengthInRange(D),text:N,eolCount:I,firstLineLength:M,lastLineLength:O,forceMoveMarkers:Boolean(_.forceMoveMarkers),isAutoWhitespaceEdit:_.isAutoWhitespaceEdit||!1}}t.sort(v._sortOpsAscending);let o=!1;for(let f=0,_=t.length-1;f<_;f++){let D=t[f].range.getEndPosition(),N=t[f+1].range.getStartPosition();if(N.isBeforeOrEqual(D)){if(N.isBefore(D))throw new Error("Overlapping ranges are not allowed!");o=!0}}d&&(t=this._reduceOperations(t));let h=c||l?v._getInverseEditRanges(t):[],m=[];if(l)for(let f=0;f<t.length;f++){let _=t[f],D=h[f];if(_.isAutoWhitespaceEdit&&_.range.isEmpty())for(let N=D.startLineNumber;N<=D.endLineNumber;N++){let I="";N===D.startLineNumber&&(I=this.getLineContent(_.range.startLineNumber),k.firstNonWhitespaceIndex(I)!==-1)||m.push({lineNumber:N,oldContent:I})}}let y=null;if(c){let f=0;y=[];for(let _=0;_<t.length;_++){const D=t[_],N=h[_],I=this.getValueInRange(D.range),M=D.rangeOffset+f;f+=D.text.length-I.length,y[_]={sortIndex:D.sortIndex,identifier:D.identifier,range:N,text:I,textChange:new C.TextChange(D.rangeOffset,I,M,D.text)}}o||y.sort((_,D)=>_.sortIndex-D.sortIndex)}this._mightContainRTL=u,this._mightContainUnusualLineTerminators=s,this._mightContainNonBasicASCII=n;const w=this._doApplyEdits(t);let g=null;if(l&&m.length>0){m.sort((f,_)=>_.lineNumber-f.lineNumber),g=[];for(let f=0,_=m.length;f<_;f++){let D=m[f].lineNumber;if(f>0&&m[f-1].lineNumber===D)continue;let N=m[f].oldContent,I=this.getLineContent(D);I.length===0||I===N||k.firstNonWhitespaceIndex(I)!==-1||g.push(D)}}return this._onDidChangeContent.fire(),new L.ApplyEditsResult(y,w,g)}_reduceOperations(a){return a.length<1e3?a:[this._toSingleEditOperation(a)]}_toSingleEditOperation(a){let l=!1;const c=a[0].range,u=a[a.length-1].range,s=new T.Range(c.startLineNumber,c.startColumn,u.endLineNumber,u.endColumn);let n=c.startLineNumber,d=c.startColumn;const t=[];for(let w=0,g=a.length;w<g;w++){const f=a[w],_=f.range;l=l||f.forceMoveMarkers,t.push(this.getValueInRange(new T.Range(n,d,_.startLineNumber,_.startColumn))),f.text.length>0&&t.push(f.text),n=_.endLineNumber,d=_.endColumn}const o=t.join(""),[h,m,y]=(0,p.countEOL)(o);return{sortIndex:0,identifier:a[0].identifier,range:s,rangeOffset:this.getOffsetAt(s.startLineNumber,s.startColumn),rangeLength:this.getValueLengthInRange(s,0),text:o,eolCount:h,firstLineLength:m,lastLineLength:y,forceMoveMarkers:l,isAutoWhitespaceEdit:!1}}_doApplyEdits(a){a.sort(v._sortOpsDescending);let l=[];for(let c=0;c<a.length;c++){let u=a[c];const s=u.range.startLineNumber,n=u.range.startColumn,d=u.range.endLineNumber,t=u.range.endColumn;if(s===d&&n===t&&u.text.length===0)continue;u.text?(this._pieceTree.delete(u.rangeOffset,u.rangeLength),this._pieceTree.insert(u.rangeOffset,u.text,!0)):this._pieceTree.delete(u.rangeOffset,u.rangeLength);const o=new T.Range(s,n,d,t);l.push({range:o,rangeLength:u.rangeLength,text:u.text,rangeOffset:u.rangeOffset,forceMoveMarkers:u.forceMoveMarkers})}return l}findMatchesLineByLine(a,l,c,u){return this._pieceTree.findMatchesLineByLine(a,l,c,u)}static _getInverseEditRanges(a){let l=[],c=0,u=0,s=null;for(let n=0,d=a.length;n<d;n++){let t=a[n],o,h;s?s.range.endLineNumber===t.range.startLineNumber?(o=c,h=u+(t.range.startColumn-s.range.endColumn)):(o=c+(t.range.startLineNumber-s.range.endLineNumber),h=t.range.startColumn):(o=t.range.startLineNumber,h=t.range.startColumn);let m;if(t.text.length>0){const y=t.eolCount+1;y===1?m=new T.Range(o,h,o,h+t.firstLineLength):m=new T.Range(o,h,o+y-1,t.lastLineLength+1)}else m=new T.Range(o,h,o,h);c=m.endLineNumber,u=m.endColumn,l.push(m),s=t}return l}static _sortOpsAscending(a,l){let c=T.Range.compareRangesUsingEnds(a.range,l.range);return c===0?a.sortIndex-l.sortIndex:c}static _sortOpsDescending(a,l){let c=T.Range.compareRangesUsingEnds(a.range,l.range);return c===0?l.sortIndex-a.sortIndex:-c}}e.PieceTreeTextBuffer=v}),define(ee[548],te([0,1,8,221,242]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class L{constructor(C,i,v,r,a,l,c,u,s){this._chunks=C,this._bom=i,this._cr=v,this._lf=r,this._crlf=a,this._containsRTL=l,this._containsUnusualLineTerminators=c,this._isBasicASCII=u,this._normalizeEOL=s}_getEOL(C){const i=this._cr+this._lf+this._crlf,v=this._cr+this._crlf;return i===0?C===1?`
`:`\r
`:v>i/2?`\r
`:`
`}create(C){const i=this._getEOL(C);let v=this._chunks;if(this._normalizeEOL&&(i===`\r
`&&(this._cr>0||this._lf>0)||i===`
`&&(this._cr>0||this._crlf>0)))for(let a=0,l=v.length;a<l;a++){let c=v[a].buffer.replace(/\r\n|\r|\n/g,i),u=(0,k.createLineStartsFast)(c);v[a]=new k.StringBuffer(c,u)}const r=new T.PieceTreeTextBuffer(v,this._bom,i,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:r,disposable:r}}}e.PieceTreeTextBufferFactory=L;class S{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(C){if(C.length===0)return;this.chunks.length===0&&b.startsWithUTF8BOM(C)&&(this.BOM=b.UTF8_BOM_CHARACTER,C=C.substr(1));const i=C.charCodeAt(C.length-1);i===13||i>=55296&&i<=56319?(this._acceptChunk1(C.substr(0,C.length-1),!1),this._hasPreviousChar=!0,this._previousChar=i):(this._acceptChunk1(C,!1),this._hasPreviousChar=!1,this._previousChar=i)}_acceptChunk1(C,i){!i&&C.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+C):this._acceptChunk2(C))}_acceptChunk2(C){const i=(0,k.createLineStarts)(this._tmpLineStarts,C);this.chunks.push(new k.StringBuffer(C,i.lineStarts)),this.cr+=i.cr,this.lf+=i.lf,this.crlf+=i.crlf,this.isBasicASCII&&(this.isBasicASCII=i.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=b.containsRTL(C)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=b.containsUnusualLineTerminators(C))}finish(C=!0){return this._finish(),new L(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,C)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let C=this.chunks[this.chunks.length-1];C.buffer+=String.fromCharCode(this._previousChar);let i=(0,k.createLineStartsFast)(C.buffer);C.lineStarts=i,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=S}),define(ee[77],te([0,1,134,18]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenize2=e.nullTokenize=e.NULL_LANGUAGE_IDENTIFIER=e.NULL_MODE_ID=e.NULL_STATE=void 0;class T{clone(){return this}equals(C){return this===C}}e.NULL_STATE=new T,e.NULL_MODE_ID="vs.editor.nullMode",e.NULL_LANGUAGE_IDENTIFIER=new k.LanguageIdentifier(e.NULL_MODE_ID,0);function L(p,C,i,v){return new b.TokenizationResult([new b.Token(v,"",p)],i)}e.nullTokenize=L;function S(p,C,i,v){let r=new Uint32Array(2);return r[0]=v,r[1]=(p<<0|0<<8|0<<11|1<<14|2<<23)>>>0,new b.TokenizationResult2(r,i===null?e.NULL_STATE:i)}e.nullTokenize2=S}),define(ee[549],te([0,1,19,12,85,13,18,77,2,81,140,17]),function(G,e,b,k,T,L,S,p,C,i,v,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class a{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(n){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,n&&this._setBeginState(0,n)}flush(n){this._reset(n)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(n){n<this._len&&(this._valid[n]=!1),n<this._invalidLineStartIndex&&(this._invalidLineStartIndex=n)}_isValid(n){return n<this._len?this._valid[n]:!1}getBeginState(n){return n<this._len?this._beginState[n]:null}_ensureLine(n){for(;n>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(n,d){d!==0&&(n+d>this._len&&(d=this._len-n),this._beginState.splice(n,d),this._valid.splice(n,d),this._len-=d)}_insertLines(n,d){if(d===0)return;let t=[],o=[];for(let h=0;h<d;h++)t[h]=null,o[h]=!1;this._beginState=b.arrayInsert(this._beginState,n,t),this._valid=b.arrayInsert(this._valid,n,o),this._len+=d}_setValid(n,d){this._ensureLine(n),this._valid[n]=d}_setBeginState(n,d){this._ensureLine(n),this._beginState[n]=d}setEndState(n,d,t){if(this._setValid(d,!0),this._invalidLineStartIndex=d+1,d===n-1)return;const o=this.getBeginState(d+1);if(o===null||!t.equals(o)){this._setBeginState(d+1,t),this._invalidateLine(d+1);return}let h=d+1;for(;h<n&&this._isValid(h);)h++;this._invalidLineStartIndex=h}setFakeTokens(n){this._setValid(n,!1)}applyEdits(n,d){const t=n.endLineNumber-n.startLineNumber,h=Math.min(t,d);for(let m=h;m>=0;m--)this._invalidateLine(n.startLineNumber+m-1);this._acceptDeleteRange(n),this._acceptInsertText(new L.Position(n.startLineNumber,n.startColumn),d)}_acceptDeleteRange(n){n.startLineNumber-1>=this._len||this._deleteLines(n.startLineNumber,n.endLineNumber-n.startLineNumber)}_acceptInsertText(n,d){n.lineNumber-1>=this._len||this._insertLines(n.lineNumber,d)}}e.TokenizationStateStore=a;class l extends C.Disposable{constructor(n){super();this._isDisposed=!1,this._textModel=n,this._tokenizationStateStore=new a,this._tokenizationSupport=null,this._register(S.TokenizationRegistry.onDidChange(d=>{const t=this._textModel.getLanguageIdentifier();d.changedLanguages.indexOf(t.language)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(d=>{if(d.isFlush){this._resetTokenizationState();return}for(let t=0,o=d.changes.length;t<o;t++){const h=d.changes[t],[m]=(0,v.countEOL)(h.text);this._tokenizationStateStore.applyEdits(h.range,m)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[n,d]=c(this._textModel);this._tokenizationSupport=n,this._tokenizationStateStore.flush(d),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&r.setImmediate(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(n=this._textModel.getLineCount()){const d=1,t=new v.MultilineTokensBuilder,o=i.StopWatch.create(!1);for(;this._hasLinesToTokenize()&&!(o.elapsed()>d||this._tokenizeOneInvalidLine(t)>=n););this._beginBackgroundTokenization(),this._textModel.setTokens(t.tokens)}tokenizeViewport(n,d){const t=new v.MultilineTokensBuilder;this._tokenizeViewport(t,n,d),this._textModel.setTokens(t.tokens)}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(n){const d=new v.MultilineTokensBuilder;this._updateTokensUntilLine(d,n),this._textModel.setTokens(d.tokens)}isCheapToTokenize(n){if(!this._tokenizationSupport)return!0;const d=this._tokenizationStateStore.invalidLineStartIndex+1;return n>d?!1:n<d||this._textModel.getLineLength(n)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(n){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const d=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(n,d),d}_updateTokensUntilLine(n,d){if(!this._tokenizationSupport)return;const t=this._textModel.getLanguageIdentifier(),o=this._textModel.getLineCount(),h=d-1;for(let m=this._tokenizationStateStore.invalidLineStartIndex;m<=h;m++){const y=this._textModel.getLineContent(m+1),w=this._tokenizationStateStore.getBeginState(m),g=u(t,this._tokenizationSupport,y,!0,w);n.add(m+1,g.tokens),this._tokenizationStateStore.setEndState(o,m,g.endState),m=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(n,d,t){if(!this._tokenizationSupport||t<=this._tokenizationStateStore.invalidLineStartIndex)return;if(d<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(n,t);return}let o=this._textModel.getLineFirstNonWhitespaceColumn(d),h=[],m=null;for(let g=d-1;o>0&&g>=1;g--){let f=this._textModel.getLineFirstNonWhitespaceColumn(g);if(f!==0&&f<o){if(m=this._tokenizationStateStore.getBeginState(g-1),m)break;h.push(this._textModel.getLineContent(g)),o=f}}m||(m=this._tokenizationSupport.getInitialState());const y=this._textModel.getLanguageIdentifier();let w=m;for(let g=h.length-1;g>=0;g--)w=u(y,this._tokenizationSupport,h[g],!1,w).endState;for(let g=d;g<=t;g++){let f=this._textModel.getLineContent(g),_=u(y,this._tokenizationSupport,f,!0,w);n.add(g,_.tokens),this._tokenizationStateStore.setFakeTokens(g-1),w=_.endState}}}e.TextModelTokenization=l;function c(s){const n=s.getLanguageIdentifier();let d=s.isTooLargeForTokenization()?null:S.TokenizationRegistry.get(n.language),t=null;if(d)try{t=d.getInitialState()}catch(o){(0,k.onUnexpectedError)(o),d=null}return[d,t]}function u(s,n,d,t,o){let h=null;if(n)try{h=n.tokenize2(d,t,o.clone(),0)}catch(m){(0,k.onUnexpectedError)(m)}return h||(h=(0,p.nullTokenize2)(s.id,d,o,0)),T.LineTokens.convertToEndOffset(h.tokens,d.length),h}}),define(ee[31],te([0,1,12,6,2,8,24,35,13,3,21,53,239,378,379,548,96,171,549,135,45,77,172,173,140,29,242,19]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h,m,y,w,g,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactory=void 0;function D(){return new u.PieceTreeTextBufferBuilder}function N(Q){const x=D();return x.acceptChunk(Q),x.finish()}e.createTextBufferFactory=N;function I(Q,x){return(typeof Q=="string"?N(Q):Q).create(x)}e.createTextBuffer=I;let M=0;const O=999;e.LONG_LINE_BOUNDARY=1e4;class R{constructor(x){this._source=x,this._eos=!1}read(){if(this._eos)return null;let x=[],le=0,oe=0;do{let K=this._source.read();if(K===null)return this._eos=!0,le===0?null:x.join("");if(K.length>0&&(x[le++]=K,oe+=K.length),oe>=64*1024)return x.join("")}while(!0)}}const P=()=>{throw new Error("Invalid change accessor")};class A{constructor(){this._searchCanceledBrand=void 0}}A.INSTANCE=new A;function F(Q){return Q instanceof A?null:Q}class E extends T.Disposable{constructor(x,le,oe,K=null,re){super();this._onWillDispose=this._register(new k.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new H(Y=>this.handleBeforeFireDecorationsChangedEvent(Y))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new k.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new k.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new k.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new k.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new k.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new k.Emitter),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new z),this._register(this._eventEmitter.fastEvent(Y=>{this._onDidChangeContentOrInjectedText.fire(Y.rawContentChangedEvent)})),M++,this.id="$model"+M,this.isForSimpleWidget=le.isForSimpleWidget,typeof K=="undefined"||K===null?this._associatedResource=S.URI.parse("inmemory://model/"+M):this._associatedResource=K,this._undoRedoService=re,this._attachedEditorCount=0;const{textBuffer:ae,disposable:he}=I(x,le.defaultEOL);this._buffer=ae,this._bufferDisposable=he,this._options=E.resolveOptions(this._buffer,le);const U=this._buffer.getLineCount(),se=this._buffer.getValueLengthInRange(new i.Range(1,1,U,this._buffer.getLineLength(U)+1),0);le.largeFileOptimizations?this._isTooLargeForTokenization=se>E.LARGE_FILE_SIZE_THRESHOLD||U>E.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=se>E.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageIdentifier=oe||h.NULL_LANGUAGE_IDENTIFIER,this._languageRegistryListener=o.LanguageConfigurationRegistry.onDidChange(Y=>{Y.languageIdentifier.id===this._languageIdentifier.id&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=L.singleLetterHash(M),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Z,this._commandManager=new a.EditStack(this,re),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new w.TokensStore,this._tokens2=new w.TokensStore2,this._tokenization=new d.TextModelTokenization(this)}static resolveOptions(x,le){if(le.detectIndentation){const oe=(0,l.guessIndentation)(x,le.tabSize,le.insertSpaces);return new r.TextModelResolvedOptions({tabSize:oe.tabSize,indentSize:oe.tabSize,insertSpaces:oe.insertSpaces,trimAutoWhitespace:le.trimAutoWhitespace,defaultEOL:le.defaultEOL})}return new r.TextModelResolvedOptions({tabSize:le.tabSize,indentSize:le.indentSize,insertSpaces:le.insertSpaces,trimAutoWhitespace:le.trimAutoWhitespace,defaultEOL:le.defaultEOL})}onDidChangeContentFast(x){return this._eventEmitter.fastEvent(le=>x(le.contentChangedEvent))}onDidChangeContent(x){return this._eventEmitter.slowEvent(le=>x(le.contentChangedEvent))}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const x=new f.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);x.dispose(),this._buffer=x}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(x,le){this._isDisposing||this._eventEmitter.fire(new s.InternalModelContentChangeEvent(x,le))}setValue(x){if(this._assertNotDisposed(),x===null)return;const{textBuffer:le,disposable:oe}=I(x,this._options.defaultEOL);this._setValueFromTextBuffer(le,oe)}_createContentChanged2(x,le,oe,K,re,ae,he){return{changes:[{range:x,rangeOffset:le,rangeLength:oe,text:K}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:re,isRedoing:ae,isFlush:he}}_setValueFromTextBuffer(x,le){this._assertNotDisposed();const oe=this.getFullModelRange(),K=this.getValueLengthInRange(oe),re=this.getLineCount(),ae=this.getLineMaxColumn(re);this._buffer=x,this._bufferDisposable.dispose(),this._bufferDisposable=le,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new Z,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new s.ModelRawContentChangedEvent([new s.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,re,ae),0,K,this.getValue(),!1,!1,!0))}setEOL(x){this._assertNotDisposed();const le=x===1?`\r
`:`
`;if(this._buffer.getEOL()===le)return;const oe=this.getFullModelRange(),K=this.getValueLengthInRange(oe),re=this.getLineCount(),ae=this.getLineMaxColumn(re);this._onBeforeEOLChange(),this._buffer.setEOL(le),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new s.ModelRawContentChangedEvent([new s.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,re,ae),0,K,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const x=this.getVersionId(),le=this._decorationsTree.collectNodesPostOrder();for(let oe=0,K=le.length;oe<K;oe++){const re=le[oe],ae=re.range,he=re.cachedAbsoluteStart-re.start,U=this._buffer.getOffsetAt(ae.startLineNumber,ae.startColumn),se=this._buffer.getOffsetAt(ae.endLineNumber,ae.endColumn);re.cachedAbsoluteStart=U,re.cachedAbsoluteEnd=se,re.cachedVersionId=x,re.start=U-he,re.end=se-he,(0,c.recomputeMaxEnd)(re)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let x=0,le=0;const oe=this._buffer.getLineCount();for(let K=1;K<=oe;K++){const re=this._buffer.getLineLength(K);re>=e.LONG_LINE_BOUNDARY?le+=re:x+=re}return le>x}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(x){this._assertNotDisposed();let le=typeof x.tabSize!="undefined"?x.tabSize:this._options.tabSize,oe=typeof x.indentSize!="undefined"?x.indentSize:this._options.indentSize,K=typeof x.insertSpaces!="undefined"?x.insertSpaces:this._options.insertSpaces,re=typeof x.trimAutoWhitespace!="undefined"?x.trimAutoWhitespace:this._options.trimAutoWhitespace,ae=new r.TextModelResolvedOptions({tabSize:le,indentSize:oe,insertSpaces:K,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:re});if(this._options.equals(ae))return;let he=this._options.createChangeEvent(ae);this._options=ae,this._onDidChangeOptions.fire(he)}detectIndentation(x,le){this._assertNotDisposed();let oe=(0,l.guessIndentation)(this._buffer,le,x);this.updateOptions({insertSpaces:oe.insertSpaces,tabSize:oe.tabSize,indentSize:oe.tabSize})}static _normalizeIndentationFromWhitespace(x,le,oe){let K=0;for(let ae=0;ae<x.length;ae++)x.charAt(ae)==="	"?K+=le:K++;let re="";if(!oe){let ae=Math.floor(K/le);K=K%le;for(let he=0;he<ae;he++)re+="	"}for(let ae=0;ae<K;ae++)re+=" ";return re}static normalizeIndentation(x,le,oe){let K=L.firstNonWhitespaceIndex(x);return K===-1&&(K=x.length),E._normalizeIndentationFromWhitespace(x.substring(0,K),le,oe)+x.substring(K)}normalizeIndentation(x){return this._assertNotDisposed(),E.normalizeIndentation(x,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(x=null){const le=this.findMatches(L.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(x,le.map(oe=>({range:oe.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(x){this._assertNotDisposed();let le=this._validatePosition(x.lineNumber,x.column,0);return this._buffer.getOffsetAt(le.lineNumber,le.column)}getPositionAt(x){this._assertNotDisposed();let le=Math.min(this._buffer.getLength(),Math.max(0,x));return this._buffer.getPositionAt(le)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(x){this._versionId=x}_overwriteAlternativeVersionId(x){this._alternativeVersionId=x}_overwriteInitialUndoRedoSnapshot(x){this._initialUndoRedoSnapshot=x}getValue(x,le=!1){this._assertNotDisposed();const oe=this.getFullModelRange(),K=this.getValueInRange(oe,x);return le?this._buffer.getBOM()+K:K}createSnapshot(x=!1){return new R(this._buffer.createSnapshot(x))}getValueLength(x,le=!1){this._assertNotDisposed();const oe=this.getFullModelRange(),K=this.getValueLengthInRange(oe,x);return le?this._buffer.getBOM().length+K:K}getValueInRange(x,le=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(x),le)}getValueLengthInRange(x,le=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(x),le)}getCharacterCountInRange(x,le=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(x),le)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(x){if(this._assertNotDisposed(),x<1||x>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(x)}getLineLength(x){if(this._assertNotDisposed(),x<1||x>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(x)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(x){return this._assertNotDisposed(),1}getLineMaxColumn(x){if(this._assertNotDisposed(),x<1||x>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(x)+1}getLineFirstNonWhitespaceColumn(x){if(this._assertNotDisposed(),x<1||x>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(x)}getLineLastNonWhitespaceColumn(x){if(this._assertNotDisposed(),x<1||x>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(x)}_validateRangeRelaxedNoAllocations(x){const le=this._buffer.getLineCount(),oe=x.startLineNumber,K=x.startColumn;let re=Math.floor(typeof oe=="number"&&!isNaN(oe)?oe:1),ae=Math.floor(typeof K=="number"&&!isNaN(K)?K:1);if(re<1)re=1,ae=1;else if(re>le)re=le,ae=this.getLineMaxColumn(re);else if(ae<=1)ae=1;else{const ne=this.getLineMaxColumn(re);ae>=ne&&(ae=ne)}const he=x.endLineNumber,U=x.endColumn;let se=Math.floor(typeof he=="number"&&!isNaN(he)?he:1),Y=Math.floor(typeof U=="number"&&!isNaN(U)?U:1);if(se<1)se=1,Y=1;else if(se>le)se=le,Y=this.getLineMaxColumn(se);else if(Y<=1)Y=1;else{const ne=this.getLineMaxColumn(se);Y>=ne&&(Y=ne)}return oe===re&&K===ae&&he===se&&U===Y&&x instanceof i.Range&&!(x instanceof v.Selection)?x:new i.Range(re,ae,se,Y)}_isValidPosition(x,le,oe){if(typeof x!="number"||typeof le!="number"||isNaN(x)||isNaN(le)||x<1||le<1||(x|0)!==x||(le|0)!==le)return!1;const K=this._buffer.getLineCount();if(x>K)return!1;if(le===1)return!0;const re=this.getLineMaxColumn(x);if(le>re)return!1;if(oe===1){const ae=this._buffer.getLineCharCode(x,le-2);if(L.isHighSurrogate(ae))return!1}return!0}_validatePosition(x,le,oe){const K=Math.floor(typeof x=="number"&&!isNaN(x)?x:1),re=Math.floor(typeof le=="number"&&!isNaN(le)?le:1),ae=this._buffer.getLineCount();if(K<1)return new C.Position(1,1);if(K>ae)return new C.Position(ae,this.getLineMaxColumn(ae));if(re<=1)return new C.Position(K,1);const he=this.getLineMaxColumn(K);if(re>=he)return new C.Position(K,he);if(oe===1){const U=this._buffer.getLineCharCode(K,re-2);if(L.isHighSurrogate(U))return new C.Position(K,re-1)}return new C.Position(K,re)}validatePosition(x){const le=1;return this._assertNotDisposed(),x instanceof C.Position&&this._isValidPosition(x.lineNumber,x.column,le)?x:this._validatePosition(x.lineNumber,x.column,le)}_isValidRange(x,le){const oe=x.startLineNumber,K=x.startColumn,re=x.endLineNumber,ae=x.endColumn;if(!this._isValidPosition(oe,K,0)||!this._isValidPosition(re,ae,0))return!1;if(le===1){const he=K>1?this._buffer.getLineCharCode(oe,K-2):0,U=ae>1&&ae<=this._buffer.getLineLength(re)?this._buffer.getLineCharCode(re,ae-2):0,se=L.isHighSurrogate(he),Y=L.isHighSurrogate(U);return!se&&!Y}return!0}validateRange(x){const le=1;if(this._assertNotDisposed(),x instanceof i.Range&&!(x instanceof v.Selection)&&this._isValidRange(x,le))return x;const oe=this._validatePosition(x.startLineNumber,x.startColumn,0),K=this._validatePosition(x.endLineNumber,x.endColumn,0),re=oe.lineNumber,ae=oe.column,he=K.lineNumber,U=K.column;if(le===1){const se=ae>1?this._buffer.getLineCharCode(re,ae-2):0,Y=U>1&&U<=this._buffer.getLineLength(he)?this._buffer.getLineCharCode(he,U-2):0,ne=L.isHighSurrogate(se),ce=L.isHighSurrogate(Y);return!ne&&!ce?new i.Range(re,ae,he,U):re===he&&ae===U?new i.Range(re,ae-1,he,U-1):ne&&ce?new i.Range(re,ae-1,he,U+1):ne?new i.Range(re,ae-1,he,U):new i.Range(re,ae,he,U+1)}return new i.Range(re,ae,he,U)}modifyPosition(x,le){this._assertNotDisposed();let oe=this.getOffsetAt(x)+le;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,oe)))}getFullModelRange(){this._assertNotDisposed();const x=this.getLineCount();return new i.Range(1,1,x,this.getLineMaxColumn(x))}findMatchesLineByLine(x,le,oe,K){return this._buffer.findMatchesLineByLine(x,le,oe,K)}findMatches(x,le,oe,K,re,ae,he=O){this._assertNotDisposed();let U=null;le!==null&&(Array.isArray(le)||(le=[le]),le.every(ne=>i.Range.isIRange(ne))&&(U=le.map(ne=>this.validateRange(ne)))),U===null&&(U=[this.getFullModelRange()]),U=U.sort((ne,ce)=>ne.startLineNumber-ce.startLineNumber||ne.startColumn-ce.startColumn);const se=[];se.push(U.reduce((ne,ce)=>i.Range.areIntersecting(ne,ce)?ne.plusRange(ce):(se.push(ne),ce)));let Y;if(!oe&&x.indexOf(`
`)<0){const ce=new n.SearchParams(x,oe,K,re).parseSearchRequest();if(!ce)return[];Y=pe=>this.findMatchesLineByLine(pe,ce,ae,he)}else Y=ne=>n.TextModelSearch.findMatches(this,new n.SearchParams(x,oe,K,re),ne,ae,he);return se.map(Y).reduce((ne,ce)=>ne.concat(ce),[])}findNextMatch(x,le,oe,K,re,ae){this._assertNotDisposed();const he=this.validatePosition(le);if(!oe&&x.indexOf(`
`)<0){const se=new n.SearchParams(x,oe,K,re).parseSearchRequest();if(!se)return null;const Y=this.getLineCount();let ne=new i.Range(he.lineNumber,he.column,Y,this.getLineMaxColumn(Y)),ce=this.findMatchesLineByLine(ne,se,ae,1);return n.TextModelSearch.findNextMatch(this,new n.SearchParams(x,oe,K,re),he,ae),ce.length>0||(ne=new i.Range(1,1,he.lineNumber,this.getLineMaxColumn(he.lineNumber)),ce=this.findMatchesLineByLine(ne,se,ae,1),ce.length>0)?ce[0]:null}return n.TextModelSearch.findNextMatch(this,new n.SearchParams(x,oe,K,re),he,ae)}findPreviousMatch(x,le,oe,K,re,ae){this._assertNotDisposed();const he=this.validatePosition(le);return n.TextModelSearch.findPreviousMatch(this,new n.SearchParams(x,oe,K,re),he,ae)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(x){if((this.getEOL()===`
`?0:1)!==x)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(x)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(x){return x instanceof r.ValidAnnotatedEditOperation?x:new r.ValidAnnotatedEditOperation(x.identifier||null,this.validateRange(x.range),x.text,x.forceMoveMarkers||!1,x.isAutoWhitespaceEdit||!1,x._isTracked||!1)}_validateEditOperations(x){const le=[];for(let oe=0,K=x.length;oe<K;oe++)le[oe]=this._validateEditOperation(x[oe]);return le}pushEditOperations(x,le,oe){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(x,this._validateEditOperations(le),oe)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(x,le,oe){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let K=le.map(ae=>({range:this.validateRange(ae.range),text:ae.text})),re=!0;if(x)for(let ae=0,he=x.length;ae<he;ae++){let U=x[ae],se=!1;for(let Y=0,ne=K.length;Y<ne;Y++){let ce=K[Y].range,pe=ce.startLineNumber>U.endLineNumber,be=U.startLineNumber>ce.endLineNumber;if(!pe&&!be){se=!0;break}}if(!se){re=!1;break}}if(re)for(let ae=0,he=this._trimAutoWhitespaceLines.length;ae<he;ae++){let U=this._trimAutoWhitespaceLines[ae],se=this.getLineMaxColumn(U),Y=!0;for(let ne=0,ce=K.length;ne<ce;ne++){let pe=K[ne].range,be=K[ne].text;if(!(U<pe.startLineNumber||U>pe.endLineNumber)&&!(U===pe.startLineNumber&&pe.startColumn===se&&pe.isEmpty()&&be&&be.length>0&&be.charAt(0)===`
`)&&!(U===pe.startLineNumber&&pe.startColumn===1&&pe.isEmpty()&&be&&be.length>0&&be.charAt(be.length-1)===`
`)){Y=!1;break}}if(Y){const ne=new i.Range(U,1,U,se);le.push(new r.ValidAnnotatedEditOperation(null,ne,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(x,le,oe)}_applyUndo(x,le,oe,K){const re=x.map(ae=>{const he=this.getPositionAt(ae.newPosition),U=this.getPositionAt(ae.newEnd);return{range:new i.Range(he.lineNumber,he.column,U.lineNumber,U.column),text:ae.oldText}});this._applyUndoRedoEdits(re,le,!0,!1,oe,K)}_applyRedo(x,le,oe,K){const re=x.map(ae=>{const he=this.getPositionAt(ae.oldPosition),U=this.getPositionAt(ae.oldEnd);return{range:new i.Range(he.lineNumber,he.column,U.lineNumber,U.column),text:ae.newText}});this._applyUndoRedoEdits(re,le,!1,!0,oe,K)}_applyUndoRedoEdits(x,le,oe,K,re,ae){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=oe,this._isRedoing=K,this.applyEdits(x,!1),this.setEOL(le),this._overwriteAlternativeVersionId(re)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(ae),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(x,le=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const oe=this._validateEditOperations(x);return this._doApplyEdits(oe,le)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(x,le){const oe=this._buffer.getLineCount(),K=this._buffer.applyEdits(x,this._options.trimAutoWhitespace,le),re=this._buffer.getLineCount(),ae=K.changes;if(this._trimAutoWhitespaceLines=K.trimAutoWhitespaceLineNumbers,ae.length!==0){for(let se=0,Y=ae.length;se<Y;se++){const ne=ae[se],[ce,pe,be]=(0,w.countEOL)(ne.text);this._tokens.acceptEdit(ne.range,ce,pe),this._tokens2.acceptEdit(ne.range,ce,pe,be,ne.text.length>0?ne.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(ne.rangeOffset,ne.rangeLength,ne.text.length,ne.forceMoveMarkers)}let he=[];this._increaseVersionId();let U=oe;for(let se=0,Y=ae.length;se<Y;se++){const ne=ae[se],[ce]=(0,w.countEOL)(ne.text);this._onDidChangeDecorations.fire();const pe=ne.range.startLineNumber,be=ne.range.endLineNumber,Ee=be-pe,Le=ce,Te=Math.min(Ee,Le),De=Le-Ee,Me=re-U-De+pe,Se=Me,we=Me+Le,ye=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new C.Position(Se,1)),this.getOffsetAt(new C.Position(we,this.getLineMaxColumn(we))),0),me=s.LineInjectedText.fromDecorations(ye),ve=new _.ArrayQueue(me);for(let ge=Te;ge>=0;ge--){const fe=pe+ge,_e=Me+ge;ve.takeFromEndWhile(Ne=>Ne.lineNumber>_e);const ke=ve.takeFromEndWhile(Ne=>Ne.lineNumber===_e);he.push(new s.ModelRawLineChanged(fe,this.getLineContent(_e),ke))}if(Te<Ee){const ge=pe+Te;he.push(new s.ModelRawLinesDeleted(ge+1,be))}if(Te<Le){const ge=new _.ArrayQueue(me),fe=pe+Te,_e=Le-Te,ke=re-U-_e+fe+1;let Ne=[],Ae=[];for(let Oe=0;Oe<_e;Oe++){let Fe=ke+Oe;Ae[Oe]=this.getLineContent(Fe),ge.takeWhile(Pe=>Pe.lineNumber<Fe),Ne[Oe]=ge.takeWhile(Pe=>Pe.lineNumber===Fe)}he.push(new s.ModelRawLinesInserted(fe+1,pe+Le,Ae,Ne))}U+=De}this._emitContentChangedEvent(new s.ModelRawContentChangedEvent(he,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:ae,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return K.reverseEdits===null?void 0:K.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(x){if(x===null||x.size===0)return;const oe=[...x].map(K=>new s.ModelRawLineChanged(K,this.getLineContent(K),this._getInjectedTextInLine(K)));this._onDidChangeContentOrInjectedText.fire(new s.ModelInjectedTextChangedEvent(oe))}changeDecorations(x,le=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(le,x)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(x,le){let oe={addDecoration:(re,ae)=>this._deltaDecorationsImpl(x,[],[{range:re,options:ae}])[0],changeDecoration:(re,ae)=>{this._changeDecorationImpl(re,ae)},changeDecorationOptions:(re,ae)=>{this._changeDecorationOptionsImpl(re,j(ae))},removeDecoration:re=>{this._deltaDecorationsImpl(x,[re],[])},deltaDecorations:(re,ae)=>re.length===0&&ae.length===0?[]:this._deltaDecorationsImpl(x,re,ae)},K=null;try{K=le(oe)}catch(re){(0,b.onUnexpectedError)(re)}return oe.addDecoration=P,oe.changeDecoration=P,oe.changeDecorationOptions=P,oe.removeDecoration=P,oe.deltaDecorations=P,K}deltaDecorations(x,le,oe=0){if(this._assertNotDisposed(),x||(x=[]),x.length===0&&le.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(oe,x,le)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(x){return this.getDecorationRange(x)}_setTrackedRange(x,le,oe){const K=x?this._decorations[x]:null;if(!K)return le?this._deltaDecorationsImpl(0,[],[{range:le,options:B[oe]}])[0]:null;if(!le)return this._decorationsTree.delete(K),delete this._decorations[K.id],null;const re=this._validateRangeRelaxedNoAllocations(le),ae=this._buffer.getOffsetAt(re.startLineNumber,re.startColumn),he=this._buffer.getOffsetAt(re.endLineNumber,re.endColumn);return this._decorationsTree.delete(K),K.reset(this.getVersionId(),ae,he,re),K.setOptions(B[oe]),this._decorationsTree.insert(K),K.id}removeAllDecorationsWithOwnerId(x){if(this._isDisposed)return;const le=this._decorationsTree.collectNodesFromOwner(x);for(let oe=0,K=le.length;oe<K;oe++){const re=le[oe];this._decorationsTree.delete(re),delete this._decorations[re.id]}}getDecorationOptions(x){const le=this._decorations[x];return le?le.options:null}getDecorationRange(x){const le=this._decorations[x];return le?this._decorationsTree.getNodeRange(this,le):null}getLineDecorations(x,le=0,oe=!1){return x<1||x>this.getLineCount()?[]:this.getLinesDecorations(x,x,le,oe)}getLinesDecorations(x,le,oe=0,K=!1){let re=this.getLineCount(),ae=Math.min(re,Math.max(1,x)),he=Math.min(re,Math.max(1,le)),U=this.getLineMaxColumn(he);return this._getDecorationsInRange(new i.Range(ae,1,he,U),oe,K)}getDecorationsInRange(x,le=0,oe=!1){let K=this.validateRange(x);return this._getDecorationsInRange(K,le,oe)}getOverviewRulerDecorations(x=0,le=!1){return this._decorationsTree.getAll(this,x,le,!0)}getInjectedTextDecorations(x=0){return this._decorationsTree.getAllInjectedText(this,x)}_getInjectedTextInLine(x){const le=this._buffer.getOffsetAt(x,1),oe=le+this._buffer.getLineLength(x),K=this._decorationsTree.getInjectedTextInInterval(this,le,oe,0);return s.LineInjectedText.fromDecorations(K).filter(re=>re.lineNumber===x)}getAllDecorations(x=0,le=!1){return this._decorationsTree.getAll(this,x,le,!1)}_getDecorationsInRange(x,le,oe){const K=this._buffer.getOffsetAt(x.startLineNumber,x.startColumn),re=this._buffer.getOffsetAt(x.endLineNumber,x.endColumn);return this._decorationsTree.getAllInInterval(this,K,re,le,oe)}getRangeAt(x,le){return this._buffer.getRangeAt(x,le-x)}_changeDecorationImpl(x,le){const oe=this._decorations[x];if(!oe)return;if(oe.options.after){const he=this.getDecorationRange(x);this._onDidChangeDecorations.recordLineAffectedByInjectedText(he.endLineNumber)}if(oe.options.before){const he=this.getDecorationRange(x);this._onDidChangeDecorations.recordLineAffectedByInjectedText(he.startLineNumber)}const K=this._validateRangeRelaxedNoAllocations(le),re=this._buffer.getOffsetAt(K.startLineNumber,K.startColumn),ae=this._buffer.getOffsetAt(K.endLineNumber,K.endColumn);this._decorationsTree.delete(oe),oe.reset(this.getVersionId(),re,ae,K),this._decorationsTree.insert(oe),this._onDidChangeDecorations.checkAffectedAndFire(oe.options),oe.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(K.endLineNumber),oe.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(K.startLineNumber)}_changeDecorationOptionsImpl(x,le){const oe=this._decorations[x];if(!oe)return;const K=!!(oe.options.overviewRuler&&oe.options.overviewRuler.color),re=!!(le.overviewRuler&&le.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(oe.options),this._onDidChangeDecorations.checkAffectedAndFire(le),oe.options.after||le.after){const ae=this._decorationsTree.getNodeRange(this,oe);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ae.endLineNumber)}if(oe.options.before||le.before){const ae=this._decorationsTree.getNodeRange(this,oe);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ae.startLineNumber)}K!==re?(this._decorationsTree.delete(oe),oe.setOptions(le),this._decorationsTree.insert(oe)):oe.setOptions(le)}_deltaDecorationsImpl(x,le,oe){const K=this.getVersionId(),re=le.length;let ae=0;const he=oe.length;let U=0,se=new Array(he);for(;ae<re||U<he;){let Y=null;if(ae<re){do Y=this._decorations[le[ae++]];while(!Y&&ae<re);if(Y){if(Y.options.after){const ne=this._decorationsTree.getNodeRange(this,Y);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ne.endLineNumber)}if(Y.options.before){const ne=this._decorationsTree.getNodeRange(this,Y);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ne.startLineNumber)}this._decorationsTree.delete(Y),this._onDidChangeDecorations.checkAffectedAndFire(Y.options)}}if(U<he){if(!Y){const Le=++this._lastDecorationId,Te=`${this._instanceId};${Le}`;Y=new c.IntervalNode(Te,0,0),this._decorations[Te]=Y}const ne=oe[U],ce=this._validateRangeRelaxedNoAllocations(ne.range),pe=j(ne.options),be=this._buffer.getOffsetAt(ce.startLineNumber,ce.startColumn),Ee=this._buffer.getOffsetAt(ce.endLineNumber,ce.endColumn);Y.ownerId=x,Y.reset(K,be,Ee,ce),Y.setOptions(pe),Y.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ce.endLineNumber),Y.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ce.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(pe),this._decorationsTree.insert(Y),se[U]=Y.id,U++}else Y&&delete this._decorations[Y.id]}return se}setTokens(x){if(x.length===0)return;let le=[];for(let oe=0,K=x.length;oe<K;oe++){const re=x[oe];let ae=0,he=0,U=!1;for(let se=0,Y=re.tokens.length;se<Y;se++){const ne=re.startLineNumber+se;U?(this._tokens.setTokens(this._languageIdentifier.id,ne-1,this._buffer.getLineLength(ne),re.tokens[se],!1),he=ne):this._tokens.setTokens(this._languageIdentifier.id,ne-1,this._buffer.getLineLength(ne),re.tokens[se],!0)&&(U=!0,ae=ne,he=ne)}U&&le.push({fromLineNumber:ae,toLineNumber:he})}le.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:le})}setSemanticTokens(x,le){this._tokens2.set(x,le),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:x!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(x,le){if(this.hasCompleteSemanticTokens())return;const oe=this._tokens2.setPartial(x,le);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:oe.startLineNumber,toLineNumber:oe.endLineNumber}]})}tokenizeViewport(x,le){x=Math.max(1,x),le=Math.min(this._buffer.getLineCount(),le),this._tokenization.tokenizeViewport(x,le)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(x){this._isDisposing||this._onDidChangeTokens.fire(x)}resetTokenization(){this._tokenization.reset()}forceTokenization(x){if(x<1||x>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(x)}isCheapToTokenize(x){return this._tokenization.isCheapToTokenize(x)}tokenizeIfCheap(x){this.isCheapToTokenize(x)&&this.forceTokenization(x)}getLineTokens(x){if(x<1||x>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(x)}_getLineTokens(x){const le=this.getLineContent(x),oe=this._tokens.getTokens(this._languageIdentifier.id,x-1,le);return this._tokens2.addSemanticTokens(x,oe)}getLanguageIdentifier(){return this._languageIdentifier}getModeId(){return this._languageIdentifier.language}setMode(x){if(this._languageIdentifier.id===x.id)return;let le={oldLanguage:this._languageIdentifier.language,newLanguage:x.language};this._languageIdentifier=x,this._onDidChangeLanguage.fire(le),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(x,le){const oe=this.validatePosition(new C.Position(x,le)),K=this.getLineTokens(oe.lineNumber);return K.getLanguageId(K.findTokenIndexAtOffset(oe.column-1))}getWordAtPosition(x){this._assertNotDisposed();const le=this.validatePosition(x),oe=this.getLineContent(le.lineNumber),K=this._getLineTokens(le.lineNumber),re=K.findTokenIndexAtOffset(le.column-1),[ae,he]=E._findLanguageBoundaries(K,re),U=(0,t.getWordAtText)(le.column,o.LanguageConfigurationRegistry.getWordDefinition(K.getLanguageId(re)),oe.substring(ae,he),ae);if(U&&U.startColumn<=x.column&&x.column<=U.endColumn)return U;if(re>0&&ae===le.column-1){const[se,Y]=E._findLanguageBoundaries(K,re-1),ne=(0,t.getWordAtText)(le.column,o.LanguageConfigurationRegistry.getWordDefinition(K.getLanguageId(re-1)),oe.substring(se,Y),se);if(ne&&ne.startColumn<=x.column&&x.column<=ne.endColumn)return ne}return null}static _findLanguageBoundaries(x,le){const oe=x.getLanguageId(le);let K=0;for(let ae=le;ae>=0&&x.getLanguageId(ae)===oe;ae--)K=x.getStartOffset(ae);let re=x.getLineContent().length;for(let ae=le,he=x.getCount();ae<he&&x.getLanguageId(ae)===oe;ae++)re=x.getEndOffset(ae);return[K,re]}getWordUntilPosition(x){const le=this.getWordAtPosition(x);return le?{word:le.word.substr(0,x.column-le.startColumn),startColumn:le.startColumn,endColumn:x.column}:{word:"",startColumn:x.column,endColumn:x.column}}findMatchingBracketUp(x,le){let oe=x.toLowerCase(),K=this.validatePosition(le),re=this._getLineTokens(K.lineNumber),ae=re.getLanguageId(re.findTokenIndexAtOffset(K.column-1)),he=o.LanguageConfigurationRegistry.getBracketsSupport(ae);if(!he)return null;let U=he.textIsBracket[oe];return U?F(this._findMatchingBracketUp(U,K,null)):null}matchBracket(x){return this._matchBracket(this.validatePosition(x))}_establishBracketSearchOffsets(x,le,oe,K){const re=le.getCount(),ae=le.getLanguageId(K);let he=Math.max(0,x.column-1-oe.maxBracketLength);for(let se=K-1;se>=0;se--){const Y=le.getEndOffset(se);if(Y<=he)break;if((0,m.ignoreBracketsInToken)(le.getStandardTokenType(se))||le.getLanguageId(se)!==ae){he=Y;break}}let U=Math.min(le.getLineContent().length,x.column-1+oe.maxBracketLength);for(let se=K+1;se<re;se++){const Y=le.getStartOffset(se);if(Y>=U)break;if((0,m.ignoreBracketsInToken)(le.getStandardTokenType(se))||le.getLanguageId(se)!==ae){U=Y;break}}return{searchStartOffset:he,searchEndOffset:U}}_matchBracket(x){const le=x.lineNumber,oe=this._getLineTokens(le),K=this._buffer.getLineContent(le),re=oe.findTokenIndexAtOffset(x.column-1);if(re<0)return null;const ae=o.LanguageConfigurationRegistry.getBracketsSupport(oe.getLanguageId(re));if(ae&&!(0,m.ignoreBracketsInToken)(oe.getStandardTokenType(re))){let{searchStartOffset:he,searchEndOffset:U}=this._establishBracketSearchOffsets(x,oe,ae,re),se=null;for(;;){const Y=y.BracketsUtils.findNextBracketInRange(ae.forwardRegex,le,K,he,U);if(!Y)break;if(Y.startColumn<=x.column&&x.column<=Y.endColumn){const ne=K.substring(Y.startColumn-1,Y.endColumn-1).toLowerCase(),ce=this._matchFoundBracket(Y,ae.textIsBracket[ne],ae.textIsOpenBracket[ne],null);if(ce){if(ce instanceof A)return null;se=ce}}he=Y.endColumn-1}if(se)return se}if(re>0&&oe.getStartOffset(re)===x.column-1){const he=re-1,U=o.LanguageConfigurationRegistry.getBracketsSupport(oe.getLanguageId(he));if(U&&!(0,m.ignoreBracketsInToken)(oe.getStandardTokenType(he))){let{searchStartOffset:se,searchEndOffset:Y}=this._establishBracketSearchOffsets(x,oe,U,he);const ne=y.BracketsUtils.findPrevBracketInRange(U.reversedRegex,le,K,se,Y);if(ne&&ne.startColumn<=x.column&&x.column<=ne.endColumn){const ce=K.substring(ne.startColumn-1,ne.endColumn-1).toLowerCase(),pe=this._matchFoundBracket(ne,U.textIsBracket[ce],U.textIsOpenBracket[ce],null);if(pe)return pe instanceof A?null:pe}}}return null}_matchFoundBracket(x,le,oe,K){if(!le)return null;const re=oe?this._findMatchingBracketDown(le,x.getEndPosition(),K):this._findMatchingBracketUp(le,x.getStartPosition(),K);return re?re instanceof A?re:[x,re]:null}_findMatchingBracketUp(x,le,oe){const K=x.languageIdentifier.id,re=x.reversedRegex;let ae=-1,he=0;const U=(se,Y,ne,ce)=>{for(;;){if(oe&&++he%100==0&&!oe())return A.INSTANCE;const pe=y.BracketsUtils.findPrevBracketInRange(re,se,Y,ne,ce);if(!pe)break;const be=Y.substring(pe.startColumn-1,pe.endColumn-1).toLowerCase();if(x.isOpen(be)?ae++:x.isClose(be)&&ae--,ae===0)return pe;ce=pe.startColumn-1}return null};for(let se=le.lineNumber;se>=1;se--){const Y=this._getLineTokens(se),ne=Y.getCount(),ce=this._buffer.getLineContent(se);let pe=ne-1,be=ce.length,Ee=ce.length;se===le.lineNumber&&(pe=Y.findTokenIndexAtOffset(le.column-1),be=le.column-1,Ee=le.column-1);let Le=!0;for(;pe>=0;pe--){const Te=Y.getLanguageId(pe)===K&&!(0,m.ignoreBracketsInToken)(Y.getStandardTokenType(pe));if(Te)Le?be=Y.getStartOffset(pe):(be=Y.getStartOffset(pe),Ee=Y.getEndOffset(pe));else if(Le&&be!==Ee){const De=U(se,ce,be,Ee);if(De)return De}Le=Te}if(Le&&be!==Ee){const Te=U(se,ce,be,Ee);if(Te)return Te}}return null}_findMatchingBracketDown(x,le,oe){const K=x.languageIdentifier.id,re=x.forwardRegex;let ae=1,he=0;const U=(Y,ne,ce,pe)=>{for(;;){if(oe&&++he%100==0&&!oe())return A.INSTANCE;const be=y.BracketsUtils.findNextBracketInRange(re,Y,ne,ce,pe);if(!be)break;const Ee=ne.substring(be.startColumn-1,be.endColumn-1).toLowerCase();if(x.isOpen(Ee)?ae++:x.isClose(Ee)&&ae--,ae===0)return be;ce=be.endColumn-1}return null},se=this.getLineCount();for(let Y=le.lineNumber;Y<=se;Y++){const ne=this._getLineTokens(Y),ce=ne.getCount(),pe=this._buffer.getLineContent(Y);let be=0,Ee=0,Le=0;Y===le.lineNumber&&(be=ne.findTokenIndexAtOffset(le.column-1),Ee=le.column-1,Le=le.column-1);let Te=!0;for(;be<ce;be++){const De=ne.getLanguageId(be)===K&&!(0,m.ignoreBracketsInToken)(ne.getStandardTokenType(be));if(De)Te||(Ee=ne.getStartOffset(be)),Le=ne.getEndOffset(be);else if(Te&&Ee!==Le){const Me=U(Y,pe,Ee,Le);if(Me)return Me}Te=De}if(Te&&Ee!==Le){const De=U(Y,pe,Ee,Le);if(De)return De}}return null}findPrevBracket(x){const le=this.validatePosition(x);let oe=-1,K=null;for(let re=le.lineNumber;re>=1;re--){const ae=this._getLineTokens(re),he=ae.getCount(),U=this._buffer.getLineContent(re);let se=he-1,Y=U.length,ne=U.length;if(re===le.lineNumber){se=ae.findTokenIndexAtOffset(le.column-1),Y=le.column-1,ne=le.column-1;const pe=ae.getLanguageId(se);oe!==pe&&(oe=pe,K=o.LanguageConfigurationRegistry.getBracketsSupport(oe))}let ce=!0;for(;se>=0;se--){const pe=ae.getLanguageId(se);if(oe!==pe){if(K&&ce&&Y!==ne){const Ee=y.BracketsUtils.findPrevBracketInRange(K.reversedRegex,re,U,Y,ne);if(Ee)return this._toFoundBracket(K,Ee);ce=!1}oe=pe,K=o.LanguageConfigurationRegistry.getBracketsSupport(oe)}const be=!!K&&!(0,m.ignoreBracketsInToken)(ae.getStandardTokenType(se));if(be)ce?Y=ae.getStartOffset(se):(Y=ae.getStartOffset(se),ne=ae.getEndOffset(se));else if(K&&ce&&Y!==ne){const Ee=y.BracketsUtils.findPrevBracketInRange(K.reversedRegex,re,U,Y,ne);if(Ee)return this._toFoundBracket(K,Ee)}ce=be}if(K&&ce&&Y!==ne){const pe=y.BracketsUtils.findPrevBracketInRange(K.reversedRegex,re,U,Y,ne);if(pe)return this._toFoundBracket(K,pe)}}return null}findNextBracket(x){const le=this.validatePosition(x),oe=this.getLineCount();let K=-1,re=null;for(let ae=le.lineNumber;ae<=oe;ae++){const he=this._getLineTokens(ae),U=he.getCount(),se=this._buffer.getLineContent(ae);let Y=0,ne=0,ce=0;if(ae===le.lineNumber){Y=he.findTokenIndexAtOffset(le.column-1),ne=le.column-1,ce=le.column-1;const be=he.getLanguageId(Y);K!==be&&(K=be,re=o.LanguageConfigurationRegistry.getBracketsSupport(K))}let pe=!0;for(;Y<U;Y++){const be=he.getLanguageId(Y);if(K!==be){if(re&&pe&&ne!==ce){const Le=y.BracketsUtils.findNextBracketInRange(re.forwardRegex,ae,se,ne,ce);if(Le)return this._toFoundBracket(re,Le);pe=!1}K=be,re=o.LanguageConfigurationRegistry.getBracketsSupport(K)}const Ee=!!re&&!(0,m.ignoreBracketsInToken)(he.getStandardTokenType(Y));if(Ee)pe||(ne=he.getStartOffset(Y)),ce=he.getEndOffset(Y);else if(re&&pe&&ne!==ce){const Le=y.BracketsUtils.findNextBracketInRange(re.forwardRegex,ae,se,ne,ce);if(Le)return this._toFoundBracket(re,Le)}pe=Ee}if(re&&pe&&ne!==ce){const be=y.BracketsUtils.findNextBracketInRange(re.forwardRegex,ae,se,ne,ce);if(be)return this._toFoundBracket(re,be)}}return null}findEnclosingBrackets(x,le){let oe;if(typeof le=="undefined")oe=null;else{const pe=Date.now();oe=()=>Date.now()-pe<=le}const K=this.validatePosition(x),re=this.getLineCount(),ae=new Map;let he=[];const U=(pe,be)=>{if(!ae.has(pe)){let Ee=[];for(let Le=0,Te=be?be.brackets.length:0;Le<Te;Le++)Ee[Le]=0;ae.set(pe,Ee)}he=ae.get(pe)};let se=0;const Y=(pe,be,Ee,Le,Te)=>{for(;;){if(oe&&++se%100==0&&!oe())return A.INSTANCE;const De=y.BracketsUtils.findNextBracketInRange(pe.forwardRegex,be,Ee,Le,Te);if(!De)break;const Me=Ee.substring(De.startColumn-1,De.endColumn-1).toLowerCase(),Se=pe.textIsBracket[Me];if(Se&&(Se.isOpen(Me)?he[Se.index]++:Se.isClose(Me)&&he[Se.index]--,he[Se.index]===-1))return this._matchFoundBracket(De,Se,!1,oe);Le=De.endColumn-1}return null};let ne=-1,ce=null;for(let pe=K.lineNumber;pe<=re;pe++){const be=this._getLineTokens(pe),Ee=be.getCount(),Le=this._buffer.getLineContent(pe);let Te=0,De=0,Me=0;if(pe===K.lineNumber){Te=be.findTokenIndexAtOffset(K.column-1),De=K.column-1,Me=K.column-1;const we=be.getLanguageId(Te);ne!==we&&(ne=we,ce=o.LanguageConfigurationRegistry.getBracketsSupport(ne),U(ne,ce))}let Se=!0;for(;Te<Ee;Te++){const we=be.getLanguageId(Te);if(ne!==we){if(ce&&Se&&De!==Me){const me=Y(ce,pe,Le,De,Me);if(me)return F(me);Se=!1}ne=we,ce=o.LanguageConfigurationRegistry.getBracketsSupport(ne),U(ne,ce)}const ye=!!ce&&!(0,m.ignoreBracketsInToken)(be.getStandardTokenType(Te));if(ye)Se||(De=be.getStartOffset(Te)),Me=be.getEndOffset(Te);else if(ce&&Se&&De!==Me){const me=Y(ce,pe,Le,De,Me);if(me)return F(me)}Se=ye}if(ce&&Se&&De!==Me){const we=Y(ce,pe,Le,De,Me);if(we)return F(we)}}return null}_toFoundBracket(x,le){if(!le)return null;let oe=this.getValueInRange(le);oe=oe.toLowerCase();let K=x.textIsBracket[oe];return K?{range:le,open:K.open,close:K.close,isOpen:x.textIsOpenBracket[oe]}:null}static computeIndentLevel(x,le){let oe=0,K=0,re=x.length;for(;K<re;){let ae=x.charCodeAt(K);if(ae===32)oe++;else if(ae===9)oe=oe-oe%le+le;else break;K++}return K===re?-1:oe}_computeIndentLevel(x){return E.computeIndentLevel(this._buffer.getLineContent(x+1),this._options.tabSize)}getActiveIndentGuide(x,le,oe){this._assertNotDisposed();const K=this.getLineCount();if(x<1||x>K)throw new Error("Illegal value for lineNumber");const re=o.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id),ae=Boolean(re&&re.offSide);let he=-2,U=-1,se=-2,Y=-1;const ne=me=>{if(he!==-1&&(he===-2||he>me-1)){he=-1,U=-1;for(let ve=me-2;ve>=0;ve--){let ge=this._computeIndentLevel(ve);if(ge>=0){he=ve,U=ge;break}}}if(se===-2){se=-1,Y=-1;for(let ve=me;ve<K;ve++){let ge=this._computeIndentLevel(ve);if(ge>=0){se=ve,Y=ge;break}}}};let ce=-2,pe=-1,be=-2,Ee=-1;const Le=me=>{if(ce===-2){ce=-1,pe=-1;for(let ve=me-2;ve>=0;ve--){let ge=this._computeIndentLevel(ve);if(ge>=0){ce=ve,pe=ge;break}}}if(be!==-1&&(be===-2||be<me-1)){be=-1,Ee=-1;for(let ve=me;ve<K;ve++){let ge=this._computeIndentLevel(ve);if(ge>=0){be=ve,Ee=ge;break}}}};let Te=0,De=!0,Me=0,Se=!0,we=0,ye=0;for(let me=0;De||Se;me++){const ve=x-me,ge=x+me;me>1&&(ve<1||ve<le)&&(De=!1),me>1&&(ge>K||ge>oe)&&(Se=!1),me>5e4&&(De=!1,Se=!1);let fe=-1;if(De){const ke=this._computeIndentLevel(ve-1);ke>=0?(se=ve-1,Y=ke,fe=Math.ceil(ke/this._options.indentSize)):(ne(ve),fe=this._getIndentLevelForWhitespaceLine(ae,U,Y))}let _e=-1;if(Se){const ke=this._computeIndentLevel(ge-1);ke>=0?(ce=ge-1,pe=ke,_e=Math.ceil(ke/this._options.indentSize)):(Le(ge),_e=this._getIndentLevelForWhitespaceLine(ae,pe,Ee))}if(me===0){ye=fe;continue}if(me===1){if(ge<=K&&_e>=0&&ye+1===_e){De=!1,Te=ge,Me=ge,we=_e;continue}if(ve>=1&&fe>=0&&fe-1===ye){Se=!1,Te=ve,Me=ve,we=fe;continue}if(Te=x,Me=x,we=ye,we===0)return{startLineNumber:Te,endLineNumber:Me,indent:we}}De&&(fe>=we?Te=ve:De=!1),Se&&(_e>=we?Me=ge:Se=!1)}return{startLineNumber:Te,endLineNumber:Me,indent:we}}getLinesIndentGuides(x,le){this._assertNotDisposed();const oe=this.getLineCount();if(x<1||x>oe)throw new Error("Illegal value for startLineNumber");if(le<1||le>oe)throw new Error("Illegal value for endLineNumber");const K=o.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id),re=Boolean(K&&K.offSide);let ae=new Array(le-x+1),he=-2,U=-1,se=-2,Y=-1;for(let ne=x;ne<=le;ne++){let ce=ne-x;const pe=this._computeIndentLevel(ne-1);if(pe>=0){he=ne-1,U=pe,ae[ce]=Math.ceil(pe/this._options.indentSize);continue}if(he===-2){he=-1,U=-1;for(let be=ne-2;be>=0;be--){let Ee=this._computeIndentLevel(be);if(Ee>=0){he=be,U=Ee;break}}}if(se!==-1&&(se===-2||se<ne-1)){se=-1,Y=-1;for(let be=ne;be<oe;be++){let Ee=this._computeIndentLevel(be);if(Ee>=0){se=be,Y=Ee;break}}}ae[ce]=this._getIndentLevelForWhitespaceLine(re,U,Y)}return ae}_getIndentLevelForWhitespaceLine(x,le,oe){return le===-1||oe===-1?0:le<oe?1+Math.floor(le/this._options.indentSize):le===oe?Math.ceil(oe/this._options.indentSize):x?Math.ceil(oe/this._options.indentSize):1+Math.floor(oe/this._options.indentSize)}normalizePosition(x,le){return x}getLineIndentColumn(x){return W(this.getLineContent(x))+1}}e.TextModel=E,E.MODEL_SYNC_LIMIT=50*1024*1024,E.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,E.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,E.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:p.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:p.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:p.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:p.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:p.EDITOR_MODEL_DEFAULTS.largeFileOptimizations};function W(Q){let x=0;for(const le of Q)if(le===" "||le==="	")x++;else break;return x}function V(Q){return!!(Q.options.overviewRuler&&Q.options.overviewRuler.color)}function $(Q){return!!Q.options.after||!!Q.options.before}class Z{constructor(){this._decorationsTree0=new c.IntervalTree,this._decorationsTree1=new c.IntervalTree,this._injectedTextDecorationsTree=new c.IntervalTree}ensureAllNodesHaveRanges(x){this.getAll(x,0,!1,!1)}_ensureNodesHaveRanges(x,le){for(const oe of le)oe.range===null&&(oe.range=x.getRangeAt(oe.cachedAbsoluteStart,oe.cachedAbsoluteEnd));return le}getAllInInterval(x,le,oe,K,re){const ae=x.getVersionId(),he=this._intervalSearch(le,oe,K,re,ae);return this._ensureNodesHaveRanges(x,he)}_intervalSearch(x,le,oe,K,re){const ae=this._decorationsTree0.intervalSearch(x,le,oe,K,re),he=this._decorationsTree1.intervalSearch(x,le,oe,K,re),U=this._injectedTextDecorationsTree.intervalSearch(x,le,oe,K,re);return ae.concat(he).concat(U)}getInjectedTextInInterval(x,le,oe,K){const re=x.getVersionId(),ae=this._injectedTextDecorationsTree.intervalSearch(le,oe,K,!1,re);return this._ensureNodesHaveRanges(x,ae)}getAllInjectedText(x,le){const oe=x.getVersionId(),K=this._injectedTextDecorationsTree.search(le,!1,oe);return this._ensureNodesHaveRanges(x,K)}getAll(x,le,oe,K){const re=x.getVersionId(),ae=this._search(le,oe,K,re);return this._ensureNodesHaveRanges(x,ae)}_search(x,le,oe,K){if(oe)return this._decorationsTree1.search(x,le,K);{const re=this._decorationsTree0.search(x,le,K),ae=this._decorationsTree1.search(x,le,K),he=this._injectedTextDecorationsTree.search(x,le,K);return re.concat(ae).concat(he)}}collectNodesFromOwner(x){const le=this._decorationsTree0.collectNodesFromOwner(x),oe=this._decorationsTree1.collectNodesFromOwner(x),K=this._injectedTextDecorationsTree.collectNodesFromOwner(x);return le.concat(oe).concat(K)}collectNodesPostOrder(){const x=this._decorationsTree0.collectNodesPostOrder(),le=this._decorationsTree1.collectNodesPostOrder(),oe=this._injectedTextDecorationsTree.collectNodesPostOrder();return x.concat(le).concat(oe)}insert(x){$(x)?this._injectedTextDecorationsTree.insert(x):V(x)?this._decorationsTree1.insert(x):this._decorationsTree0.insert(x)}delete(x){$(x)?this._injectedTextDecorationsTree.delete(x):V(x)?this._decorationsTree1.delete(x):this._decorationsTree0.delete(x)}getNodeRange(x,le){const oe=x.getVersionId();return le.cachedVersionId!==oe&&this._resolveNode(le,oe),le.range===null&&(le.range=x.getRangeAt(le.cachedAbsoluteStart,le.cachedAbsoluteEnd)),le.range}_resolveNode(x,le){$(x)?this._injectedTextDecorationsTree.resolveNode(x,le):V(x)?this._decorationsTree1.resolveNode(x,le):this._decorationsTree0.resolveNode(x,le)}acceptReplace(x,le,oe,K){this._decorationsTree0.acceptReplace(x,le,oe,K),this._decorationsTree1.acceptReplace(x,le,oe,K),this._injectedTextDecorationsTree.acceptReplace(x,le,oe,K)}}function X(Q){return Q.replace(/[^a-z0-9\-_]/gi," ")}class J{constructor(x){this.color=x.color||"",this.darkColor=x.darkColor||""}}class ie extends J{constructor(x){super(x);this._resolvedColor=null,this.position=typeof x.position=="number"?x.position:r.OverviewRulerLane.Center}getColor(x){return this._resolvedColor||(x.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,x):this._resolvedColor=this._resolveColor(this.color,x)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(x,le){if(typeof x=="string")return x;let oe=x?le.getColor(x.id):null;return oe?oe.toString():""}}e.ModelDecorationOverviewRulerOptions=ie;class de extends J{constructor(x){super(x);this.position=x.position}getColor(x){return this._resolvedColor||(x.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,x):this._resolvedColor=this._resolveColor(this.color,x)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(x,le){return typeof x=="string"?g.Color.fromHex(x):le.getColor(x.id)}}e.ModelDecorationMinimapOptions=de;class ue{constructor(x){this.content=x.content||"",this.inlineClassName=x.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=x.inlineClassNameAffectsLetterSpacing||!1}static from(x){return x instanceof ue?x:new ue(x)}}e.ModelDecorationInjectedTextOptions=ue;class q{constructor(x){this.description=x.description,this.stickiness=x.stickiness||0,this.zIndex=x.zIndex||0,this.className=x.className?X(x.className):null,this.hoverMessage=x.hoverMessage||null,this.glyphMarginHoverMessage=x.glyphMarginHoverMessage||null,this.isWholeLine=x.isWholeLine||!1,this.showIfCollapsed=x.showIfCollapsed||!1,this.collapseOnReplaceEdit=x.collapseOnReplaceEdit||!1,this.overviewRuler=x.overviewRuler?new ie(x.overviewRuler):null,this.minimap=x.minimap?new de(x.minimap):null,this.glyphMarginClassName=x.glyphMarginClassName?X(x.glyphMarginClassName):null,this.linesDecorationsClassName=x.linesDecorationsClassName?X(x.linesDecorationsClassName):null,this.firstLineDecorationClassName=x.firstLineDecorationClassName?X(x.firstLineDecorationClassName):null,this.marginClassName=x.marginClassName?X(x.marginClassName):null,this.inlineClassName=x.inlineClassName?X(x.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=x.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=x.beforeContentClassName?X(x.beforeContentClassName):null,this.afterContentClassName=x.afterContentClassName?X(x.afterContentClassName):null,this.after=x.after?ue.from(x.after):null,this.before=x.before?ue.from(x.before):null}static register(x){return new q(x)}static createDynamic(x){return new q(x)}}e.ModelDecorationOptions=q,q.EMPTY=q.register({description:"empty"});const B=[q.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),q.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),q.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),q.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function j(Q){return Q instanceof q?Q:q.createDynamic(Q)}class H extends T.Disposable{constructor(x){super();this.handleBeforeFire=x,this._actual=this._register(new k.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var x;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const le={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(le)}(x=this._affectedInjectedTextLines)===null||x===void 0||x.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(x){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(x)}checkAffectedAndFire(x){this._affectsMinimap||(this._affectsMinimap=!!(x.minimap&&x.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(x.overviewRuler&&x.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=H;class z extends T.Disposable{constructor(){super();this._fastEmitter=this._register(new k.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new k.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(x=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=x;const le=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(le),this._slowEmitter.fire(le)}}fire(x){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(x):this._deferredEvent=x;return}this._fastEmitter.fire(x),this._slowEmitter.fire(x)}}e.DidChangeContentEmitter=z}),define(ee[40],te([0,1,12,8,13,3,21,31,45]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.CursorColumns=e.EditOperationResult=e.CursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorContext=e.SingleCursorState=e.CursorConfiguration=void 0;const i=()=>!0,v=()=>!1,r=h=>h===" "||h==="	";class a{constructor(m,y,w){this._cursorMoveConfigurationBrand=void 0,this._languageIdentifier=m;const g=w.options,f=g.get(129);this.readOnly=g.get(79),this.tabSize=y.tabSize,this.indentSize=y.indentSize,this.insertSpaces=y.insertSpaces,this.stickyTabStops=g.get(103),this.lineHeight=g.get(57),this.pageSize=Math.max(1,Math.floor(f.height/this.lineHeight)-2),this.useTabStops=g.get(114),this.wordSeparators=g.get(115),this.emptySelectionClipboard=g.get(30),this.copyWithSyntaxHighlighting=g.get(19),this.multiCursorMergeOverlapping=g.get(67),this.multiCursorPaste=g.get(69),this.autoClosingBrackets=g.get(5),this.autoClosingQuotes=g.get(8),this.autoClosingDelete=g.get(6),this.autoClosingOvertype=g.get(7),this.autoSurround=g.get(11),this.autoIndent=g.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:a._getShouldAutoClose(m,this.autoClosingQuotes),bracket:a._getShouldAutoClose(m,this.autoClosingBrackets)},this.autoClosingPairs=C.LanguageConfigurationRegistry.getAutoClosingPairs(m.id);let _=a._getSurroundingPairs(m);if(_)for(const D of _)this.surroundingPairs[D.open]=D.close}static shouldRecreate(m){return m.hasChanged(129)||m.hasChanged(115)||m.hasChanged(30)||m.hasChanged(67)||m.hasChanged(69)||m.hasChanged(5)||m.hasChanged(8)||m.hasChanged(6)||m.hasChanged(7)||m.hasChanged(11)||m.hasChanged(114)||m.hasChanged(57)||m.hasChanged(79)}get electricChars(){if(!this._electricChars){this._electricChars={};let m=a._getElectricCharacters(this._languageIdentifier);if(m)for(const y of m)this._electricChars[y]=!0}return this._electricChars}normalizeIndentation(m){return p.TextModel.normalizeIndentation(m,this.indentSize,this.insertSpaces)}static _getElectricCharacters(m){try{return C.LanguageConfigurationRegistry.getElectricCharacters(m.id)}catch(y){return(0,b.onUnexpectedError)(y),null}}static _getShouldAutoClose(m,y){switch(y){case"beforeWhitespace":return r;case"languageDefined":return a._getLanguageDefinedShouldAutoClose(m);case"always":return i;case"never":return v}}static _getLanguageDefinedShouldAutoClose(m){try{const y=C.LanguageConfigurationRegistry.getAutoCloseBeforeSet(m.id);return w=>y.indexOf(w)!==-1}catch(y){return(0,b.onUnexpectedError)(y),v}}static _getSurroundingPairs(m){try{return C.LanguageConfigurationRegistry.getSurroundingPairs(m.id)}catch(y){return(0,b.onUnexpectedError)(y),null}}}e.CursorConfiguration=a;class l{constructor(m,y,w,g){this._singleCursorStateBrand=void 0,this.selectionStart=m,this.selectionStartLeftoverVisibleColumns=y,this.position=w,this.leftoverVisibleColumns=g,this.selection=l._computeSelection(this.selectionStart,this.position)}equals(m){return this.selectionStartLeftoverVisibleColumns===m.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===m.leftoverVisibleColumns&&this.position.equals(m.position)&&this.selectionStart.equalsRange(m.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(m,y,w,g){return m?new l(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new T.Position(y,w),g):new l(new L.Range(y,w,y,w),g,new T.Position(y,w),g)}static _computeSelection(m,y){let w,g,f,_;return m.isEmpty()?(w=m.startLineNumber,g=m.startColumn,f=y.lineNumber,_=y.column):y.isBeforeOrEqual(m.getStartPosition())?(w=m.endLineNumber,g=m.endColumn,f=y.lineNumber,_=y.column):(w=m.startLineNumber,g=m.startColumn,f=y.lineNumber,_=y.column),new S.Selection(w,g,f,_)}}e.SingleCursorState=l;class c{constructor(m,y,w,g){this._cursorContextBrand=void 0,this.model=m,this.viewModel=y,this.coordinatesConverter=w,this.cursorConfig=g}}e.CursorContext=c;class u{constructor(m){this.modelState=m,this.viewState=null}}e.PartialModelCursorState=u;class s{constructor(m){this.modelState=null,this.viewState=m}}e.PartialViewCursorState=s;class n{constructor(m,y){this._cursorStateBrand=void 0,this.modelState=m,this.viewState=y}static fromModelState(m){return new u(m)}static fromViewState(m){return new s(m)}static fromModelSelection(m){const y=m.selectionStartLineNumber,w=m.selectionStartColumn,g=m.positionLineNumber,f=m.positionColumn,_=new l(new L.Range(y,w,y,w),0,new T.Position(g,f),0);return n.fromModelState(_)}static fromModelSelections(m){let y=[];for(let w=0,g=m.length;w<g;w++)y[w]=this.fromModelSelection(m[w]);return y}equals(m){return this.viewState.equals(m.viewState)&&this.modelState.equals(m.modelState)}}e.CursorState=n;class d{constructor(m,y,w){this._editOperationResultBrand=void 0,this.type=m,this.commands=y,this.shouldPushStackElementBefore=w.shouldPushStackElementBefore,this.shouldPushStackElementAfter=w.shouldPushStackElementAfter}}e.EditOperationResult=d;class t{static visibleColumnFromColumn(m,y,w){const g=m.length,f=y-1<g?y-1:g;let _=0,D=0;for(;D<f;){const N=k.getNextCodePoint(m,f,D);if(D+=N>=65536?2:1,N===9)_=t.nextRenderTabStop(_,w);else{let I=k.getGraphemeBreakType(N);for(;D<f;){const M=k.getNextCodePoint(m,f,D),O=k.getGraphemeBreakType(M);if(k.breakBetweenGraphemeBreakType(I,O))break;D+=M>=65536?2:1,I=O}k.isFullWidthCharacter(N)||k.isEmojiImprecise(N)?_=_+2:_=_+1}}return _}static visibleColumnsByColumns(m,y){const w=m.length;let g=new Array;g.push(-1);let f=0,_=0;for(;_<w;){const D=k.getNextCodePoint(m,w,_);if(_+=D>=65536?2:1,g.push(f),D>=65536&&g.push(f),D===9)f=t.nextRenderTabStop(f,y);else{let N=k.getGraphemeBreakType(D);for(;_<w;){const I=k.getNextCodePoint(m,w,_),M=k.getGraphemeBreakType(I);if(k.breakBetweenGraphemeBreakType(N,M))break;_+=I>=65536?2:1,g.push(f),D>=65536&&g.push(f),N=M}k.isFullWidthCharacter(D)||k.isEmojiImprecise(D)?f=f+2:f=f+1}}return g.push(f),g}static visibleColumnFromColumn2(m,y,w){return this.visibleColumnFromColumn(y.getLineContent(w.lineNumber),w.column,m.tabSize)}static columnFromVisibleColumn(m,y,w){if(y<=0)return 1;const g=m.length;let f=0,_=1,D=0;for(;D<g;){const N=k.getNextCodePoint(m,g,D);D+=N>=65536?2:1;let I;if(N===9)I=t.nextRenderTabStop(f,w);else{let O=k.getGraphemeBreakType(N);for(;D<g;){const R=k.getNextCodePoint(m,g,D),P=k.getGraphemeBreakType(R);if(k.breakBetweenGraphemeBreakType(O,P))break;D+=R>=65536?2:1,O=P}k.isFullWidthCharacter(N)||k.isEmojiImprecise(N)?I=f+2:I=f+1}const M=D+1;if(I>=y){const O=y-f;return I-y<O?M:_}f=I,_=M}return g+1}static columnFromVisibleColumn2(m,y,w,g){let f=this.columnFromVisibleColumn(y.getLineContent(w),g,m.tabSize),_=y.getLineMinColumn(w);if(f<_)return _;let D=y.getLineMaxColumn(w);return f>D?D:f}static nextRenderTabStop(m,y){return m+y-m%y}static nextIndentTabStop(m,y){return m+y-m%y}static prevRenderTabStop(m,y){return Math.max(0,m-1-(m-1)%y)}static prevIndentTabStop(m,y){return Math.max(0,m-1-(m-1)%y)}}e.CursorColumns=t;function o(h){return h==="'"||h==='"'||h==="`"}e.isQuote=o}),define(ee[184],te([0,1,8,40,3,21,45]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const p=Object.create(null);function C(v,r){if(r<=0)return"";p[v]||(p[v]=["",v]);const a=p[v];for(let l=a.length;l<=r;l++)a[l]=a[l-1]+v;return a[r]}e.cachedStringRepeat=C;class i{constructor(r,a){this._opts=a,this._selection=r,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(r,a,l,c,u){const s=k.CursorColumns.visibleColumnFromColumn(r,a,l);if(u){const n=C(" ",c),t=k.CursorColumns.prevIndentTabStop(s,c)/c;return C(n,t)}else{const n="	",t=k.CursorColumns.prevRenderTabStop(s,l)/l;return C(n,t)}}static shiftIndent(r,a,l,c,u){const s=k.CursorColumns.visibleColumnFromColumn(r,a,l);if(u){const n=C(" ",c),t=k.CursorColumns.nextIndentTabStop(s,c)/c;return C(n,t)}else{const n="	",t=k.CursorColumns.nextRenderTabStop(s,l)/l;return C(n,t)}}_addEditOperation(r,a,l){this._useLastEditRangeForCursorEndPosition?r.addTrackedEditOperation(a,l):r.addEditOperation(a,l)}getEditOperations(r,a){const l=this._selection.startLineNumber;let c=this._selection.endLineNumber;this._selection.endColumn===1&&l!==c&&(c=c-1);const{tabSize:u,indentSize:s,insertSpaces:n}=this._opts,d=l===c;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(r.getLineContent(l))&&(this._useLastEditRangeForCursorEndPosition=!0);let t=0,o=0;for(let h=l;h<=c;h++,t=o){o=0;let m=r.getLineContent(h),y=b.firstNonWhitespaceIndex(m);if(this._opts.isUnshift&&(m.length===0||y===0)||!d&&!this._opts.isUnshift&&m.length===0)continue;if(y===-1&&(y=m.length),h>1&&k.CursorColumns.visibleColumnFromColumn(m,y+1,u)%s!=0&&r.isCheapToTokenize(h-1)){let f=S.LanguageConfigurationRegistry.getEnterAction(this._opts.autoIndent,r,new T.Range(h-1,r.getLineMaxColumn(h-1),h-1,r.getLineMaxColumn(h-1)));if(f){if(o=t,f.appendText)for(let _=0,D=f.appendText.length;_<D&&o<s&&f.appendText.charCodeAt(_)===32;_++)o++;f.removeText&&(o=Math.max(0,o-f.removeText));for(let _=0;_<o&&!(y===0||m.charCodeAt(y-1)!==32);_++)y--}}if(this._opts.isUnshift&&y===0)continue;let w;this._opts.isUnshift?w=i.unshiftIndent(m,y+1,u,s,n):w=i.shiftIndent(m,y+1,u,s,n),this._addEditOperation(a,new T.Range(h,1,h,y+1),w),h===l&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=y+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&r.getLineLength(l)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const t=n?C(" ",s):"	";for(let o=l;o<=c;o++){const h=r.getLineContent(o);let m=b.firstNonWhitespaceIndex(h);if(!(this._opts.isUnshift&&(h.length===0||m===0))&&!(!d&&!this._opts.isUnshift&&h.length===0)&&(m===-1&&(m=h.length),!(this._opts.isUnshift&&m===0)))if(this._opts.isUnshift){m=Math.min(m,s);for(let y=0;y<m;y++)if(h.charCodeAt(y)===9){m=y+1;break}this._addEditOperation(a,new T.Range(o,1,o,m+1),"")}else this._addEditOperation(a,new T.Range(o,1,o,1),t),o===l&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=a.trackSelection(this._selection)}computeCursorState(r,a){if(this._useLastEditRangeForCursorEndPosition){let c=a.getInverseEditOperations()[0];return new L.Selection(c.range.endLineNumber,c.range.endColumn,c.range.endLineNumber,c.range.endColumn)}const l=a.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let c=this._selection.startColumn;return l.startColumn<=c?l:l.getDirection()===0?new L.Selection(l.startLineNumber,c,l.endLineNumber,l.endColumn):new L.Selection(l.endLineNumber,l.endColumn,l.startLineNumber,c)}return l}}e.ShiftCommand=i}),define(ee[243],te([0,1,40]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class k{static whitespaceVisibleColumn(L,S,p){const C=L.length;let i=0,v=-1,r=-1;for(let a=0;a<C;a++){if(a===S)return[v,r,i];switch(i%p==0&&(v=a,r=i),L.charCodeAt(a)){case 32:i+=1;break;case 9:i=b.CursorColumns.nextRenderTabStop(i,p);break;default:return[-1,-1,-1]}}return S===C?[v,r,i]:[-1,-1,-1]}static atomicPosition(L,S,p,C){const i=L.length,[v,r,a]=k.whitespaceVisibleColumn(L,S,p);if(a===-1)return-1;let l;switch(C){case 0:l=!0;break;case 1:l=!1;break;case 2:if(a%p==0)return S;l=a%p<=p/2;break}if(l){if(v===-1)return-1;let s=r;for(let n=v;n<i;++n){if(s===r+p)return v;switch(L.charCodeAt(n)){case 32:s+=1;break;case 9:s=b.CursorColumns.nextRenderTabStop(s,p);break;default:return-1}}return s===r+p?v:-1}const c=b.CursorColumns.nextRenderTabStop(a,p);let u=a;for(let s=S;s<i;s++){if(u===c)return s;switch(L.charCodeAt(s)){case 32:u+=1;break;case 9:u=b.CursorColumns.nextRenderTabStop(u,p);break;default:return-1}}return u===c?i:-1}}e.AtomicTabMoveOperations=k}),define(ee[550],te([0,1,40,13,3]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class L{static columnSelect(p,C,i,v,r,a){let l=Math.abs(r-i)+1,c=i>r,u=v>a,s=v<a,n=[];for(let d=0;d<l;d++){let t=i+(c?-d:d),o=b.CursorColumns.columnFromVisibleColumn2(p,C,t,v),h=b.CursorColumns.columnFromVisibleColumn2(p,C,t,a),m=b.CursorColumns.visibleColumnFromColumn2(p,C,new k.Position(t,o)),y=b.CursorColumns.visibleColumnFromColumn2(p,C,new k.Position(t,h));s&&(m>a||y<v)||u&&(y>v||m<a)||n.push(new b.SingleCursorState(new T.Range(t,o,t,o),0,new k.Position(t,h),0))}if(n.length===0)for(let d=0;d<l;d++){const t=i+(c?-d:d),o=C.getLineMaxColumn(t);n.push(new b.SingleCursorState(new T.Range(t,o,t,o),0,new k.Position(t,o),0))}return{viewStates:n,reversed:c,fromLineNumber:i,fromVisualColumn:v,toLineNumber:r,toVisualColumn:a}}static columnSelectLeft(p,C,i){let v=i.toViewVisualColumn;return v>0&&v--,L.columnSelect(p,C,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,v)}static columnSelectRight(p,C,i){let v=0;const r=Math.min(i.fromViewLineNumber,i.toViewLineNumber),a=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let c=r;c<=a;c++){const u=C.getLineMaxColumn(c),s=b.CursorColumns.visibleColumnFromColumn2(p,C,new k.Position(c,u));v=Math.max(v,s)}let l=i.toViewVisualColumn;return l<v&&l++,this.columnSelect(p,C,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,l)}static columnSelectUp(p,C,i,v){const r=v?p.pageSize:1,a=Math.max(1,i.toViewLineNumber-r);return this.columnSelect(p,C,i.fromViewLineNumber,i.fromViewVisualColumn,a,i.toViewVisualColumn)}static columnSelectDown(p,C,i,v){const r=v?p.pageSize:1,a=Math.min(C.getLineCount(),i.toViewLineNumber+r);return this.columnSelect(p,C,i.fromViewLineNumber,i.fromViewVisualColumn,a,i.toViewVisualColumn)}}e.ColumnSelection=L}),define(ee[185],te([0,1,40,13,3,8,243]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class p{constructor(v,r,a){this._cursorPositionBrand=void 0,this.lineNumber=v,this.column=r,this.leftoverVisibleColumns=a}}e.CursorPosition=p;class C{static leftPosition(v,r){if(r.column>v.getLineMinColumn(r.lineNumber))return r.delta(void 0,-L.prevCharLength(v.getLineContent(r.lineNumber),r.column-1));if(r.lineNumber>1){const a=r.lineNumber-1;return new k.Position(a,v.getLineMaxColumn(a))}else return r}static leftPositionAtomicSoftTabs(v,r,a){if(r.column<=v.getLineIndentColumn(r.lineNumber)){const l=v.getLineMinColumn(r.lineNumber),c=v.getLineContent(r.lineNumber),u=S.AtomicTabMoveOperations.atomicPosition(c,r.column-1,a,0);if(u!==-1&&u+1>=l)return new k.Position(r.lineNumber,u+1)}return this.leftPosition(v,r)}static left(v,r,a){const l=v.stickyTabStops?C.leftPositionAtomicSoftTabs(r,a,v.tabSize):C.leftPosition(r,a);return new p(l.lineNumber,l.column,0)}static moveLeft(v,r,a,l,c){let u,s;if(a.hasSelection()&&!l)u=a.selection.startLineNumber,s=a.selection.startColumn;else{const n=a.position.delta(void 0,-(c-1)),d=r.normalizePosition(C.clipPositionColumn(n,r),0),t=C.left(v,r,d);u=t.lineNumber,s=t.column}return a.move(l,u,s,0)}static clipPositionColumn(v,r){return new k.Position(v.lineNumber,C.clipRange(v.column,r.getLineMinColumn(v.lineNumber),r.getLineMaxColumn(v.lineNumber)))}static clipRange(v,r,a){return v<r?r:v>a?a:v}static rightPosition(v,r,a){return a<v.getLineMaxColumn(r)?a=a+L.nextCharLength(v.getLineContent(r),a-1):r<v.getLineCount()&&(r=r+1,a=v.getLineMinColumn(r)),new k.Position(r,a)}static rightPositionAtomicSoftTabs(v,r,a,l,c){if(a<v.getLineIndentColumn(r)){const u=v.getLineContent(r),s=S.AtomicTabMoveOperations.atomicPosition(u,a-1,l,1);if(s!==-1)return new k.Position(r,s+1)}return this.rightPosition(v,r,a)}static right(v,r,a){const l=v.stickyTabStops?C.rightPositionAtomicSoftTabs(r,a.lineNumber,a.column,v.tabSize,v.indentSize):C.rightPosition(r,a.lineNumber,a.column);return new p(l.lineNumber,l.column,0)}static moveRight(v,r,a,l,c){let u,s;if(a.hasSelection()&&!l)u=a.selection.endLineNumber,s=a.selection.endColumn;else{const n=a.position.delta(void 0,c-1),d=r.normalizePosition(C.clipPositionColumn(n,r),1),t=C.right(v,r,d);u=t.lineNumber,s=t.column}return a.move(l,u,s,0)}static down(v,r,a,l,c,u,s){const n=b.CursorColumns.visibleColumnFromColumn(r.getLineContent(a),l,v.tabSize)+c,d=r.getLineCount(),t=a===d&&l===r.getLineMaxColumn(a);return a=a+u,a>d?(a=d,s?l=r.getLineMaxColumn(a):l=Math.min(r.getLineMaxColumn(a),l)):l=b.CursorColumns.columnFromVisibleColumn2(v,r,a,n),t?c=0:c=n-b.CursorColumns.visibleColumnFromColumn(r.getLineContent(a),l,v.tabSize),new p(a,l,c)}static moveDown(v,r,a,l,c){let u,s;a.hasSelection()&&!l?(u=a.selection.endLineNumber,s=a.selection.endColumn):(u=a.position.lineNumber,s=a.position.column);let n=C.down(v,r,u,s,a.leftoverVisibleColumns,c,!0);return a.move(l,n.lineNumber,n.column,n.leftoverVisibleColumns)}static translateDown(v,r,a){let l=a.selection,c=C.down(v,r,l.selectionStartLineNumber,l.selectionStartColumn,a.selectionStartLeftoverVisibleColumns,1,!1),u=C.down(v,r,l.positionLineNumber,l.positionColumn,a.leftoverVisibleColumns,1,!1);return new b.SingleCursorState(new T.Range(c.lineNumber,c.column,c.lineNumber,c.column),c.leftoverVisibleColumns,new k.Position(u.lineNumber,u.column),u.leftoverVisibleColumns)}static up(v,r,a,l,c,u,s){const n=b.CursorColumns.visibleColumnFromColumn(r.getLineContent(a),l,v.tabSize)+c,d=a===1&&l===1;return a=a-u,a<1?(a=1,s?l=r.getLineMinColumn(a):l=Math.min(r.getLineMaxColumn(a),l)):l=b.CursorColumns.columnFromVisibleColumn2(v,r,a,n),d?c=0:c=n-b.CursorColumns.visibleColumnFromColumn(r.getLineContent(a),l,v.tabSize),new p(a,l,c)}static moveUp(v,r,a,l,c){let u,s;a.hasSelection()&&!l?(u=a.selection.startLineNumber,s=a.selection.startColumn):(u=a.position.lineNumber,s=a.position.column);let n=C.up(v,r,u,s,a.leftoverVisibleColumns,c,!0);return a.move(l,n.lineNumber,n.column,n.leftoverVisibleColumns)}static translateUp(v,r,a){let l=a.selection,c=C.up(v,r,l.selectionStartLineNumber,l.selectionStartColumn,a.selectionStartLeftoverVisibleColumns,1,!1),u=C.up(v,r,l.positionLineNumber,l.positionColumn,a.leftoverVisibleColumns,1,!1);return new b.SingleCursorState(new T.Range(c.lineNumber,c.column,c.lineNumber,c.column),c.leftoverVisibleColumns,new k.Position(u.lineNumber,u.column),u.leftoverVisibleColumns)}static _isBlankLine(v,r){return v.getLineFirstNonWhitespaceColumn(r)===0}static moveToPrevBlankLine(v,r,a,l){let c=a.position.lineNumber;for(;c>1&&this._isBlankLine(r,c);)c--;for(;c>1&&!this._isBlankLine(r,c);)c--;return a.move(l,c,r.getLineMinColumn(c),0)}static moveToNextBlankLine(v,r,a,l){const c=r.getLineCount();let u=a.position.lineNumber;for(;u<c&&this._isBlankLine(r,u);)u++;for(;u<c&&!this._isBlankLine(r,u);)u++;return a.move(l,u,r.getLineMinColumn(u),0)}static moveToBeginningOfLine(v,r,a,l){let c=a.position.lineNumber,u=r.getLineMinColumn(c),s=r.getLineFirstNonWhitespaceColumn(c)||u,n;return a.position.column===s?n=u:n=s,a.move(l,c,n,0)}static moveToEndOfLine(v,r,a,l,c){let u=a.position.lineNumber,s=r.getLineMaxColumn(u);return a.move(l,u,s,c?1073741824-s:0)}static moveToBeginningOfBuffer(v,r,a,l){return a.move(l,1,1,0)}static moveToEndOfBuffer(v,r,a,l){let c=r.getLineCount(),u=r.getLineMaxColumn(c);return a.move(l,c,u,0)}}e.MoveOperations=C}),define(ee[186],te([0,1,8,95,40,185,3,13]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class C{static deleteRight(v,r,a,l){let c=[],u=v!==3;for(let s=0,n=l.length;s<n;s++){const d=l[s];let t=d;if(t.isEmpty()){let o=d.getPosition(),h=L.MoveOperations.right(r,a,o);t=new S.Range(h.lineNumber,h.column,o.lineNumber,o.column)}if(t.isEmpty()){c[s]=null;continue}t.startLineNumber!==t.endLineNumber&&(u=!0),c[s]=new k.ReplaceCommand(t,"")}return[u,c]}static isAutoClosingPairDelete(v,r,a,l,c,u,s){if(r==="never"&&a==="never"||v==="never")return!1;for(let n=0,d=u.length;n<d;n++){const t=u[n],o=t.getPosition();if(!t.isEmpty())return!1;const h=c.getLineContent(o.lineNumber);if(o.column<2||o.column>=h.length+1)return!1;const m=h.charAt(o.column-2),y=l.get(m);if(!y)return!1;if((0,T.isQuote)(m)){if(a==="never")return!1}else if(r==="never")return!1;const w=h.charAt(o.column-1);let g=!1;for(const f of y)f.open===m&&f.close===w&&(g=!0);if(!g)return!1;if(v==="auto"){let f=!1;for(let _=0,D=s.length;_<D;_++){const N=s[_];if(o.lineNumber===N.startLineNumber&&o.column===N.startColumn){f=!0;break}}if(!f)return!1}}return!0}static _runAutoClosingPairDelete(v,r,a){let l=[];for(let c=0,u=a.length;c<u;c++){const s=a[c].getPosition(),n=new S.Range(s.lineNumber,s.column-1,s.lineNumber,s.column+1);l[c]=new k.ReplaceCommand(n,"")}return[!0,l]}static deleteLeft(v,r,a,l,c){if(this.isAutoClosingPairDelete(r.autoClosingDelete,r.autoClosingBrackets,r.autoClosingQuotes,r.autoClosingPairs.autoClosingPairsOpenByEnd,a,l,c))return this._runAutoClosingPairDelete(r,a,l);const u=[];let s=v!==2;for(let n=0,d=l.length;n<d;n++){let t=C.getDeleteRange(l[n],a,r);if(t.isEmpty()){u[n]=null;continue}t.startLineNumber!==t.endLineNumber&&(s=!0),u[n]=new k.ReplaceCommand(t,"")}return[s,u]}static getDeleteRange(v,r,a){if(!v.isEmpty())return v;const l=v.getPosition();if(a.useTabStops&&l.column>1){const c=r.getLineContent(l.lineNumber),u=b.firstNonWhitespaceIndex(c),s=u===-1?c.length+1:u+1;if(l.column<=s){const n=T.CursorColumns.visibleColumnFromColumn2(a,r,l),d=T.CursorColumns.prevIndentTabStop(n,a.indentSize),t=T.CursorColumns.columnFromVisibleColumn2(a,r,l.lineNumber,d);return new S.Range(l.lineNumber,t,l.lineNumber,l.column)}}return S.Range.fromPositions(C.getPositionAfterDeleteLeft(l,r),l)}static getPositionAfterDeleteLeft(v,r){if(v.column>1){const a=b.getLeftDeleteOffset(v.column-1,r.getLineContent(v.lineNumber));return v.with(void 0,a+1)}else if(v.lineNumber>1){const a=v.lineNumber-1;return new p.Position(a,r.getLineMaxColumn(a))}else return v}static cut(v,r,a){let l=[];for(let c=0,u=a.length;c<u;c++){const s=a[c];if(s.isEmpty())if(v.emptySelectionClipboard){let n=s.getPosition(),d,t,o,h;n.lineNumber<r.getLineCount()?(d=n.lineNumber,t=1,o=n.lineNumber+1,h=1):n.lineNumber>1?(d=n.lineNumber-1,t=r.getLineMaxColumn(n.lineNumber-1),o=n.lineNumber,h=r.getLineMaxColumn(n.lineNumber)):(d=n.lineNumber,t=1,o=n.lineNumber,h=r.getLineMaxColumn(n.lineNumber));let m=new S.Range(d,t,o,h);m.isEmpty()?l[c]=null:l[c]=new k.ReplaceCommand(m,"")}else l[c]=null;else l[c]=new k.ReplaceCommand(s,"")}return new T.EditOperationResult(0,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=C}),define(ee[187],te([0,1,12,8,95,184,376,40,109,3,21,112,45]),function(G,e,b,k,T,L,S,p,C,i,v,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class l{static indent(o,h,m){if(h===null||m===null)return[];let y=[];for(let w=0,g=m.length;w<g;w++)y[w]=new L.ShiftCommand(m[w],{isUnshift:!1,tabSize:o.tabSize,indentSize:o.indentSize,insertSpaces:o.insertSpaces,useTabStops:o.useTabStops,autoIndent:o.autoIndent});return y}static outdent(o,h,m){let y=[];for(let w=0,g=m.length;w<g;w++)y[w]=new L.ShiftCommand(m[w],{isUnshift:!0,tabSize:o.tabSize,indentSize:o.indentSize,insertSpaces:o.insertSpaces,useTabStops:o.useTabStops,autoIndent:o.autoIndent});return y}static shiftIndent(o,h,m){return m=m||1,L.ShiftCommand.shiftIndent(h,h.length+m,o.tabSize,o.indentSize,o.insertSpaces)}static unshiftIndent(o,h,m){return m=m||1,L.ShiftCommand.unshiftIndent(h,h.length+m,o.tabSize,o.indentSize,o.insertSpaces)}static _distributedPaste(o,h,m,y){let w=[];for(let g=0,f=m.length;g<f;g++)w[g]=new T.ReplaceCommand(m[g],y[g]);return new p.EditOperationResult(0,w,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(o,h,m,y,w){let g=[];for(let f=0,_=m.length;f<_;f++){const D=m[f];let N=D.getPosition();if(w&&!D.isEmpty()&&(w=!1),w&&y.indexOf(`
`)!==y.length-1&&(w=!1),w){let I=new i.Range(N.lineNumber,1,N.lineNumber,1);g[f]=new T.ReplaceCommandThatPreservesSelection(I,y,D,!0)}else g[f]=new T.ReplaceCommand(D,y)}return new p.EditOperationResult(0,g,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(o,h,m,y,w){if(y||h.length===1)return null;if(w&&w.length===h.length)return w;if(o.multiCursorPaste==="spread"){m.charCodeAt(m.length-1)===10&&(m=m.substr(0,m.length-1)),m.charCodeAt(m.length-1)===13&&(m=m.substr(0,m.length-1));let g=k.splitLines(m);if(g.length===h.length)return g}return null}static paste(o,h,m,y,w,g){const f=this._distributePasteToCursors(o,m,y,w,g);return f?(m=m.sort(i.Range.compareRangesUsingStarts),this._distributedPaste(o,h,m,f)):this._simplePaste(o,h,m,y,w)}static _goodIndentForLine(o,h,m){let y=null,w="";const g=a.LanguageConfigurationRegistry.getInheritIndentForLine(o.autoIndent,h,m,!1);if(g)y=g.action,w=g.indentation;else if(m>1){let f;for(f=m-1;f>=1;f--){const N=h.getLineContent(f);if(k.lastNonWhitespaceIndex(N)>=0)break}if(f<1)return null;const _=h.getLineMaxColumn(f),D=a.LanguageConfigurationRegistry.getEnterAction(o.autoIndent,h,new i.Range(f,_,f,_));D&&(w=D.indentation+D.appendText)}return y&&(y===r.IndentAction.Indent&&(w=l.shiftIndent(o,w)),y===r.IndentAction.Outdent&&(w=l.unshiftIndent(o,w)),w=o.normalizeIndentation(w)),w||null}static _replaceJumpToNextIndent(o,h,m,y){let w="",g=m.getStartPosition();if(o.insertSpaces){let f=p.CursorColumns.visibleColumnFromColumn2(o,h,g),_=o.indentSize,D=_-f%_;for(let N=0;N<D;N++)w+=" "}else w="	";return new T.ReplaceCommand(m,w,y)}static tab(o,h,m){let y=[];for(let w=0,g=m.length;w<g;w++){const f=m[w];if(f.isEmpty()){let _=h.getLineContent(f.startLineNumber);if(/^\s*$/.test(_)&&h.isCheapToTokenize(f.startLineNumber)){let D=this._goodIndentForLine(o,h,f.startLineNumber);D=D||"	";let N=o.normalizeIndentation(D);if(!_.startsWith(N)){y[w]=new T.ReplaceCommand(new i.Range(f.startLineNumber,1,f.startLineNumber,_.length+1),N,!0);continue}}y[w]=this._replaceJumpToNextIndent(o,h,f,!0)}else{if(f.startLineNumber===f.endLineNumber){let _=h.getLineMaxColumn(f.startLineNumber);if(f.startColumn!==1||f.endColumn!==_){y[w]=this._replaceJumpToNextIndent(o,h,f,!1);continue}}y[w]=new L.ShiftCommand(f,{isUnshift:!1,tabSize:o.tabSize,indentSize:o.indentSize,insertSpaces:o.insertSpaces,useTabStops:o.useTabStops,autoIndent:o.autoIndent})}}return y}static compositionType(o,h,m,y,w,g,f,_){const D=y.map(N=>this._compositionType(m,N,w,g,f,_));return new p.EditOperationResult(4,D,{shouldPushStackElementBefore:s(o,4),shouldPushStackElementAfter:!1})}static _compositionType(o,h,m,y,w,g){if(!h.isEmpty())return null;const f=h.getPosition(),_=Math.max(1,f.column-y),D=Math.min(o.getLineMaxColumn(f.lineNumber),f.column+w),N=new i.Range(f.lineNumber,_,f.lineNumber,D);return o.getValueInRange(N)===m&&g===0?null:new T.ReplaceCommandWithOffsetCursorState(N,m,0,g)}static _typeCommand(o,h,m){return m?new T.ReplaceCommandWithoutChangingPosition(o,h,!0):new T.ReplaceCommand(o,h,!0)}static _enter(o,h,m,y){if(o.autoIndent===0)return l._typeCommand(y,`
`,m);if(!h.isCheapToTokenize(y.getStartPosition().lineNumber)||o.autoIndent===1){let _=h.getLineContent(y.startLineNumber),D=k.getLeadingWhitespace(_).substring(0,y.startColumn-1);return l._typeCommand(y,`
`+o.normalizeIndentation(D),m)}const w=a.LanguageConfigurationRegistry.getEnterAction(o.autoIndent,h,y);if(w){if(w.indentAction===r.IndentAction.None)return l._typeCommand(y,`
`+o.normalizeIndentation(w.indentation+w.appendText),m);if(w.indentAction===r.IndentAction.Indent)return l._typeCommand(y,`
`+o.normalizeIndentation(w.indentation+w.appendText),m);if(w.indentAction===r.IndentAction.IndentOutdent){const _=o.normalizeIndentation(w.indentation),D=o.normalizeIndentation(w.indentation+w.appendText),N=`
`+D+`
`+_;return m?new T.ReplaceCommandWithoutChangingPosition(y,N,!0):new T.ReplaceCommandWithOffsetCursorState(y,N,-1,D.length-_.length,!0)}else if(w.indentAction===r.IndentAction.Outdent){const _=l.unshiftIndent(o,w.indentation);return l._typeCommand(y,`
`+o.normalizeIndentation(_+w.appendText),m)}}const g=h.getLineContent(y.startLineNumber),f=k.getLeadingWhitespace(g).substring(0,y.startColumn-1);if(o.autoIndent>=4){const _=a.LanguageConfigurationRegistry.getIndentForEnter(o.autoIndent,h,y,{unshiftIndent:D=>l.unshiftIndent(o,D),shiftIndent:D=>l.shiftIndent(o,D),normalizeIndentation:D=>o.normalizeIndentation(D)});if(_){let D=p.CursorColumns.visibleColumnFromColumn2(o,h,y.getEndPosition());const N=y.endColumn,I=h.getLineContent(y.endLineNumber),M=k.firstNonWhitespaceIndex(I);if(M>=0?y=y.setEndPosition(y.endLineNumber,Math.max(y.endColumn,M+1)):y=y.setEndPosition(y.endLineNumber,h.getLineMaxColumn(y.endLineNumber)),m)return new T.ReplaceCommandWithoutChangingPosition(y,`
`+o.normalizeIndentation(_.afterEnter),!0);{let O=0;return N<=M+1&&(o.insertSpaces||(D=Math.ceil(D/o.indentSize)),O=Math.min(D+1-o.normalizeIndentation(_.afterEnter).length-1,0)),new T.ReplaceCommandWithOffsetCursorState(y,`
`+o.normalizeIndentation(_.afterEnter),0,O,!0)}}}return l._typeCommand(y,`
`+o.normalizeIndentation(f),m)}static _isAutoIndentType(o,h,m){if(o.autoIndent<4)return!1;for(let y=0,w=m.length;y<w;y++)if(!h.isCheapToTokenize(m[y].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(o,h,m,y){const w=a.LanguageConfigurationRegistry.getIndentationAtPosition(h,m.startLineNumber,m.startColumn),g=a.LanguageConfigurationRegistry.getIndentActionForType(o.autoIndent,h,m,y,{shiftIndent:f=>l.shiftIndent(o,f),unshiftIndent:f=>l.unshiftIndent(o,f)});if(g===null)return null;if(g!==o.normalizeIndentation(w)){const f=h.getLineFirstNonWhitespaceColumn(m.startLineNumber);return f===0?l._typeCommand(new i.Range(m.startLineNumber,1,m.endLineNumber,m.endColumn),o.normalizeIndentation(g)+y,!1):l._typeCommand(new i.Range(m.startLineNumber,1,m.endLineNumber,m.endColumn),o.normalizeIndentation(g)+h.getLineContent(m.startLineNumber).substring(f-1,m.startColumn-1)+y,!1)}return null}static _isAutoClosingOvertype(o,h,m,y,w){if(o.autoClosingOvertype==="never"||!o.autoClosingPairs.autoClosingPairsCloseSingleChar.has(w))return!1;for(let g=0,f=m.length;g<f;g++){const _=m[g];if(!_.isEmpty())return!1;const D=_.getPosition(),N=h.getLineContent(D.lineNumber);if(N.charAt(D.column-1)!==w)return!1;const M=(0,p.isQuote)(w);if((D.column>2?N.charCodeAt(D.column-2):0)===92&&M)return!1;if(o.autoClosingOvertype==="auto"){let R=!1;for(let P=0,A=y.length;P<A;P++){const F=y[P];if(D.lineNumber===F.startLineNumber&&D.column===F.startColumn){R=!0;break}}if(!R)return!1}}return!0}static _runAutoClosingOvertype(o,h,m,y,w){let g=[];for(let f=0,_=y.length;f<_;f++){const N=y[f].getPosition(),I=new i.Range(N.lineNumber,N.column,N.lineNumber,N.column+1);g[f]=new T.ReplaceCommand(I,w)}return new p.EditOperationResult(4,g,{shouldPushStackElementBefore:s(o,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(o,h){const m=h.charAt(0),y=o.autoClosingPairs.autoClosingPairsOpenByStart.get(m)||[],w=o.autoClosingPairs.autoClosingPairsCloseByStart.get(m)||[],g=y.some(_=>h.startsWith(_.open)),f=w.some(_=>h.startsWith(_.close));return!g&&f}static _findAutoClosingPairOpen(o,h,m,y){const w=o.autoClosingPairs.autoClosingPairsOpenByEnd.get(y);if(!w)return null;let g=null;for(const f of w)if(g===null||f.open.length>g.open.length){let _=!0;for(const D of m)if(h.getValueInRange(new i.Range(D.lineNumber,D.column-f.open.length+1,D.lineNumber,D.column))+y!==f.open){_=!1;break}_&&(g=f)}return g}static _findSubAutoClosingPairClose(o,h){if(h.open.length<=1)return"";const m=h.close.charAt(h.close.length-1),y=o.autoClosingPairs.autoClosingPairsCloseByEnd.get(m)||[];let w=null;for(const g of y)g.open!==h.open&&h.open.includes(g.open)&&h.close.endsWith(g.close)&&(!w||g.open.length>w.open.length)&&(w=g);return w?w.close:""}static _getAutoClosingPairClose(o,h,m,y,w){const g=(0,p.isQuote)(y),f=g?o.autoClosingQuotes:o.autoClosingBrackets;if(f==="never")return null;const _=this._findAutoClosingPairOpen(o,h,m.map(M=>M.getPosition()),y);if(!_)return null;const D=this._findSubAutoClosingPairClose(o,_);let N=!0;const I=g?o.shouldAutoCloseBefore.quote:o.shouldAutoCloseBefore.bracket;for(let M=0,O=m.length;M<O;M++){const R=m[M];if(!R.isEmpty())return null;const P=R.getPosition(),A=h.getLineContent(P.lineNumber),F=A.substring(P.column-1);if(F.startsWith(D)||(N=!1),A.length>P.column-1){const V=A.charAt(P.column-1);if(!l._isBeforeClosingBrace(o,F)&&!I(V))return null}if(!h.isCheapToTokenize(P.lineNumber))return null;if(_.open.length===1&&g&&f!=="always"){const V=(0,C.getMapForWordSeparators)(o.wordSeparators);if(w&&P.column>1&&V.get(A.charCodeAt(P.column-2))===0||!w&&P.column>2&&V.get(A.charCodeAt(P.column-3))===0)return null}h.forceTokenization(P.lineNumber);const E=h.getLineTokens(P.lineNumber);let W=!1;try{W=a.LanguageConfigurationRegistry.shouldAutoClosePair(_,E,w?P.column:P.column-1)}catch(V){(0,b.onUnexpectedError)(V)}if(!W)return null}return N?_.close.substring(0,_.close.length-D.length):_.close}static _runAutoClosingOpenCharType(o,h,m,y,w,g,f){let _=[];for(let D=0,N=y.length;D<N;D++){const I=y[D];_[D]=new c(I,w,g,f)}return new p.EditOperationResult(4,_,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(o,h){return(0,p.isQuote)(h)?o.autoSurround==="quotes"||o.autoSurround==="languageDefined":o.autoSurround==="brackets"||o.autoSurround==="languageDefined"}static _isSurroundSelectionType(o,h,m,y){if(!l._shouldSurroundChar(o,y)||!o.surroundingPairs.hasOwnProperty(y))return!1;const w=(0,p.isQuote)(y);for(let g=0,f=m.length;g<f;g++){const _=m[g];if(_.isEmpty())return!1;let D=!0;for(let N=_.startLineNumber;N<=_.endLineNumber;N++){const I=h.getLineContent(N),M=N===_.startLineNumber?_.startColumn-1:0,O=N===_.endLineNumber?_.endColumn-1:I.length,R=I.substring(M,O);if(/[^ \t]/.test(R)){D=!1;break}}if(D)return!1;if(w&&_.startLineNumber===_.endLineNumber&&_.startColumn+1===_.endColumn){const N=h.getValueInRange(_);if((0,p.isQuote)(N))return!1}}return!0}static _runSurroundSelectionType(o,h,m,y,w){let g=[];for(let f=0,_=y.length;f<_;f++){const D=y[f],N=h.surroundingPairs[w];g[f]=new S.SurroundSelectionCommand(D,w,N)}return new p.EditOperationResult(0,g,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(o,h,m){return!!(m.length===1&&h.isCheapToTokenize(m[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(o,h,m,y,w){if(!h.electricChars.hasOwnProperty(w)||!y.isEmpty())return null;let g=y.getPosition();m.forceTokenization(g.lineNumber);let f=m.getLineTokens(g.lineNumber),_;try{_=a.LanguageConfigurationRegistry.onElectricCharacter(w,f,g.column)}catch(D){return(0,b.onUnexpectedError)(D),null}if(!_)return null;if(_.matchOpenBracket){let D=(f.getLineContent()+w).lastIndexOf(_.matchOpenBracket)+1,N=m.findMatchingBracketUp(_.matchOpenBracket,{lineNumber:g.lineNumber,column:D});if(N){if(N.startLineNumber===g.lineNumber)return null;let I=m.getLineContent(N.startLineNumber),M=k.getLeadingWhitespace(I),O=h.normalizeIndentation(M),R=m.getLineContent(g.lineNumber),P=m.getLineFirstNonWhitespaceColumn(g.lineNumber)||g.column,A=R.substring(P-1,g.column-1),F=O+A+w,E=new i.Range(g.lineNumber,1,g.lineNumber,g.column);const W=new T.ReplaceCommand(E,F);return new p.EditOperationResult(u(F,o),[W],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(o,h,m,y,w,g){if(!y||v.Selection.selectionsArrEqual(y,w))return null;let f=null;for(const D of w){if(!D.isEmpty())return null;const N=D.getPosition(),I=m.getValueInRange(new i.Range(N.lineNumber,N.column-1,N.lineNumber,N.column));if(f===null)f=I;else if(f!==I)return null}if(!f)return null;if(this._isAutoClosingOvertype(h,m,w,g,f)){const D=w.map(N=>new T.ReplaceCommand(new i.Range(N.positionLineNumber,N.positionColumn,N.positionLineNumber,N.positionColumn+1),"",!1));return new p.EditOperationResult(4,D,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const _=this._getAutoClosingPairClose(h,m,w,f,!1);return _!==null?this._runAutoClosingOpenCharType(o,h,m,w,f,!1,_):null}static typeWithInterceptors(o,h,m,y,w,g,f){if(!o&&f===`
`){let N=[];for(let I=0,M=w.length;I<M;I++)N[I]=l._enter(m,y,!1,w[I]);return new p.EditOperationResult(4,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!o&&this._isAutoIndentType(m,y,w)){let N=[],I=!1;for(let M=0,O=w.length;M<O;M++)if(N[M]=this._runAutoIndentType(m,y,w[M],f),!N[M]){I=!0;break}if(!I)return new p.EditOperationResult(4,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!o&&this._isAutoClosingOvertype(m,y,w,g,f))return this._runAutoClosingOvertype(h,m,y,w,f);if(!o){const N=this._getAutoClosingPairClose(m,y,w,f,!0);if(N)return this._runAutoClosingOpenCharType(h,m,y,w,f,!0,N)}if(this._isSurroundSelectionType(m,y,w,f))return this._runSurroundSelectionType(h,m,y,w,f);if(!o&&this._isTypeInterceptorElectricChar(m,y,w)){const N=this._typeInterceptorElectricChar(h,m,y,w[0],f);if(N)return N}let _=[];for(let N=0,I=w.length;N<I;N++)_[N]=new T.ReplaceCommand(w[N],f);const D=u(f,h);return new p.EditOperationResult(D,_,{shouldPushStackElementBefore:s(h,D),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(o,h,m,y,w){let g=[];for(let _=0,D=y.length;_<D;_++)g[_]=new T.ReplaceCommand(y[_],w);const f=u(w,o);return new p.EditOperationResult(f,g,{shouldPushStackElementBefore:s(o,f),shouldPushStackElementAfter:!1})}static lineInsertBefore(o,h,m){if(h===null||m===null)return[];let y=[];for(let w=0,g=m.length;w<g;w++){let f=m[w].positionLineNumber;if(f===1)y[w]=new T.ReplaceCommandWithoutChangingPosition(new i.Range(1,1,1,1),`
`);else{f--;let _=h.getLineMaxColumn(f);y[w]=this._enter(o,h,!1,new i.Range(f,_,f,_))}}return y}static lineInsertAfter(o,h,m){if(h===null||m===null)return[];let y=[];for(let w=0,g=m.length;w<g;w++){const f=m[w].positionLineNumber;let _=h.getLineMaxColumn(f);y[w]=this._enter(o,h,!1,new i.Range(f,_,f,_))}return y}static lineBreakInsert(o,h,m){let y=[];for(let w=0,g=m.length;w<g;w++)y[w]=this._enter(o,h,!0,m[w]);return y}}e.TypeOperations=l;class c extends T.ReplaceCommandWithOffsetCursorState{constructor(o,h,m,y){super(o,(m?h:"")+y,0,-y.length);this._openCharacter=h,this._closeCharacter=y,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(o,h){let y=h.getInverseEditOperations()[0].range;return this.closeCharacterRange=new i.Range(y.startLineNumber,y.endColumn-this._closeCharacter.length,y.endLineNumber,y.endColumn),this.enclosingRange=new i.Range(y.startLineNumber,y.endColumn-this._openCharacter.length-this._closeCharacter.length,y.endLineNumber,y.endColumn),super.computeCursorState(o,h)}}e.TypeWithAutoClosingCommand=c;function u(t,o){return t===" "?o===5||o===6?6:5:4}function s(t,o){return d(t)&&!d(o)?!0:t===5?!1:n(t)!==n(o)}function n(t){return t===6||t===5?"space":t}function d(t){return t===4||t===5||t===6}}),define(ee[141],te([0,1,8,40,186,109,13,3]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class C{static _createWord(a,l,c,u,s){return{start:u,end:s,wordType:l,nextCharClass:c}}static _findPreviousWordOnLine(a,l,c){let u=l.getLineContent(c.lineNumber);return this._doFindPreviousWordOnLine(u,a,c)}static _doFindPreviousWordOnLine(a,l,c){let u=0;for(let s=c.column-2;s>=0;s--){let n=a.charCodeAt(s),d=l.get(n);if(d===0){if(u===2)return this._createWord(a,u,d,s+1,this._findEndOfWord(a,l,u,s+1));u=1}else if(d===2){if(u===1)return this._createWord(a,u,d,s+1,this._findEndOfWord(a,l,u,s+1));u=2}else if(d===1&&u!==0)return this._createWord(a,u,d,s+1,this._findEndOfWord(a,l,u,s+1))}return u!==0?this._createWord(a,u,1,0,this._findEndOfWord(a,l,u,0)):null}static _findEndOfWord(a,l,c,u){let s=a.length;for(let n=u;n<s;n++){let d=a.charCodeAt(n),t=l.get(d);if(t===1||c===1&&t===2||c===2&&t===0)return n}return s}static _findNextWordOnLine(a,l,c){let u=l.getLineContent(c.lineNumber);return this._doFindNextWordOnLine(u,a,c)}static _doFindNextWordOnLine(a,l,c){let u=0,s=a.length;for(let n=c.column-1;n<s;n++){let d=a.charCodeAt(n),t=l.get(d);if(t===0){if(u===2)return this._createWord(a,u,t,this._findStartOfWord(a,l,u,n-1),n);u=1}else if(t===2){if(u===1)return this._createWord(a,u,t,this._findStartOfWord(a,l,u,n-1),n);u=2}else if(t===1&&u!==0)return this._createWord(a,u,t,this._findStartOfWord(a,l,u,n-1),n)}return u!==0?this._createWord(a,u,1,this._findStartOfWord(a,l,u,s-1),s):null}static _findStartOfWord(a,l,c,u){for(let s=u;s>=0;s--){let n=a.charCodeAt(s),d=l.get(n);if(d===1||c===1&&d===2||c===2&&d===0)return s+1}return 0}static moveWordLeft(a,l,c,u){let s=c.lineNumber,n=c.column;n===1&&s>1&&(s=s-1,n=l.getLineMaxColumn(s));let d=C._findPreviousWordOnLine(a,l,new S.Position(s,n));if(u===0)return new S.Position(s,d?d.start+1:1);if(u===1)return d&&d.wordType===2&&d.end-d.start==1&&d.nextCharClass===0&&(d=C._findPreviousWordOnLine(a,l,new S.Position(s,d.start+1))),new S.Position(s,d?d.start+1:1);if(u===3){for(;d&&d.wordType===2;)d=C._findPreviousWordOnLine(a,l,new S.Position(s,d.start+1));return new S.Position(s,d?d.start+1:1)}return d&&n<=d.end+1&&(d=C._findPreviousWordOnLine(a,l,new S.Position(s,d.start+1))),new S.Position(s,d?d.end+1:1)}static _moveWordPartLeft(a,l){const c=l.lineNumber,u=a.getLineMaxColumn(c);if(l.column===1)return c>1?new S.Position(c-1,a.getLineMaxColumn(c-1)):l;const s=a.getLineContent(c);for(let n=l.column-1;n>1;n--){const d=s.charCodeAt(n-2),t=s.charCodeAt(n-1);if(d===95&&t!==95)return new S.Position(c,n);if(b.isLowerAsciiLetter(d)&&b.isUpperAsciiLetter(t))return new S.Position(c,n);if(b.isUpperAsciiLetter(d)&&b.isUpperAsciiLetter(t)&&n+1<u){const o=s.charCodeAt(n);if(b.isLowerAsciiLetter(o))return new S.Position(c,n)}}return new S.Position(c,1)}static moveWordRight(a,l,c,u){let s=c.lineNumber,n=c.column,d=!1;n===l.getLineMaxColumn(s)&&s<l.getLineCount()&&(d=!0,s=s+1,n=1);let t=C._findNextWordOnLine(a,l,new S.Position(s,n));if(u===2)t&&t.wordType===2&&t.end-t.start==1&&t.nextCharClass===0&&(t=C._findNextWordOnLine(a,l,new S.Position(s,t.end+1))),t?n=t.end+1:n=l.getLineMaxColumn(s);else if(u===3){for(d&&(n=0);t&&(t.wordType===2||t.start+1<=n);)t=C._findNextWordOnLine(a,l,new S.Position(s,t.end+1));t?n=t.start+1:n=l.getLineMaxColumn(s)}else t&&!d&&n>=t.start+1&&(t=C._findNextWordOnLine(a,l,new S.Position(s,t.end+1))),t?n=t.start+1:n=l.getLineMaxColumn(s);return new S.Position(s,n)}static _moveWordPartRight(a,l){const c=l.lineNumber,u=a.getLineMaxColumn(c);if(l.column===u)return c<a.getLineCount()?new S.Position(c+1,1):l;const s=a.getLineContent(c);for(let n=l.column+1;n<u;n++){const d=s.charCodeAt(n-2),t=s.charCodeAt(n-1);if(d!==95&&t===95)return new S.Position(c,n);if(b.isLowerAsciiLetter(d)&&b.isUpperAsciiLetter(t))return new S.Position(c,n);if(b.isUpperAsciiLetter(d)&&b.isUpperAsciiLetter(t)&&n+1<u){const o=s.charCodeAt(n);if(b.isLowerAsciiLetter(o))return new S.Position(c,n)}}return new S.Position(c,u)}static _deleteWordLeftWhitespace(a,l){const c=a.getLineContent(l.lineNumber),u=l.column-2,s=b.lastNonWhitespaceIndex(c,u);return s+1<u?new p.Range(l.lineNumber,s+2,l.lineNumber,l.column):null}static deleteWordLeft(a,l){const c=a.wordSeparators,u=a.model,s=a.selection,n=a.whitespaceHeuristics;if(!s.isEmpty())return s;if(T.DeleteOperations.isAutoClosingPairDelete(a.autoClosingDelete,a.autoClosingBrackets,a.autoClosingQuotes,a.autoClosingPairs.autoClosingPairsOpenByEnd,a.model,[a.selection],a.autoClosedCharacters)){const m=a.selection.getPosition();return new p.Range(m.lineNumber,m.column-1,m.lineNumber,m.column+1)}const d=new S.Position(s.positionLineNumber,s.positionColumn);let t=d.lineNumber,o=d.column;if(t===1&&o===1)return null;if(n){let m=this._deleteWordLeftWhitespace(u,d);if(m)return m}let h=C._findPreviousWordOnLine(c,u,d);return l===0?h?o=h.start+1:o>1?o=1:(t--,o=u.getLineMaxColumn(t)):(h&&o<=h.end+1&&(h=C._findPreviousWordOnLine(c,u,new S.Position(t,h.start+1))),h?o=h.end+1:o>1?o=1:(t--,o=u.getLineMaxColumn(t))),new p.Range(t,o,d.lineNumber,d.column)}static deleteInsideWord(a,l,c){if(!c.isEmpty())return c;const u=new S.Position(c.positionLineNumber,c.positionColumn);let s=this._deleteInsideWordWhitespace(l,u);return s||this._deleteInsideWordDetermineDeleteRange(a,l,u)}static _charAtIsWhitespace(a,l){const c=a.charCodeAt(l);return c===32||c===9}static _deleteInsideWordWhitespace(a,l){const c=a.getLineContent(l.lineNumber),u=c.length;if(u===0)return null;let s=Math.max(l.column-2,0);if(!this._charAtIsWhitespace(c,s))return null;let n=Math.min(l.column-1,u-1);if(!this._charAtIsWhitespace(c,n))return null;for(;s>0&&this._charAtIsWhitespace(c,s-1);)s--;for(;n+1<u&&this._charAtIsWhitespace(c,n+1);)n++;return new p.Range(l.lineNumber,s+1,l.lineNumber,n+2)}static _deleteInsideWordDetermineDeleteRange(a,l,c){const u=l.getLineContent(c.lineNumber),s=u.length;if(s===0)return c.lineNumber>1?new p.Range(c.lineNumber-1,l.getLineMaxColumn(c.lineNumber-1),c.lineNumber,1):c.lineNumber<l.getLineCount()?new p.Range(c.lineNumber,1,c.lineNumber+1,1):new p.Range(c.lineNumber,1,c.lineNumber,1);const n=m=>m.start+1<=c.column&&c.column<=m.end+1,d=(m,y)=>(m=Math.min(m,c.column),y=Math.max(y,c.column),new p.Range(c.lineNumber,m,c.lineNumber,y)),t=m=>{let y=m.start+1,w=m.end+1,g=!1;for(;w-1<s&&this._charAtIsWhitespace(u,w-1);)g=!0,w++;if(!g)for(;y>1&&this._charAtIsWhitespace(u,y-2);)y--;return d(y,w)},o=C._findPreviousWordOnLine(a,l,c);if(o&&n(o))return t(o);const h=C._findNextWordOnLine(a,l,c);return h&&n(h)?t(h):o&&h?d(o.end+1,h.start+1):o?d(o.start+1,o.end+1):h?d(h.start+1,h.end+1):d(1,s+1)}static _deleteWordPartLeft(a,l){if(!l.isEmpty())return l;const c=l.getPosition(),u=C._moveWordPartLeft(a,c);return new p.Range(c.lineNumber,c.column,u.lineNumber,u.column)}static _findFirstNonWhitespaceChar(a,l){let c=a.length;for(let u=l;u<c;u++){let s=a.charAt(u);if(s!==" "&&s!=="	")return u}return c}static _deleteWordRightWhitespace(a,l){const c=a.getLineContent(l.lineNumber),u=l.column-1,s=this._findFirstNonWhitespaceChar(c,u);return u+1<s?new p.Range(l.lineNumber,l.column,l.lineNumber,s+1):null}static deleteWordRight(a,l){const c=a.wordSeparators,u=a.model,s=a.selection,n=a.whitespaceHeuristics;if(!s.isEmpty())return s;const d=new S.Position(s.positionLineNumber,s.positionColumn);let t=d.lineNumber,o=d.column;const h=u.getLineCount(),m=u.getLineMaxColumn(t);if(t===h&&o===m)return null;if(n){let w=this._deleteWordRightWhitespace(u,d);if(w)return w}let y=C._findNextWordOnLine(c,u,d);return l===2?y?o=y.end+1:o<m||t===h?o=m:(t++,y=C._findNextWordOnLine(c,u,new S.Position(t,1)),y?o=y.start+1:o=u.getLineMaxColumn(t)):(y&&o>=y.start+1&&(y=C._findNextWordOnLine(c,u,new S.Position(t,y.end+1))),y?o=y.start+1:o<m||t===h?o=m:(t++,y=C._findNextWordOnLine(c,u,new S.Position(t,1)),y?o=y.start+1:o=u.getLineMaxColumn(t))),new p.Range(t,o,d.lineNumber,d.column)}static _deleteWordPartRight(a,l){if(!l.isEmpty())return l;const c=l.getPosition(),u=C._moveWordPartRight(a,c);return new p.Range(c.lineNumber,c.column,u.lineNumber,u.column)}static _createWordAtPosition(a,l,c){const u=new p.Range(l,c.start+1,l,c.end+1);return{word:a.getValueInRange(u),startColumn:u.startColumn,endColumn:u.endColumn}}static getWordAtPosition(a,l,c){const u=(0,L.getMapForWordSeparators)(l),s=C._findPreviousWordOnLine(u,a,c);if(s&&s.wordType===1&&s.start<=c.column-1&&c.column-1<=s.end)return C._createWordAtPosition(a,c.lineNumber,s);const n=C._findNextWordOnLine(u,a,c);return n&&n.wordType===1&&n.start<=c.column-1&&c.column-1<=n.end?C._createWordAtPosition(a,c.lineNumber,n):null}static word(a,l,c,u,s){const n=(0,L.getMapForWordSeparators)(a.wordSeparators);let d=C._findPreviousWordOnLine(n,l,s),t=C._findNextWordOnLine(n,l,s);if(!u){let w,g;return d&&d.wordType===1&&d.start<=s.column-1&&s.column-1<=d.end?(w=d.start+1,g=d.end+1):t&&t.wordType===1&&t.start<=s.column-1&&s.column-1<=t.end?(w=t.start+1,g=t.end+1):(d?w=d.end+1:w=1,t?g=t.start+1:g=l.getLineMaxColumn(s.lineNumber)),new k.SingleCursorState(new p.Range(s.lineNumber,w,s.lineNumber,g),0,new S.Position(s.lineNumber,g),0)}let o,h;d&&d.wordType===1&&d.start<s.column-1&&s.column-1<d.end?(o=d.start+1,h=d.end+1):t&&t.wordType===1&&t.start<s.column-1&&s.column-1<t.end?(o=t.start+1,h=t.end+1):(o=s.column,h=s.column);let m=s.lineNumber,y;if(c.selectionStart.containsPosition(s))y=c.selectionStart.endColumn;else if(s.isBeforeOrEqual(c.selectionStart.getStartPosition())){y=o;let w=new S.Position(m,y);c.selectionStart.containsPosition(w)&&(y=c.selectionStart.endColumn)}else{y=h;let w=new S.Position(m,y);c.selectionStart.containsPosition(w)&&(y=c.selectionStart.startColumn)}return c.move(!0,m,y,0)}}e.WordOperations=C;class i extends C{static deleteWordPartLeft(a){const l=v([C.deleteWordLeft(a,0),C.deleteWordLeft(a,2),C._deleteWordPartLeft(a.model,a.selection)]);return l.sort(p.Range.compareRangesUsingEnds),l[2]}static deleteWordPartRight(a){const l=v([C.deleteWordRight(a,0),C.deleteWordRight(a,2),C._deleteWordPartRight(a.model,a.selection)]);return l.sort(p.Range.compareRangesUsingStarts),l[0]}static moveWordPartLeft(a,l,c){const u=v([C.moveWordLeft(a,l,c,0),C.moveWordLeft(a,l,c,2),C._moveWordPartLeft(l,c)]);return u.sort(S.Position.compare),u[2]}static moveWordPartRight(a,l,c){const u=v([C.moveWordRight(a,l,c,0),C.moveWordRight(a,l,c,2),C._moveWordPartRight(l,c)]);return u.sort(S.Position.compare),u[0]}}e.WordPartOperations=i;function v(r){return r.filter(a=>Boolean(a))}}),define(ee[244],te([0,1,20,40,185,141,13,3]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class C{static addCursorDown(r,a,l){let c=[],u=0;for(let s=0,n=a.length;s<n;s++){const d=a[s];c[u++]=new k.CursorState(d.modelState,d.viewState),l?c[u++]=k.CursorState.fromModelState(T.MoveOperations.translateDown(r.cursorConfig,r.model,d.modelState)):c[u++]=k.CursorState.fromViewState(T.MoveOperations.translateDown(r.cursorConfig,r,d.viewState))}return c}static addCursorUp(r,a,l){let c=[],u=0;for(let s=0,n=a.length;s<n;s++){const d=a[s];c[u++]=new k.CursorState(d.modelState,d.viewState),l?c[u++]=k.CursorState.fromModelState(T.MoveOperations.translateUp(r.cursorConfig,r.model,d.modelState)):c[u++]=k.CursorState.fromViewState(T.MoveOperations.translateUp(r.cursorConfig,r,d.viewState))}return c}static moveToBeginningOfLine(r,a,l){let c=[];for(let u=0,s=a.length;u<s;u++){const n=a[u];c[u]=this._moveToLineStart(r,n,l)}return c}static _moveToLineStart(r,a,l){const c=a.viewState.position.column,u=a.modelState.position.column,s=c===u,n=a.viewState.position.lineNumber,d=r.getLineFirstNonWhitespaceColumn(n);return!s&&!(c===d)?this._moveToLineStartByView(r,a,l):this._moveToLineStartByModel(r,a,l)}static _moveToLineStartByView(r,a,l){return k.CursorState.fromViewState(T.MoveOperations.moveToBeginningOfLine(r.cursorConfig,r,a.viewState,l))}static _moveToLineStartByModel(r,a,l){return k.CursorState.fromModelState(T.MoveOperations.moveToBeginningOfLine(r.cursorConfig,r.model,a.modelState,l))}static moveToEndOfLine(r,a,l,c){let u=[];for(let s=0,n=a.length;s<n;s++){const d=a[s];u[s]=this._moveToLineEnd(r,d,l,c)}return u}static _moveToLineEnd(r,a,l,c){const u=a.viewState.position,s=r.getLineMaxColumn(u.lineNumber),n=u.column===s,d=a.modelState.position,t=r.model.getLineMaxColumn(d.lineNumber),o=s-u.column==t-d.column;return n||o?this._moveToLineEndByModel(r,a,l,c):this._moveToLineEndByView(r,a,l,c)}static _moveToLineEndByView(r,a,l,c){return k.CursorState.fromViewState(T.MoveOperations.moveToEndOfLine(r.cursorConfig,r,a.viewState,l,c))}static _moveToLineEndByModel(r,a,l,c){return k.CursorState.fromModelState(T.MoveOperations.moveToEndOfLine(r.cursorConfig,r.model,a.modelState,l,c))}static expandLineSelection(r,a){let l=[];for(let c=0,u=a.length;c<u;c++){const s=a[c],n=s.modelState.selection.startLineNumber,d=r.model.getLineCount();let t=s.modelState.selection.endLineNumber,o;t===d?o=r.model.getLineMaxColumn(d):(t++,o=1),l[c]=k.CursorState.fromModelState(new k.SingleCursorState(new p.Range(n,1,n,1),0,new S.Position(t,o),0))}return l}static moveToBeginningOfBuffer(r,a,l){let c=[];for(let u=0,s=a.length;u<s;u++){const n=a[u];c[u]=k.CursorState.fromModelState(T.MoveOperations.moveToBeginningOfBuffer(r.cursorConfig,r.model,n.modelState,l))}return c}static moveToEndOfBuffer(r,a,l){let c=[];for(let u=0,s=a.length;u<s;u++){const n=a[u];c[u]=k.CursorState.fromModelState(T.MoveOperations.moveToEndOfBuffer(r.cursorConfig,r.model,n.modelState,l))}return c}static selectAll(r,a){const l=r.model.getLineCount(),c=r.model.getLineMaxColumn(l);return k.CursorState.fromModelState(new k.SingleCursorState(new p.Range(1,1,1,1),0,new S.Position(l,c),0))}static line(r,a,l,c,u){const s=r.model.validatePosition(c),n=u?r.coordinatesConverter.validateViewPosition(new S.Position(u.lineNumber,u.column),s):r.coordinatesConverter.convertModelPositionToViewPosition(s);if(!l||!a.modelState.hasSelection()){const t=r.model.getLineCount();let o=s.lineNumber+1,h=1;return o>t&&(o=t,h=r.model.getLineMaxColumn(o)),k.CursorState.fromModelState(new k.SingleCursorState(new p.Range(s.lineNumber,1,o,h),0,new S.Position(o,h),0))}const d=a.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<d)return k.CursorState.fromViewState(a.viewState.move(a.modelState.hasSelection(),n.lineNumber,1,0));if(s.lineNumber>d){const t=r.getLineCount();let o=n.lineNumber+1,h=1;return o>t&&(o=t,h=r.getLineMaxColumn(o)),k.CursorState.fromViewState(a.viewState.move(a.modelState.hasSelection(),o,h,0))}else{const t=a.modelState.selectionStart.getEndPosition();return k.CursorState.fromModelState(a.modelState.move(a.modelState.hasSelection(),t.lineNumber,t.column,0))}}static word(r,a,l,c){const u=r.model.validatePosition(c);return k.CursorState.fromModelState(L.WordOperations.word(r.cursorConfig,r.model,a.modelState,l,u))}static cancelSelection(r,a){if(!a.modelState.hasSelection())return new k.CursorState(a.modelState,a.viewState);const l=a.viewState.position.lineNumber,c=a.viewState.position.column;return k.CursorState.fromViewState(new k.SingleCursorState(new p.Range(l,c,l,c),0,new S.Position(l,c),0))}static moveTo(r,a,l,c,u){const s=r.model.validatePosition(c),n=u?r.coordinatesConverter.validateViewPosition(new S.Position(u.lineNumber,u.column),s):r.coordinatesConverter.convertModelPositionToViewPosition(s);return k.CursorState.fromViewState(a.viewState.move(l,n.lineNumber,n.column,0))}static simpleMove(r,a,l,c,u,s){switch(l){case 0:return s===4?this._moveHalfLineLeft(r,a,c):this._moveLeft(r,a,c,u);case 1:return s===4?this._moveHalfLineRight(r,a,c):this._moveRight(r,a,c,u);case 2:return s===2?this._moveUpByViewLines(r,a,c,u):this._moveUpByModelLines(r,a,c,u);case 3:return s===2?this._moveDownByViewLines(r,a,c,u):this._moveDownByModelLines(r,a,c,u);case 4:return s===2?a.map(n=>k.CursorState.fromViewState(T.MoveOperations.moveToPrevBlankLine(r.cursorConfig,r,n.viewState,c))):a.map(n=>k.CursorState.fromModelState(T.MoveOperations.moveToPrevBlankLine(r.cursorConfig,r.model,n.modelState,c)));case 5:return s===2?a.map(n=>k.CursorState.fromViewState(T.MoveOperations.moveToNextBlankLine(r.cursorConfig,r,n.viewState,c))):a.map(n=>k.CursorState.fromModelState(T.MoveOperations.moveToNextBlankLine(r.cursorConfig,r.model,n.modelState,c)));case 6:return this._moveToViewMinColumn(r,a,c);case 7:return this._moveToViewFirstNonWhitespaceColumn(r,a,c);case 8:return this._moveToViewCenterColumn(r,a,c);case 9:return this._moveToViewMaxColumn(r,a,c);case 10:return this._moveToViewLastNonWhitespaceColumn(r,a,c);default:return null}}static viewportMove(r,a,l,c,u){const s=r.getCompletelyVisibleViewRange(),n=r.coordinatesConverter.convertViewRangeToModelRange(s);switch(l){case 11:{const d=this._firstLineNumberInRange(r.model,n,u),t=r.model.getLineFirstNonWhitespaceColumn(d);return[this._moveToModelPosition(r,a[0],c,d,t)]}case 13:{const d=this._lastLineNumberInRange(r.model,n,u),t=r.model.getLineFirstNonWhitespaceColumn(d);return[this._moveToModelPosition(r,a[0],c,d,t)]}case 12:{const d=Math.round((n.startLineNumber+n.endLineNumber)/2),t=r.model.getLineFirstNonWhitespaceColumn(d);return[this._moveToModelPosition(r,a[0],c,d,t)]}case 14:{let d=[];for(let t=0,o=a.length;t<o;t++){const h=a[t];d[t]=this.findPositionInViewportIfOutside(r,h,s,c)}return d}default:return null}}static findPositionInViewportIfOutside(r,a,l,c){let u=a.viewState.position.lineNumber;if(l.startLineNumber<=u&&u<=l.endLineNumber-1)return new k.CursorState(a.modelState,a.viewState);{u>l.endLineNumber-1&&(u=l.endLineNumber-1),u<l.startLineNumber&&(u=l.startLineNumber);const s=r.getLineFirstNonWhitespaceColumn(u);return this._moveToViewPosition(r,a,c,u,s)}}static _firstLineNumberInRange(r,a,l){let c=a.startLineNumber;return a.startColumn!==r.getLineMinColumn(c)&&c++,Math.min(a.endLineNumber,c+l-1)}static _lastLineNumberInRange(r,a,l){let c=a.startLineNumber;return a.startColumn!==r.getLineMinColumn(c)&&c++,Math.max(c,a.endLineNumber-l+1)}static _moveLeft(r,a,l,c){return a.map(u=>k.CursorState.fromViewState(T.MoveOperations.moveLeft(r.cursorConfig,r,u.viewState,l,c)))}static _moveHalfLineLeft(r,a,l){let c=[];for(let u=0,s=a.length;u<s;u++){const n=a[u],d=n.viewState.position.lineNumber,t=Math.round(r.getLineContent(d).length/2);c[u]=k.CursorState.fromViewState(T.MoveOperations.moveLeft(r.cursorConfig,r,n.viewState,l,t))}return c}static _moveRight(r,a,l,c){return a.map(u=>k.CursorState.fromViewState(T.MoveOperations.moveRight(r.cursorConfig,r,u.viewState,l,c)))}static _moveHalfLineRight(r,a,l){let c=[];for(let u=0,s=a.length;u<s;u++){const n=a[u],d=n.viewState.position.lineNumber,t=Math.round(r.getLineContent(d).length/2);c[u]=k.CursorState.fromViewState(T.MoveOperations.moveRight(r.cursorConfig,r,n.viewState,l,t))}return c}static _moveDownByViewLines(r,a,l,c){let u=[];for(let s=0,n=a.length;s<n;s++){const d=a[s];u[s]=k.CursorState.fromViewState(T.MoveOperations.moveDown(r.cursorConfig,r,d.viewState,l,c))}return u}static _moveDownByModelLines(r,a,l,c){let u=[];for(let s=0,n=a.length;s<n;s++){const d=a[s];u[s]=k.CursorState.fromModelState(T.MoveOperations.moveDown(r.cursorConfig,r.model,d.modelState,l,c))}return u}static _moveUpByViewLines(r,a,l,c){let u=[];for(let s=0,n=a.length;s<n;s++){const d=a[s];u[s]=k.CursorState.fromViewState(T.MoveOperations.moveUp(r.cursorConfig,r,d.viewState,l,c))}return u}static _moveUpByModelLines(r,a,l,c){let u=[];for(let s=0,n=a.length;s<n;s++){const d=a[s];u[s]=k.CursorState.fromModelState(T.MoveOperations.moveUp(r.cursorConfig,r.model,d.modelState,l,c))}return u}static _moveToViewPosition(r,a,l,c,u){return k.CursorState.fromViewState(a.viewState.move(l,c,u,0))}static _moveToModelPosition(r,a,l,c,u){return k.CursorState.fromModelState(a.modelState.move(l,c,u,0))}static _moveToViewMinColumn(r,a,l){let c=[];for(let u=0,s=a.length;u<s;u++){const n=a[u],d=n.viewState.position.lineNumber,t=r.getLineMinColumn(d);c[u]=this._moveToViewPosition(r,n,l,d,t)}return c}static _moveToViewFirstNonWhitespaceColumn(r,a,l){let c=[];for(let u=0,s=a.length;u<s;u++){const n=a[u],d=n.viewState.position.lineNumber,t=r.getLineFirstNonWhitespaceColumn(d);c[u]=this._moveToViewPosition(r,n,l,d,t)}return c}static _moveToViewCenterColumn(r,a,l){let c=[];for(let u=0,s=a.length;u<s;u++){const n=a[u],d=n.viewState.position.lineNumber,t=Math.round((r.getLineMaxColumn(d)+r.getLineMinColumn(d))/2);c[u]=this._moveToViewPosition(r,n,l,d,t)}return c}static _moveToViewMaxColumn(r,a,l){let c=[];for(let u=0,s=a.length;u<s;u++){const n=a[u],d=n.viewState.position.lineNumber,t=r.getLineMaxColumn(d);c[u]=this._moveToViewPosition(r,n,l,d,t)}return c}static _moveToViewLastNonWhitespaceColumn(r,a,l){let c=[];for(let u=0,s=a.length;u<s;u++){const n=a[u],d=n.viewState.position.lineNumber,t=r.getLineLastNonWhitespaceColumn(d);c[u]=this._moveToViewPosition(r,n,l,d,t)}return c}}e.CursorMoveCommands=C;var i;(function(v){const r=function(l){if(!b.isObject(l))return!1;let c=l;return!(!b.isString(c.to)||!b.isUndefined(c.select)&&!b.isBoolean(c.select)||!b.isUndefined(c.by)&&!b.isString(c.by)||!b.isUndefined(c.value)&&!b.isNumber(c.value))};v.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:r,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},v.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},v.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function a(l){if(!l.to)return null;let c;switch(l.to){case v.RawDirection.Left:c=0;break;case v.RawDirection.Right:c=1;break;case v.RawDirection.Up:c=2;break;case v.RawDirection.Down:c=3;break;case v.RawDirection.PrevBlankLine:c=4;break;case v.RawDirection.NextBlankLine:c=5;break;case v.RawDirection.WrappedLineStart:c=6;break;case v.RawDirection.WrappedLineFirstNonWhitespaceCharacter:c=7;break;case v.RawDirection.WrappedLineColumnCenter:c=8;break;case v.RawDirection.WrappedLineEnd:c=9;break;case v.RawDirection.WrappedLineLastNonWhitespaceCharacter:c=10;break;case v.RawDirection.ViewPortTop:c=11;break;case v.RawDirection.ViewPortBottom:c=13;break;case v.RawDirection.ViewPortCenter:c=12;break;case v.RawDirection.ViewPortIfOutside:c=14;break;default:return null}let u=0;switch(l.by){case v.RawUnit.Line:u=1;break;case v.RawUnit.WrappedLine:u=2;break;case v.RawUnit.Character:u=3;break;case v.RawUnit.HalfLine:u=4;break}return{direction:c,unit:u,select:!!l.select,value:l.value||1}}v.parse=a})(i=e.CursorMove||(e.CursorMove={}))}),define(ee[551],te([0,1,40,13,3,21]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class S{constructor(C){this._selTrackedRange=null,this._trackSelection=!0,this._setState(C,new b.SingleCursorState(new T.Range(1,1,1,1),0,new k.Position(1,1),0),new b.SingleCursorState(new T.Range(1,1,1,1),0,new k.Position(1,1),0))}dispose(C){this._removeTrackedRange(C)}startTrackingSelection(C){this._trackSelection=!0,this._updateTrackedRange(C)}stopTrackingSelection(C){this._trackSelection=!1,this._removeTrackedRange(C)}_updateTrackedRange(C){!this._trackSelection||(this._selTrackedRange=C.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(C){this._selTrackedRange=C.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new b.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(C){const i=C.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===0?new L.Selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new L.Selection(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn)}ensureValidState(C){this._setState(C,this.modelState,this.viewState)}setState(C,i,v){this._setState(C,i,v)}static _validatePositionWithCache(C,i,v,r){return i.equals(v)?r:C.normalizePosition(i,2)}static _validateViewState(C,i){const v=i.position,r=i.selectionStart.getStartPosition(),a=i.selectionStart.getEndPosition(),l=C.normalizePosition(v,2),c=this._validatePositionWithCache(C,r,v,l),u=this._validatePositionWithCache(C,a,r,c);return v.equals(l)&&r.equals(c)&&a.equals(u)?i:new b.SingleCursorState(T.Range.fromPositions(c,u),i.selectionStartLeftoverVisibleColumns+r.column-c.column,l,i.leftoverVisibleColumns+v.column-l.column)}_setState(C,i,v){if(v&&(v=S._validateViewState(C.viewModel,v)),i){const r=C.model.validateRange(i.selectionStart),a=i.selectionStart.equalsRange(r)?i.selectionStartLeftoverVisibleColumns:0,l=C.model.validatePosition(i.position),c=i.position.equals(l)?i.leftoverVisibleColumns:0;i=new b.SingleCursorState(r,a,l,c)}else{if(!v)return;const r=C.model.validateRange(C.coordinatesConverter.convertViewRangeToModelRange(v.selectionStart)),a=C.model.validatePosition(C.coordinatesConverter.convertViewPositionToModelPosition(v.position));i=new b.SingleCursorState(r,v.selectionStartLeftoverVisibleColumns,a,v.leftoverVisibleColumns)}if(v){const r=C.coordinatesConverter.validateViewRange(v.selectionStart,i.selectionStart),a=C.coordinatesConverter.validateViewPosition(v.position,i.position);v=new b.SingleCursorState(r,i.selectionStartLeftoverVisibleColumns,a,i.leftoverVisibleColumns)}else{const r=C.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(i.selectionStart.startLineNumber,i.selectionStart.startColumn)),a=C.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(i.selectionStart.endLineNumber,i.selectionStart.endColumn)),l=new T.Range(r.lineNumber,r.column,a.lineNumber,a.column),c=C.coordinatesConverter.convertModelPositionToViewPosition(i.position);v=new b.SingleCursorState(l,i.selectionStartLeftoverVisibleColumns,c,i.leftoverVisibleColumns)}this.modelState=i,this.viewState=v,this._updateTrackedRange(C)}}e.Cursor=S}),define(ee[552],te([0,1,40,551,21]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class L{constructor(p){this.context=p,this.primaryCursor=new k.Cursor(p),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let p=0,C=this.secondaryCursors.length;p<C;p++)this.secondaryCursors[p].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let p=0,C=this.secondaryCursors.length;p<C;p++)this.secondaryCursors[p].stopTrackingSelection(this.context)}updateContext(p){this.context=p}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let p=0,C=this.secondaryCursors.length;p<C;p++)this.secondaryCursors[p].ensureValidState(this.context)}readSelectionFromMarkers(){let p=[];p[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let C=0,i=this.secondaryCursors.length;C<i;C++)p[C+1]=this.secondaryCursors[C].readSelectionFromMarkers(this.context);return p}getAll(){let p=[];p[0]=this.primaryCursor.asCursorState();for(let C=0,i=this.secondaryCursors.length;C<i;C++)p[C+1]=this.secondaryCursors[C].asCursorState();return p}getViewPositions(){let p=[];p[0]=this.primaryCursor.viewState.position;for(let C=0,i=this.secondaryCursors.length;C<i;C++)p[C+1]=this.secondaryCursors[C].viewState.position;return p}getTopMostViewPosition(){let p=this.primaryCursor.viewState.position;for(let C=0,i=this.secondaryCursors.length;C<i;C++){const v=this.secondaryCursors[C].viewState.position;v.isBefore(p)&&(p=v)}return p}getBottomMostViewPosition(){let p=this.primaryCursor.viewState.position;for(let C=0,i=this.secondaryCursors.length;C<i;C++){const v=this.secondaryCursors[C].viewState.position;p.isBeforeOrEqual(v)&&(p=v)}return p}getSelections(){let p=[];p[0]=this.primaryCursor.modelState.selection;for(let C=0,i=this.secondaryCursors.length;C<i;C++)p[C+1]=this.secondaryCursors[C].modelState.selection;return p}getViewSelections(){let p=[];p[0]=this.primaryCursor.viewState.selection;for(let C=0,i=this.secondaryCursors.length;C<i;C++)p[C+1]=this.secondaryCursors[C].viewState.selection;return p}setSelections(p){this.setStates(b.CursorState.fromModelSelections(p))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(p){p!==null&&(this.primaryCursor.setState(this.context,p[0].modelState,p[0].viewState),this._setSecondaryStates(p.slice(1)))}_setSecondaryStates(p){const C=this.secondaryCursors.length,i=p.length;if(C<i){let v=i-C;for(let r=0;r<v;r++)this._addSecondaryCursor()}else if(C>i){let v=C-i;for(let r=0;r<v;r++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let v=0;v<i;v++)this.secondaryCursors[v].setState(this.context,p[v].modelState,p[v].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new k.Cursor(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(p){this.lastAddedCursorIndex>=p+1&&this.lastAddedCursorIndex--,this.secondaryCursors[p].dispose(this.context),this.secondaryCursors.splice(p,1)}_getAll(){let p=[];p[0]=this.primaryCursor;for(let C=0,i=this.secondaryCursors.length;C<i;C++)p[C+1]=this.secondaryCursors[C];return p}normalize(){if(this.secondaryCursors.length===0)return;let p=this._getAll(),C=[];for(let i=0,v=p.length;i<v;i++)C.push({index:i,selection:p[i].modelState.selection});C.sort((i,v)=>i.selection.startLineNumber===v.selection.startLineNumber?i.selection.startColumn-v.selection.startColumn:i.selection.startLineNumber-v.selection.startLineNumber);for(let i=0;i<C.length-1;i++){const v=C[i],r=C[i+1],a=v.selection,l=r.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let c;if(l.isEmpty()||a.isEmpty()?c=l.getStartPosition().isBeforeOrEqual(a.getEndPosition()):c=l.getStartPosition().isBefore(a.getEndPosition()),c){const u=v.index<r.index?i:i+1,s=v.index<r.index?i+1:i,n=C[s].index,d=C[u].index,t=C[s].selection,o=C[u].selection;if(!t.equalsSelection(o)){const h=t.plusRange(o),m=t.selectionStartLineNumber===t.startLineNumber&&t.selectionStartColumn===t.startColumn,y=o.selectionStartLineNumber===o.startLineNumber&&o.selectionStartColumn===o.startColumn;let w;n===this.lastAddedCursorIndex?(w=m,this.lastAddedCursorIndex=d):w=y;let g;w?g=new T.Selection(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn):g=new T.Selection(h.endLineNumber,h.endColumn,h.startLineNumber,h.startColumn),C[u].selection=g;const f=b.CursorState.fromModelSelection(g);p[d].setState(this.context,f.modelState,f.viewState)}for(const h of C)h.index>n&&h.index--;p.splice(n,1),C.splice(s,1),this._removeSecondaryCursor(n-1),i--}}}}e.CursorCollection=L}),define(ee[245],te([0,1,12,8,552,40,186,187,3,21,96,175,2,177]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=e.CursorModelState=void 0;class c{constructor(t,o){this.modelVersionId=t.getVersionId(),this.cursorState=o.getCursorStates()}equals(t){if(!t||this.modelVersionId!==t.modelVersionId||this.cursorState.length!==t.cursorState.length)return!1;for(let o=0,h=this.cursorState.length;o<h;o++)if(!this.cursorState[o].equals(t.cursorState[o]))return!1;return!0}}e.CursorModelState=c;class u{constructor(t,o,h){this._model=t,this._autoClosedCharactersDecorations=o,this._autoClosedEnclosingDecorations=h}static getAllAutoClosedCharacters(t){let o=[];for(const h of t)o=o.concat(h.getAutoClosedCharactersRanges());return o}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let t=[];for(let o=0;o<this._autoClosedCharactersDecorations.length;o++){const h=this._model.getDecorationRange(this._autoClosedCharactersDecorations[o]);h&&t.push(h)}return t}isValid(t){let o=[];for(let h=0;h<this._autoClosedEnclosingDecorations.length;h++){const m=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[h]);if(m&&(o.push(m),m.startLineNumber!==m.endLineNumber))return!1}o.sort(C.Range.compareRangesUsingStarts),t.sort(C.Range.compareRangesUsingStarts);for(let h=0;h<t.length;h++)if(h>=o.length||!o[h].strictContainsRange(t[h]))return!1;return!0}}class s extends a.Disposable{constructor(t,o,h,m){super();this._model=t,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=o,this._coordinatesConverter=h,this.context=new L.CursorContext(this._model,this._viewModel,this._coordinatesConverter,m),this._cursors=new T.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,a.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(t){this.context=new L.CursorContext(this._model,this._viewModel,this._coordinatesConverter,t),this._cursors.updateContext(this.context)}onLineMappingChanged(t){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(t,"viewModel",0,this.getCursorStates())}setHasFocus(t){this._hasFocus=t}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let t=this._cursors.getSelections();for(let o=0;o<this._autoClosedActions.length;o++){const h=this._autoClosedActions[o];h.isValid(t)||(h.dispose(),this._autoClosedActions.splice(o,1),o--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(t,o,h,m){let y=!1;m!==null&&m.length>s.MAX_CURSOR_COUNT&&(m=m.slice(0,s.MAX_CURSOR_COUNT),y=!0);const w=new c(this._model,this);return this._cursors.setStates(m),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,o,h,w,y)}setCursorColumnSelectData(t){this._columnSelectData=t}revealPrimary(t,o,h,m){const y=this._cursors.getViewPositions();if(y.length>1){this._emitCursorRevealRange(t,o,null,this._cursors.getViewSelections(),0,h,m);return}else{const w=y[0],g=new C.Range(w.lineNumber,w.column,w.lineNumber,w.column);this._emitCursorRevealRange(t,o,g,null,0,h,m)}}_revealPrimaryCursor(t,o,h,m,y){const w=this._cursors.getViewPositions();if(w.length>1)this._emitCursorRevealRange(t,o,null,this._cursors.getViewSelections(),h,m,y);else{const g=w[0],f=new C.Range(g.lineNumber,g.column,g.lineNumber,g.column);this._emitCursorRevealRange(t,o,f,null,h,m,y)}}_emitCursorRevealRange(t,o,h,m,y,w,g){t.emitViewEvent(new r.ViewRevealRangeRequestEvent(o,h,m,y,w,g))}saveState(){let t=[];const o=this._cursors.getSelections();for(let h=0,m=o.length;h<m;h++){const y=o[h];t.push({inSelectionMode:!y.isEmpty(),selectionStart:{lineNumber:y.selectionStartLineNumber,column:y.selectionStartColumn},position:{lineNumber:y.positionLineNumber,column:y.positionColumn}})}return t}restoreState(t,o){let h=[];for(let m=0,y=o.length;m<y;m++){const w=o[m];let g=1,f=1;w.position&&w.position.lineNumber&&(g=w.position.lineNumber),w.position&&w.position.column&&(f=w.position.column);let _=g,D=f;w.selectionStart&&w.selectionStart.lineNumber&&(_=w.selectionStart.lineNumber),w.selectionStart&&w.selectionStart.column&&(D=w.selectionStart.column),h.push({selectionStartLineNumber:_,selectionStartColumn:D,positionLineNumber:g,positionColumn:f})}this.setStates(t,"restoreState",0,L.CursorState.fromModelSelections(h)),this.revealPrimary(t,"restoreState",!0,1)}onModelContentChanged(t,o){if(o instanceof v.ModelInjectedTextChangedEvent){const h=this._cursors.readSelectionFromMarkers();this.setStates(t,"modelChange",2,L.CursorState.fromModelSelections(h))}else{if(this._knownModelVersionId=o.versionId,this._isHandling)return;const h=o.containsEvent(1);if(this._prevEditOperationType=0,h)this._cursors.dispose(),this._cursors=new T.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,"model",1,null,!1);else if(this._hasFocus&&o.resultingSelection&&o.resultingSelection.length>0){const m=L.CursorState.fromModelSelections(o.resultingSelection);this.setStates(t,"modelChange",o.isUndoing?5:o.isRedoing?6:2,m)&&this._revealPrimaryCursor(t,"modelChange",0,!0,0)}else{const m=this._cursors.readSelectionFromMarkers();this.setStates(t,"modelChange",2,L.CursorState.fromModelSelections(m))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const t=this._cursors.getPrimaryCursor(),o=t.viewState.selectionStart.getStartPosition(),h=t.viewState.position;return{isReal:!1,fromViewLineNumber:o.lineNumber,fromViewVisualColumn:L.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,o),toViewLineNumber:h.lineNumber,toViewVisualColumn:L.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,h)}}getSelections(){return this._cursors.getSelections()}setSelections(t,o,h,m){this.setStates(t,o,m,L.CursorState.fromModelSelections(h))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(t){this._prevEditOperationType=t}_pushAutoClosedAction(t,o){let h=[],m=[];for(let g=0,f=t.length;g<f;g++)h.push({range:t[g],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),m.push({range:o[g],options:{description:"auto-closed-enclosing",stickiness:1}});const y=this._model.deltaDecorations([],h),w=this._model.deltaDecorations([],m);this._autoClosedActions.push(new u(this._model,y,w))}_executeEditOperation(t){if(!t)return;t.shouldPushStackElementBefore&&this._model.pushStackElement();const o=n.executeCommands(this._model,this._cursors.getSelections(),t.commands);if(o){this._interpretCommandResult(o);let h=[],m=[];for(let y=0;y<t.commands.length;y++){const w=t.commands[y];w instanceof p.TypeWithAutoClosingCommand&&w.enclosingRange&&w.closeCharacterRange&&(h.push(w.closeCharacterRange),m.push(w.enclosingRange))}h.length>0&&this._pushAutoClosedAction(h,m),this._prevEditOperationType=t.type}t.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(t){(!t||t.length===0)&&(t=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(t),this._cursors.normalize()}_emitStateChangedIfNecessary(t,o,h,m,y){const w=new c(this._model,this);if(w.equals(m))return!1;const g=this._cursors.getSelections(),f=this._cursors.getViewSelections();if(t.emitViewEvent(new r.ViewCursorStateChangedEvent(f,g)),!m||m.cursorState.length!==w.cursorState.length||w.cursorState.some((_,D)=>!_.modelState.equals(m.cursorState[D].modelState))){const _=m?m.cursorState.map(N=>N.modelState.selection):null,D=m?m.modelVersionId:0;t.emitOutgoingEvent(new l.CursorStateChangedEvent(_,g,D,w.modelVersionId,o||"keyboard",h,y))}return!0}_findAutoClosingPairs(t){if(!t.length)return null;let o=[];for(let h=0,m=t.length;h<m;h++){const y=t[h];if(!y.text||y.text.indexOf(`
`)>=0)return null;const w=y.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!w)return null;const g=w[1],f=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(g);if(!f||f.length!==1)return null;const _=f[0].open,D=y.text.length-w[2].length-1,N=y.text.lastIndexOf(_,D-1);if(N===-1)return null;o.push([N,D])}return o}executeEdits(t,o,h,m){let y=null;o==="snippet"&&(y=this._findAutoClosingPairs(h)),y&&(h[0]._isTracked=!0);let w=[],g=[];const f=this._model.pushEditOperations(this.getSelections(),h,_=>{if(y)for(let N=0,I=y.length;N<I;N++){const[M,O]=y[N],R=_[N],P=R.range.startLineNumber,A=R.range.startColumn-1+M,F=R.range.startColumn-1+O;w.push(new C.Range(P,F+1,P,F+2)),g.push(new C.Range(P,A+1,P,F+2))}const D=m(_);return D&&(this._isHandling=!0),D});f&&(this._isHandling=!1,this.setSelections(t,o,f,0)),w.length>0&&this._pushAutoClosedAction(w,g)}_executeEdit(t,o,h,m=0){if(this.context.cursorConfig.readOnly)return;const y=new c(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),t()}catch(w){(0,b.onUnexpectedError)(w)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,h,m,y,!1)&&this._revealPrimaryCursor(o,h,0,!0,0)}setIsDoingComposition(t){this._isDoingComposition=t}getAutoClosedCharacters(){return u.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(t){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(t,o){this._executeEdit(()=>{o==="keyboard"&&(this._executeEditOperation(p.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},t,o)}type(t,o,h){this._executeEdit(()=>{if(h==="keyboard"){const m=o.length;let y=0;for(;y<m;){const w=k.nextCharLength(o,y),g=o.substr(y,w);this._executeEditOperation(p.TypeOperations.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),g)),y+=w}}else this._executeEditOperation(p.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o))},t,h)}compositionType(t,o,h,m,y,w){if(o.length===0&&h===0&&m===0){if(y!==0){const g=this.getSelections().map(f=>{const _=f.getPosition();return new i.Selection(_.lineNumber,_.column+y,_.lineNumber,_.column+y)});this.setSelections(t,w,g,0)}return}this._executeEdit(()=>{this._executeEditOperation(p.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o,h,m,y))},t,w)}paste(t,o,h,m,y){this._executeEdit(()=>{this._executeEditOperation(p.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),o,h,m||[]))},t,y,4)}cut(t,o){this._executeEdit(()=>{this._executeEditOperation(S.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},t,o)}executeCommand(t,o,h){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new L.EditOperationResult(0,[o],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t,h)}executeCommands(t,o,h){this._executeEdit(()=>{this._executeEditOperation(new L.EditOperationResult(0,o,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t,h)}}e.CursorsController=s,s.MAX_CURSOR_COUNT=1e4;class n{static executeCommands(t,o,h){const m={model:t,selectionsBefore:o,trackedRanges:[],trackedRangesDirection:[]},y=this._innerExecuteCommands(m,h);for(let w=0,g=m.trackedRanges.length;w<g;w++)m.model._setTrackedRange(m.trackedRanges[w],null,0);return y}static _innerExecuteCommands(t,o){if(this._arrayIsEmpty(o))return null;const h=this._getEditOperations(t,o);if(h.operations.length===0)return null;const m=h.operations,y=this._getLoserCursorMap(m);if(y.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let w=[];for(let _=0,D=m.length;_<D;_++)y.hasOwnProperty(m[_].identifier.major.toString())||w.push(m[_]);h.hadTrackedEditOperation&&w.length>0&&(w[0]._isTracked=!0);let g=t.model.pushEditOperations(t.selectionsBefore,w,_=>{let D=[];for(let M=0;M<t.selectionsBefore.length;M++)D[M]=[];for(const M of _)!M.identifier||D[M.identifier.major].push(M);const N=(M,O)=>M.identifier.minor-O.identifier.minor;let I=[];for(let M=0;M<t.selectionsBefore.length;M++)D[M].length>0?(D[M].sort(N),I[M]=o[M].computeCursorState(t.model,{getInverseEditOperations:()=>D[M],getTrackedSelection:O=>{const R=parseInt(O,10),P=t.model._getTrackedRange(t.trackedRanges[R]);return t.trackedRangesDirection[R]===0?new i.Selection(P.startLineNumber,P.startColumn,P.endLineNumber,P.endColumn):new i.Selection(P.endLineNumber,P.endColumn,P.startLineNumber,P.startColumn)}})):I[M]=t.selectionsBefore[M];return I});g||(g=t.selectionsBefore);let f=[];for(let _ in y)y.hasOwnProperty(_)&&f.push(parseInt(_,10));f.sort((_,D)=>D-_);for(const _ of f)g.splice(_,1);return g}static _arrayIsEmpty(t){for(let o=0,h=t.length;o<h;o++)if(t[o])return!1;return!0}static _getEditOperations(t,o){let h=[],m=!1;for(let y=0,w=o.length;y<w;y++){const g=o[y];if(g){const f=this._getEditOperationsFromCommand(t,y,g);h=h.concat(f.operations),m=m||f.hadTrackedEditOperation}}return{operations:h,hadTrackedEditOperation:m}}static _getEditOperationsFromCommand(t,o,h){let m=[],y=0;const w=(N,I,M=!1)=>{C.Range.isEmpty(N)&&I===""||m.push({identifier:{major:o,minor:y++},range:N,text:I,forceMoveMarkers:M,isAutoWhitespaceEdit:h.insertsAutoWhitespace})};let g=!1;const D={addEditOperation:w,addTrackedEditOperation:(N,I,M)=>{g=!0,w(N,I,M)},trackSelection:(N,I)=>{const M=i.Selection.liftSelection(N);let O;if(M.isEmpty())if(typeof I=="boolean")I?O=2:O=3;else{const A=t.model.getLineMaxColumn(M.startLineNumber);M.startColumn===A?O=2:O=3}else O=1;const R=t.trackedRanges.length,P=t.model._setTrackedRange(null,M,O);return t.trackedRanges[R]=P,t.trackedRangesDirection[R]=M.getDirection(),R.toString()}};try{h.getEditOperations(t.model,D)}catch(N){return(0,b.onUnexpectedError)(N),{operations:[],hadTrackedEditOperation:!1}}return{operations:m,hadTrackedEditOperation:g}}static _getLoserCursorMap(t){t=t.slice(0),t.sort((h,m)=>-C.Range.compareRangesUsingEnds(h.range,m.range));let o={};for(let h=1;h<t.length;h++){const m=t[h-1],y=t[h];if(C.Range.getStartPosition(m.range).isBefore(C.Range.getEndPosition(y.range))){let w;m.identifier.major>y.identifier.major?w=m.identifier.major:w=y.identifier.major,o[w.toString()]=!0;for(let g=0;g<t.length;g++)t[g].identifier.major===w&&(t.splice(g,1),g<h&&h--,g--);h>0&&h--}}return o}}}),define(ee[246],te([0,1,8,85,77]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeLineToHTML=e.tokenizeToString=void 0;const L={getInitialState:()=>T.NULL_STATE,tokenize2:(i,v,r,a)=>(0,T.nullTokenize2)(0,i,r,a)};function S(i,v=L){return C(i,v||L)}e.tokenizeToString=S;function p(i,v,r,a,l,c,u){let s="<div>",n=a,d=0;for(let t=0,o=v.getCount();t<o;t++){const h=v.getEndOffset(t);if(h<=a)continue;let m="";for(;n<h&&n<l;n++){const y=i.charCodeAt(n);switch(y){case 9:let w=c-(n+d)%c;for(d+=w-1;w>0;)m+=u?"&#160;":" ",w--;break;case 60:m+="&lt;";break;case 62:m+="&gt;";break;case 38:m+="&amp;";break;case 0:m+="&#00;";break;case 65279:case 8232:case 8233:case 133:m+="\uFFFD";break;case 13:m+="&#8203";break;case 32:m+=u?"&#160;":" ";break;default:m+=String.fromCharCode(y)}}if(s+=`<span style="${v.getInlineStyle(t,r)}">${m}</span>`,h>l||n>=l)break}return s+="</div>",s}e.tokenizeLineToHTML=p;function C(i,v){let r='<div class="monaco-tokenized-source">',a=b.splitLines(i),l=v.getInitialState();for(let c=0,u=a.length;c<u;c++){let s=a[c];c>0&&(r+="<br/>");let n=v.tokenize2(s,!0,l,0);k.LineTokens.convertToEndOffset(n.tokens,s.length);let t=new k.LineTokens(n.tokens,s).inflate(),o=0;for(let h=0,m=t.getCount();h<m;h++){const y=t.getClassName(h),w=t.getEndOffset(h);r+=`<span class="${y}">${b.escape(s.substring(o,w))}</span>`,o=w}l=n.endState}return r+="</div>",r}}),define(ee[68],te([0,1,9]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,b.createDecorator)("textModelService")}),define(ee[142],te([0,1,9]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,b.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,b.createDecorator)("textResourcePropertiesService")}),define(ee[247],te([0,1,6,2,218,18]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class S extends k.Disposable{constructor(){super();this._onDidChange=new b.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(L.TokenizationRegistry.onDidChange(C=>{C.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,k.markAsSingleton)(new S)),this._INSTANCE}_updateColorMap(){const C=L.TokenizationRegistry.getColorMap();if(!C){this._colors=[T.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[T.RGBA8.Empty];for(let v=1;v<C.length;v++){const r=C[v].rgba;this._colors[v]=new T.RGBA8(r.r,r.g,r.b,Math.round(r.a*255))}let i=C[2].getRelativeLuminance();this._backgroundIsLight=i>=.5,this._onDidChange.fire(void 0)}getColor(C){return(C<1||C>=this._colors.length)&&(C=2),this._colors[C]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=S,S._INSTANCE=null}),define(ee[553],te([0,1,19,85,13,3,31,175,224,62,96]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IdentityLinesCollection=e.IdentityCoordinatesConverter=e.SplitLine=e.SplitLinesCollection=e.CoordinatesConverter=void 0;class r{constructor(g){this._lines=g}convertViewPositionToModelPosition(g){return this._lines.convertViewPositionToModelPosition(g.lineNumber,g.column)}convertViewRangeToModelRange(g){return this._lines.convertViewRangeToModelRange(g)}validateViewPosition(g,f){return this._lines.validateViewPosition(g.lineNumber,g.column,f)}validateViewRange(g,f){return this._lines.validateViewRange(g,f)}convertModelPositionToViewPosition(g,f){return this._lines.convertModelPositionToViewPosition(g.lineNumber,g.column,f)}convertModelRangeToViewRange(g,f){return this._lines.convertModelRangeToViewRange(g,f)}modelPositionIsVisible(g){return this._lines.modelPositionIsVisible(g.lineNumber,g.column)}getModelLineViewLineCount(g){return this._lines.getModelLineViewLineCount(g)}}e.CoordinatesConverter=r;class a{constructor(g){this._counts=g,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(g){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,g-1)}_ensureValid(){if(!this._isValid){for(let g=this._validEndIndex+1,f=this._counts.length;g<f;g++){const _=this._counts[g],D=g>0?this._modelToView[g-1]:0;this._modelToView[g]=D+_;for(let N=0;N<_;N++)this._viewToModel[D+N]=g}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(g,f){this._counts[g]!==f&&(this._counts[g]=f,this._invalidate(g))}removeValues(g,f){this._counts.splice(g,f),this._invalidate(g)}insertValues(g,f){this._counts=b.arrayInsert(this._counts,g,f),this._invalidate(g)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(g){return this._ensureValid(),this._modelToView[g]}getIndexOf(g){this._ensureValid();const f=this._viewToModel[g],_=f>0?this._modelToView[f-1]:0;return new C.PrefixSumIndexOfResult(f,g-_)}}class l{constructor(g,f,_,D,N,I,M,O,R){this._editorId=g,this.model=f,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=_,this._monospaceLineBreaksComputerFactory=D,this.fontInfo=N,this.tabSize=I,this.wrappingStrategy=M,this.wrappingColumn=O,this.wrappingIndent=R,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new r(this)}_constructLines(g,f){this.lines=[],g&&(this.hiddenAreasIds=[]);const _=this.model.getLinesContent(),D=this.model.getInjectedTextDecorations(this._editorId),N=v.LineInjectedText.fromDecorations(D),I=_.length,M=this.createLineBreaksComputer(),O=N.length;let R=0,P=R<O?N[R].lineNumber:I+1;for(let X=0;X<I;X++){let J=null;if(X+1===P)for(J=[];X+1===P&&R<O;)J.push(N[R]),R++,P=R<O?N[R].lineNumber:I+1;M.addRequest(_[X],J,f?f[X]:null)}const A=M.finalize();let F=[],E=this.hiddenAreasIds.map(X=>this.model.getDecorationRange(X)).sort(L.Range.compareRangesUsingStarts),W=1,V=0,$=-1,Z=$+1<E.length?V+1:I+2;for(let X=0;X<I;X++){let J=X+1;J===Z&&($++,W=E[$].startLineNumber,V=E[$].endLineNumber,Z=$+1<E.length?V+1:I+2);let ie=J>=W&&J<=V,de=o(A[X],!ie);F[X]=de.getViewLineCount(),this.lines[X]=de}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new a(F)}getHiddenAreas(){return this.hiddenAreasIds.map(g=>this.model.getDecorationRange(g))}_reduceRanges(g){if(g.length===0)return[];let f=g.map(I=>this.model.validateRange(I)).sort(L.Range.compareRangesUsingStarts),_=[],D=f[0].startLineNumber,N=f[0].endLineNumber;for(let I=1,M=f.length;I<M;I++){let O=f[I];O.startLineNumber>N+1?(_.push(new L.Range(D,1,N,1)),D=O.startLineNumber,N=O.endLineNumber):O.endLineNumber>N&&(N=O.endLineNumber)}return _.push(new L.Range(D,1,N,1)),_}setHiddenAreas(g){let f=this._reduceRanges(g),_=this.hiddenAreasIds.map(A=>this.model.getDecorationRange(A)).sort(L.Range.compareRangesUsingStarts);if(f.length===_.length){let A=!1;for(let F=0;F<f.length;F++)if(!f[F].equalsRange(_[F])){A=!0;break}if(!A)return!1}let D=[];for(const A of f)D.push({range:A,options:S.ModelDecorationOptions.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,D);let N=f,I=1,M=0,O=-1,R=O+1<N.length?M+1:this.lines.length+2,P=!1;for(let A=0;A<this.lines.length;A++){let F=A+1;F===R&&(O++,I=N[O].startLineNumber,M=N[O].endLineNumber,R=O+1<N.length?M+1:this.lines.length+2);let E=!1;if(F>=I&&F<=M?this.lines[A].isVisible()&&(this.lines[A]=this.lines[A].setVisible(!1),E=!0):(P=!0,this.lines[A].isVisible()||(this.lines[A]=this.lines[A].setVisible(!0),E=!0)),E){let W=this.lines[A].getViewLineCount();this.prefixSumComputer.changeValue(A,W)}}return P||this.setHiddenAreas([]),!0}modelPositionIsVisible(g,f){return g<1||g>this.lines.length?!1:this.lines[g-1].isVisible()}getModelLineViewLineCount(g){return g<1||g>this.lines.length?1:this.lines[g-1].getViewLineCount()}setTabSize(g){return this.tabSize===g?!1:(this.tabSize=g,this._constructLines(!1,null),!0)}setWrappingSettings(g,f,_,D){const N=this.fontInfo.equals(g),I=this.wrappingStrategy===f,M=this.wrappingColumn===_,O=this.wrappingIndent===D;if(N&&I&&M&&O)return!1;const R=N&&I&&!M&&O;this.fontInfo=g,this.wrappingStrategy=f,this.wrappingColumn=_,this.wrappingIndent=D;let P=null;if(R){P=[];for(let A=0,F=this.lines.length;A<F;A++)P[A]=this.lines[A].getLineBreakData()}return this._constructLines(!1,P),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(g,f,_){if(!g||g<=this._validModelVersionId)return null;let D=f===1?1:this.prefixSumComputer.getAccumulatedValue(f-2)+1,N=this.prefixSumComputer.getAccumulatedValue(_-1);return this.lines.splice(f-1,_-f+1),this.prefixSumComputer.removeValues(f-1,_-f+1),new p.ViewLinesDeletedEvent(D,N)}onModelLinesInserted(g,f,_,D){if(!g||g<=this._validModelVersionId)return null;const N=f>2&&!this.lines[f-2].isVisible();let I=f===1?1:this.prefixSumComputer.getAccumulatedValue(f-2)+1,M=0,O=[],R=[];for(let P=0,A=D.length;P<A;P++){let F=o(D[P],!N);O.push(F);let E=F.getViewLineCount();M+=E,R[P]=E}return this.lines=this.lines.slice(0,f-1).concat(O).concat(this.lines.slice(f-1)),this.prefixSumComputer.insertValues(f-1,R),new p.ViewLinesInsertedEvent(I,I+M-1)}onModelLineChanged(g,f,_){if(g!==null&&g<=this._validModelVersionId)return[!1,null,null,null];let D=f-1,N=this.lines[D].getViewLineCount(),I=this.lines[D].isVisible(),M=o(_,I);this.lines[D]=M;let O=this.lines[D].getViewLineCount(),R=!1,P=0,A=-1,F=0,E=-1,W=0,V=-1;N>O?(P=f===1?1:this.prefixSumComputer.getAccumulatedValue(f-2)+1,A=P+O-1,W=A+1,V=W+(N-O)-1,R=!0):N<O?(P=f===1?1:this.prefixSumComputer.getAccumulatedValue(f-2)+1,A=P+N-1,F=A+1,E=F+(O-N)-1,R=!0):(P=f===1?1:this.prefixSumComputer.getAccumulatedValue(f-2)+1,A=P+O-1),this.prefixSumComputer.changeValue(D,O);const $=P<=A?new p.ViewLinesChangedEvent(P,A):null,Z=F<=E?new p.ViewLinesInsertedEvent(F,E):null,X=W<=V?new p.ViewLinesDeletedEvent(W,V):null;return[R,$,Z,X]}acceptVersionId(g){this._validModelVersionId=g,this.lines.length===1&&!this.lines[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(g){if(g<1)return 1;const f=this.getViewLineCount();return g>f?f:g|0}getActiveIndentGuide(g,f,_){g=this._toValidViewLineNumber(g),f=this._toValidViewLineNumber(f),_=this._toValidViewLineNumber(_);const D=this.convertViewPositionToModelPosition(g,this.getViewLineMinColumn(g)),N=this.convertViewPositionToModelPosition(f,this.getViewLineMinColumn(f)),I=this.convertViewPositionToModelPosition(_,this.getViewLineMinColumn(_)),M=this.model.getActiveIndentGuide(D.lineNumber,N.lineNumber,I.lineNumber),O=this.convertModelPositionToViewPosition(M.startLineNumber,1),R=this.convertModelPositionToViewPosition(M.endLineNumber,this.model.getLineMaxColumn(M.endLineNumber));return{startLineNumber:O.lineNumber,endLineNumber:R.lineNumber,indent:M.indent}}getViewLinesIndentGuides(g,f){g=this._toValidViewLineNumber(g),f=this._toValidViewLineNumber(f);const _=this.convertViewPositionToModelPosition(g,this.getViewLineMinColumn(g)),D=this.convertViewPositionToModelPosition(f,this.getViewLineMaxColumn(f));let N=[],I=[],M=[];const O=_.lineNumber-1,R=D.lineNumber-1;let P=null;for(let W=O;W<=R;W++){const V=this.lines[W];if(V.isVisible()){let $=V.getViewLineNumberOfModelPosition(0,W===O?_.column:1),Z=V.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(W+1)),X=Z-$+1,J=0;X>1&&V.getViewLineMinColumn(this.model,W+1,Z)===1&&(J=$===0?1:2),I.push(X),M.push(J),P===null&&(P=new T.Position(W+1,0))}else P!==null&&(N=N.concat(this.model.getLinesIndentGuides(P.lineNumber,W)),P=null)}P!==null&&(N=N.concat(this.model.getLinesIndentGuides(P.lineNumber,D.lineNumber)),P=null);const A=f-g+1;let F=new Array(A),E=0;for(let W=0,V=N.length;W<V;W++){let $=N[W],Z=Math.min(A-E,I[W]),X=M[W],J;X===2?J=0:X===1?J=1:J=Z;for(let ie=0;ie<Z;ie++)ie===J&&($=0),F[E++]=$}return F}getViewLineContent(g){g=this._toValidViewLineNumber(g);let f=this.prefixSumComputer.getIndexOf(g-1),_=f.index,D=f.remainder;return this.lines[_].getViewLineContent(this.model,_+1,D)}getViewLineLength(g){g=this._toValidViewLineNumber(g);let f=this.prefixSumComputer.getIndexOf(g-1),_=f.index,D=f.remainder;return this.lines[_].getViewLineLength(this.model,_+1,D)}getViewLineMinColumn(g){g=this._toValidViewLineNumber(g);let f=this.prefixSumComputer.getIndexOf(g-1),_=f.index,D=f.remainder;return this.lines[_].getViewLineMinColumn(this.model,_+1,D)}getViewLineMaxColumn(g){g=this._toValidViewLineNumber(g);let f=this.prefixSumComputer.getIndexOf(g-1),_=f.index,D=f.remainder;return this.lines[_].getViewLineMaxColumn(this.model,_+1,D)}getViewLineData(g){g=this._toValidViewLineNumber(g);let f=this.prefixSumComputer.getIndexOf(g-1),_=f.index,D=f.remainder;return this.lines[_].getViewLineData(this.model,_+1,D)}getViewLinesData(g,f,_){g=this._toValidViewLineNumber(g),f=this._toValidViewLineNumber(f);let D=this.prefixSumComputer.getIndexOf(g-1),N=g,I=D.index,M=D.remainder,O=[];for(let R=I,P=this.model.getLineCount();R<P;R++){let A=this.lines[R];if(!A.isVisible())continue;let F=R===I?M:0,E=A.getViewLineCount()-F,W=!1;N+E>f&&(W=!0,E=f-N+1);let V=F+E;if(A.getViewLinesData(this.model,R+1,F,V,N-g,_,O),N+=E,W)break}return O}validateViewPosition(g,f,_){g=this._toValidViewLineNumber(g);let D=this.prefixSumComputer.getIndexOf(g-1),N=D.index,I=D.remainder,M=this.lines[N],O=M.getViewLineMinColumn(this.model,N+1,I),R=M.getViewLineMaxColumn(this.model,N+1,I);f<O&&(f=O),f>R&&(f=R);let P=M.getModelColumnOfViewPosition(I,f);return this.model.validatePosition(new T.Position(N+1,P)).equals(_)?new T.Position(g,f):this.convertModelPositionToViewPosition(_.lineNumber,_.column)}validateViewRange(g,f){const _=this.validateViewPosition(g.startLineNumber,g.startColumn,f.getStartPosition()),D=this.validateViewPosition(g.endLineNumber,g.endColumn,f.getEndPosition());return new L.Range(_.lineNumber,_.column,D.lineNumber,D.column)}convertViewPositionToModelPosition(g,f){g=this._toValidViewLineNumber(g);let _=this.prefixSumComputer.getIndexOf(g-1),D=_.index,N=_.remainder,I=this.lines[D].getModelColumnOfViewPosition(N,f);return this.model.validatePosition(new T.Position(D+1,I))}convertViewRangeToModelRange(g){const f=this.convertViewPositionToModelPosition(g.startLineNumber,g.startColumn),_=this.convertViewPositionToModelPosition(g.endLineNumber,g.endColumn);return new L.Range(f.lineNumber,f.column,_.lineNumber,_.column)}convertModelPositionToViewPosition(g,f,_=2){const D=this.model.validatePosition(new T.Position(g,f)),N=D.lineNumber,I=D.column;let M=N-1,O=!1;for(;M>0&&!this.lines[M].isVisible();)M--,O=!0;if(M===0&&!this.lines[M].isVisible())return new T.Position(1,1);const R=1+(M===0?0:this.prefixSumComputer.getAccumulatedValue(M-1));let P;return O?P=this.lines[M].getViewPositionOfModelPosition(R,this.model.getLineMaxColumn(M+1),_):P=this.lines[N-1].getViewPositionOfModelPosition(R,I,_),P}convertModelRangeToViewRange(g,f=0){if(g.isEmpty()){const _=this.convertModelPositionToViewPosition(g.startLineNumber,g.startColumn,f);return L.Range.fromPositions(_)}else{const _=this.convertModelPositionToViewPosition(g.startLineNumber,g.startColumn,1),D=this.convertModelPositionToViewPosition(g.endLineNumber,g.endColumn,0);return new L.Range(_.lineNumber,_.column,D.lineNumber,D.column)}}_getViewLineNumberForModelPosition(g,f){let _=g-1;if(this.lines[_].isVisible()){const N=1+(_===0?0:this.prefixSumComputer.getAccumulatedValue(_-1));return this.lines[_].getViewLineNumberOfModelPosition(N,f)}for(;_>0&&!this.lines[_].isVisible();)_--;if(_===0&&!this.lines[_].isVisible())return 1;const D=1+(_===0?0:this.prefixSumComputer.getAccumulatedValue(_-1));return this.lines[_].getViewLineNumberOfModelPosition(D,this.model.getLineMaxColumn(_+1))}getAllOverviewRulerDecorations(g,f,_){const D=this.model.getOverviewRulerDecorations(g,f),N=new y;for(const I of D){const M=I.options.overviewRuler,O=M?M.position:0;if(O===0)continue;const R=M.getColor(_),P=this._getViewLineNumberForModelPosition(I.range.startLineNumber,I.range.startColumn),A=this._getViewLineNumberForModelPosition(I.range.endLineNumber,I.range.endColumn);N.accept(R,P,A,O)}return N.result}getDecorationsInRange(g,f,_){const D=this.convertViewPositionToModelPosition(g.startLineNumber,g.startColumn),N=this.convertViewPositionToModelPosition(g.endLineNumber,g.endColumn);if(N.lineNumber-D.lineNumber<=g.endLineNumber-g.startLineNumber)return this.model.getDecorationsInRange(new L.Range(D.lineNumber,1,N.lineNumber,N.column),f,_);let I=[];const M=D.lineNumber-1,O=N.lineNumber-1;let R=null;for(let E=M;E<=O;E++)if(this.lines[E].isVisible())R===null&&(R=new T.Position(E+1,E===M?D.column:1));else if(R!==null){const V=this.model.getLineMaxColumn(E);I=I.concat(this.model.getDecorationsInRange(new L.Range(R.lineNumber,R.column,E,V),f,_)),R=null}R!==null&&(I=I.concat(this.model.getDecorationsInRange(new L.Range(R.lineNumber,R.column,N.lineNumber,N.column),f,_)),R=null),I.sort((E,W)=>{const V=L.Range.compareRangesUsingStarts(E.range,W.range);return V===0?E.id<W.id?-1:E.id>W.id?1:0:V});let P=[],A=0,F=null;for(const E of I){const W=E.id;F!==W&&(F=W,P[A++]=E)}return P}getInjectedTextAt(g){const f=this._toValidViewLineNumber(g.lineNumber),_=this.prefixSumComputer.getIndexOf(f-1),D=_.index,N=_.remainder;return this.lines[D].getInjectedTextAt(N,g.column)}normalizePosition(g,f){const _=this._toValidViewLineNumber(g.lineNumber),D=this.prefixSumComputer.getIndexOf(_-1),N=D.index,I=D.remainder;return this.lines[N].normalizePosition(this.model,N+1,I,g,f)}getLineIndentColumn(g){const f=this._toValidViewLineNumber(g),_=this.prefixSumComputer.getIndexOf(f-1),D=_.index;return _.remainder===0?this.model.getLineIndentColumn(D+1):0}}e.SplitLinesCollection=l;class c{constructor(){}isVisible(){return!0}setVisible(g){return g?this:u.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(g,f,_){return g.getLineContent(f)}getViewLineLength(g,f,_){return g.getLineLength(f)}getViewLineMinColumn(g,f,_){return g.getLineMinColumn(f)}getViewLineMaxColumn(g,f,_){return g.getLineMaxColumn(f)}getViewLineData(g,f,_){let D=g.getLineTokens(f),N=D.getLineContent();return new i.ViewLineData(N,!1,1,N.length+1,0,D.inflate(),null)}getViewLinesData(g,f,_,D,N,I,M){if(!I[N]){M[N]=null;return}M[N]=this.getViewLineData(g,f,0)}getModelColumnOfViewPosition(g,f){return f}getViewPositionOfModelPosition(g,f){return new T.Position(g,f)}getViewLineNumberOfModelPosition(g,f){return g}normalizePosition(g,f,_,D,N){return D}getInjectedTextAt(g,f){return null}}c.INSTANCE=new c;class u{constructor(){}isVisible(){return!1}setVisible(g){return g?c.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(g,f,_){throw new Error("Not supported")}getViewLineLength(g,f,_){throw new Error("Not supported")}getViewLineMinColumn(g,f,_){throw new Error("Not supported")}getViewLineMaxColumn(g,f,_){throw new Error("Not supported")}getViewLineData(g,f,_){throw new Error("Not supported")}getViewLinesData(g,f,_,D,N,I,M){throw new Error("Not supported")}getModelColumnOfViewPosition(g,f){throw new Error("Not supported")}getViewPositionOfModelPosition(g,f){throw new Error("Not supported")}getViewLineNumberOfModelPosition(g,f){throw new Error("Not supported")}normalizePosition(g,f,_,D,N){throw new Error("Not supported")}getInjectedTextAt(g,f){throw new Error("Not supported")}}u.INSTANCE=new u;class s{constructor(g,f){this._lineBreakData=g,this._isVisible=f}isVisible(){return this._isVisible}setVisible(g){return this._isVisible=g,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(g){return this._lineBreakData.getInputOffsetOfOutputPosition(g,0)}getInputEndOffsetOfOutputLineIndex(g,f,_){return _+1===this._lineBreakData.breakOffsets.length?g.getLineMaxColumn(f)-1:this._lineBreakData.getInputOffsetOfOutputPosition(_+1,0)}getViewLineContent(g,f,_){if(!this._isVisible)throw new Error("Not supported");const D=_>0?this._lineBreakData.breakOffsets[_-1]:0,N=_<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[_]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let I;if(this._lineBreakData.injectionOffsets!==null){const M=this._lineBreakData.injectionOffsets.map((O,R)=>new v.LineInjectedText(0,0,O+1,this._lineBreakData.injectionOptions[R],0));I=v.LineInjectedText.applyInjectedText(g.getLineContent(f),M).substring(D,N)}else I=g.getValueInRange({startLineNumber:f,startColumn:D+1,endLineNumber:f,endColumn:N+1});return _>0&&(I=d(this._lineBreakData.wrappedTextIndentLength)+I),I}getViewLineLength(g,f,_){if(!this._isVisible)throw new Error("Not supported");const D=_>0?this._lineBreakData.breakOffsets[_-1]:0;let I=(_<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[_]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1])-D;return _>0&&(I=this._lineBreakData.wrappedTextIndentLength+I),I}getViewLineMinColumn(g,f,_){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(_)}_getViewLineMinColumn(g){return g>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(g,f,_){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(g,f,_)+1}getViewLineData(g,f,_){if(!this._isVisible)throw new Error("Not supported");const D=this._lineBreakData,N=_>0?D.wrappedTextIndentLength:0,I=D.injectionOffsets,M=D.injectionOptions;let O,R,P;if(I){const V=g.getLineTokens(f).withInserted(I.map((J,ie)=>({offset:J,text:M[ie].content,tokenMetadata:k.LineTokens.defaultTokenMetadata}))),$=_>0?D.breakOffsets[_-1]:0,Z=D.breakOffsets[_];O=V.getLineContent().substring($,Z),R=V.sliceAndInflate($,Z,N),P=new Array;let X=0;for(let J=0;J<I.length;J++){const ie=M[J].content.length,de=I[J]+X,ue=I[J]+X+ie;if(de>Z)break;if($<ue){const q=M[J];if(q.inlineClassName){const B=_>0?D.wrappedTextIndentLength:0,j=B+Math.max(de-$,0),H=B+Math.min(ue-$,Z);j!==H&&P.push(new i.SingleLineInlineDecoration(j,H,q.inlineClassName,q.inlineClassNameAffectsLetterSpacing))}}X+=ie}}else{const V=this.getInputStartOffsetOfOutputLineIndex(_),$=this.getInputEndOffsetOfOutputLineIndex(g,f,_),Z=g.getLineTokens(f);O=g.getValueInRange({startLineNumber:f,startColumn:V+1,endLineNumber:f,endColumn:$+1}),R=Z.sliceAndInflate(V,$,N),P=null}_>0&&(O=d(D.wrappedTextIndentLength)+O);const A=_>0?D.wrappedTextIndentLength+1:1,F=O.length+1,E=_+1<this.getViewLineCount(),W=_===0?0:D.breakOffsetsVisibleColumn[_-1];return new i.ViewLineData(O,E,A,F,W,R,P)}getViewLinesData(g,f,_,D,N,I,M){if(!this._isVisible)throw new Error("Not supported");for(let O=_;O<D;O++){let R=N+O-_;if(!I[R]){M[R]=null;continue}M[R]=this.getViewLineData(g,f,O)}}getModelColumnOfViewPosition(g,f){if(!this._isVisible)throw new Error("Not supported");let _=f-1;return g>0&&(_<this._lineBreakData.wrappedTextIndentLength?_=0:_-=this._lineBreakData.wrappedTextIndentLength),this._lineBreakData.getInputOffsetOfOutputPosition(g,_)+1}getViewPositionOfModelPosition(g,f,_=2){if(!this._isVisible)throw new Error("Not supported");let D=this._lineBreakData.getOutputPositionOfInputOffset(f-1,_),N=D.outputLineIndex,I=D.outputOffset+1;return N>0&&(I+=this._lineBreakData.wrappedTextIndentLength),new T.Position(g+N,I)}getViewLineNumberOfModelPosition(g,f){if(!this._isVisible)throw new Error("Not supported");const _=this._lineBreakData.getOutputPositionOfInputOffset(f-1);return g+_.outputLineIndex}normalizePosition(g,f,_,D,N){if(this._lineBreakData.injectionOffsets!==null){const I=D.lineNumber-_,M=this._lineBreakData.outputPositionToOffsetInUnwrappedLine(_,D.column-1),O=this._lineBreakData.normalizeOffsetAroundInjections(M,N);if(O!==M)return this._lineBreakData.getOutputPositionOfOffsetInUnwrappedLine(O,N).toPosition(I,this._lineBreakData.wrappedTextIndentLength)}if(N===0){if(_>0&&D.column===this._getViewLineMinColumn(_))return new T.Position(D.lineNumber-1,this.getViewLineMaxColumn(g,f,_-1))}else if(N===1){const I=this.getViewLineCount()-1;if(_<I&&D.column===this.getViewLineMaxColumn(g,f,_))return new T.Position(D.lineNumber+1,this._getViewLineMinColumn(_+1))}return D}getInjectedTextAt(g,f){return this._lineBreakData.getInjectedText(g,f-1)}}e.SplitLine=s;let n=[""];function d(w){if(w>=n.length)for(let g=1;g<=w;g++)n[g]=t(g);return n[w]}function t(w){return new Array(w+1).join(" ")}function o(w,g){return w===null?g?c.INSTANCE:u.INSTANCE:new s(w,g)}class h{constructor(g){this._lines=g}_validPosition(g){return this._lines.model.validatePosition(g)}_validRange(g){return this._lines.model.validateRange(g)}convertViewPositionToModelPosition(g){return this._validPosition(g)}convertViewRangeToModelRange(g){return this._validRange(g)}validateViewPosition(g,f){return this._validPosition(f)}validateViewRange(g,f){return this._validRange(f)}convertModelPositionToViewPosition(g){return this._validPosition(g)}convertModelRangeToViewRange(g){return this._validRange(g)}modelPositionIsVisible(g){const f=this._lines.model.getLineCount();return!(g.lineNumber<1||g.lineNumber>f)}getModelLineViewLineCount(g){return 1}}e.IdentityCoordinatesConverter=h;class m{constructor(g){this.model=g}dispose(){}createCoordinatesConverter(){return new h(this)}getHiddenAreas(){return[]}setHiddenAreas(g){return!1}setTabSize(g){return!1}setWrappingSettings(g,f,_,D){return!1}createLineBreaksComputer(){let g=[];return{addRequest:(f,_,D)=>{g.push(null)},finalize:()=>g}}onModelFlushed(){}onModelLinesDeleted(g,f,_){return new p.ViewLinesDeletedEvent(f,_)}onModelLinesInserted(g,f,_,D){return new p.ViewLinesInsertedEvent(f,_)}onModelLineChanged(g,f,_){return[!1,new p.ViewLinesChangedEvent(f,f),null,null]}acceptVersionId(g){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(g,f,_){return{startLineNumber:g,endLineNumber:g,indent:0}}getViewLinesIndentGuides(g,f){const _=f-g+1;let D=new Array(_);for(let N=0;N<_;N++)D[N]=0;return D}getViewLineContent(g){return this.model.getLineContent(g)}getViewLineLength(g){return this.model.getLineLength(g)}getViewLineMinColumn(g){return this.model.getLineMinColumn(g)}getViewLineMaxColumn(g){return this.model.getLineMaxColumn(g)}getViewLineData(g){let f=this.model.getLineTokens(g),_=f.getLineContent();return new i.ViewLineData(_,!1,1,_.length+1,0,f.inflate(),null)}getViewLinesData(g,f,_){const D=this.model.getLineCount();g=Math.min(Math.max(1,g),D),f=Math.min(Math.max(1,f),D);let N=[];for(let I=g;I<=f;I++){let M=I-g;_[M]||(N[M]=null),N[M]=this.getViewLineData(I)}return N}getAllOverviewRulerDecorations(g,f,_){const D=this.model.getOverviewRulerDecorations(g,f),N=new y;for(const I of D){const M=I.options.overviewRuler,O=M?M.position:0;if(O===0)continue;const R=M.getColor(_),P=I.range.startLineNumber,A=I.range.endLineNumber;N.accept(R,P,A,O)}return N.result}getDecorationsInRange(g,f,_){return this.model.getDecorationsInRange(g,f,_)}normalizePosition(g,f){return this.model.normalizePosition(g,f)}getLineIndentColumn(g){return this.model.getLineIndentColumn(g)}getInjectedTextAt(g){return null}}e.IdentityLinesCollection=m;class y{constructor(){this.result=Object.create(null)}accept(g,f,_,D){let N=this.result[g];if(N){const I=N[N.length-3],M=N[N.length-1];if(I===D&&M+1>=f){_>M&&(N[N.length-1]=_);return}N.push(D,f,_)}else this.result[g]=[D,f,_]}}}),define(ee[554],te([0,1,29,2,8,35,13,3,96,18,246,247,175,406,553,62,465,15,17,245,40,177]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const m=!0;class y extends k.Disposable{constructor(g,f,_,D,N,I){super();if(this._editorId=g,this._configuration=f,this.model=_,this._eventDispatcher=new h.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new o.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new n.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new n.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,m&&this.model.isTooLargeForTokenization())this._lines=new c.IdentityLinesCollection(this.model);else{const M=this._configuration.options,O=M.get(41),R=M.get(123),P=M.get(130),A=M.get(122);this._lines=new c.SplitLinesCollection(this._editorId,this.model,D,N,O,this.model.getOptions().tabSize,R,P.wrappingColumn,A)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new t.CursorsController(_,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new l.ViewLayout(this._configuration,this.getLineCount(),I)),this._register(this.viewLayout.onDidScroll(M=>{M.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new a.ViewScrollChangedEvent(M)),this._eventDispatcher.emitOutgoingEvent(new h.ScrollChangedEvent(M.oldScrollWidth,M.oldScrollLeft,M.oldScrollHeight,M.oldScrollTop,M.scrollWidth,M.scrollLeft,M.scrollHeight,M.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(M=>{this._eventDispatcher.emitOutgoingEvent(M)})),this._decorations=new s.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(M=>{try{const O=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(O,M)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(r.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new a.ViewTokensColorsChangedEvent)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(g){this._eventDispatcher.addViewEventHandler(g)}removeViewEventHandler(g){this._eventDispatcher.removeViewEventHandler(g)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const g=this.viewLayout.getLinesViewportData(),f=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(g.startLineNumber,1)),_=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(g.endLineNumber,1));this.model.tokenizeViewport(f.lineNumber,_.lineNumber)}setHasFocus(g){this._hasFocus=g,this._cursor.setHasFocus(g),this._eventDispatcher.emitSingleViewEvent(new a.ViewFocusChangedEvent(g)),this._eventDispatcher.emitOutgoingEvent(new h.FocusChangedEvent(!g,g))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new a.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new a.ViewCompositionEndEvent)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new a.ViewThemeChangedEvent)}_onConfigurationChanged(g,f){let _=null;if(this._viewportStartLine!==-1){let P=new S.Position(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));_=this.coordinatesConverter.convertViewPositionToModelPosition(P)}let D=!1;const N=this._configuration.options,I=N.get(41),M=N.get(123),O=N.get(130),R=N.get(122);if(this._lines.setWrappingSettings(I,M,O.wrappingColumn,R)&&(g.emitViewEvent(new a.ViewFlushedEvent),g.emitViewEvent(new a.ViewLineMappingChangedEvent),g.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(g),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(D=!0),this._updateConfigurationViewLineCount.schedule()),f.hasChanged(79)&&(this._decorations.reset(),g.emitViewEvent(new a.ViewDecorationsChangedEvent(null))),g.emitViewEvent(new a.ViewConfigurationChangedEvent(f)),this.viewLayout.onConfigurationChanged(f),D&&_){const P=this.coordinatesConverter.convertModelPositionToViewPosition(_),A=this.viewLayout.getVerticalOffsetForLineNumber(P.lineNumber);this.viewLayout.setScrollPosition({scrollTop:A+this._viewportStartLineDelta},1)}o.CursorConfiguration.shouldRecreate(f)&&(this.cursorConfig=new o.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(g=>{try{const f=this._eventDispatcher.beginEmitViewEvents();let _=!1,D=!1;const N=g.changes,I=g instanceof C.ModelRawContentChangedEvent?g.versionId:null,M=this._lines.createLineBreaksComputer();for(const P of N)switch(P.changeType){case 4:{for(let A=0;A<P.detail.length;A++){const F=P.detail[A];let E=P.injectedTexts[A];E&&(E=E.filter(W=>!W.ownerId||W.ownerId===this._editorId)),M.addRequest(F,E,null)}break}case 2:{let A=null;P.injectedText&&(A=P.injectedText.filter(F=>!F.ownerId||F.ownerId===this._editorId)),M.addRequest(P.detail,A,null);break}}const O=M.finalize();let R=0;for(const P of N)switch(P.changeType){case 1:{this._lines.onModelFlushed(),f.emitViewEvent(new a.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),_=!0;break}case 3:{const A=this._lines.onModelLinesDeleted(I,P.fromLineNumber,P.toLineNumber);A!==null&&(f.emitViewEvent(A),this.viewLayout.onLinesDeleted(A.fromLineNumber,A.toLineNumber)),_=!0;break}case 4:{const A=O.slice(R,R+P.detail.length);R+=P.detail.length;const F=this._lines.onModelLinesInserted(I,P.fromLineNumber,P.toLineNumber,A);F!==null&&(f.emitViewEvent(F),this.viewLayout.onLinesInserted(F.fromLineNumber,F.toLineNumber)),_=!0;break}case 2:{const A=O[R];R++;const[F,E,W,V]=this._lines.onModelLineChanged(I,P.lineNumber,A);D=F,E&&f.emitViewEvent(E),W&&(f.emitViewEvent(W),this.viewLayout.onLinesInserted(W.fromLineNumber,W.toLineNumber)),V&&(f.emitViewEvent(V),this.viewLayout.onLinesDeleted(V.fromLineNumber,V.toLineNumber));break}case 5:break}I!==null&&this._lines.acceptVersionId(I),this.viewLayout.onHeightMaybeChanged(),!_&&D&&(f.emitViewEvent(new a.ViewLineMappingChangedEvent),f.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(f),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const f=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(f){const _=this.coordinatesConverter.convertModelPositionToViewPosition(f.getStartPosition()),D=this.viewLayout.getVerticalOffsetForLineNumber(_.lineNumber);this.viewLayout.setScrollPosition({scrollTop:D+this._viewportStartLineDelta},1)}}try{const f=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(f,g)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(g=>{let f=[];for(let _=0,D=g.ranges.length;_<D;_++){const N=g.ranges[_],I=this.coordinatesConverter.convertModelPositionToViewPosition(new S.Position(N.fromLineNumber,1)).lineNumber,M=this.coordinatesConverter.convertModelPositionToViewPosition(new S.Position(N.toLineNumber,this.model.getLineMaxColumn(N.toLineNumber))).lineNumber;f[_]={fromLineNumber:I,toLineNumber:M}}this._eventDispatcher.emitSingleViewEvent(new a.ViewTokensChangedEvent(f)),g.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(g=>{this._eventDispatcher.emitSingleViewEvent(new a.ViewLanguageConfigurationEvent),this.cursorConfig=new o.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(g=>{this.cursorConfig=new o.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(g=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const f=this._eventDispatcher.beginEmitViewEvents();f.emitViewEvent(new a.ViewFlushedEvent),f.emitViewEvent(new a.ViewLineMappingChangedEvent),f.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(f),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new o.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(g=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new a.ViewDecorationsChangedEvent(g))}))}setHiddenAreas(g){try{const f=this._eventDispatcher.beginEmitViewEvents();this._lines.setHiddenAreas(g)&&(f.emitViewEvent(new a.ViewFlushedEvent),f.emitViewEvent(new a.ViewLineMappingChangedEvent),f.emitViewEvent(new a.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(f),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const g=this._configuration.options.get(129),f=this._configuration.options.get(57),_=Math.max(20,Math.round(g.height/f)),D=this.viewLayout.getLinesViewportData(),N=Math.max(1,D.completelyVisibleStartLineNumber-_),I=Math.min(this.getLineCount(),D.completelyVisibleEndLineNumber+_);return this._toModelVisibleRanges(new p.Range(N,this.getLineMinColumn(N),I,this.getLineMaxColumn(I)))}getVisibleRanges(){const g=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(g)}_toModelVisibleRanges(g){const f=this.coordinatesConverter.convertViewRangeToModelRange(g),_=this._lines.getHiddenAreas();if(_.length===0)return[f];let D=[],N=0,I=f.startLineNumber,M=f.startColumn,O=f.endLineNumber,R=f.endColumn;for(let P=0,A=_.length;P<A;P++){const F=_[P].startLineNumber,E=_[P].endLineNumber;E<I||F>O||(I<F&&(D[N++]=new p.Range(I,M,F-1,this.model.getLineMaxColumn(F-1))),I=E+1,M=1)}return(I<O||I===O&&M<R)&&(D[N++]=new p.Range(I,M,O,R)),D}getCompletelyVisibleViewRange(){const g=this.viewLayout.getLinesViewportData(),f=g.completelyVisibleStartLineNumber,_=g.completelyVisibleEndLineNumber;return new p.Range(f,this.getLineMinColumn(f),_,this.getLineMaxColumn(_))}getCompletelyVisibleViewRangeAtScrollTop(g){const f=this.viewLayout.getLinesViewportDataAtScrollTop(g),_=f.completelyVisibleStartLineNumber,D=f.completelyVisibleEndLineNumber;return new p.Range(_,this.getLineMinColumn(_),D,this.getLineMaxColumn(D))}saveState(){const g=this.viewLayout.saveState(),f=g.scrollTop,_=this.viewLayout.getLineNumberAtVerticalOffset(f),D=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(_,this.getLineMinColumn(_))),N=this.viewLayout.getVerticalOffsetForLineNumber(_)-f;return{scrollLeft:g.scrollLeft,firstPosition:D,firstPositionDeltaTop:N}}reduceRestoreState(g){if(typeof g.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(g);const f=this.model.validatePosition(g.firstPosition),_=this.coordinatesConverter.convertModelPositionToViewPosition(f),D=this.viewLayout.getVerticalOffsetForLineNumber(_.lineNumber)-g.firstPositionDeltaTop;return{scrollLeft:g.scrollLeft,scrollTop:D}}_reduceRestoreStateCompatibility(g){return{scrollLeft:g.scrollLeft,scrollTop:g.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(g,f,_){this._viewportStartLine=g;let D=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(g,this.getLineMinColumn(g)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new p.Range(D.lineNumber,D.column,D.lineNumber,D.column),1);const N=this.viewLayout.getVerticalOffsetForLineNumber(g),I=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=I-N}getActiveIndentGuide(g,f,_){return this._lines.getActiveIndentGuide(g,f,_)}getLinesIndentGuides(g,f){return this._lines.getViewLinesIndentGuides(g,f)}getLineContent(g){return this._lines.getViewLineContent(g)}getLineLength(g){return this._lines.getViewLineLength(g)}getLineMinColumn(g){return this._lines.getViewLineMinColumn(g)}getLineMaxColumn(g){return this._lines.getViewLineMaxColumn(g)}getLineFirstNonWhitespaceColumn(g){const f=T.firstNonWhitespaceIndex(this.getLineContent(g));return f===-1?0:f+1}getLineLastNonWhitespaceColumn(g){const f=T.lastNonWhitespaceIndex(this.getLineContent(g));return f===-1?0:f+2}getDecorationsInViewport(g){return this._decorations.getDecorationsViewportData(g).decorations}getInjectedTextAt(g){return this._lines.getInjectedTextAt(g)}getViewLineRenderingData(g,f){let _=this.model.mightContainRTL(),D=this.model.mightContainNonBasicASCII(),N=this.getTabSize(),I=this._lines.getViewLineData(f),O=this._decorations.getDecorationsViewportData(g).inlineDecorations[f-g.startLineNumber];return I.inlineDecorations&&(O=[...O,...I.inlineDecorations.map(R=>R.toInlineDecoration(f))]),new u.ViewLineRenderingData(I.minColumn,I.maxColumn,I.content,I.continuesWithWrappedLine,_,D,I.tokens,O,N,I.startVisibleColumn)}getViewLineData(g){return this._lines.getViewLineData(g)}getMinimapLinesRenderingData(g,f,_){let D=this._lines.getViewLinesData(g,f,_);return new u.MinimapLinesRenderingData(this.getTabSize(),D)}getAllOverviewRulerDecorations(g){return this._lines.getAllOverviewRulerDecorations(this._editorId,(0,L.filterValidationDecorations)(this._configuration.options),g)}invalidateOverviewRulerColorCache(){const g=this.model.getOverviewRulerDecorations();for(const f of g){const _=f.options.overviewRuler;_&&_.invalidateCachedColor()}}invalidateMinimapColorCache(){const g=this.model.getAllDecorations();for(const f of g){const _=f.options.minimap;_&&_.invalidateCachedColor()}}getValueInRange(g,f){const _=this.coordinatesConverter.convertViewRangeToModelRange(g);return this.model.getValueInRange(_,f)}getModelLineMaxColumn(g){return this.model.getLineMaxColumn(g)}validateModelPosition(g){return this.model.validatePosition(g)}validateModelRange(g){return this.model.validateRange(g)}deduceModelPositionRelativeToViewPosition(g,f,_){const D=this.coordinatesConverter.convertViewPositionToModelPosition(g);this.model.getEOL().length===2&&(f<0?f-=_:f+=_);const I=this.model.getOffsetAt(D)+f;return this.model.getPositionAt(I)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(g,f,_){const D=_?`\r
`:this.model.getEOL();g=g.slice(0),g.sort(p.Range.compareRangesUsingStarts);let N=!1,I=!1;for(const O of g)O.isEmpty()?N=!0:I=!0;if(!I){if(!f)return"";const O=g.map(P=>P.startLineNumber);let R="";for(let P=0;P<O.length;P++)P>0&&O[P-1]===O[P]||(R+=this.model.getLineContent(O[P])+D);return R}if(N&&f){let O=[],R=0;for(const P of g){const A=P.startLineNumber;P.isEmpty()?A!==R&&O.push(this.model.getLineContent(A)):O.push(this.model.getValueInRange(P,_?2:0)),R=A}return O.length===1?O[0]:O}let M=[];for(const O of g)O.isEmpty()||M.push(this.model.getValueInRange(O,_?2:0));return M.length===1?M[0]:M}getRichTextToCopy(g,f){const _=this.model.getLanguageIdentifier();if(_.id===1||g.length!==1)return null;let D=g[0];if(D.isEmpty()){if(!f)return null;const P=D.startLineNumber;D=new p.Range(P,this.model.getLineMinColumn(P),P,this.model.getLineMaxColumn(P))}const N=this._configuration.options.get(41),I=this._getColorMap(),O=/[:;\\\/<>]/.test(N.fontFamily)||N.fontFamily===L.EDITOR_FONT_DEFAULTS.fontFamily;let R;return O?R=L.EDITOR_FONT_DEFAULTS.fontFamily:(R=N.fontFamily,R=R.replace(/"/g,"'"),/[,']/.test(R)||/[+ ]/.test(R)&&(R=`'${R}'`),R=`${R}, ${L.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:_.language,html:`<div style="color: ${I[1]};background-color: ${I[2]};font-family: ${R};font-weight: ${N.fontWeight};font-size: ${N.fontSize}px;line-height: ${N.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(D,I)+"</div>"}}_getHTMLToCopy(g,f){const _=g.startLineNumber,D=g.startColumn,N=g.endLineNumber,I=g.endColumn,M=this.getTabSize();let O="";for(let R=_;R<=N;R++){const P=this.model.getLineTokens(R),A=P.getLineContent(),F=R===_?D-1:0,E=R===N?I-1:A.length;A===""?O+="<br>":O+=(0,v.tokenizeLineToHTML)(A,P.inflate(),f,F,E,M,d.isWindows)}return O}_getColorMap(){let g=i.TokenizationRegistry.getColorMap(),f=["#000000"];if(g)for(let _=1,D=g.length;_<D;_++)f[_]=b.Color.Format.CSS.formatHex(g[_]);return f}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(g,f,_){this._withViewEventsCollector(D=>this._cursor.setStates(D,g,f,_))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(g){this._cursor.setCursorColumnSelectData(g)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(g){this._cursor.setPrevEditOperationType(g)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(g,f,_=0){this._withViewEventsCollector(D=>this._cursor.setSelections(D,g,f,_))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(g){this._withViewEventsCollector(f=>this._cursor.restoreState(f,g))}_executeCursorEdit(g){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new h.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(g)}executeEdits(g,f,_){this._executeCursorEdit(D=>this._cursor.executeEdits(D,g,f,_))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(g=>this._cursor.startComposition(g))}endComposition(g){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(f=>this._cursor.endComposition(f,g))}type(g,f){this._executeCursorEdit(_=>this._cursor.type(_,g,f))}compositionType(g,f,_,D,N){this._executeCursorEdit(I=>this._cursor.compositionType(I,g,f,_,D,N))}paste(g,f,_,D){this._executeCursorEdit(N=>this._cursor.paste(N,g,f,_,D))}cut(g){this._executeCursorEdit(f=>this._cursor.cut(f,g))}executeCommand(g,f){this._executeCursorEdit(_=>this._cursor.executeCommand(_,g,f))}executeCommands(g,f){this._executeCursorEdit(_=>this._cursor.executeCommands(_,g,f))}revealPrimaryCursor(g,f){this._withViewEventsCollector(_=>this._cursor.revealPrimary(_,g,f,0))}revealTopMostCursor(g){const f=this._cursor.getTopMostViewPosition(),_=new p.Range(f.lineNumber,f.column,f.lineNumber,f.column);this._withViewEventsCollector(D=>D.emitViewEvent(new a.ViewRevealRangeRequestEvent(g,_,null,0,!0,0)))}revealBottomMostCursor(g){const f=this._cursor.getBottomMostViewPosition(),_=new p.Range(f.lineNumber,f.column,f.lineNumber,f.column);this._withViewEventsCollector(D=>D.emitViewEvent(new a.ViewRevealRangeRequestEvent(g,_,null,0,!0,0)))}revealRange(g,f,_,D,N){this._withViewEventsCollector(I=>I.emitViewEvent(new a.ViewRevealRangeRequestEvent(g,_,null,D,f,N)))}getVerticalOffsetForLineNumber(g){return this.viewLayout.getVerticalOffsetForLineNumber(g)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(g,f){this.viewLayout.setScrollPosition({scrollTop:g},f)}setScrollPosition(g,f){this.viewLayout.setScrollPosition(g,f)}deltaScrollNow(g,f){this.viewLayout.deltaScrollNow(g,f)}changeWhitespace(g){this.viewLayout.changeWhitespace(g)&&(this._eventDispatcher.emitSingleViewEvent(new a.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new h.ViewZonesChangedEvent))}setMaxLineWidth(g){this.viewLayout.setMaxLineWidth(g)}_withViewEventsCollector(g){try{const f=this._eventDispatcher.beginEmitViewEvents();g(f)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(g,f){return this._lines.normalizePosition(g,f)}getLineIndentColumn(g){return this._lines.getLineIndentColumn(g)}}e.ViewModel=y}),define(ee[248],te([0,1,19,23,12,49,3,18,54,139]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class v{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(u,s){let n;typeof u=="string"?n=`${s.id}/${u}`:(n=`${s.id}/${u.name}`,s.children.get(n)!==void 0&&(n=`${s.id}/${u.name}_${u.range.startLineNumber}_${u.range.startColumn}`));let d=n;for(let t=0;s.children.get(d)!==void 0;t++)d=`${n}_${t}`;return d}static empty(u){return u.children.size===0}}e.TreeElement=v;class r extends v{constructor(u,s,n){super();this.id=u,this.parent=s,this.symbol=n,this.children=new Map}}e.OutlineElement=r;class a extends v{constructor(u,s,n,d){super();this.id=u,this.parent=s,this.label=n,this.order=d,this.children=new Map}}e.OutlineGroup=a;class l extends v{constructor(u){super();this.uri=u,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(u,s){let n=this._keys.for(u,!0),d=l._requests.get(n);if(!d){let t=new k.CancellationTokenSource;d={promiseCnt:0,source:t,promise:l._create(u,t.token),model:void 0},l._requests.set(n,d);const o=Date.now();d.promise.then(()=>{this._requestDurations.update(u,Date.now()-o)})}return d.model?Promise.resolve(d.model):(d.promiseCnt+=1,s.onCancellationRequested(()=>{--d.promiseCnt==0&&(d.source.cancel(),l._requests.delete(n))}),new Promise((t,o)=>{d.promise.then(h=>{d.model=h,t(h)},h=>{l._requests.delete(n),o(h)})}))}static _create(u,s){const n=new k.CancellationTokenSource(s),d=new l(u.uri),t=p.DocumentSymbolProviderRegistry.ordered(u),o=t.map((m,y)=>{var w;let g=v.findId(`provider_${y}`,d),f=new a(g,d,(w=m.displayName)!==null&&w!==void 0?w:"Unknown Outline Provider",y);return Promise.resolve(m.provideDocumentSymbols(u,n.token)).then(_=>{for(const D of _||[])l._makeOutlineElement(D,f);return f},_=>((0,T.onUnexpectedExternalError)(_),f)).then(_=>{v.empty(_)?_.remove():d._groups.set(g,_)})}),h=p.DocumentSymbolProviderRegistry.onDidChange(()=>{const m=p.DocumentSymbolProviderRegistry.ordered(u);(0,b.equals)(m,t)||n.cancel()});return Promise.all(o).then(()=>n.token.isCancellationRequested&&!s.isCancellationRequested?l._create(u,s):d._compact()).finally(()=>{h.dispose()})}static _makeOutlineElement(u,s){let n=v.findId(u,s),d=new r(n,s,u);if(u.children)for(const t of u.children)l._makeOutlineElement(t,d);s.children.set(d.id,d)}_compact(){let u=0;for(const[s,n]of this._groups)n.children.size===0?this._groups.delete(s):u+=1;if(u!==1)this.children=this._groups;else{let s=C.Iterable.first(this._groups.values());for(let[,n]of s.children)n.parent=this,this.children.set(n.id,n)}return this}getTopLevelSymbols(){const u=[];for(const s of this.children.values())s instanceof r?u.push(s.symbol):u.push(...C.Iterable.map(s.children.values(),n=>n.symbol));return u.sort((s,n)=>S.Range.compareRangesUsingStarts(s.range,n.range))}asListOfDocumentSymbols(){const u=this.getTopLevelSymbols(),s=[];return l._flattenDocumentSymbols(s,u,""),s.sort((n,d)=>S.Range.compareRangesUsingStarts(n.range,d.range))}static _flattenDocumentSymbols(u,s,n){for(const d of s)u.push({kind:d.kind,tags:d.tags,name:d.name,detail:d.detail,containerName:d.containerName||n,range:d.range,selectionRange:d.selectionRange,children:void 0}),d.children&&l._flattenDocumentSymbols(u,d.children,d.name)}}e.OutlineModel=l,l._requestDurations=new i.LanguageFeatureRequestDelays(p.DocumentSymbolProviderRegistry,350),l._requests=new L.LRUCache(9,.75),l._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(c,u){return`${c.id}/${u?c.getVersionId():""}/${this._hash(p.DocumentSymbolProviderRegistry.all(c))}`}_hash(c){let u="";for(const s of c){let n=this._data.get(s);typeof n=="undefined"&&(n=this._counter++,this._data.set(s,n)),u+=n}return u}}}),define(ee[555],te([0,1,178,31,45]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const L=5e3;e.ID_INDENT_PROVIDER="indent";class S{constructor(v){this.editorModel=v,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(v){let r=T.LanguageConfigurationRegistry.getFoldingRules(this.editorModel.getLanguageIdentifier().id),a=r&&!!r.offSide,l=r&&r.markers;return Promise.resolve(C(this.editorModel,a,l))}}e.IndentRangeProvider=S;class p{constructor(v){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=v}insertFirst(v,r,a){if(v>b.MAX_LINE_NUMBER||r>b.MAX_LINE_NUMBER)return;let l=this._length;this._startIndexes[l]=v,this._endIndexes[l]=r,this._length++,a<1e3&&(this._indentOccurrences[a]=(this._indentOccurrences[a]||0)+1)}toIndentRanges(v){if(this._length<=this._foldingRangesLimit){let r=new Uint32Array(this._length),a=new Uint32Array(this._length);for(let l=this._length-1,c=0;l>=0;l--,c++)r[c]=this._startIndexes[l],a[c]=this._endIndexes[l];return new b.FoldingRegions(r,a)}else{let r=0,a=this._indentOccurrences.length;for(let s=0;s<this._indentOccurrences.length;s++){let n=this._indentOccurrences[s];if(n){if(n+r>this._foldingRangesLimit){a=s;break}r+=n}}const l=v.getOptions().tabSize;let c=new Uint32Array(this._foldingRangesLimit),u=new Uint32Array(this._foldingRangesLimit);for(let s=this._length-1,n=0;s>=0;s--){let d=this._startIndexes[s],t=v.getLineContent(d),o=k.TextModel.computeIndentLevel(t,l);(o<a||o===a&&r++<this._foldingRangesLimit)&&(c[n]=d,u[n]=this._endIndexes[s],n++)}return new b.FoldingRegions(c,u)}}}e.RangesCollector=p;function C(i,v,r,a=L){const l=i.getOptions().tabSize;let c=new p(a),u;r&&(u=new RegExp(`(${r.start.source})|(?:${r.end.source})`));let s=[],n=i.getLineCount()+1;s.push({indent:-1,endAbove:n,line:n});for(let d=i.getLineCount();d>0;d--){let t=i.getLineContent(d),o=k.TextModel.computeIndentLevel(t,l),h=s[s.length-1];if(o===-1){v&&(h.endAbove=d);continue}let m;if(u&&(m=t.match(u)))if(m[1]){let y=s.length-1;for(;y>0&&s[y].indent!==-2;)y--;if(y>0){s.length=y+1,h=s[y],c.insertFirst(d,h.line,o),h.line=d,h.indent=o,h.endAbove=d;continue}}else{s.push({indent:-2,endAbove:d,line:d});continue}if(h.indent>o){do s.pop(),h=s[s.length-1];while(h.indent>o);let y=h.endAbove-1;y-d>=1&&c.insertFirst(d,y,o)}h.indent===o?h.endAbove=d:s.push({indent:o,endAbove:d,line:d})}return c.toIndentRanges(i)}e.computeRanges=C}),define(ee[556],te([0,1,8,184,3,21,112,45,232]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;class i{constructor(r,a,l){this._selection=r,this._isMovingDown=a,this._autoIndent=l,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(r,a){let l=r.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===l){this._selectionId=a.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=a.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let c=this._selection;c.startLineNumber<c.endLineNumber&&c.endColumn===1&&(this._moveEndPositionDown=!0,c=c.setEndPosition(c.endLineNumber-1,r.getLineMaxColumn(c.endLineNumber-1)));const{tabSize:u,indentSize:s,insertSpaces:n}=r.getOptions();let d=this.buildIndentConverter(u,s,n),t={getLineTokens:o=>r.getLineTokens(o),getLanguageIdentifier:()=>r.getLanguageIdentifier(),getLanguageIdAtPosition:(o,h)=>r.getLanguageIdAtPosition(o,h),getLineContent:null};if(c.startLineNumber===c.endLineNumber&&r.getLineMaxColumn(c.startLineNumber)===1){let o=c.startLineNumber,h=this._isMovingDown?o+1:o-1;r.getLineMaxColumn(h)===1?a.addEditOperation(new T.Range(1,1,1,1),null):(a.addEditOperation(new T.Range(o,1,o,1),r.getLineContent(h)),a.addEditOperation(new T.Range(h,1,h,r.getLineMaxColumn(h)),null)),c=new L.Selection(h,1,h,1)}else{let o,h;if(this._isMovingDown){o=c.endLineNumber+1,h=r.getLineContent(o),a.addEditOperation(new T.Range(o-1,r.getLineMaxColumn(o-1),o,r.getLineMaxColumn(o)),null);let m=h;if(this.shouldAutoIndent(r,c)){let y=this.matchEnterRule(r,d,u,o,c.startLineNumber-1);if(y!==null){let g=b.getLeadingWhitespace(r.getLineContent(o)),f=y+C.getSpaceCnt(g,u);m=C.generateIndent(f,u,n)+this.trimLeft(h)}else{t.getLineContent=f=>f===c.startLineNumber?r.getLineContent(o):r.getLineContent(f);let g=p.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,r.getLanguageIdAtPosition(o,1),c.startLineNumber,d);if(g!==null){let f=b.getLeadingWhitespace(r.getLineContent(o)),_=C.getSpaceCnt(g,u),D=C.getSpaceCnt(f,u);_!==D&&(m=C.generateIndent(_,u,n)+this.trimLeft(h))}}a.addEditOperation(new T.Range(c.startLineNumber,1,c.startLineNumber,1),m+`
`);let w=this.matchEnterRuleMovingDown(r,d,u,c.startLineNumber,o,m);if(w!==null)w!==0&&this.getIndentEditsOfMovingBlock(r,a,c,u,n,w);else{t.getLineContent=f=>f===c.startLineNumber?m:f>=c.startLineNumber+1&&f<=c.endLineNumber+1?r.getLineContent(f-1):r.getLineContent(f);let g=p.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,r.getLanguageIdAtPosition(o,1),c.startLineNumber+1,d);if(g!==null){const f=b.getLeadingWhitespace(r.getLineContent(c.startLineNumber)),_=C.getSpaceCnt(g,u),D=C.getSpaceCnt(f,u);if(_!==D){const N=_-D;this.getIndentEditsOfMovingBlock(r,a,c,u,n,N)}}}}else a.addEditOperation(new T.Range(c.startLineNumber,1,c.startLineNumber,1),m+`
`)}else if(o=c.startLineNumber-1,h=r.getLineContent(o),a.addEditOperation(new T.Range(o,1,o+1,1),null),a.addEditOperation(new T.Range(c.endLineNumber,r.getLineMaxColumn(c.endLineNumber),c.endLineNumber,r.getLineMaxColumn(c.endLineNumber)),`
`+h),this.shouldAutoIndent(r,c)){t.getLineContent=y=>y===o?r.getLineContent(c.startLineNumber):r.getLineContent(y);let m=this.matchEnterRule(r,d,u,c.startLineNumber,c.startLineNumber-2);if(m!==null)m!==0&&this.getIndentEditsOfMovingBlock(r,a,c,u,n,m);else{let y=p.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,r.getLanguageIdAtPosition(c.startLineNumber,1),o,d);if(y!==null){let w=b.getLeadingWhitespace(r.getLineContent(c.startLineNumber)),g=C.getSpaceCnt(y,u),f=C.getSpaceCnt(w,u);if(g!==f){let _=g-f;this.getIndentEditsOfMovingBlock(r,a,c,u,n,_)}}}}}this._selectionId=a.trackSelection(c)}buildIndentConverter(r,a,l){return{shiftIndent:c=>k.ShiftCommand.shiftIndent(c,c.length+1,r,a,l),unshiftIndent:c=>k.ShiftCommand.unshiftIndent(c,c.length+1,r,a,l)}}parseEnterResult(r,a,l,c,u){if(u){let s=u.indentation;u.indentAction===S.IndentAction.None||u.indentAction===S.IndentAction.Indent?s=u.indentation+u.appendText:u.indentAction===S.IndentAction.IndentOutdent?s=u.indentation:u.indentAction===S.IndentAction.Outdent&&(s=a.unshiftIndent(u.indentation)+u.appendText);let n=r.getLineContent(c);if(this.trimLeft(n).indexOf(this.trimLeft(s))>=0){let d=b.getLeadingWhitespace(r.getLineContent(c)),t=b.getLeadingWhitespace(s),o=p.LanguageConfigurationRegistry.getIndentMetadata(r,c);o!==null&&o&2&&(t=a.unshiftIndent(t));let h=C.getSpaceCnt(t,l),m=C.getSpaceCnt(d,l);return h-m}}return null}matchEnterRuleMovingDown(r,a,l,c,u,s){if(b.lastNonWhitespaceIndex(s)>=0){let n=r.getLineMaxColumn(u),d=p.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,r,new T.Range(u,n,u,n));return this.parseEnterResult(r,a,l,c,d)}else{let n=c-1;for(;n>=1;){let o=r.getLineContent(n);if(b.lastNonWhitespaceIndex(o)>=0)break;n--}if(n<1||c>r.getLineCount())return null;let d=r.getLineMaxColumn(n),t=p.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,r,new T.Range(n,d,n,d));return this.parseEnterResult(r,a,l,c,t)}}matchEnterRule(r,a,l,c,u,s){let n=u;for(;n>=1;){let o;if(n===u&&s!==void 0?o=s:o=r.getLineContent(n),b.lastNonWhitespaceIndex(o)>=0)break;n--}if(n<1||c>r.getLineCount())return null;let d=r.getLineMaxColumn(n),t=p.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,r,new T.Range(n,d,n,d));return this.parseEnterResult(r,a,l,c,t)}trimLeft(r){return r.replace(/^\s+/,"")}shouldAutoIndent(r,a){if(this._autoIndent<4||!r.isCheapToTokenize(a.startLineNumber))return!1;let l=r.getLanguageIdAtPosition(a.startLineNumber,1),c=r.getLanguageIdAtPosition(a.endLineNumber,1);return!(l!==c||p.LanguageConfigurationRegistry.getIndentRulesSupport(l)===null)}getIndentEditsOfMovingBlock(r,a,l,c,u,s){for(let n=l.startLineNumber;n<=l.endLineNumber;n++){let d=r.getLineContent(n),t=b.getLeadingWhitespace(d),h=C.getSpaceCnt(t,c)+s,m=C.generateIndent(h,c,u);m!==t&&(a.addEditOperation(new T.Range(n,1,n,t.length+1),m),n===l.endLineNumber&&l.endColumn<=t.length+1&&m===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(r,a){let l=a.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(l=l.setEndPosition(l.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&l.startLineNumber<l.endLineNumber&&(l=l.setEndPosition(l.endLineNumber,2)),l}}e.MoveLinesCommand=i}),define(ee[557],te([0,1,7,107,29,125,2,42,3,31,362]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const v=new T.Color(new T.RGBA(0,122,204)),r={showArrow:!0,showFrame:!0,className:"",frameColor:v,arrowColor:v,keepEditorSelection:!1},a="vs.editor.contrib.zoneWidget";class l{constructor(d,t,o,h,m,y){this.id="",this.domNode=d,this.afterLineNumber=t,this.afterColumn=o,this.heightInLines=h,this._onDomNodeTop=m,this._onComputedHeight=y}onDomNodeTop(d){this._onDomNodeTop(d)}onComputedHeight(d){this._onComputedHeight(d)}}e.ViewZoneDelegate=l;class c{constructor(d,t){this._id=d,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=c;class u{constructor(d){this._editor=d,this._ruleName=u._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),b.removeCSSRulesContainingSelector(this._ruleName)}set color(d){this._color!==d&&(this._color=d,this._updateStyle())}set height(d){this._height!==d&&(this._height=d,this._updateStyle())}_updateStyle(){b.removeCSSRulesContainingSelector(this._ruleName),b.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(d){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:C.Range.fromPositions(d),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}u._IdGenerator=new L.IdGenerator(".arrow-decoration-");class s{constructor(d,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new S.DisposableStore,this.container=null,this._isShowing=!1,this.editor=d,this.options=p.deepClone(t),p.mixin(this.options,r,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(o=>{const h=this._getWidth(o);this.domNode.style.width=h+"px",this.domNode.style.left=this._getLeft(o)+"px",this._onWidth(h)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(d=>{this._viewZone&&d.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new u(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(d){d.frameColor&&(this.options.frameColor=d.frameColor),d.arrowColor&&(this.options.arrowColor=d.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let d=this.options.frameColor.toString();this.container.style.borderTopColor=d,this.container.style.borderBottomColor=d}if(this._arrow&&this.options.arrowColor){let d=this.options.arrowColor.toString();this._arrow.color=d}}_getWidth(d){return d.width-d.minimap.minimapWidth-d.verticalScrollbarWidth}_getLeft(d){return d.minimap.minimapWidth>0&&d.minimap.minimapLeft===0?d.minimap.minimapWidth:0}_onViewZoneTop(d){this.domNode.style.top=d+"px"}_onViewZoneHeight(d){if(this.domNode.style.height=`${d}px`,this.container){let t=d-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const o=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(o))}this._resizeSash&&this._resizeSash.layout()}get position(){const[d]=this._positionMarkerId;if(!d)return;const t=this.editor.getModel();if(!t)return;const o=t.getDecorationRange(d);if(!!o)return o.getStartPosition()}show(d,t){const o=C.Range.isIRange(d)?C.Range.lift(d):C.Range.fromPositions(d);this._isShowing=!0,this._showImpl(o,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:o,options:i.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(d=>{this._viewZone&&d.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let d=this.editor.getOption(57),t=0;if(this.options.showArrow){let o=Math.round(d/3);t+=2*o}if(this.options.showFrame){let o=Math.round(d/9);t+=2*o}return t}_showImpl(d,t){const o=d.getStartPosition(),h=this.editor.getLayoutInfo(),m=this._getWidth(h);this.domNode.style.width=`${m}px`,this.domNode.style.left=this._getLeft(h)+"px";const y=document.createElement("div");y.style.overflow="hidden";const w=this.editor.getOption(57),g=Math.max(12,this.editor.getLayoutInfo().height/w*.8);t=Math.min(t,g);let f=0,_=0;if(this._arrow&&this.options.showArrow&&(f=Math.round(w/3),this._arrow.height=f,this._arrow.show(o)),this.options.showFrame&&(_=Math.round(w/9)),this.editor.changeViewZones(I=>{this._viewZone&&I.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new l(y,o.lineNumber,o.column,t,M=>this._onViewZoneTop(M),M=>this._onViewZoneHeight(M)),this._viewZone.id=I.addZone(this._viewZone),this._overlayWidget=new c(a+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const I=this.options.frameWidth?this.options.frameWidth:_;this.container.style.borderTopWidth=I+"px",this.container.style.borderBottomWidth=I+"px"}let D=t*w-this._decoratingElementsHeight();this.container&&(this.container.style.top=f+"px",this.container.style.height=D+"px",this.container.style.overflow="hidden"),this._doLayout(D,m),this.options.keepEditorSelection||this.editor.setSelection(d);const N=this.editor.getModel();if(N){const I=d.endLineNumber+1;I<=N.getLineCount()?this.revealLine(I,!1):this.revealLine(N.getLineCount(),!0)}}revealLine(d,t){t?this.editor.revealLineInCenter(d,0):this.editor.revealLine(d,0)}setCssClass(d,t){!this.container||(t&&this.container.classList.remove(t),this.container.classList.add(d))}_onWidth(d){}_doLayout(d,t){}_relayout(d){this._viewZone&&this._viewZone.heightInLines!==d&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=d,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new k.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);let d;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(d={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{d=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(d){let o=(t.currentY-d.startY)/this.editor.getOption(57),h=o<0?Math.ceil(o):Math.floor(o),m=d.heightInLines+h;m>5&&m<35&&this._relayout(m)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const d=this.editor.getLayoutInfo();return d.width-d.minimap.minimapWidth}}e.ZoneWidget=s}),define(ee[249],te([0,1,134,18,77,236]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTokenizationSupport=e.MonarchTokenizer=void 0;const S=5;class p{constructor(d){this._maxCacheDepth=d,this._entries=Object.create(null)}static create(d,t){return this._INSTANCE.create(d,t)}create(d,t){if(d!==null&&d.depth>=this._maxCacheDepth)return new C(d,t);let o=C.getStackElementId(d);o.length>0&&(o+="|"),o+=t;let h=this._entries[o];return h||(h=new C(d,t),this._entries[o]=h,h)}}p._INSTANCE=new p(S);class C{constructor(d,t){this.parent=d,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(d){let t="";for(;d!==null;)t.length>0&&(t+="|"),t+=d.state,d=d.parent;return t}static _equals(d,t){for(;d!==null&&t!==null;){if(d===t)return!0;if(d.state!==t.state)return!1;d=d.parent,t=t.parent}return d===null&&t===null}equals(d){return C._equals(this,d)}push(d){return p.create(this,d)}pop(){return this.parent}popall(){let d=this;for(;d.parent;)d=d.parent;return d}switchTo(d){return p.create(this.parent,d)}}class i{constructor(d,t){this.modeId=d,this.state=t}equals(d){return this.modeId===d.modeId&&this.state.equals(d.state)}clone(){return this.state.clone()===this.state?this:new i(this.modeId,this.state)}}class v{constructor(d){this._maxCacheDepth=d,this._entries=Object.create(null)}static create(d,t){return this._INSTANCE.create(d,t)}create(d,t){if(t!==null)return new r(d,t);if(d!==null&&d.depth>=this._maxCacheDepth)return new r(d,t);let o=C.getStackElementId(d),h=this._entries[o];return h||(h=new r(d,null),this._entries[o]=h,h)}}v._INSTANCE=new v(S);class r{constructor(d,t){this.stack=d,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:v.create(this.stack,this.embeddedModeData)}equals(d){return!(d instanceof r)||!this.stack.equals(d.stack)?!1:this.embeddedModeData===null&&d.embeddedModeData===null?!0:this.embeddedModeData===null||d.embeddedModeData===null?!1:this.embeddedModeData.equals(d.embeddedModeData)}}class a{constructor(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(d,t){this._language=t}emit(d,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new b.Token(d,t,this._language)))}nestedModeTokenize(d,t,o,h){const m=o.modeId,y=o.state,w=k.TokenizationRegistry.get(m);if(!w)return this.enterMode(h,m),this.emit(h,""),y;let g=w.tokenize(d,t,y,h);return this._tokens=this._tokens.concat(g.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,g.endState}finalize(d){return new b.TokenizationResult(this._tokens,d)}}class l{constructor(d,t){this._modeService=d,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(d,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id}emit(d,t){let o=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==o&&(this._lastTokenMetadata=o,this._tokens.push(d),this._tokens.push(o))}static _merge(d,t,o){let h=d!==null?d.length:0,m=t.length,y=o!==null?o.length:0;if(h===0&&m===0&&y===0)return new Uint32Array(0);if(h===0&&m===0)return o;if(m===0&&y===0)return d;let w=new Uint32Array(h+m+y);d!==null&&w.set(d);for(let g=0;g<m;g++)w[h+g]=t[g];return o!==null&&w.set(o,h+m),w}nestedModeTokenize(d,t,o,h){const m=o.modeId,y=o.state,w=k.TokenizationRegistry.get(m);if(!w)return this.enterMode(h,m),this.emit(h,""),y;let g=w.tokenize2(d,t,y,h);return this._prependTokens=l._merge(this._prependTokens,this._tokens,g.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,g.endState}finalize(d){return new b.TokenizationResult2(l._merge(this._prependTokens,this._tokens,null),d)}}class c{constructor(d,t,o,h){this._modeService=d,this._standaloneThemeService=t,this._modeId=o,this._lexer=h,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let m=!1;this._tokenizationRegistryListener=k.TokenizationRegistry.onDidChange(y=>{if(m)return;let w=!1;for(let g=0,f=y.changedLanguages.length;g<f;g++){let _=y.changedLanguages[g];if(this._embeddedModes[_]){w=!0;break}}w&&(m=!0,k.TokenizationRegistry.fire([this._modeId]),m=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let d=[];for(let t in this._embeddedModes){const o=k.TokenizationRegistry.get(t);if(o){if(o instanceof c){const m=o.getLoadStatus();m.loaded===!1&&d.push(m.promise)}continue}const h=k.TokenizationRegistry.getPromise(t);h&&d.push(h)}return d.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(d).then(t=>{})}}getInitialState(){let d=p.create(null,this._lexer.start);return v.create(d,null)}tokenize(d,t,o,h){let m=new a,y=this._tokenize(d,t,o,h,m);return m.finalize(y)}tokenize2(d,t,o,h){let m=new l(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),y=this._tokenize(d,t,o,h,m);return m.finalize(y)}_tokenize(d,t,o,h,m){return o.embeddedModeData?this._nestedTokenize(d,t,o,h,m):this._myTokenize(d,t,o,h,m)}_findLeavingNestedModeOffset(d,t){let o=this._lexer.tokenizer[t.stack.state];if(!o&&(o=L.findRules(this._lexer,t.stack.state),!o))throw L.createError(this._lexer,"tokenizer state is not defined: "+t.stack.state);let h=-1,m=!1;for(const y of o){if(!L.isIAction(y.action)||y.action.nextEmbedded!=="@pop")continue;m=!0;let w=y.regex,g=y.regex.source;if(g.substr(0,4)==="^(?:"&&g.substr(g.length-1,1)===")"){let _=(w.ignoreCase?"i":"")+(w.unicode?"u":"");w=new RegExp(g.substr(4,g.length-5),_)}let f=d.search(w);f===-1||f!==0&&y.matchOnlyAtLineStart||(h===-1||f<h)&&(h=f)}if(!m)throw L.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return h}_nestedTokenize(d,t,o,h,m){let y=this._findLeavingNestedModeOffset(d,o);if(y===-1){let f=m.nestedModeTokenize(d,t,o.embeddedModeData,h);return v.create(o.stack,new i(o.embeddedModeData.modeId,f))}let w=d.substring(0,y);w.length>0&&m.nestedModeTokenize(w,!1,o.embeddedModeData,h);let g=d.substring(y);return this._myTokenize(g,t,o,h+y,m)}_safeRuleName(d){return d?d.name:"(unknown)"}_myTokenize(d,t,o,h,m){m.enterMode(h,this._modeId);const y=d.length,w=t&&this._lexer.includeLF?d+`
`:d,g=w.length;let f=o.embeddedModeData,_=o.stack,D=0,N=null,I=!0;for(;I||D<g;){const M=D,O=_.depth,R=N?N.groups.length:0,P=_.state;let A=null,F=null,E=null,W=null,V=null;if(N){A=N.matches;const X=N.groups.shift();F=X.matched,E=X.action,W=N.rule,N.groups.length===0&&(N=null)}else{if(!I&&D>=g)break;I=!1;let X=this._lexer.tokenizer[P];if(!X&&(X=L.findRules(this._lexer,P),!X))throw L.createError(this._lexer,"tokenizer state is not defined: "+P);let J=w.substr(D);for(const ie of X)if((D===0||!ie.matchOnlyAtLineStart)&&(A=J.match(ie.regex),A)){F=A[0],E=ie.action;break}}if(A||(A=[""],F=""),E||(D<g&&(A=[w.charAt(D)],F=A[0]),E=this._lexer.defaultToken),F===null)break;for(D+=F.length;L.isFuzzyAction(E)&&L.isIAction(E)&&E.test;)E=E.test(F,A,P,D===g);let $=null;if(typeof E=="string"||Array.isArray(E))$=E;else if(E.group)$=E.group;else if(E.token!==null&&E.token!==void 0){if(E.tokenSubst?$=L.substituteMatches(this._lexer,E.token,F,A,P):$=E.token,E.nextEmbedded)if(E.nextEmbedded==="@pop"){if(!f)throw L.createError(this._lexer,"cannot pop embedded mode if not inside one");f=null}else{if(f)throw L.createError(this._lexer,"cannot enter embedded mode from within an embedded mode");V=L.substituteMatches(this._lexer,E.nextEmbedded,F,A,P)}if(E.goBack&&(D=Math.max(0,D-E.goBack)),E.switchTo&&typeof E.switchTo=="string"){let X=L.substituteMatches(this._lexer,E.switchTo,F,A,P);if(X[0]==="@"&&(X=X.substr(1)),L.findRules(this._lexer,X))_=_.switchTo(X);else throw L.createError(this._lexer,"trying to switch to a state '"+X+"' that is undefined in rule: "+this._safeRuleName(W))}else{if(E.transform&&typeof E.transform=="function")throw L.createError(this._lexer,"action.transform not supported");if(E.next)if(E.next==="@push"){if(_.depth>=this._lexer.maxStack)throw L.createError(this._lexer,"maximum tokenizer stack size reached: ["+_.state+","+_.parent.state+",...]");_=_.push(P)}else if(E.next==="@pop"){if(_.depth<=1)throw L.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(W));_=_.pop()}else if(E.next==="@popall")_=_.popall();else{let X=L.substituteMatches(this._lexer,E.next,F,A,P);if(X[0]==="@"&&(X=X.substr(1)),L.findRules(this._lexer,X))_=_.push(X);else throw L.createError(this._lexer,"trying to set a next state '"+X+"' that is undefined in rule: "+this._safeRuleName(W))}}E.log&&typeof E.log=="string"&&L.log(this._lexer,this._lexer.languageId+": "+L.substituteMatches(this._lexer,E.log,F,A,P))}if($===null)throw L.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(W));const Z=X=>{let J=this._modeService.getModeIdForLanguageName(X);J&&(X=J);const ie=this._getNestedEmbeddedModeData(X);if(D<g){const de=d.substr(D);return this._nestedTokenize(de,t,v.create(_,ie),h+D,m)}else return v.create(_,ie)};if(Array.isArray($)){if(N&&N.groups.length>0)throw L.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(W));if(A.length!==$.length+1)throw L.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(W));let X=0;for(let J=1;J<A.length;J++)X+=A[J].length;if(X!==F.length)throw L.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(W));N={rule:W,matches:A,groups:[]};for(let J=0;J<$.length;J++)N.groups[J]={action:$[J],matched:A[J+1]};D-=F.length;continue}else{if($==="@rematch"&&(D-=F.length,F="",A=null,$="",V!==null))return Z(V);if(F.length===0){if(g===0||O!==_.depth||P!==_.state||(N?N.groups.length:0)!==R)continue;throw L.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(W))}let X=null;if(L.isString($)&&$.indexOf("@brackets")===0){let J=$.substr("@brackets".length),ie=u(this._lexer,F);if(!ie)throw L.createError(this._lexer,"@brackets token returned but no bracket defined as: "+F);X=L.sanitize(ie.token+J)}else{let J=$===""?"":$+this._lexer.tokenPostfix;X=L.sanitize(J)}M<y&&m.emit(M+h,X)}if(V!==null)return Z(V)}return v.create(_,f)}_getNestedEmbeddedModeData(d){let t=this._locateMode(d);if(t){let o=k.TokenizationRegistry.get(t);if(o)return new i(t,o.getInitialState())}return new i(t||T.NULL_MODE_ID,T.NULL_STATE)}_locateMode(d){if(!d||!this._modeService.isRegisteredMode(d))return null;if(d===this._modeId)return d;let t=this._modeService.getModeId(d);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}}e.MonarchTokenizer=c;function u(n,d){if(!d)return null;d=L.fixCase(n,d);let t=n.brackets;for(const o of t){if(o.open===d)return{token:o.token,bracketType:1};if(o.close===d)return{token:o.token,bracketType:-1}}return null}function s(n,d,t,o){return new c(n,d,t,o)}e.createTokenizationSupport=s}),define(ee[558],te([0,1,15,8,85,18,114,62,249]),function(G,e,b,k,T,L,S,p,C){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const v=(i=window.trustedTypes)===null||i===void 0?void 0:i.createPolicy("standaloneColorizer",{createHTML:u=>u});class r{static colorizeElement(s,n,d,t){t=t||{};let o=t.theme||"vs",h=t.mimeType||d.getAttribute("lang")||d.getAttribute("data-lang");if(!h)return console.error("Mode not detected"),Promise.resolve();s.setTheme(o);let m=d.firstChild?d.firstChild.nodeValue:"";d.className+=" "+o;let y=w=>{var g;const f=(g=v==null?void 0:v.createHTML(w))!==null&&g!==void 0?g:w;d.innerHTML=f};return this.colorize(n,m||"",h,t).then(y,w=>console.error(w))}static colorize(s,n,d,t){let o=4;t&&typeof t.tabSize=="number"&&(o=t.tabSize),k.startsWithUTF8BOM(n)&&(n=n.substr(1));let h=k.splitLines(n),m=s.getModeId(d);if(!m)return Promise.resolve(l(h,o));s.triggerMode(m);const y=L.TokenizationRegistry.get(m);if(y)return a(h,o,y);const w=L.TokenizationRegistry.getPromise(m);return w?new Promise((g,f)=>{w.then(_=>{a(h,o,_).then(g,f)},f)}):new Promise((g,f)=>{let _=null,D=null;const N=()=>{_&&(_.dispose(),_=null),D&&(D.dispose(),D=null);const I=L.TokenizationRegistry.get(m);if(I){a(h,o,I).then(g,f);return}g(l(h,o))};D=new b.TimeoutTimer,D.cancelAndSet(N,500),_=L.TokenizationRegistry.onDidChange(I=>{I.changedLanguages.indexOf(m)>=0&&N()})})}static colorizeLine(s,n,d,t,o=4){const h=p.ViewLineRenderingData.isBasicASCII(s,n),m=p.ViewLineRenderingData.containsRTL(s,h,d);return(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,s,!1,h,m,0,t,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(s,n,d=4){let t=s.getLineContent(n);s.forceTokenization(n);let h=s.getLineTokens(n).inflate();return this.colorizeLine(t,s.mightContainNonBasicASCII(),s.mightContainRTL(),h,d)}}e.Colorizer=r;function a(u,s,n){return new Promise((d,t)=>{const o=()=>{const h=c(u,s,n);if(n instanceof C.MonarchTokenizer){const m=n.getLoadStatus();if(m.loaded===!1){m.promise.then(o,t);return}}d(h)};o()})}function l(u,s){let n=[];const d=(0<<11|1<<14|2<<23)>>>0,t=new Uint32Array(2);t[0]=0,t[1]=d;for(let o=0,h=u.length;o<h;o++){let m=u[o];t[0]=m.length;const y=new T.LineTokens(t,m),w=p.ViewLineRenderingData.isBasicASCII(m,!0),g=p.ViewLineRenderingData.containsRTL(m,w,!0);let f=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,m,!1,w,g,0,y,[],s,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(f.html),n.push("<br/>")}return n.join("")}function c(u,s,n){let d=[],t=n.getInitialState();for(let o=0,h=u.length;o<h;o++){let m=u[o],y=n.tokenize2(m,!0,t,0);T.LineTokens.convertToEndOffset(y.tokens,m.length);let w=new T.LineTokens(y.tokens,m);const g=p.ViewLineRenderingData.isBasicASCII(m,!0),f=p.ViewLineRenderingData.containsRTL(m,g,!0);let _=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,m,!1,g,f,0,w.inflate(),[],s,0,0,0,0,-1,"none",!1,!1,null));d=d.concat(_.html),d.push("<br/>"),t=y.endState}return d.join("")}}),define(ee[119],te([0,1,9]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,b.createDecorator)("themeService")}),define(ee[86],te([0,1,9]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,b.createDecorator)("clipboardService")}),define(ee[26],te([0,1,2,20,9,6,72,54]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,T.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new L.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(C,i){if(!C)throw new Error("invalid command");if(typeof C=="string"){if(!i)throw new Error("invalid command");return this.registerCommand({id:C,handler:i})}if(C.description){const c=[];for(let s of C.description.args)c.push(s.constraint);const u=C.handler;C.handler=function(s,...n){return(0,k.validateConstraints)(n,c),u(s,...n)}}const{id:v}=C;let r=this._commands.get(v);r||(r=new S.LinkedList,this._commands.set(v,r));let a=r.unshift(C),l=(0,b.toDisposable)(()=>{a();const c=this._commands.get(v);(c==null?void 0:c.isEmpty())&&this._commands.delete(v)});return this._onDidRegisterCommand.fire(v),l}registerCommandAlias(C,i){return e.CommandsRegistry.registerCommand(C,(v,...r)=>v.get(e.ICommandService).executeCommand(i,...r))}getCommand(C){const i=this._commands.get(C);if(!(!i||i.isEmpty()))return p.Iterable.first(i)}getCommands(){const C=new Map;for(const i of this._commands.keys()){const v=this.getCommand(i);v&&C.set(i,v)}return C}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(ee[250],te([0,1,23,12,24,18,36,26,20,391,3]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function r(s){return s&&!!s.data}e.isSemanticTokens=r;function a(s){return s&&Array.isArray(s.edits)}e.isSemanticTokensEdits=a;function l(s,n,d){const t=c(s);return t?{provider:t,request:Promise.resolve(t.provideDocumentSemanticTokens(s,n,d))}:null}e.getDocumentSemanticTokens=l;function c(s){const n=L.DocumentSemanticTokensProviderRegistry.ordered(s);return n.length>0?n[0]:null}function u(s){const n=L.DocumentRangeSemanticTokensProviderRegistry.ordered(s);return n.length>0?n[0]:null}e.getDocumentRangeSemanticTokensProvider=u,p.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(s,...n)=>Ie(void 0,void 0,void 0,function*(){const[d]=n;(0,C.assertType)(d instanceof T.URI);const t=s.get(S.IModelService).getModel(d);if(!t)return;const o=c(t);return o?o.getLegend():s.get(p.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",d)})),p.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(s,...n)=>Ie(void 0,void 0,void 0,function*(){const[d]=n;(0,C.assertType)(d instanceof T.URI);const t=s.get(S.IModelService).getModel(d);if(!t)return;const o=l(t,null,b.CancellationToken.None);if(!o)return s.get(p.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",d,t.getFullModelRange());const{provider:h,request:m}=o;let y;try{y=yield m}catch(g){(0,k.onUnexpectedExternalError)(g);return}if(!y||!r(y))return;const w=(0,i.encodeSemanticTokensDto)({id:0,type:"full",data:y.data});return y.resultId&&h.releaseDocumentSemanticTokens(y.resultId),w})),p.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(s,...n)=>Ie(void 0,void 0,void 0,function*(){const[d]=n;(0,C.assertType)(d instanceof T.URI);const t=s.get(S.IModelService).getModel(d);if(!t)return;const o=u(t);if(!!o)return o.getLegend()})),p.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(s,...n)=>Ie(void 0,void 0,void 0,function*(){const[d,t]=n;(0,C.assertType)(d instanceof T.URI),(0,C.assertType)(v.Range.isIRange(t));const o=s.get(S.IModelService).getModel(d);if(!o)return;const h=u(o);if(!h)return;let m;try{m=yield h.provideDocumentRangeSemanticTokens(o,v.Range.lift(t),b.CancellationToken.None)}catch(y){(0,k.onUnexpectedExternalError)(y);return}if(!(!m||!r(m)))return(0,i.encodeSemanticTokensDto)({id:0,type:"full",data:m.data})}))}),define(ee[251],te([0,1,23,12,24,18,36,2,26,20]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class v{constructor(){this.lenses=[],this._disposables=new p.DisposableStore}dispose(){this._disposables.dispose()}add(l,c){this._disposables.add(l);for(const u of l.lenses)this.lenses.push({symbol:u,provider:c})}}e.CodeLensModel=v;function r(a,l){return Ie(this,void 0,void 0,function*(){const c=L.CodeLensProviderRegistry.ordered(a),u=new Map,s=new v,n=c.map((d,t)=>Ie(this,void 0,void 0,function*(){u.set(d,t);try{const o=yield Promise.resolve(d.provideCodeLenses(a,l));o&&s.add(o,d)}catch(o){(0,k.onUnexpectedExternalError)(o)}}));return yield Promise.all(n),s.lenses=s.lenses.sort((d,t)=>d.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:d.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:u.get(d.provider)<u.get(t.provider)?-1:u.get(d.provider)>u.get(t.provider)?1:d.symbol.range.startColumn<t.symbol.range.startColumn?-1:d.symbol.range.startColumn>t.symbol.range.startColumn?1:0),s})}e.getCodeLensModel=r,C.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(a,...l){let[c,u]=l;(0,i.assertType)(T.URI.isUri(c)),(0,i.assertType)(typeof u=="number"||!u);const s=a.get(S.IModelService).getModel(c);if(!s)throw(0,k.illegalArgument)();const n=[],d=new p.DisposableStore;return r(s,b.CancellationToken.None).then(t=>{d.add(t);let o=[];for(const h of t.lenses)u==null||Boolean(h.symbol.command)?n.push(h.symbol):u-- >0&&h.provider.resolveCodeLens&&o.push(Promise.resolve(h.provider.resolveCodeLens(s,h.symbol,b.CancellationToken.None)).then(m=>n.push(m||h.symbol)));return Promise.all(o)}).then(()=>n).finally(()=>{setTimeout(()=>d.dispose(),100)})})}),define(ee[252],te([0,1,23,12,24,3,18,36,26]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function i(r,a){const l=[],u=S.ColorProviderRegistry.ordered(r).reverse().map(s=>Promise.resolve(s.provideDocumentColors(r,a)).then(n=>{if(Array.isArray(n))for(let d of n)l.push({colorInfo:d,provider:s})}));return Promise.all(u).then(()=>l)}e.getColors=i;function v(r,a,l,c){return Promise.resolve(l.provideColorPresentations(r,a,c))}e.getColorPresentations=v,C.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(r,...a){const[l]=a;if(!(l instanceof T.URI))throw(0,k.illegalArgument)();const c=r.get(p.IModelService).getModel(l);if(!c)throw(0,k.illegalArgument)();const u=[],n=S.ColorProviderRegistry.ordered(c).reverse().map(d=>Promise.resolve(d.provideDocumentColors(c,b.CancellationToken.None)).then(t=>{if(Array.isArray(t))for(let o of t)u.push({range:o.range,color:[o.color.red,o.color.green,o.color.blue,o.color.alpha]})}));return Promise.all(n).then(()=>u)}),C.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(r,...a){const[l,c]=a,{uri:u,range:s}=c;if(!(u instanceof T.URI)||!Array.isArray(l)||l.length!==4||!L.Range.isIRange(s))throw(0,k.illegalArgument)();const[n,d,t,o]=l,h=r.get(p.IModelService).getModel(u);if(!h)throw(0,k.illegalArgument)();const m={range:s,color:{red:n,green:d,blue:t,alpha:o}},y=[],g=S.ColorProviderRegistry.ordered(h).reverse().map(f=>Promise.resolve(f.provideColorPresentations(h,m,b.CancellationToken.None)).then(_=>{Array.isArray(_)&&y.push(..._)}));return Promise.all(g).then(()=>y)})}),define(ee[559],te([0,1,24,36,23,68,248,26,20]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentSymbols=void 0;function i(v,r,a){return Ie(this,void 0,void 0,function*(){const l=yield S.OutlineModel.create(v,a);return r?l.asListOfDocumentSymbols():l.getTopLevelSymbols()})}e.getDocumentSymbols=i,p.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(v,...r){return Ie(this,void 0,void 0,function*(){const[a]=r;(0,C.assertType)(b.URI.isUri(a));const l=v.get(k.IModelService).getModel(a);if(l)return i(l,!1,T.CancellationToken.None);const c=yield v.get(L.ITextModelService).createModelReference(a);try{return yield i(c.object.textEditorModel,!1,T.CancellationToken.None)}finally{c.dispose()}})})}),define(ee[560],te([0,1,23,12,24,3,18,36,26,2,19,20]),function(G,e,b,k,T,L,S,p,C,i,v,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class a{constructor(s,n){this._link=s,this._provider=n}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(s){return Ie(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,s)).then(n=>(this._link=n||this._link,this._link.url?this.resolve(s):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=a;class l{constructor(s){this._disposables=new i.DisposableStore;let n=[];for(const[d,t]of s){const o=d.links.map(h=>new a(h,t));n=l._union(n,o),(0,i.isDisposable)(d)&&this._disposables.add(d)}this.links=n}dispose(){this._disposables.dispose(),this.links.length=0}static _union(s,n){let d=[],t,o,h,m;for(t=0,h=0,o=s.length,m=n.length;t<o&&h<m;){const y=s[t],w=n[h];if(L.Range.areIntersectingOrTouching(y.range,w.range)){t++;continue}L.Range.compareRangesUsingStarts(y.range,w.range)<0?(d.push(y),t++):(d.push(w),h++)}for(;t<o;t++)d.push(s[t]);for(;h<m;h++)d.push(n[h]);return d}}e.LinksList=l;function c(u,s){const n=[],d=S.LinkProviderRegistry.ordered(u).reverse().map((t,o)=>Promise.resolve(t.provideLinks(u,s)).then(h=>{h&&(n[o]=[h,t])},k.onUnexpectedExternalError));return Promise.all(d).then(()=>{const t=new l((0,v.coalesce)(n));return s.isCancellationRequested?(t.dispose(),new l([])):t})}e.getLinks=c,C.CommandsRegistry.registerCommand("_executeLinkProvider",(u,...s)=>Ie(void 0,void 0,void 0,function*(){let[n,d]=s;(0,r.assertType)(n instanceof T.URI),typeof d!="number"&&(d=0);const t=u.get(p.IModelService).getModel(n);if(!t)return[];const o=yield c(t,b.CancellationToken.None);if(!o)return[];for(let m=0;m<Math.min(d,o.links.length);m++)yield o.links[m].resolve(b.CancellationToken.None);const h=o.links.slice(0);return o.dispose(),h}))}),define(ee[16],te([0,1,8,9,17]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.ContextKeyExpr=void 0;let L=T.userAgent||"";const S=new Map;S.set("false",!1),S.set("true",!0),S.set("isMac",T.isMacintosh),S.set("isLinux",T.isLinux),S.set("isWindows",T.isWindows),S.set("isWeb",T.isWeb),S.set("isMacNative",T.isMacintosh&&!T.isWeb),S.set("isEdge",L.indexOf("Edg/")>=0),S.set("isFirefox",L.indexOf("Firefox")>=0),S.set("isChrome",L.indexOf("Chrome")>=0),S.set("isSafari",L.indexOf("Safari")>=0);const p=Object.prototype.hasOwnProperty;class C{static has(I){return a.create(I)}static equals(I,M){return l.create(I,M)}static regex(I,M){return m.create(I,M)}static not(I){return n.create(I)}static and(...I){return w.create(I)}static or(...I){return g.create(I)}static deserialize(I,M=!1){if(!!I)return this._deserializeOrExpression(I,M)}static _deserializeOrExpression(I,M){let O=I.split("||");return g.create(O.map(R=>this._deserializeAndExpression(R,M)))}static _deserializeAndExpression(I,M){let O=I.split("&&");return w.create(O.map(R=>this._deserializeOne(R,M)))}static _deserializeOne(I,M){if(I=I.trim(),I.indexOf("!=")>=0){let O=I.split("!=");return s.create(O[0].trim(),this._deserializeValue(O[1],M))}if(I.indexOf("==")>=0){let O=I.split("==");return l.create(O[0].trim(),this._deserializeValue(O[1],M))}if(I.indexOf("=~")>=0){let O=I.split("=~");return m.create(O[0].trim(),this._deserializeRegexValue(O[1],M))}if(I.indexOf(" in ")>=0){let O=I.split(" in ");return c.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(I)){const O=I.split(">=");return t.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(I)){const O=I.split(">");return d.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(I)){const O=I.split("<=");return h.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(I)){const O=I.split("<");return o.create(O[0].trim(),O[1].trim())}return/^\!\s*/.test(I)?n.create(I.substr(1).trim()):a.create(I)}static _deserializeValue(I,M){if(I=I.trim(),I==="true")return!0;if(I==="false")return!1;let O=/^'([^']*)'$/.exec(I);return O?O[1].trim():I}static _deserializeRegexValue(I,M){if((0,b.isFalsyOrWhitespace)(I)){if(M)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let O=I.indexOf("/"),R=I.lastIndexOf("/");if(O===R||O<0){if(M)throw new Error(`bad regexp-value '${I}', missing /-enclosure`);return console.warn(`bad regexp-value '${I}', missing /-enclosure`),null}let P=I.slice(O+1,R),A=I[R+1]==="i"?"i":"";try{return new RegExp(P,A)}catch(F){if(M)throw new Error(`bad regexp-value '${I}', parse error: ${F}`);return console.warn(`bad regexp-value '${I}', parse error: ${F}`),null}}}e.ContextKeyExpr=C;function i(N,I){return N.cmp(I)}class v{constructor(){this.type=0}cmp(I){return this.type-I.type}equals(I){return I.type===this.type}evaluate(I){return!1}serialize(){return"false"}keys(){return[]}negate(){return r.INSTANCE}}e.ContextKeyFalseExpr=v,v.INSTANCE=new v;class r{constructor(){this.type=1}cmp(I){return this.type-I.type}equals(I){return I.type===this.type}evaluate(I){return!0}serialize(){return"true"}keys(){return[]}negate(){return v.INSTANCE}}e.ContextKeyTrueExpr=r,r.INSTANCE=new r;class a{constructor(I){this.key=I,this.type=2}static create(I){const M=S.get(I);return typeof M=="boolean"?M?r.INSTANCE:v.INSTANCE:new a(I)}cmp(I){return I.type!==this.type?this.type-I.type:_(this.key,I.key)}equals(I){return I.type===this.type?this.key===I.key:!1}evaluate(I){return!!I.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return n.create(this.key)}}e.ContextKeyDefinedExpr=a;class l{constructor(I,M){this.key=I,this.value=M,this.type=4}static create(I,M){if(typeof M=="boolean")return M?a.create(I):n.create(I);const O=S.get(I);return typeof O=="boolean"?M===(O?"true":"false")?r.INSTANCE:v.INSTANCE:new l(I,M)}cmp(I){return I.type!==this.type?this.type-I.type:D(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return I.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return s.create(this.key,this.value)}}e.ContextKeyEqualsExpr=l;class c{constructor(I,M){this.key=I,this.valueKey=M,this.type=10}static create(I,M){return new c(I,M)}cmp(I){return I.type!==this.type?this.type-I.type:D(this.key,this.valueKey,I.key,I.valueKey)}equals(I){return I.type===this.type?this.key===I.key&&this.valueKey===I.valueKey:!1}evaluate(I){const M=I.getValue(this.valueKey),O=I.getValue(this.key);return Array.isArray(M)?M.indexOf(O)>=0:typeof O=="string"&&typeof M=="object"&&M!==null?p.call(M,O):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return u.create(this)}}e.ContextKeyInExpr=c;class u{constructor(I){this._actual=I,this.type=11}static create(I){return new u(I)}cmp(I){return I.type!==this.type?this.type-I.type:this._actual.cmp(I._actual)}equals(I){return I.type===this.type?this._actual.equals(I._actual):!1}evaluate(I){return!this._actual.evaluate(I)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotInExpr=u;class s{constructor(I,M){this.key=I,this.value=M,this.type=5}static create(I,M){if(typeof M=="boolean")return M?n.create(I):a.create(I);const O=S.get(I);return typeof O=="boolean"?M===(O?"true":"false")?v.INSTANCE:r.INSTANCE:new s(I,M)}cmp(I){return I.type!==this.type?this.type-I.type:D(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return I.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return l.create(this.key,this.value)}}e.ContextKeyNotEqualsExpr=s;class n{constructor(I){this.key=I,this.type=3}static create(I){const M=S.get(I);return typeof M=="boolean"?M?v.INSTANCE:r.INSTANCE:new n(I)}cmp(I){return I.type!==this.type?this.type-I.type:_(this.key,I.key)}equals(I){return I.type===this.type?this.key===I.key:!1}evaluate(I){return!I.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return a.create(this.key)}}e.ContextKeyNotExpr=n;class d{constructor(I,M){this.key=I,this.value=M,this.type=12}static create(I,M){return new d(I,M)}cmp(I){return I.type!==this.type?this.type-I.type:D(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))>parseFloat(this.value)}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return h.create(this.key,this.value)}}e.ContextKeyGreaterExpr=d;class t{constructor(I,M){this.key=I,this.value=M,this.type=13}static create(I,M){return new t(I,M)}cmp(I){return I.type!==this.type?this.type-I.type:D(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))>=parseFloat(this.value)}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return o.create(this.key,this.value)}}e.ContextKeyGreaterEqualsExpr=t;class o{constructor(I,M){this.key=I,this.value=M,this.type=14}static create(I,M){return new o(I,M)}cmp(I){return I.type!==this.type?this.type-I.type:D(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))<parseFloat(this.value)}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return t.create(this.key,this.value)}}e.ContextKeySmallerExpr=o;class h{constructor(I,M){this.key=I,this.value=M,this.type=15}static create(I,M){return new h(I,M)}cmp(I){return I.type!==this.type?this.type-I.type:D(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))<=parseFloat(this.value)}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return d.create(this.key,this.value)}}e.ContextKeySmallerEqualsExpr=h;class m{constructor(I,M){this.key=I,this.regexp=M,this.type=7}static create(I,M){return new m(I,M)}cmp(I){if(I.type!==this.type)return this.type-I.type;if(this.key<I.key)return-1;if(this.key>I.key)return 1;const M=this.regexp?this.regexp.source:"",O=I.regexp?I.regexp.source:"";return M<O?-1:M>O?1:0}equals(I){if(I.type===this.type){const M=this.regexp?this.regexp.source:"",O=I.regexp?I.regexp.source:"";return this.key===I.key&&M===O}return!1}evaluate(I){let M=I.getValue(this.key);return this.regexp?this.regexp.test(M):!1}serialize(){const I=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${I}`}keys(){return[this.key]}negate(){return y.create(this)}}e.ContextKeyRegexExpr=m;class y{constructor(I){this._actual=I,this.type=8}static create(I){return new y(I)}cmp(I){return I.type!==this.type?this.type-I.type:this._actual.cmp(I._actual)}equals(I){return I.type===this.type?this._actual.equals(I._actual):!1}evaluate(I){return!this._actual.evaluate(I)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=y;class w{constructor(I){this.expr=I,this.type=6}static create(I){return w._normalizeArr(I)}cmp(I){if(I.type!==this.type)return this.type-I.type;if(this.expr.length<I.expr.length)return-1;if(this.expr.length>I.expr.length)return 1;for(let M=0,O=this.expr.length;M<O;M++){const R=i(this.expr[M],I.expr[M]);if(R!==0)return R}return 0}equals(I){if(I.type===this.type){if(this.expr.length!==I.expr.length)return!1;for(let M=0,O=this.expr.length;M<O;M++)if(!this.expr[M].equals(I.expr[M]))return!1;return!0}return!1}evaluate(I){for(let M=0,O=this.expr.length;M<O;M++)if(!this.expr[M].evaluate(I))return!1;return!0}static _normalizeArr(I){const M=[];let O=!1;for(const R of I)if(!!R){if(R.type===1){O=!0;continue}if(R.type===0)return v.INSTANCE;if(R.type===6){M.push(...R.expr);continue}M.push(R)}if(M.length===0&&O)return r.INSTANCE;if(M.length!==0){if(M.length===1)return M[0];for(M.sort(i);M.length>1;){const R=M[M.length-1];if(R.type!==9)break;M.pop();const P=M.pop(),A=g.create(R.expr.map(F=>w.create([F,P])));A&&(M.push(A),M.sort(i))}return M.length===1?M[0]:new w(M)}}serialize(){return this.expr.map(I=>I.serialize()).join(" && ")}keys(){const I=[];for(let M of this.expr)I.push(...M.keys());return I}negate(){let I=[];for(let M of this.expr)I.push(M.negate());return g.create(I)}}e.ContextKeyAndExpr=w;class g{constructor(I){this.expr=I,this.type=9}static create(I){const M=g._normalizeArr(I);if(M.length!==0)return M.length===1?M[0]:new g(M)}cmp(I){if(I.type!==this.type)return this.type-I.type;if(this.expr.length<I.expr.length)return-1;if(this.expr.length>I.expr.length)return 1;for(let M=0,O=this.expr.length;M<O;M++){const R=i(this.expr[M],I.expr[M]);if(R!==0)return R}return 0}equals(I){if(I.type===this.type){if(this.expr.length!==I.expr.length)return!1;for(let M=0,O=this.expr.length;M<O;M++)if(!this.expr[M].equals(I.expr[M]))return!1;return!0}return!1}evaluate(I){for(let M=0,O=this.expr.length;M<O;M++)if(this.expr[M].evaluate(I))return!0;return!1}static _normalizeArr(I){let M=[],O=!1;if(I){for(let R=0,P=I.length;R<P;R++){const A=I[R];if(!!A){if(A.type===0){O=!0;continue}if(A.type===1)return[r.INSTANCE];if(A.type===9){M=M.concat(A.expr);continue}M.push(A)}}if(M.length===0&&O)return[v.INSTANCE];M.sort(i)}return M}serialize(){return this.expr.map(I=>I.serialize()).join(" || ")}keys(){const I=[];for(let M of this.expr)I.push(...M.keys());return I}negate(){let I=[];for(let O of this.expr)I.push(O.negate());const M=O=>O.type===9?O.expr:[O];for(;I.length>1;){const O=I.shift(),R=I.shift(),P=[];for(const A of M(O))for(const F of M(R))P.push(C.and(A,F));I.unshift(C.or(...P))}return I[0]}}e.ContextKeyOrExpr=g;class f extends a{constructor(I,M,O){super(I);this._defaultValue=M,typeof O=="object"?f._info.push(Object.assign(Object.assign({},O),{key:I})):O!==!0&&f._info.push({key:I,description:O,type:M!=null?typeof M:void 0})}static all(){return f._info.values()}bindTo(I){return I.createKey(this.key,this._defaultValue)}getValue(I){return I.getContextKeyValue(this.key)}toNegated(){return C.not(this.key)}isEqualTo(I){return C.equals(this.key,I)}}e.RawContextKey=f,f._info=[],e.IContextKeyService=(0,k.createDecorator)("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function _(N,I){return N<I?-1:N>I?1:0}function D(N,I,M,O){return N<M?-1:N>M?1:I<O?-1:I>O?1:0}}),define(ee[25],te([0,1,466,16]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var T;(function(L){L.editorSimpleInput=new k.RawContextKey("editorSimpleInput",!1,!0),L.editorTextFocus=new k.RawContextKey("editorTextFocus",!1,b.localize(0,null)),L.focus=new k.RawContextKey("editorFocus",!1,b.localize(1,null)),L.textInputFocus=new k.RawContextKey("textInputFocus",!1,b.localize(2,null)),L.readOnly=new k.RawContextKey("editorReadonly",!1,b.localize(3,null)),L.inDiffEditor=new k.RawContextKey("inDiffEditor",!1,b.localize(4,null)),L.columnSelection=new k.RawContextKey("editorColumnSelection",!1,b.localize(5,null)),L.writable=L.readOnly.toNegated(),L.hasNonEmptySelection=new k.RawContextKey("editorHasSelection",!1,b.localize(6,null)),L.hasOnlyEmptySelection=L.hasNonEmptySelection.toNegated(),L.hasMultipleSelections=new k.RawContextKey("editorHasMultipleSelections",!1,b.localize(7,null)),L.hasSingleSelection=L.hasMultipleSelections.toNegated(),L.tabMovesFocus=new k.RawContextKey("editorTabMovesFocus",!1,b.localize(8,null)),L.tabDoesNotMoveFocus=L.tabMovesFocus.toNegated(),L.isInWalkThroughSnippet=new k.RawContextKey("isInEmbeddedEditor",!1,!0),L.canUndo=new k.RawContextKey("canUndo",!1,!0),L.canRedo=new k.RawContextKey("canRedo",!1,!0),L.hoverVisible=new k.RawContextKey("editorHoverVisible",!1,b.localize(9,null)),L.inCompositeEditor=new k.RawContextKey("inCompositeEditor",void 0,b.localize(10,null)),L.notInCompositeEditor=L.inCompositeEditor.toNegated(),L.languageId=new k.RawContextKey("editorLangId","",b.localize(11,null)),L.hasCompletionItemProvider=new k.RawContextKey("editorHasCompletionItemProvider",!1,b.localize(12,null)),L.hasCodeActionsProvider=new k.RawContextKey("editorHasCodeActionsProvider",!1,b.localize(13,null)),L.hasCodeLensProvider=new k.RawContextKey("editorHasCodeLensProvider",!1,b.localize(14,null)),L.hasDefinitionProvider=new k.RawContextKey("editorHasDefinitionProvider",!1,b.localize(15,null)),L.hasDeclarationProvider=new k.RawContextKey("editorHasDeclarationProvider",!1,b.localize(16,null)),L.hasImplementationProvider=new k.RawContextKey("editorHasImplementationProvider",!1,b.localize(17,null)),L.hasTypeDefinitionProvider=new k.RawContextKey("editorHasTypeDefinitionProvider",!1,b.localize(18,null)),L.hasHoverProvider=new k.RawContextKey("editorHasHoverProvider",!1,b.localize(19,null)),L.hasDocumentHighlightProvider=new k.RawContextKey("editorHasDocumentHighlightProvider",!1,b.localize(20,null)),L.hasDocumentSymbolProvider=new k.RawContextKey("editorHasDocumentSymbolProvider",!1,b.localize(21,null)),L.hasReferenceProvider=new k.RawContextKey("editorHasReferenceProvider",!1,b.localize(22,null)),L.hasRenameProvider=new k.RawContextKey("editorHasRenameProvider",!1,b.localize(23,null)),L.hasSignatureHelpProvider=new k.RawContextKey("editorHasSignatureHelpProvider",!1,b.localize(24,null)),L.hasInlayHintsProvider=new k.RawContextKey("editorHasInlayHintsProvider",!1,b.localize(25,null)),L.hasDocumentFormattingProvider=new k.RawContextKey("editorHasDocumentFormattingProvider",!1,b.localize(26,null)),L.hasDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,b.localize(27,null)),L.hasMultipleDocumentFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,b.localize(28,null)),L.hasMultipleDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,b.localize(29,null))})(T=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(ee[188],te([0,1,12,13,18,16,23,26,24,20,68]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new L.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new L.RawContextKey("parameterHintsMultipleSignatures",!1)};function r(a,l,c,u){return Ie(this,void 0,void 0,function*(){const s=T.SignatureHelpProviderRegistry.ordered(a);for(const n of s)try{const d=yield n.provideSignatureHelp(a,l,u,c);if(d)return d}catch(d){(0,b.onUnexpectedExternalError)(d)}})}e.provideSignatureHelp=r,p.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(a,...l)=>Ie(void 0,void 0,void 0,function*(){const[c,u,s]=l;(0,i.assertType)(C.URI.isUri(c)),(0,i.assertType)(k.Position.isIPosition(u)),(0,i.assertType)(typeof s=="string"||!s);const n=yield a.get(v.ITextModelService).createModelReference(c);try{const d=yield r(n.object.textEditorModel,k.Position.lift(u),{triggerKind:T.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:s},S.CancellationToken.None);return d?(setTimeout(()=>d.dispose(),0),d.value):void 0}finally{n.dispose()}}))}),define(ee[561],te([0,1,15,12,6,2,94,18,188]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var i;(function(a){a.Default={type:0};class l{constructor(s,n){this.request=s,this.previouslyActiveHints=n,this.type=2}}a.Pending=l;class c{constructor(s){this.hints=s,this.type=1}}a.Active=c})(i||(i={}));class v extends L.Disposable{constructor(l,c=v.DEFAULT_DELAY){super();this._onChangedHints=this._register(new T.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=i.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new L.MutableDisposable),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet,this.triggerId=0,this.editor=l,this.throttledDelayer=new b.Delayer(c),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(u=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(u=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(u=>this.onCursorChange(u))),this._register(this.editor.onDidChangeModelContent(u=>this.onModelContentChange())),this._register(p.SignatureHelpProviderRegistry.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(u=>this.onDidType(u))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(l){this._state.type===2&&this._state.request.cancel(),this._state=l}cancel(l=!1){this.state=i.Default,this.throttledDelayer.cancel(),l||this._onChangedHints.fire(void 0)}trigger(l,c){const u=this.editor.getModel();if(!u||!p.SignatureHelpProviderRegistry.has(u))return;const s=++this.triggerId;this._pendingTriggers.push(l),this.throttledDelayer.trigger(()=>this.doTrigger(s),c).catch(k.onUnexpectedError)}next(){if(this.state.type!==1)return;const l=this.state.hints.signatures.length,c=this.state.hints.activeSignature,u=c%l==l-1,s=this.editor.getOption(74).cycle;if((l<2||u)&&!s){this.cancel();return}this.updateActiveSignature(u&&s?0:c+1)}previous(){if(this.state.type!==1)return;const l=this.state.hints.signatures.length,c=this.state.hints.activeSignature,u=c===0,s=this.editor.getOption(74).cycle;if((l<2||u)&&!s){this.cancel();return}this.updateActiveSignature(u&&s?l-1:c-1)}updateActiveSignature(l){this.state.type===1&&(this.state=new i.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:l})),this._onChangedHints.fire(this.state.hints))}doTrigger(l){return Ie(this,void 0,void 0,function*(){const c=this.state.type===1||this.state.type===2,u=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const s=this._pendingTriggers.reduce(r);this._pendingTriggers=[];const n={triggerKind:s.triggerKind,triggerCharacter:s.triggerCharacter,isRetrigger:c,activeSignatureHelp:u};if(!this.editor.hasModel())return!1;const d=this.editor.getModel(),t=this.editor.getPosition();this.state=new i.Pending((0,b.createCancelablePromise)(o=>(0,C.provideSignatureHelp)(d,t,n,o)),u);try{const o=yield this.state.request;return l!==this.triggerId?(o==null||o.dispose(),!1):!o||!o.value.signatures||o.value.signatures.length===0?(o==null||o.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new i.Active(o.value),this._lastSignatureHelpResult.value=o,this._onChangedHints.fire(this.state.hints),!0)}catch(o){return l===this.triggerId&&(this.state=i.Default),(0,k.onUnexpectedError)(o),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet;const l=this.editor.getModel();if(!!l)for(const c of p.SignatureHelpProviderRegistry.ordered(l)){for(const u of c.signatureHelpTriggerCharacters||[])this.triggerChars.add(u.charCodeAt(0)),this.retriggerChars.add(u.charCodeAt(0));for(const u of c.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(u.charCodeAt(0))}}onDidType(l){if(!this.triggerOnType)return;const c=l.length-1,u=l.charCodeAt(c);(this.triggerChars.has(u)||this.isTriggered&&this.retriggerChars.has(u))&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:l.charAt(c)})}onCursorChange(l){l.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(74).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=v,v.DEFAULT_DELAY=120;function r(a,l){switch(l.triggerKind){case p.SignatureHelpTriggerKind.Invoke:return l;case p.SignatureHelpTriggerKind.ContentChange:return a;case p.SignatureHelpTriggerKind.TriggerCharacter:default:return l}}});var Ce=this&&this.__param||function(G,e){return function(b,k){e(b,k,G)}};define(ee[562],te([0,1,16]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let k=class lt{constructor(L,S){this._editor=L,this._index=0,this._ckOtherSuggestions=lt.OtherSuggestions.bindTo(S)}dispose(){this.reset()}reset(){var L;this._ckOtherSuggestions.reset(),(L=this._listener)===null||L===void 0||L.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:L,index:S},p){if(L.items.length===0){this.reset();return}if(lt._moveIndex(!0,L,S)===S){this.reset();return}this._acceptNext=p,this._model=L,this._index=S,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(L,S,p){let C=p;for(;C=(C+S.items.length+(L?1:-1))%S.items.length,!(C===p||!S.items[C].completion.additionalTextEdits););return C}next(){this._move(!0)}prev(){this._move(!1)}_move(L){if(!!this._model)try{this._ignore=!0,this._index=lt._moveIndex(L,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};k.OtherSuggestions=new b.RawContextKey("hasOtherSuggestions",!1),k=Re([Ce(1,b.IContextKeyService)],k),e.SuggestAlternatives=k}),define(ee[563],te([0,1,16]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let k=class Rt{constructor(L,S){this._editor=L,this._enabled=!1,this._ckAtEnd=Rt.AtEnd.bindTo(S),this._configListener=this._editor.onDidChangeConfiguration(p=>p.hasChanged(110)&&this._update()),this._update()}dispose(){var L;this._configListener.dispose(),(L=this._selectionListener)===null||L===void 0||L.dispose(),this._ckAtEnd.reset()}_update(){const L=this._editor.getOption(110)==="on";if(this._enabled!==L)if(this._enabled=L,this._enabled){const S=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const p=this._editor.getModel(),C=this._editor.getSelection(),i=p.getWordAtPosition(C.getStartPosition());if(!i){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(i.endColumn===C.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(S),S()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};k.AtEnd=new b.RawContextKey("atEndOfWord",!1),k=Re([Ce(1,b.IContextKeyService)],k),e.WordContextKey=k}),define(ee[64],te([0,1,9,16]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,b.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new k.RawContextKey("accessibilityModeEnabled",!1)}),define(ee[253],te([0,1,535,16,17]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContextKey=e.IsWindowsContext=void 0,e.IsWindowsContext=new k.RawContextKey("isWindows",T.isWindows,(0,b.localize)(0,null)),e.InputFocusedContextKey="inputFocus"}),define(ee[69],te([0,1,9]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,b.createDecorator)("contextViewService"),e.IContextMenuService=(0,b.createDecorator)("contextMenuService")}),define(ee[120],te([0,1,9]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,b.createDecorator)("dialogService")}),define(ee[143],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class b{constructor(...T){this._entries=new Map;for(let[L,S]of T)this.set(L,S)}set(T,L){const S=this._entries.get(T);return this._entries.set(T,L),S}has(T){return this._entries.has(T)}get(T){return this._entries.get(T)}}e.ServiceCollection=b}),define(ee[564],te([0,1,12,547,241,9,143,15]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationService=void 0;const C=!1;class i extends Error{constructor(l){var c;super("cyclic dependency between services");this.message=(c=l.findCycleSlow())!==null&&c!==void 0?c:`UNABLE to detect cycle, dumping graph: 
${l.toString()}`}}class v{constructor(l=new S.ServiceCollection,c=!1,u){this._activeInstantiations=new Set,this._services=l,this._strict=c,this._parent=u,this._services.set(L.IInstantiationService,this)}createChild(l){return new v(l,this._strict,this)}invokeFunction(l,...c){let u=r.traceInvocation(l),s=!1;try{return l({get:(d,t)=>{if(s)throw(0,b.illegalState)("service accessor is only valid during the invocation of its target method");const o=this._getOrCreateServiceInstance(d,u);if(!o&&t!==L.optional)throw new Error(`[invokeFunction] unknown service '${d}'`);return o}},...c)}finally{s=!0,u.stop()}}createInstance(l,...c){let u,s;return l instanceof T.SyncDescriptor?(u=r.traceCreation(l.ctor),s=this._createInstance(l.ctor,l.staticArguments.concat(c),u)):(u=r.traceCreation(l),s=this._createInstance(l,c,u)),u.stop(),s}_createInstance(l,c=[],u){let s=L._util.getServiceDependencies(l).sort((t,o)=>t.index-o.index),n=[];for(const t of s){let o=this._getOrCreateServiceInstance(t.id,u);if(!o&&this._strict&&!t.optional)throw new Error(`[createInstance] ${l.name} depends on UNKNOWN service ${t.id}.`);n.push(o)}let d=s.length>0?s[0].index:c.length;if(c.length!==d){console.warn(`[createInstance] First service dependency of ${l.name} at position ${d+1} conflicts with ${c.length} static arguments`);let t=d-c.length;t>0?c=c.concat(new Array(t)):c=c.slice(0,d)}return new l(...[...c,...n])}_setServiceInstance(l,c){if(this._services.get(l)instanceof T.SyncDescriptor)this._services.set(l,c);else if(this._parent)this._parent._setServiceInstance(l,c);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(l){let c=this._services.get(l);return!c&&this._parent?this._parent._getServiceInstanceOrDescriptor(l):c}_getOrCreateServiceInstance(l,c){let u=this._getServiceInstanceOrDescriptor(l);return u instanceof T.SyncDescriptor?this._safeCreateAndCacheServiceInstance(l,u,c.branch(l,!0)):(c.branch(l,!1),u)}_safeCreateAndCacheServiceInstance(l,c,u){if(this._activeInstantiations.has(l))throw new Error(`illegal state - RECURSIVELY instantiating service '${l}'`);this._activeInstantiations.add(l);try{return this._createAndCacheServiceInstance(l,c,u)}finally{this._activeInstantiations.delete(l)}}_createAndCacheServiceInstance(l,c,u){const s=new k.Graph(t=>t.id.toString());let n=0;const d=[{id:l,desc:c,_trace:u}];for(;d.length;){const t=d.pop();if(s.lookupOrInsertNode(t),n++>1e3)throw new i(s);for(let o of L._util.getServiceDependencies(t.desc.ctor)){let h=this._getServiceInstanceOrDescriptor(o.id);if(!h&&!o.optional&&console.warn(`[createInstance] ${l} depends on ${o.id} which is NOT registered.`),h instanceof T.SyncDescriptor){const m={id:o.id,desc:h,_trace:t._trace.branch(o.id,!0)};s.insertEdge(t,m),d.push(m)}}}for(;;){const t=s.roots();if(t.length===0){if(!s.isEmpty())throw new i(s);break}for(const{data:o}of t){if(this._getServiceInstanceOrDescriptor(o.id)instanceof T.SyncDescriptor){const m=this._createServiceInstanceWithOwner(o.id,o.desc.ctor,o.desc.staticArguments,o.desc.supportsDelayedInstantiation,o._trace);this._setServiceInstance(o.id,m)}s.removeNode(o)}}return this._getServiceInstanceOrDescriptor(l)}_createServiceInstanceWithOwner(l,c,u=[],s,n){if(this._services.get(l)instanceof T.SyncDescriptor)return this._createServiceInstance(c,u,s,n);if(this._parent)return this._parent._createServiceInstanceWithOwner(l,c,u,s,n);throw new Error(`illegalState - creating UNKNOWN service instance ${c.name}`)}_createServiceInstance(l,c=[],u,s){if(u){const n=new p.IdleValue(()=>this._createInstance(l,c,s));return new Proxy(Object.create(null),{get(d,t){if(t in d)return d[t];let o=n.value,h=o[t];return typeof h!="function"||(h=h.bind(o),d[t]=h),h},set(d,t,o){return n.value[t]=o,!0}})}else return this._createInstance(l,c,s)}}e.InstantiationService=v;class r{constructor(l,c){this.type=l,this.name=c,this._start=Date.now(),this._dep=[]}static traceInvocation(l){return C?new r(1,l.name||l.toString().substring(0,42).replace(/\n/g,"")):r._None}static traceCreation(l){return C?new r(0,l.name):r._None}branch(l,c){let u=new r(2,l.toString());return this._dep.push([l,c,u]),u}stop(){let l=Date.now()-this._start;r._totals+=l;let c=!1;function u(n,d){let t=[],o=new Array(n+1).join("	");for(const[h,m,y]of d._dep)if(m&&y){c=!0,t.push(`${o}CREATES -> ${h}`);let w=u(n+1,y);w&&t.push(w)}else t.push(`${o}uses -> ${h}`);return t.join(`
`)}let s=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${u(1,this)}`,`DONE, took ${l.toFixed(2)}ms (grand total ${r._totals.toFixed(2)}ms)`];(l>2||c)&&console.log(s.join(`
`))}}r._None=new class extends r{constructor(){super(-1,null)}stop(){}branch(){return this}},r._totals=0}),define(ee[565],te([0,1,536,15,6,2]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;class S extends L.Disposable{constructor(C,i,v,r,a){super();this._contextKeyService=C,this._commandService=i,this._telemetryService=v,this._notificationService=r,this._logService=a,this._onDidUpdateKeybindings=this._register(new T.Emitter),this._currentChord=null,this._currentChordChecker=new k.IntervalTimer,this._currentChordStatusMessage=null,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new k.TimeoutTimer,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:T.Event.None}dispose(){super.dispose()}_log(C){this._logging&&this._logService.info(`[KeybindingService]: ${C}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(C,i){const v=this._getResolver().lookupPrimaryKeybinding(C,i||this._contextKeyService);if(!!v)return v.resolvedKeybinding}dispatchEvent(C,i){return this._dispatch(C,i)}softDispatch(C,i){const v=this.resolveKeyboardEvent(C);if(v.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[r]=v.getDispatchParts();if(r===null)return null;const a=this._contextKeyService.getContext(i),l=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(a,l,r)}_enterChordMode(C,i){this._currentChord={keypress:C,label:i},this._currentChordStatusMessage=this._notificationService.status(b.localize(0,null,i));const v=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-v>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(C,i){return this._doDispatch(this.resolveKeyboardEvent(C),i,!1)}_singleModifierDispatch(C,i){const v=this.resolveKeyboardEvent(C),[r]=v.getSingleModifierDispatchParts();return r!==null&&this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${r}.`),this._currentSingleModifier=r,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):r!==null&&r===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${r} ${r}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(v,i,!0)):(this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1)}_doDispatch(C,i,v=!1){let r=!1;if(C.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let a=null,l=null;if(v){const[n]=C.getSingleModifierDispatchParts();a=n,l=n}else[a]=C.getDispatchParts(),l=this._currentChord?this._currentChord.keypress:null;if(a===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),r;const c=this._contextKeyService.getContext(i),u=C.getLabel(),s=this._getResolver().resolve(c,l,a);return this._logService.trace("KeybindingService#dispatch",u,s==null?void 0:s.commandId),s&&s.enterChord?(r=!0,this._enterChordMode(a,u),r):(this._currentChord&&(!s||!s.commandId)&&(this._notificationService.status(b.localize(1,null,this._currentChord.label,u),{hideAfter:10*1e3}),r=!0),this._leaveChordMode(),s&&s.commandId&&(s.bubble||(r=!0),typeof s.commandArgs=="undefined"?this._commandService.executeCommand(s.commandId).then(void 0,n=>this._notificationService.warn(n)):this._commandService.executeCommand(s.commandId,s.commandArgs).then(void 0,n=>this._notificationService.warn(n)),this._telemetryService.publicLog2("workbenchActionExecuted",{id:s.commandId,from:"keybinding"})),r)}mightProducePrintableCharacter(C){return C.ctrlKey||C.metaKey?!1:C.keyCode>=31&&C.keyCode<=56||C.keyCode>=21&&C.keyCode<=30}}e.AbstractKeybindingService=S}),define(ee[566],te([0,1,12,182,41]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class L extends T.ResolvedKeybinding{constructor(p,C){super();if(C.length===0)throw(0,b.illegalArgument)("parts");this._os=p,this._parts=C}getLabel(){return k.UILabelProvider.toLabel(this._os,this._parts,p=>this._getLabel(p))}getAriaLabel(){return k.AriaLabelProvider.toLabel(this._os,this._parts,p=>this._getAriaLabel(p))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(p=>this._getPart(p))}_getPart(p){return new T.ResolvedKeybindingPart(p.ctrlKey,p.shiftKey,p.altKey,p.metaKey,this._getLabel(p),this._getAriaLabel(p))}getDispatchParts(){return this._parts.map(p=>this._getDispatchPart(p))}getSingleModifierDispatchParts(){return this._parts.map(p=>this._getSingleModifierDispatchPart(p))}}e.BaseResolvedKeybinding=L}),define(ee[37],te([0,1,9]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,b.createDecorator)("keybindingService")}),define(ee[254],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class b{constructor(S,p,C){this._log=C,this._defaultKeybindings=S,this._defaultBoundCommands=new Map;for(let i=0,v=S.length;i<v;i++){const r=S[i].command;r&&this._defaultBoundCommands.set(r,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=b.combine(S,p);for(let i=0,v=this._keybindings.length;i<v;i++){let r=this._keybindings[i];r.keypressParts.length!==0&&(r.when&&r.when.type===0||this._addKeyPress(r.keypressParts[0],r))}}static _isTargetedForRemoval(S,p,C,i,v){return!(S.command!==i||p&&S.keypressParts[0]!==p||C&&S.keypressParts[1]!==C||v&&(!S.when||!v.equals(S.when)))}static combine(S,p){S=S.slice(0);let C=[];for(const i of p){if(!i.command||i.command.length===0||i.command.charAt(0)!=="-"){C.push(i);continue}const v=i.command.substr(1),r=i.keypressParts[0],a=i.keypressParts[1],l=i.when;for(let c=S.length-1;c>=0;c--)this._isTargetedForRemoval(S[c],r,a,v,l)&&S.splice(c,1)}return S.concat(C)}_addKeyPress(S,p){const C=this._map.get(S);if(typeof C=="undefined"){this._map.set(S,[p]),this._addToLookupMap(p);return}for(let i=C.length-1;i>=0;i--){let v=C[i];if(v.command===p.command)continue;const r=v.keypressParts.length>1,a=p.keypressParts.length>1;r&&a&&v.keypressParts[1]!==p.keypressParts[1]||b.whenIsEntirelyIncluded(v.when,p.when)&&this._removeFromLookupMap(v)}C.push(p),this._addToLookupMap(p)}_addToLookupMap(S){if(!S.command)return;let p=this._lookupMap.get(S.command);typeof p=="undefined"?(p=[S],this._lookupMap.set(S.command,p)):p.push(S)}_removeFromLookupMap(S){if(!S.command)return;let p=this._lookupMap.get(S.command);if(typeof p!="undefined"){for(let C=0,i=p.length;C<i;C++)if(p[C]===S){p.splice(C,1);return}}}static whenIsEntirelyIncluded(S,p){return!p||p.type===1?!0:!S||S.type===1?!1:this._implies(S,p)}static _implies(S,p){const C=S.negate(),i=r=>r.type===9?r.expr:[r];let v=i(C).concat(i(p));for(let r=0;r<v.length;r++){const l=v[r].negate();for(let c=r+1;c<v.length;c++){const u=v[c];if(l.equals(u))return!0}}return!1}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(S,p){const C=this._lookupMap.get(S);if(typeof C=="undefined"||C.length===0)return null;if(C.length===1)return C[0];for(let i=C.length-1;i>=0;i--){const v=C[i];if(p.contextMatchesRules(v.when))return v}return C[C.length-1]}resolve(S,p,C){this._log(`| Resolving ${C}${p?` chorded from ${p}`:""}`);let i=null;if(p!==null){const r=this._map.get(p);if(typeof r=="undefined")return this._log("\\ No keybinding entries."),null;i=[];for(let a=0,l=r.length;a<l;a++){let c=r[a];c.keypressParts[1]===C&&i.push(c)}}else{const r=this._map.get(C);if(typeof r=="undefined")return this._log("\\ No keybinding entries."),null;i=r}let v=this._findCommand(S,i);return v?p===null&&v.keypressParts.length>1&&v.keypressParts[1]!==null?(this._log(`\\ From ${i.length} keybinding entries, matched chord, when: ${k(v.when)}, source: ${T(v)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${i.length} keybinding entries, matched ${v.command}, when: ${k(v.when)}, source: ${T(v)}.`),{enterChord:!1,leaveChord:v.keypressParts.length>1,commandId:v.command,commandArgs:v.commandArgs,bubble:v.bubble}):(this._log(`\\ From ${i.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(S,p){for(let C=p.length-1;C>=0;C--){let i=p[C];if(!!b.contextMatchesRules(S,i.when))return i}return null}static contextMatchesRules(S,p){return p?p.evaluate(S):!0}}e.KeybindingResolver=b;function k(L){return L?`${L.serialize()}`:"no when condition"}function T(L){return L.extensionId?L.isBuiltinExtension?`built-in extension ${L.extensionId}`:`user extension ${L.extensionId}`:L.isDefault?"built-in":"user"}}),define(ee[567],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class b{constructor(L,S,p,C,i,v,r){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=L,this.keypressParts=L?k(L.getDispatchParts()):[],L&&this.keypressParts.length===0&&(this.keypressParts=k(L.getSingleModifierDispatchParts())),this.bubble=S?S.charCodeAt(0)===94:!1,this.command=this.bubble?S.substr(1):S,this.commandArgs=p,this.when=C,this.isDefault=i,this.extensionId=v,this.isBuiltinExtension=r}}e.ResolvedKeybindingItem=b;function k(T){let L=[];for(let S=0,p=T.length;S<p;S++){const C=T[S];if(!C)return L;L.push(C)}return L}e.removeElementsAfterNulls=k}),define(ee[568],te([0,1,41,566]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class T extends k.BaseResolvedKeybinding{constructor(S,p){super(p,S.parts)}_keyCodeToUILabel(S){if(this._os===2)switch(S){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return b.KeyCodeUtils.toString(S)}_getLabel(S){return S.isDuplicateModifierCase()?"":this._keyCodeToUILabel(S.keyCode)}_getAriaLabel(S){return S.isDuplicateModifierCase()?"":b.KeyCodeUtils.toString(S.keyCode)}_getDispatchPart(S){return T.getDispatchStr(S)}static getDispatchStr(S){if(S.isModifierKey())return null;let p="";return S.ctrlKey&&(p+="ctrl+"),S.shiftKey&&(p+="shift+"),S.altKey&&(p+="alt+"),S.metaKey&&(p+="meta+"),p+=b.KeyCodeUtils.toString(S.keyCode),p}_getSingleModifierDispatchPart(S){return S.keyCode===5&&!S.shiftKey&&!S.altKey&&!S.metaKey?"ctrl":S.keyCode===4&&!S.ctrlKey&&!S.altKey&&!S.metaKey?"shift":S.keyCode===6&&!S.ctrlKey&&!S.shiftKey&&!S.metaKey?"alt":S.keyCode===57&&!S.ctrlKey&&!S.shiftKey&&!S.altKey?"meta":null}}e.USLayoutResolvedKeybinding=T}),define(ee[121],te([0,1,9]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,b.createDecorator)("labelService")}),define(ee[144],te([0,1,9]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,b.createDecorator)("layoutService")}),define(ee[569],te([0,1,207,2,144]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let L=class extends k.Disposable{constructor(p){super();this.layoutService=p,this.currentViewDisposable=k.Disposable.None,this.container=p.container,this.contextView=this._register(new b.ContextView(this.container,1)),this.layout(),this._register(p.onDidLayout(()=>this.layout()))}setContainer(p,C){this.contextView.setContainer(p,C||1)}showContextView(p,C,i){C?C!==this.container&&(this.container=C,this.setContainer(C,i?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(p);const v=(0,k.toDisposable)(()=>{this.currentViewDisposable===v&&this.hideContextView()});return this.currentViewDisposable=v,v}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(p){this.contextView.hide(p)}};L=Re([Ce(0,T.ILayoutService)],L),e.ContextViewService=L}),define(ee[70],te([0,1,9,2,6]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,b.createDecorator)("logService");var L;(function(i){i[i.Trace=0]="Trace",i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warning=3]="Warning",i[i.Error=4]="Error",i[i.Critical=5]="Critical",i[i.Off=6]="Off"})(L=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=L.Info;class S extends k.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new T.Emitter)}setLevel(v){this.level!==v&&(this.level=v,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=S;class p extends S{constructor(v=e.DEFAULT_LOG_LEVEL){super();this.setLevel(v)}trace(v,...r){this.getLevel()<=L.Trace&&console.log("%cTRACE","color: #888",v,...r)}debug(v,...r){this.getLevel()<=L.Debug&&console.log("%cDEBUG","background: #eee; color: #888",v,...r)}info(v,...r){this.getLevel()<=L.Info&&console.log("%c INFO","color: #33f",v,...r)}error(v,...r){this.getLevel()<=L.Error&&console.log("%c  ERR","color: #f33",v,...r)}dispose(){}}e.ConsoleLogger=p;class C extends k.Disposable{constructor(v){super();this.logger=v,this._register(v)}getLevel(){return this.logger.getLevel()}trace(v,...r){this.logger.trace(v,...r)}debug(v,...r){this.logger.debug(v,...r)}info(v,...r){this.logger.info(v,...r)}error(v,...r){this.logger.error(v,...r)}}e.LogService=C}),define(ee[255],te([0,1,15,2,204,301,3,18,45,397,36,142,8,19,70,81,12]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerServiceImpl=void 0;const n=60*1e3,d=5*60*1e3;function t(_,D){let N=_.getModel(D);return!(!N||N.isTooLargeForSyncing())}let o=class extends k.Disposable{constructor(D,N,I){super();this._modelService=D,this._workerManager=this._register(new m(this._modelService)),this._logService=I,this._register(p.LinkProviderRegistry.register("*",{provideLinks:(M,O)=>t(this._modelService,M.uri)?this._workerManager.withWorker().then(R=>R.computeLinks(M.uri)).then(R=>R&&{links:R}):Promise.resolve({links:[]})})),this._register(p.CompletionProviderRegistry.register("*",new h(this._workerManager,N,this._modelService)))}dispose(){super.dispose()}canComputeDiff(D,N){return t(this._modelService,D)&&t(this._modelService,N)}computeDiff(D,N,I,M){return this._workerManager.withWorker().then(O=>O.computeDiff(D,N,I,M))}computeMoreMinimalEdits(D,N){if((0,l.isNonEmptyArray)(N)){if(!t(this._modelService,D))return Promise.resolve(N);const I=u.StopWatch.create(!0),M=this._workerManager.withWorker().then(O=>O.computeMoreMinimalEdits(D,N));return M.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",D.toString(!0),I.elapsed())),Promise.race([M,(0,b.timeout)(1e3).then(()=>N)])}else return Promise.resolve(void 0)}canNavigateValueSet(D){return t(this._modelService,D)}navigateValueSet(D,N,I){return this._workerManager.withWorker().then(M=>M.navigateValueSet(D,N,I))}canComputeWordRanges(D){return t(this._modelService,D)}computeWordRanges(D,N){return this._workerManager.withWorker().then(I=>I.computeWordRanges(D,N))}};o=Re([Ce(0,v.IModelService),Ce(1,r.ITextResourceConfigurationService),Ce(2,c.ILogService)],o),e.EditorWorkerServiceImpl=o;class h{constructor(D,N,I){this._debugDisplayName="wordbasedCompletions",this._workerManager=D,this._configurationService=N,this._modelService=I}provideCompletionItems(D,N){return Ie(this,void 0,void 0,function*(){const I=this._configurationService.getValue(D.uri,N,"editor");if(!I.wordBasedSuggestions)return;const M=[];if(I.wordBasedSuggestionsMode==="currentDocument")t(this._modelService,D.uri)&&M.push(D.uri);else for(const W of this._modelService.getModels())!t(this._modelService,W.uri)||(W===D?M.unshift(W.uri):(I.wordBasedSuggestionsMode==="allDocuments"||W.getLanguageIdentifier().id===D.getLanguageIdentifier().id)&&M.push(W.uri));if(M.length===0)return;const O=C.LanguageConfigurationRegistry.getWordDefinition(D.getLanguageIdentifier().id),R=D.getWordAtPosition(N),P=R?new S.Range(N.lineNumber,R.startColumn,N.lineNumber,R.endColumn):S.Range.fromPositions(N),A=P.setEndPosition(N.lineNumber,N.column),E=yield(yield this._workerManager.withWorker()).textualSuggest(M,R==null?void 0:R.word,O);if(!!E)return{duration:E.duration,suggestions:E.words.map(W=>({kind:18,label:W,insertText:W,range:{insert:A,replace:P}}))}})}}class m extends k.Disposable{constructor(D){super();this._modelService=D,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new b.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(d/2)),this._register(this._modelService.onModelRemoved(I=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>d&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new f(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class y extends k.Disposable{constructor(D,N,I){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=D,this._modelService=N,!I){let M=new b.IntervalTimer;M.cancelAndSet(()=>this._checkStopModelSync(),Math.round(n/2)),this._register(M)}}dispose(){for(let D in this._syncedModels)(0,k.dispose)(this._syncedModels[D]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(D){for(const N of D){let I=N.toString();this._syncedModels[I]||this._beginModelSync(N),this._syncedModels[I]&&(this._syncedModelsLastUsedTime[I]=new Date().getTime())}}_checkStopModelSync(){let D=new Date().getTime(),N=[];for(let I in this._syncedModelsLastUsedTime)D-this._syncedModelsLastUsedTime[I]>n&&N.push(I);for(const I of N)this._stopModelSync(I)}_beginModelSync(D){let N=this._modelService.getModel(D);if(!N||N.isTooLargeForSyncing())return;let I=D.toString();this._proxy.acceptNewModel({url:N.uri.toString(),lines:N.getLinesContent(),EOL:N.getEOL(),versionId:N.getVersionId()});const M=new k.DisposableStore;M.add(N.onDidChangeContent(O=>{this._proxy.acceptModelChanged(I.toString(),O)})),M.add(N.onWillDispose(()=>{this._stopModelSync(I)})),M.add((0,k.toDisposable)(()=>{this._proxy.acceptRemovedModel(I)})),this._syncedModels[I]=M}_stopModelSync(D){let N=this._syncedModels[D];delete this._syncedModels[D],delete this._syncedModelsLastUsedTime[D],(0,k.dispose)(N)}}class w{constructor(D){this._instance=D,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class g{constructor(D){this._workerClient=D}fhr(D,N){return this._workerClient.fhr(D,N)}}e.EditorWorkerHost=g;class f extends k.Disposable{constructor(D,N,I){super();this._disposed=!1,this._modelService=D,this._keepIdleModels=N,this._workerFactory=new L.DefaultWorkerFactory(I),this._worker=null,this._modelManager=null}fhr(D,N){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new T.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new g(this)))}catch(D){(0,T.logOnceWebWorkerWarning)(D),this._worker=new w(new i.EditorSimpleWorker(new g(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,D=>((0,T.logOnceWebWorkerWarning)(D),this._worker=new w(new i.EditorSimpleWorker(new g(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(D){return this._modelManager||(this._modelManager=this._register(new y(D,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(D){return this._disposed?Promise.reject((0,s.canceled)()):this._getProxy().then(N=>(this._getOrCreateModelManager(N).ensureSyncedResources(D),N))}computeDiff(D,N,I,M){return this._withSyncedResources([D,N]).then(O=>O.computeDiff(D.toString(),N.toString(),I,M))}computeMoreMinimalEdits(D,N){return this._withSyncedResources([D]).then(I=>I.computeMoreMinimalEdits(D.toString(),N))}computeLinks(D){return this._withSyncedResources([D]).then(N=>N.computeLinks(D.toString()))}textualSuggest(D,N,I){return Ie(this,void 0,void 0,function*(){const M=yield this._withSyncedResources(D),O=I.source,R=(0,a.regExpFlags)(I);return M.textualSuggest(D.map(P=>P.toString()),N,O,R)})}computeWordRanges(D,N){return this._withSyncedResources([D]).then(I=>{let M=this._modelService.getModel(D);if(!M)return Promise.resolve(null);let O=C.LanguageConfigurationRegistry.getWordDefinition(M.getLanguageIdentifier().id),R=O.source,P=(0,a.regExpFlags)(O);return I.computeWordRanges(D.toString(),N,R,P)})}navigateValueSet(D,N,I){return this._withSyncedResources([D]).then(M=>{let O=this._modelService.getModel(D);if(!O)return null;let R=C.LanguageConfigurationRegistry.getWordDefinition(O.getLanguageIdentifier().id),P=R.source,A=(0,a.regExpFlags)(R);return M.navigateValueSet(D.toString(),N,I,P,A)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=f}),define(ee[256],te([0,1,18,70,140]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;class L{constructor(v,r,a){this._legend=v,this._themeService=r,this._logService=a,this._hashTable=new C,this._hasWarnedOverlappingTokens=!1}getMetadata(v,r,a){const l=this._hashTable.get(v,r,a.id);let c;if(l)c=l.metadata,this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${v} / ${r}: foreground ${b.TokenMetadata.getForeground(c)}, fontStyle ${b.TokenMetadata.getFontStyle(c).toString(2)}`);else{let u=this._legend.tokenTypes[v];const s=[];if(u){let n=r;for(let t=0;n>0&&t<this._legend.tokenModifiers.length;t++)n&1&&s.push(this._legend.tokenModifiers[t]),n=n>>1;n>0&&this._logService.getLevel()===k.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${r.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),s.push("not-in-legend"));const d=this._themeService.getColorTheme().getTokenStyleMetadata(u,s,a.language);typeof d=="undefined"?c=2147483647:(c=0,typeof d.italic!="undefined"&&(c|=(d.italic?1:0)<<11|1),typeof d.bold!="undefined"&&(c|=(d.bold?2:0)<<11|2),typeof d.underline!="undefined"&&(c|=(d.underline?4:0)<<11|4),d.foreground&&(c|=d.foreground<<14|8),c===0&&(c=2147483647))}else this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${v} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),c=2147483647,u="not-in-legend";this._hashTable.add(v,r,a.id,c),this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${v} (${u}) / ${r} (${s.join(" ")}): foreground ${b.TokenMetadata.getForeground(c)}, fontStyle ${b.TokenMetadata.getFontStyle(c).toString(2)}`)}return c}warnOverlappingSemanticTokens(v,r){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${v}, column ${r}`))}}e.SemanticTokensProviderStyling=L;function S(i,v,r){const a=i.data,l=i.data.length/5|0,c=Math.max(Math.ceil(l/1024),400),u=[];let s=0,n=1,d=0;for(;s<l;){const t=s;let o=Math.min(t+c,l);if(o<l){let D=o;for(;D-1>t&&a[5*D]===0;)D--;if(D-1===t){let N=o;for(;N+1<l&&a[5*N]===0;)N++;o=N}else o=D}let h=new Uint32Array((o-t)*4),m=0,y=0,w=0,g=0,f=0;for(;s<o;){const D=5*s,N=a[D],I=a[D+1],M=n+N,O=N===0?d+I:I,R=a[D+2],P=a[D+3],A=a[D+4],F=v.getMetadata(P,A,r);F!==2147483647&&(y===0&&(y=M),w===M&&f>O&&(v.warnOverlappingSemanticTokens(M,O+1),g<O?h[m-4+2]=O:m-=4),h[m]=M-y,h[m+1]=O,h[m+2]=O+R,h[m+3]=F,m+=4,w=M,g=O,f=O+R),n=M,d=O,s++}m!==h.length&&(h=h.subarray(0,m));const _=new T.MultilineTokens2(y,new T.SparseEncodedTokens(h));u.push(_)}return u}e.toMultilineTokens2=S;class p{constructor(v,r,a,l){this.tokenTypeIndex=v,this.tokenModifierSet=r,this.languageId=a,this.metadata=l,this.next=null}}class C{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(v,r){for(let a=0;a<r;a++)v[a]=null}_hash2(v,r){return(v<<5)-v+r|0}_hashFunc(v,r,a){return this._hash2(this._hash2(v,r),a)%this._currentLength}get(v,r,a){const l=this._hashFunc(v,r,a);let c=this._elements[l];for(;c;){if(c.tokenTypeIndex===v&&c.tokenModifierSet===r&&c.languageId===a)return c;c=c.next}return null}add(v,r,a,l){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const c=this._elements;this._currentLengthIndex++,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength);for(const u of c){let s=u;for(;s;){const n=s.next;s.next=null,this._add(s),s=n}}}this._add(new p(v,r,a,l))}_add(v){const r=this._hashFunc(v.tokenTypeIndex,v.tokenModifierSet,v.languageId);v.next=this._elements[r],this._elements[r]=v}}C._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(ee[570],te([0,1,255,20]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function T(S,p){return new L(S,p)}e.createWebWorker=T;class L extends b.EditorWorkerClient{constructor(p,C){super(p,C.keepIdleModels||!1,C.label);this._foreignModuleId=C.moduleId,this._foreignModuleCreateData=C.createData||null,this._foreignModuleHost=C.host||null,this._foreignProxy=null}fhr(p,C){if(!this._foreignModuleHost||typeof this._foreignModuleHost[p]!="function")return Promise.reject(new Error("Missing method "+p+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[p].apply(this._foreignModuleHost,C))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(p=>{const C=this._foreignModuleHost?k.getAllMethodNames(this._foreignModuleHost):[];return p.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,C).then(i=>{this._foreignModuleCreateData=null;const v=(l,c)=>p.fmr(l,c),r=(l,c)=>function(){const u=Array.prototype.slice.call(arguments,0);return c(l,u)};let a={};for(const l of i)a[l]=r(l,v);return a})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(p){return this._withSyncedResources(p).then(C=>this.getProxy())}}}),define(ee[87],te([0,1,9,538,74]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var L;(function(p){p[p.Hint=1]="Hint",p[p.Info=2]="Info",p[p.Warning=4]="Warning",p[p.Error=8]="Error"})(L=e.MarkerSeverity||(e.MarkerSeverity={})),function(p){function C(l,c){return c-l}p.compare=C;const i=Object.create(null);i[p.Error]=(0,k.localize)(0,null),i[p.Warning]=(0,k.localize)(1,null),i[p.Info]=(0,k.localize)(2,null);function v(l){return i[l]||""}p.toString=v;function r(l){switch(l){case T.default.Error:return p.Error;case T.default.Warning:return p.Warning;case T.default.Info:return p.Info;case T.default.Ignore:return p.Hint}}p.fromSeverity=r;function a(l){switch(l){case p.Error:return T.default.Error;case p.Warning:return T.default.Warning;case p.Info:return T.default.Info;case p.Hint:return T.default.Ignore}}p.toSeverity=a}(L=e.MarkerSeverity||(e.MarkerSeverity={}));var S;(function(p){const C="";function i(r){return v(r,!0)}p.makeKey=i;function v(r,a){let l=[C];return r.source?l.push(r.source.replace("\xA6","\\\xA6")):l.push(C),r.code?typeof r.code=="string"?l.push(r.code.replace("\xA6","\\\xA6")):l.push(r.code.value.replace("\xA6","\\\xA6")):l.push(C),r.severity!==void 0&&r.severity!==null?l.push(L.toString(r.severity)):l.push(C),r.message&&a?l.push(r.message.replace("\xA6","\\\xA6")):l.push(C),r.startLineNumber!==void 0&&r.startLineNumber!==null?l.push(r.startLineNumber.toString()):l.push(C),r.startColumn!==void 0&&r.startColumn!==null?l.push(r.startColumn.toString()):l.push(C),r.endLineNumber!==void 0&&r.endLineNumber!==null?l.push(r.endLineNumber.toString()):l.push(C),r.endColumn!==void 0&&r.endColumn!==null?l.push(r.endColumn.toString()):l.push(C),l.push(C),l.join("\xA6")}p.makeKeyOptionalMessage=v})(S=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,b.createDecorator)("markerService")}),define(ee[571],te([0,1,87,24,6,2,3,8,19,9,75,72]),function(G,e,b,k,T,L,S,p,C,i,v,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class a{constructor(s,n,d){this.marker=s,this.index=n,this.total=d}}e.MarkerCoordinate=a;let l=class At{constructor(s,n){this._markerService=n,this._onDidChange=new T.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new L.DisposableStore,this._markers=[],this._nextIdx=-1,k.URI.isUri(s)?this._resourceFilter=t=>t.toString()===s.toString():s&&(this._resourceFilter=s);const d=()=>{this._markers=this._markerService.read({resource:k.URI.isUri(s)?s:void 0,severities:b.MarkerSeverity.Error|b.MarkerSeverity.Warning|b.MarkerSeverity.Info}),typeof s=="function"&&(this._markers=this._markers.filter(t=>this._resourceFilter(t.resource))),this._markers.sort(At._compareMarker)};d(),this._dispoables.add(n.onMarkerChanged(t=>{(!this._resourceFilter||t.some(o=>this._resourceFilter(o)))&&(d(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(s){return!this._resourceFilter&&!s?!0:!this._resourceFilter||!s?!1:this._resourceFilter(s)}get selected(){const s=this._markers[this._nextIdx];return s&&new a(s,this._nextIdx+1,this._markers.length)}_initIdx(s,n,d){let t=!1,o=this._markers.findIndex(h=>h.resource.toString()===s.uri.toString());o<0&&(o=(0,C.binarySearch)(this._markers,{resource:s.uri},(h,m)=>(0,p.compare)(h.resource.toString(),m.resource.toString())),o<0&&(o=~o));for(let h=o;h<this._markers.length;h++){let m=S.Range.lift(this._markers[h]);if(m.isEmpty()){const y=s.getWordAtPosition(m.getStartPosition());y&&(m=new S.Range(m.startLineNumber,y.startColumn,m.startLineNumber,y.endColumn))}if(n&&(m.containsPosition(n)||n.isBeforeOrEqual(m.getStartPosition()))){this._nextIdx=h,t=!0;break}if(this._markers[h].resource.toString()!==s.uri.toString())break}t||(this._nextIdx=d?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(s,n,d){if(this._markers.length===0)return!1;let t=this._nextIdx;return this._nextIdx===-1?this._initIdx(n,d,s):s?this._nextIdx=(this._nextIdx+1)%this._markers.length:s||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),t!==this._nextIdx}find(s,n){let d=this._markers.findIndex(t=>t.resource.toString()===s.toString());if(!(d<0)){for(;d<this._markers.length;d++)if(S.Range.containsPosition(this._markers[d],n))return new a(this._markers[d],d+1,this._markers.length)}}static _compareMarker(s,n){let d=(0,p.compare)(s.resource.toString(),n.resource.toString());return d===0&&(d=b.MarkerSeverity.compare(s.severity,n.severity)),d===0&&(d=S.Range.compareRangesUsingStarts(s,n)),d}};l=Re([Ce(1,b.IMarkerService)],l),e.MarkerList=l,e.IMarkerNavigationService=(0,i.createDecorator)("IMarkerNavigationService");let c=class{constructor(s){this._markerService=s,this._provider=new r.LinkedList}getMarkerList(s){for(let n of this._provider){const d=n.getMarkerList(s);if(d)return d}return new l(s,this._markerService)}};c=Re([Ce(0,b.IMarkerService)],c),(0,v.registerSingleton)(e.IMarkerNavigationService,c,!0)}),define(ee[572],te([0,1,19,46,24,6,87,49,54]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=void 0;class i{constructor(){this._byResource=new p.ResourceMap,this._byOwner=new Map}set(l,c,u){let s=this._byResource.get(l);s||(s=new Map,this._byResource.set(l,s)),s.set(c,u);let n=this._byOwner.get(c);n||(n=new p.ResourceMap,this._byOwner.set(c,n)),n.set(l,u)}get(l,c){let u=this._byResource.get(l);return u==null?void 0:u.get(c)}delete(l,c){let u=!1,s=!1,n=this._byResource.get(l);n&&(u=n.delete(c));let d=this._byOwner.get(c);if(d&&(s=d.delete(l)),u!==s)throw new Error("illegal state");return u&&s}values(l){var c,u,s,n;return typeof l=="string"?(u=(c=this._byOwner.get(l))===null||c===void 0?void 0:c.values())!==null&&u!==void 0?u:C.Iterable.empty():T.URI.isUri(l)?(n=(s=this._byResource.get(l))===null||s===void 0?void 0:s.values())!==null&&n!==void 0?n:C.Iterable.empty():C.Iterable.map(C.Iterable.concat(...this._byOwner.values()),d=>d[1])}}class v{constructor(l){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new p.ResourceMap,this._service=l,this._subscription=l.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(l){for(const c of l){const u=this._data.get(c);u&&this._substract(u);const s=this._resourceStats(c);this._add(s),this._data.set(c,s)}}_resourceStats(l){const c={errors:0,warnings:0,infos:0,unknowns:0};if(l.scheme===k.Schemas.inMemory||l.scheme===k.Schemas.walkThrough||l.scheme===k.Schemas.walkThroughSnippet)return c;for(const{severity:u}of this._service.read({resource:l}))u===S.MarkerSeverity.Error?c.errors+=1:u===S.MarkerSeverity.Warning?c.warnings+=1:u===S.MarkerSeverity.Info?c.infos+=1:c.unknowns+=1;return c}_substract(l){this.errors-=l.errors,this.warnings-=l.warnings,this.infos-=l.infos,this.unknowns-=l.unknowns}_add(l){this.errors+=l.errors,this.warnings+=l.warnings,this.infos+=l.infos,this.unknowns+=l.unknowns}}class r{constructor(){this._onMarkerChanged=new L.DebounceEmitter({delay:0,merge:r._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new i,this._stats=new v(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(l,c){for(const u of c||[])this.changeOne(l,u,[])}changeOne(l,c,u){if((0,b.isFalsyOrEmpty)(u))this._data.delete(c,l)&&this._onMarkerChanged.fire([c]);else{const s=[];for(const n of u){const d=r._toMarker(l,c,n);d&&s.push(d)}this._data.set(c,l,s),this._onMarkerChanged.fire([c])}}static _toMarker(l,c,u){let{code:s,severity:n,message:d,source:t,startLineNumber:o,startColumn:h,endLineNumber:m,endColumn:y,relatedInformation:w,tags:g}=u;if(!!d)return o=o>0?o:1,h=h>0?h:1,m=m>=o?m:o,y=y>0?y:h,{resource:c,owner:l,code:s,severity:n,message:d,source:t,startLineNumber:o,startColumn:h,endLineNumber:m,endColumn:y,relatedInformation:w,tags:g}}read(l=Object.create(null)){let{owner:c,resource:u,severities:s,take:n}=l;if((!n||n<0)&&(n=-1),c&&u){const d=this._data.get(u,c);if(d){const t=[];for(const o of d)if(r._accept(o,s)){const h=t.push(o);if(n>0&&h===n)break}return t}else return[]}else if(!c&&!u){const d=[];for(let t of this._data.values())for(let o of t)if(r._accept(o,s)){const h=d.push(o);if(n>0&&h===n)return d}return d}else{const d=this._data.values(u??c),t=[];for(const o of d)for(const h of o)if(r._accept(h,s)){const m=t.push(h);if(n>0&&m===n)return t}return t}}static _accept(l,c){return c===void 0||(c&l.severity)===l.severity}static _merge(l){const c=new p.ResourceMap;for(let u of l)for(let s of u)c.set(s,!0);return Array.from(c.keys())}}e.MarkerService=r}),define(ee[34],te([0,1,74,9]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=b.default,e.INotificationService=(0,k.createDecorator)("notificationService");class T{}e.NoOpNotification=T}),define(ee[58],te([0,1,2,8,24,9]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=(0,L.createDecorator)("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return b.Disposable.None},registerValidator(){return b.Disposable.None},registerExternalUriResolver(){return b.Disposable.None},setDefaultExternalOpener(){},registerExternalOpener(){return b.Disposable.None},open(){return Ie(this,void 0,void 0,function*(){return!1})},resolveExternalUri(p){return Ie(this,void 0,void 0,function*(){return{resolved:p,dispose(){}}})}});function S(p,C){return T.URI.isUri(p)?(0,k.equalsIgnoreCase)(p.scheme,C):(0,k.startsWithIgnoreCase)(p,C+":")}e.matchesScheme=S}),define(ee[145],te([0,1,298,58,57,12,246,6,2,18]),function(G,e,b,k,T,L,S,p,C,i){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let r=class Ot{constructor(l,c,u){this._options=l,this._modeService=c,this._openerService=u,this._onDidRenderAsync=new p.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(l,c,u){const s=new C.DisposableStore;let n;return l?n=(0,b.renderMarkdown)(l,Object.assign(Object.assign({},this._getRenderOptions(l,s)),c),u):n=document.createElement("span"),{element:n,dispose:()=>s.dispose()}}_getRenderOptions(l,c){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(u,s)=>Ie(this,void 0,void 0,function*(){var n,d,t,o;let h;u?h=this._modeService.getModeIdForLanguageName(u):this._options.editor&&(h=(n=this._options.editor.getModel())===null||n===void 0?void 0:n.getLanguageIdentifier().language),h||(h="plaintext"),this._modeService.triggerMode(h);const m=(d=yield i.TokenizationRegistry.getPromise(h))!==null&&d!==void 0?d:void 0,y=document.createElement("span");y.innerHTML=(o=(t=Ot._ttpTokenizer)===null||t===void 0?void 0:t.createHTML(s,m))!==null&&o!==void 0?o:(0,S.tokenizeToString)(s,m);let w=this._options.codeBlockFontFamily;return this._options.editor&&(w=this._options.editor.getOption(41).fontFamily),w&&(y.style.fontFamily=w),y}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:u=>this._openerService.open(u,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:l.isTrusted}).catch(L.onUnexpectedError),disposeables:c}}}};r._ttpTokenizer=(v=window.trustedTypes)===null||v===void 0?void 0:v.createPolicy("tokenizeToString",{createHTML(a,l){return(0,S.tokenizeToString)(a,l)}}),r=Re([Ce(1,T.IModeService),Ce(2,k.IOpenerService)],r),e.MarkdownRenderer=r}),define(ee[573],te([0,1,7,23,72,49,202,46,43,24,28,26,545,58]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let c=class{constructor(d){this._commandService=d}open(d,t){return Ie(this,void 0,void 0,function*(){if(!(0,l.matchesScheme)(d,p.Schemas.command))return!1;if(!(t==null?void 0:t.allowCommands))return!0;typeof d=="string"&&(d=i.URI.parse(d));let o=[];try{o=(0,S.parse)(decodeURIComponent(d.query))}catch(h){try{o=(0,S.parse)(d.query)}catch(m){}}return Array.isArray(o)||(o=[o]),yield this._commandService.executeCommand(d.path,...o),!0})}};c=Re([Ce(0,r.ICommandService)],c);let u=class{constructor(d){this._editorService=d}open(d,t){return Ie(this,void 0,void 0,function*(){typeof d=="string"&&(d=i.URI.parse(d));let o;const h=/^L?(\d+)(?:,(\d+))?/.exec(d.fragment);return h&&(o={startLineNumber:parseInt(h[1]),startColumn:h[2]?parseInt(h[2]):1},d=d.with({fragment:""})),d.scheme===p.Schemas.file&&(d=(0,C.normalizePath)(d)),yield this._editorService.openCodeEditor({resource:d,options:Object.assign({selection:o,context:(t==null?void 0:t.fromUserGesture)?a.EditorOpenContext.USER:a.EditorOpenContext.API},t==null?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),t==null?void 0:t.openToSide),!0})}};u=Re([Ce(0,v.ICodeEditorService)],u);let s=class{constructor(d,t){this._openers=new T.LinkedList,this._validators=new T.LinkedList,this._resolvers=new T.LinkedList,this._resolvedUriTargets=new L.ResourceMap(o=>o.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new T.LinkedList,this._defaultExternalOpener={openExternal:o=>Ie(this,void 0,void 0,function*(){return(0,l.matchesScheme)(o,p.Schemas.http)||(0,l.matchesScheme)(o,p.Schemas.https)?b.windowOpenNoOpener(o):window.location.href=o,!0})},this._openers.push({open:(o,h)=>Ie(this,void 0,void 0,function*(){return(h==null?void 0:h.openExternal)||(0,l.matchesScheme)(o,p.Schemas.mailto)||(0,l.matchesScheme)(o,p.Schemas.http)||(0,l.matchesScheme)(o,p.Schemas.https)?(yield this._doOpenExternal(o,h),!0):!1})}),this._openers.push(new c(t)),this._openers.push(new u(d))}registerOpener(d){return{dispose:this._openers.unshift(d)}}registerValidator(d){return{dispose:this._validators.push(d)}}registerExternalUriResolver(d){return{dispose:this._resolvers.push(d)}}setDefaultExternalOpener(d){this._defaultExternalOpener=d}registerExternalOpener(d){return{dispose:this._externalOpeners.push(d)}}open(d,t){var o;return Ie(this,void 0,void 0,function*(){const h=typeof d=="string"?i.URI.parse(d):d,m=(o=this._resolvedUriTargets.get(h))!==null&&o!==void 0?o:d;for(const y of this._validators)if(!(yield y.shouldOpen(m)))return!1;for(const y of this._openers)if(yield y.open(d,t))return!0;return!1})}resolveExternalUri(d,t){return Ie(this,void 0,void 0,function*(){for(const o of this._resolvers)try{const h=yield o.resolveExternalUri(d,t);if(h)return this._resolvedUriTargets.has(h.resolved)||this._resolvedUriTargets.set(h.resolved,d),h}catch(h){}throw new Error("Could not resolve external URI: "+d.toString())})}_doOpenExternal(d,t){return Ie(this,void 0,void 0,function*(){const o=typeof d=="string"?i.URI.parse(d):d;let h;try{h=(yield this.resolveExternalUri(o,t)).resolved}catch(y){h=o}let m;if(typeof d=="string"&&o.toString()===h.toString()?m=d:m=encodeURI(h.toString(!0)),t==null?void 0:t.allowContributedOpeners){const y=typeof(t==null?void 0:t.allowContributedOpeners)=="string"?t==null?void 0:t.allowContributedOpeners:void 0;for(const w of this._externalOpeners)if(yield w.openExternal(m,{sourceUri:o,preferredOpenerId:y},k.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(m,{sourceUri:o},k.CancellationToken.None)})}dispose(){this._validators.clear()}};s=Re([Ce(0,v.ICodeEditorService),Ce(1,r.ICommandService)],s),e.OpenerService=s}),define(ee[574],te([0,1,7,82,2,230,416,145,58,19]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesGlyphHoverWidget=void 0;class v{constructor(l){this._editor=l,this._lineNumber=-1,this._result=[]}setLineNumber(l){this._lineNumber=l,this._result=[]}clearResult(){this._result=[]}computeSync(){const l=s=>({value:s}),c=this._editor.getLineDecorations(this._lineNumber),u=[];if(!c)return u;for(const s of c){if(!s.options.glyphMarginClassName)continue;const n=s.options.glyphMarginHoverMessage;!n||(0,k.isEmptyMarkdownString)(n)||u.push(...(0,i.asArray)(n).map(l))}return u}onResult(l,c){this._result=this._result.concat(l)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class r extends S.GlyphHoverWidget{constructor(l,c,u=C.NullOpenerService){super(r.ID,l);this._renderDisposeables=this._register(new T.DisposableStore),this._messages=[],this._lastLineNumber=-1,this._markdownRenderer=this._register(new p.MarkdownRenderer({editor:this._editor},c,u)),this._computer=new v(this._editor),this._hoverOperation=new L.HoverOperation(this._computer,s=>this._withResult(s),void 0,s=>this._withResult(s),300)}dispose(){this._hoverOperation.cancel(),super.dispose()}onModelDecorationsChanged(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(l){this._lastLineNumber!==l&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=l,this._computer.setLineNumber(l),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),super.hide()}_withResult(l){this._messages=l,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(l,c){this._renderDisposeables.clear();const u=document.createDocumentFragment();for(const s of c){const n=this._markdownRenderer.render(s.value);this._renderDisposeables.add(n),u.appendChild((0,b.$)("div.hover-row",void 0,n.element))}this.updateContents(u),this.showAt(l)}}e.ModesGlyphHoverWidget=r,r.ID="editor.contrib.modesGlyphHoverWidget"}),define(ee[257],te([0,1,523,2,7,61,145,82,27,6,235,9]),function(G,e,b,k,T,L,S,p,C,i,v,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function a(u){return!!u&&Boolean(u.completion.documentation||u.completion.detail&&u.completion.detail!==u.completion.label)}e.canExpandCompletionItem=a;let l=class{constructor(s,n){this._editor=s,this._onDidClose=new i.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new i.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new k.DisposableStore,this._renderDisposeable=new k.DisposableStore,this._borderWidth=1,this._size=new T.Dimension(330,0),this.domNode=T.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=n.createInstance(S.MarkdownRenderer,{editor:s}),this._body=T.$(".body"),this._scrollbar=new L.DomScrollableElement(this._body,{}),T.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=T.append(this._body,T.$(".header")),this._close=T.append(this._header,T.$("span"+C.Codicon.close.cssSelector)),this._close.title=b.localize(0,null),this._type=T.append(this._header,T.$("p.type")),this._docs=T.append(this._body,T.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(41)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const s=this._editor.getOptions(),n=s.get(41),d=n.fontFamily,t=s.get(106)||n.fontSize,o=s.get(107)||n.lineHeight,h=n.fontWeight,m=`${t}px`,y=`${o}px`;this.domNode.style.fontSize=m,this.domNode.style.lineHeight=y,this.domNode.style.fontWeight=h,this.domNode.style.fontFeatureSettings=n.fontFeatureSettings,this._type.style.fontFamily=d,this._close.style.height=y,this._close.style.width=y}getLayoutInfo(){const s=this._editor.getOption(107)||this._editor.getOption(41).lineHeight,n=this._borderWidth,d=n*2;return{lineHeight:s,borderWidth:n,borderHeight:d,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=b.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(s,n){var d,t;this._renderDisposeable.clear();let{detail:o,documentation:h}=s.completion;if(n){let m="";m+=`score: ${s.score[0]}
`,m+=`prefix: ${(d=s.word)!==null&&d!==void 0?d:"(no prefix)"}
`,m+=`word: ${s.completion.filterText?s.completion.filterText+" (filterText)":s.textLabel}
`,m+=`distance: ${s.distance} (localityBonus-setting)
`,m+=`index: ${s.idx}, based on ${s.completion.sortText&&`sortText: "${s.completion.sortText}"`||"label"}
`,m+=`commit_chars: ${(t=s.completion.commitCharacters)===null||t===void 0?void 0:t.join("")}
`,h=new p.MarkdownString().appendCodeblock("empty",m),o=`Provider: ${s.provider._debugDisplayName}`}if(!n&&!a(s)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),o){const m=o.length>1e5?`${o.substr(0,1e5)}\u2026`:o;this._type.textContent=m,this._type.title=m,T.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(m))}else T.clearNode(this._type),this._type.title="",T.hide(this._type),this.domNode.classList.add("no-type");if(T.clearNode(this._docs),typeof h=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=h;else if(h){this._docs.classList.add("markdown-docs"),T.clearNode(this._docs);const m=this._markdownRenderer.render(h);this._docs.appendChild(m.element),this._renderDisposeable.add(m),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=m=>{m.preventDefault(),m.stopPropagation()},this._close.onclick=m=>{m.preventDefault(),m.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(s,n){const d=new T.Dimension(s,n);T.Dimension.equals(d,this._size)||(this._size=d,T.size(this.domNode,s,n)),this._scrollbar.scanDomNode()}scrollDown(s=8){this._body.scrollTop+=s}scrollUp(s=8){this._body.scrollTop-=s}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(s){this._borderWidth=s}get borderWidth(){return this._borderWidth}};l=Re([Ce(1,r.IInstantiationService)],l),e.SuggestDetailsWidget=l;class c{constructor(s,n){this.widget=s,this._editor=n,this._disposables=new k.DisposableStore,this._added=!1,this._resizable=new v.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(s.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let d,t,o=0,h=0;this._disposables.add(this._resizable.onDidWillResize(()=>{d=this._topLeft,t=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(m=>{if(d&&t){this.widget.layout(m.dimension.width,m.dimension.height);let y=!1;m.west&&(h=t.width-m.dimension.width,y=!0),m.north&&(o=t.height-m.dimension.height,y=!0),y&&this._applyTopLeft({top:d.top+o,left:d.left+h})}m.done&&(d=void 0,t=void 0,o=0,h=0,this._userSize=m.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var m;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(m=this._userSize)!==null&&m!==void 0?m:this.widget.size)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(s=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),s&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(s){var n;const d=T.getDomNodePagePosition(s);this._anchorBox=d,this._placeAtAnchor(this._anchorBox,(n=this._userSize)!==null&&n!==void 0?n:this.widget.size)}_placeAtAnchor(s,n){const d=T.getClientArea(document.body),t=this.widget.getLayoutInfo();let o,h,m=new T.Dimension(220,2*t.lineHeight),y=0,w=s.top,g=s.top+s.height-t.borderHeight,f,_,D=d.width-(s.left+s.width+t.borderWidth+t.horizontalPadding);y=-t.borderWidth+s.left+s.width,_=!0,o=new T.Dimension(D,d.height-s.top-t.borderHeight-t.verticalPadding),h=o.with(void 0,s.top+s.height-t.borderHeight-t.verticalPadding),n.width>D&&(s.left>D&&(D=s.left-t.borderWidth-t.horizontalPadding,_=!1,y=Math.max(t.horizontalPadding,s.left-n.width-t.borderWidth),o=o.with(D),h=o.with(void 0,h.height)),s.width>D*1.3&&d.height-(s.top+s.height)>s.height&&(D=s.width,y=s.left,w=-t.borderWidth+s.top+s.height,o=new T.Dimension(s.width-t.borderHeight,d.height-s.top-s.height-t.verticalPadding),h=o.with(void 0,s.top-t.verticalPadding),m=m.with(o.width)));let N=n.height,I=Math.max(o.height,h.height);N>I&&(N=I);let M;N<=o.height?(f=!0,M=o):(f=!1,M=h),this._applyTopLeft({left:y,top:f?w:g-N}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!f,_,f,!_),this._resizable.minSize=m,this._resizable.maxSize=M,this._resizable.layout(N,Math.min(M.width,n.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(s){this._topLeft=s,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=c}),define(ee[59],te([0,1,9]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=void 0;class k{constructor(L){this.callback=L}report(L){this._value=L,this.callback(this._value)}}e.Progress=k,k.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,b.createDecorator)("editorProgressService")}),define(ee[575],te([0,1,23,2,15]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var L;(function(i){i[i.NO_ACTION=0]="NO_ACTION",i[i.CLOSE_PICKER=1]="CLOSE_PICKER",i[i.REFRESH_PICKER=2]="REFRESH_PICKER",i[i.REMOVE_ITEM=3]="REMOVE_ITEM"})(L=e.TriggerAction||(e.TriggerAction={}));function S(i){const v=i;return Array.isArray(v.items)}function p(i){const v=i;return!!v.picks&&v.additionalPicks instanceof Promise}class C extends k.Disposable{constructor(v,r){super();this.prefix=v,this.options=r}provide(v,r){var a;const l=new k.DisposableStore;v.canAcceptInBackground=!!((a=this.options)===null||a===void 0?void 0:a.canAcceptInBackground),v.matchOnLabel=v.matchOnDescription=v.matchOnDetail=v.sortByLabel=!1;let c;const u=l.add(new k.MutableDisposable),s=()=>Ie(this,void 0,void 0,function*(){const n=u.value=new k.DisposableStore;c==null||c.dispose(!0),v.busy=!1,c=new b.CancellationTokenSource(r);const d=c.token,t=v.value.substr(this.prefix.length).trim(),o=this._getPicks(t,n,d),h=(m,y)=>{var w;let g,f;if(S(m)?(g=m.items,f=m.active):g=m,g.length===0){if(y)return!1;t.length>0&&((w=this.options)===null||w===void 0?void 0:w.noResultsPick)&&(g=[this.options.noResultsPick])}return v.items=g,f&&(v.activeItems=[f]),!0};if(o!==null)if(p(o)){let m=!1,y=!1;yield Promise.all([(()=>Ie(this,void 0,void 0,function*(){yield(0,T.timeout)(C.FAST_PICKS_RACE_DELAY),!d.isCancellationRequested&&(y||(m=h(o.picks,!0)))}))(),(()=>Ie(this,void 0,void 0,function*(){v.busy=!0;try{const w=yield o.additionalPicks;if(d.isCancellationRequested)return;let g,f;S(o.picks)?(g=o.picks.items,f=o.picks.active):g=o.picks;let _,D;if(S(w)?(_=w.items,D=w.active):_=w,_.length>0||!m){let N;if(!f&&!D){const I=v.activeItems[0];I&&g.indexOf(I)!==-1&&(N=I)}h({items:[...g,..._],active:f||D||N})}}finally{d.isCancellationRequested||(v.busy=!1),y=!0}}))()])}else if(!(o instanceof Promise))h(o);else{v.busy=!0;try{const m=yield o;if(d.isCancellationRequested)return;h(m)}finally{d.isCancellationRequested||(v.busy=!1)}}});return l.add(v.onDidChangeValue(()=>s())),s(),l.add(v.onDidAccept(n=>{const[d]=v.selectedItems;typeof(d==null?void 0:d.accept)=="function"&&(n.inBackground||v.hide(),d.accept(v.keyMods,n))})),l.add(v.onDidTriggerItemButton(({button:n,item:d})=>Ie(this,void 0,void 0,function*(){var t,o;if(typeof d.trigger=="function"){const h=(o=(t=d.buttons)===null||t===void 0?void 0:t.indexOf(n))!==null&&o!==void 0?o:-1;if(h>=0){const m=d.trigger(h,v.keyMods),y=typeof m=="number"?m:yield m;if(r.isCancellationRequested)return;switch(y){case L.NO_ACTION:break;case L.CLOSE_PICKER:v.hide();break;case L.REFRESH_PICKER:s();break;case L.REMOVE_ITEM:const w=v.items.indexOf(d);if(w!==-1){const g=v.items.slice();g.splice(w,1),v.items=g}break}}}}))),l}}e.PickerQuickAccessProvider=C,C.FAST_PICKS_RACE_DELAY=200});var pt=this&&this.__createBinding||(Object.create?function(G,e,b,k){k===void 0&&(k=b),Object.defineProperty(G,k,{enumerable:!0,get:function(){return e[b]}})}:function(G,e,b,k){k===void 0&&(k=b),G[k]=e[b]}),Ct=this&&this.__exportStar||function(G,e){for(var b in G)b!=="default"&&!Object.prototype.hasOwnProperty.call(e,b)&&pt(e,G,b)};define(ee[78],te([0,1,9,205]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,Ct(k,e),e.IQuickInputService=(0,b.createDecorator)("quickInputService")}),define(ee[32],te([0,1,20,198]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class T{constructor(){this.data=new Map}add(S,p){k.ok(b.isString(S)),k.ok(b.isObject(p)),k.ok(!this.data.has(S),"There is already an extension with this id"),this.data.set(S,p)}as(S){return this.data.get(S)||null}}e.Registry=new T}),define(ee[146],te([0,1,468,6,18,45,32,106]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_LANGUAGE_IDENTIFIER=e.PLAINTEXT_EXTENSION=e.PLAINTEXT_MODE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class C{constructor(){this._onDidChangeLanguages=new k.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(v){return this._languages.push(v),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let r=0,a=this._languages.length;r<a;r++)if(this._languages[r]===v){this._languages.splice(r,1);return}}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}e.EditorModesRegistry=C,e.ModesRegistry=new C,S.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_MODE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.PLAINTEXT_LANGUAGE_IDENTIFIER=new T.LanguageIdentifier(e.PLAINTEXT_MODE_ID,1),e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_MODE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[b.localize(0,null),"text"],mimetypes:[p.Mimes.text]}),L.LanguageConfigurationRegistry.register(e.PLAINTEXT_LANGUAGE_IDENTIFIER,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}},0)}),define(ee[576],te([0,1,46,43,146,240]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.detectModeId=e.getIconClasses=void 0;function S(i,v,r,a){const l=a===L.FileKind.ROOT_FOLDER?["rootfolder-icon"]:a===L.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(r){let c;if(r.scheme===b.Schemas.data?c=k.DataUri.parseMetaData(r).get(k.DataUri.META_DATA_LABEL):c=C((0,k.basenameOrAuthority)(r).toLowerCase()),a===L.FileKind.FOLDER)l.push(`${c}-name-folder-icon`);else{if(c){if(l.push(`${c}-name-file-icon`),c.length<=255){const s=c.split(".");for(let n=1;n<s.length;n++)l.push(`${s.slice(n).join(".")}-ext-file-icon`)}l.push("ext-file-icon")}const u=p(i,v,r);u&&l.push(`${C(u)}-lang-file-icon`)}}return l}e.getIconClasses=S;function p(i,v,r){if(!r)return null;let a=null;if(r.scheme===b.Schemas.data){const c=k.DataUri.parseMetaData(r).get(k.DataUri.META_DATA_MIME);c&&(a=v.getModeId(c))}else{const l=i.getModel(r);l&&(a=l.getModeId())}return a&&a!==T.PLAINTEXT_MODE_ID?a:v.getModeIdByFilepathOrFirstLine(r)}e.detectModeId=p;function C(i){return i.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=C}),define(ee[189],te([0,1,32,6]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function T(p){return p.length>0&&p.charAt(p.length-1)==="#"?p.substring(0,p.length-1):p}class L{constructor(){this._onDidChangeSchema=new k.Emitter,this.schemasById={}}registerSchema(C,i){this.schemasById[T(C)]=i,this._onDidChangeSchema.fire(C)}notifySchemaChanged(C){this._onDidChangeSchema.fire(C)}}const S=new L;b.Registry.add(e.Extensions.JSONContribution,S)}),define(ee[98],te([0,1,533,6,32,20,189]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifierFromKey=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const p=T.Registry.as(S.Extensions.JSONContribution);class C{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new k.Emitter,this._onDidUpdateConfiguration=new k.Emitter,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:b.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},p.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema)}registerConfiguration(u,s=!0){this.registerConfigurations([u],s)}registerConfigurations(u,s=!0){const n=[];u.forEach(d=>{n.push(...this.validateAndRegisterProperties(d,s,d.extensionInfo)),this.configurationContributors.push(d),this.registerJSONConfiguration(d)}),p.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(n)}registerOverrideIdentifiers(u){for(const s of u)this.overrideIdentifiers.add(s);this.updateOverridePropertyPatternKey()}validateAndRegisterProperties(u,s=!0,n,d=3){var t;d=L.isUndefinedOrNull(u.scope)?d:u.scope;let o=[],h=u.properties;if(h)for(let y in h){if(s&&l(y)){delete h[y];continue}const w=h[y];if(this.updatePropertyDefaultValue(y,w),e.OVERRIDE_PROPERTY_PATTERN.test(y)?w.scope=void 0:(w.scope=L.isUndefinedOrNull(w.scope)?d:w.scope,w.restricted=L.isUndefinedOrNull(w.restricted)?!!((t=n==null?void 0:n.restrictedConfigurations)===null||t===void 0?void 0:t.includes(y)):w.restricted),h[y].hasOwnProperty("included")&&!h[y].included){this.excludedConfigurationProperties[y]=h[y],delete h[y];continue}else this.configurationProperties[y]=h[y];!h[y].deprecationMessage&&h[y].markdownDeprecationMessage&&(h[y].deprecationMessage=h[y].markdownDeprecationMessage),o.push(y)}let m=u.allOf;if(m)for(let y of m)o.push(...this.validateAndRegisterProperties(y,s,n,d));return o}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(u){const s=n=>{let d=n.properties;if(d)for(const o in d)this.updateSchema(o,d[o]);let t=n.allOf;t&&t.forEach(s)};s(u)}updateSchema(u,s){switch(e.allSettings.properties[u]=s,s.scope){case 1:e.applicationSettings.properties[u]=s;break;case 2:e.machineSettings.properties[u]=s;break;case 6:e.machineOverridableSettings.properties[u]=s;break;case 3:e.windowSettings.properties[u]=s;break;case 4:e.resourceSettings.properties[u]=s;break;case 5:e.resourceSettings.properties[u]=s,this.resourceLanguageSettingsSchema.properties[u]=s;break}}updateOverridePropertyPatternKey(){for(const u of this.overrideIdentifiers.values()){const s=`[${u}]`,n={type:"object",description:b.localize(1,null),errorMessage:b.localize(2,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(s,n),e.allSettings.properties[s]=n,e.applicationSettings.properties[s]=n,e.machineSettings.properties[s]=n,e.machineOverridableSettings.properties[s]=n,e.windowSettings.properties[s]=n,e.resourceSettings.properties[s]=n}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(u,s){let n=this.defaultValues[u];L.isUndefined(n)&&(n=s.default),L.isUndefined(n)&&(n=r(s.type)),s.default=n}}const i="\\[.*\\]$";e.OVERRIDE_PROPERTY_PATTERN=new RegExp(i);function v(c){return c.substring(1,c.length-1)}e.overrideIdentifierFromKey=v;function r(c){switch(Array.isArray(c)?c[0]:c){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=r;const a=new C;T.Registry.add(e.Extensions.Configuration,a);function l(c){return c.trim()?e.OVERRIDE_PROPERTY_PATTERN.test(c)?b.localize(4,null,c):a.getConfigurationProperties()[c]!==void 0?b.localize(5,null,c):null:b.localize(3,null)}e.validateProperty=l}),define(ee[190],te([0,1,463,6,2,42,19,35,133,168,98,32,199]),function(G,e,b,k,T,L,S,p,C,i,v,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=e.CommonEditorConfiguration=e.ComputedEditorOptions=e.TabFocus=void 0,e.TabFocus=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new k.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(_){this._tabFocus!==_&&(this._tabFocus=_,this._onDidChangeTabFocus.fire(this._tabFocus))}};const l=Object.hasOwnProperty;class c{constructor(){this._values=[]}_read(D){return this._values[D]}get(D){return this._values[D]}_write(D,N){this._values[D]=N}}e.ComputedEditorOptions=c;class u{constructor(){this._values=[]}_read(D){return this._values[D]}_write(D,N){this._values[D]=N}}class s{static readOptions(D){const N=D,I=new u;for(const M of p.editorOptionsRegistry){const O=M.name==="_never_"?void 0:N[M.name];I._write(M.id,O)}return I}static validateOptions(D){const N=new p.ValidatedEditorOptions;for(const I of p.editorOptionsRegistry)N._write(I.id,I.validate(D._read(I.id)));return N}static computeOptions(D,N){const I=new c;for(const M of p.editorOptionsRegistry)I._write(M.id,M.compute(N,I,D._read(M.id)));return I}static _deepEquals(D,N){if(typeof D!="object"||typeof N!="object")return D===N;if(Array.isArray(D)||Array.isArray(N))return Array.isArray(D)&&Array.isArray(N)?S.equals(D,N):!1;for(let I in D)if(!s._deepEquals(D[I],N[I]))return!1;return!0}static checkEquals(D,N){const I=[];let M=!1;for(const O of p.editorOptionsRegistry){const R=!s._deepEquals(D._read(O.id),N._read(O.id));I[O.id]=R,R&&(M=!0)}return M?new p.ConfigurationChangedEvent(I):null}}function n(_){const D=_.wordWrap;D===!0?_.wordWrap="on":D===!1&&(_.wordWrap="off");const N=_.lineNumbers;N===!0?_.lineNumbers="on":N===!1&&(_.lineNumbers="off"),_.autoClosingBrackets===!1&&(_.autoClosingBrackets="never",_.autoClosingQuotes="never",_.autoSurround="never"),_.cursorBlinking==="visible"&&(_.cursorBlinking="solid");const O=_.renderWhitespace;O===!0?_.renderWhitespace="boundary":O===!1&&(_.renderWhitespace="none");const R=_.renderLineHighlight;R===!0?_.renderLineHighlight="line":R===!1&&(_.renderLineHighlight="none");const P=_.acceptSuggestionOnEnter;P===!0?_.acceptSuggestionOnEnter="on":P===!1&&(_.acceptSuggestionOnEnter="off");const A=_.tabCompletion;A===!1?_.tabCompletion="off":A===!0&&(_.tabCompletion="onlySnippets");const F=_.suggest;if(F&&typeof F.filteredTypes=="object"&&F.filteredTypes){const Z={};Z.method="showMethods",Z.function="showFunctions",Z.constructor="showConstructors",Z.deprecated="showDeprecated",Z.field="showFields",Z.variable="showVariables",Z.class="showClasses",Z.struct="showStructs",Z.interface="showInterfaces",Z.module="showModules",Z.property="showProperties",Z.event="showEvents",Z.operator="showOperators",Z.unit="showUnits",Z.value="showValues",Z.constant="showConstants",Z.enum="showEnums",Z.enumMember="showEnumMembers",Z.keyword="showKeywords",Z.text="showWords",Z.color="showColors",Z.file="showFiles",Z.reference="showReferences",Z.folder="showFolders",Z.typeParameter="showTypeParameters",Z.snippet="showSnippets",(0,a.forEach)(Z,X=>{const J=F.filteredTypes[X.key];J===!1&&(F[X.value]=J)})}const E=_.hover;E===!0?_.hover={enabled:!0}:E===!1&&(_.hover={enabled:!1});const W=_.parameterHints;W===!0?_.parameterHints={enabled:!0}:W===!1&&(_.parameterHints={enabled:!1});const V=_.autoIndent;V===!0?_.autoIndent="full":V===!1&&(_.autoIndent="advanced");const $=_.matchBrackets;$===!0?_.matchBrackets="always":$===!1&&(_.matchBrackets="never")}function d(_){const D=L.deepClone(_);return n(D),D}class t extends T.Disposable{constructor(D,N){super();this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new k.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=D,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new p.ComputeOptionsMemory,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=d(N),this._readOptions=s.readOptions(this._rawOptions),this._validatedOptions=s.validateOptions(this._readOptions),this._register(C.EditorZoom.onDidChangeZoomLevel(I=>this._recomputeOptions())),this._register(e.TabFocus.onDidChangeTabFocus(I=>this._recomputeOptions()))}observeReferenceElement(D){}updatePixelRatio(){}_recomputeOptions(){const D=this.options,N=this._computeInternalOptions();if(!D)this.options=N;else{const I=s.checkEquals(D,N);if(I===null)return;this.options=N,this._onDidChangeFast.fire(I),this._onDidChange.fire(I)}}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const D=this._getEnvConfiguration(),N=i.BareFontInfo.createFromValidatedSettings(this._validatedOptions,D.zoomLevel,D.pixelRatio,this.isSimpleWidget),I={memory:this._computeOptionsMemory,outerWidth:D.outerWidth,outerHeight:D.outerHeight,fontInfo:this.readConfiguration(N),extraEditorClassName:D.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:D.emptySelectionClipboard,pixelRatio:D.pixelRatio,tabFocusMode:e.TabFocus.getTabFocusMode(),accessibilitySupport:D.accessibilitySupport};return s.computeOptions(this._validatedOptions,I)}static _subsetEquals(D,N){for(const I in N)if(l.call(N,I)){const M=N[I],O=D[I];if(O===M)continue;if(Array.isArray(O)&&Array.isArray(M)){if(!S.equals(O,M))return!1;continue}if(O&&typeof O=="object"&&M&&typeof M=="object"){if(!this._subsetEquals(O,M))return!1;continue}return!1}return!0}updateOptions(D){if(typeof D=="undefined")return;const N=d(D);t._subsetEquals(this._rawOptions,N)||(this._rawOptions=L.mixin(this._rawOptions,N||{}),this._readOptions=s.readOptions(this._rawOptions),this._validatedOptions=s.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(D){this._isDominatedByLongLines=D,this._recomputeOptions()}setMaxLineNumber(D){const N=t._digitCount(D);this._lineNumbersDigitCount!==N&&(this._lineNumbersDigitCount=N,this._recomputeOptions())}setViewLineCount(D){this._viewLineCount!==D&&(this._viewLineCount=D,this._recomputeOptions())}static _digitCount(D){let N=0;for(;D;)D=Math.floor(D/10),N++;return N||1}}e.CommonEditorConfiguration=t,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:b.localize(0,null),scope:5});const o=r.Registry.as(v.Extensions.Configuration),h=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:p.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:b.localize(1,null)},"editor.insertSpaces":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:b.localize(2,null)},"editor.detectIndentation":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:b.localize(3,null)},"editor.trimAutoWhitespace":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:b.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:p.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:b.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:b.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[b.localize(7,null),b.localize(8,null),b.localize(9,null)],description:b.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[b.localize(11,null),b.localize(12,null),b.localize(13,null)],default:"configuredByTheme",description:b.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:b.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:b.localize(16,null)},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:b.localize(17,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:b.localize(18,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:b.localize(19,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:b.localize(20,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:b.localize(21,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[b.localize(22,null),b.localize(23,null),b.localize(24,null)]}}});function m(_){return typeof _.type!="undefined"||typeof _.anyOf!="undefined"}for(const _ of p.editorOptionsRegistry){const D=_.schema;if(typeof D!="undefined")if(m(D))h.properties[`editor.${_.name}`]=D;else for(let N in D)l.call(D,N)&&(h.properties[N]=D[N])}let y=null;function w(){return y===null&&(y=Object.create(null),Object.keys(h.properties).forEach(_=>{y[_]=!0})),y}function g(_){return w()[`editor.${_}`]||!1}e.isEditorConfigurationKey=g;function f(_){return w()[`diffEditor.${_}`]||!1}e.isDiffEditorConfigurationKey=f,o.registerConfiguration(h)}),define(ee[65],te([0,1,39,6,2,17,370,214,190,35,168]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Configuration=e.clearAllFontInfos=void 0;class r{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(s){const n=s.getId();return!!this._values[n]}get(s){const n=s.getId();return this._values[n]}put(s,n){const d=s.getId();this._keys[d]=s,this._values[d]=n}remove(s){const n=s.getId();delete this._keys[n],delete this._values[n]}getValues(){return Object.keys(this._keys).map(s=>this._values[s])}}function a(){l.INSTANCE.clearCache()}e.clearAllFontInfos=a;class l extends T.Disposable{constructor(){super();this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new r,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new r,this._onDidChange.fire()}_writeToCache(s,n){this._cache.put(s,n),!n.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const s=this._cache.getValues();let n=!1;for(const d of s)d.isTrusted||(n=!0,this._cache.remove(d));n&&this._onDidChange.fire()}readConfiguration(s){if(!this._cache.has(s)){let n=l._actualReadConfiguration(s);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new v.FontInfo({zoomLevel:b.getZoomLevel(),pixelRatio:b.getPixelRatio(),fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:n.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(n.spaceWidth,5),middotWidth:Math.max(n.middotWidth,5),wsmiddotWidth:Math.max(n.wsmiddotWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(s,n)}return this._cache.get(s)}static createRequest(s,n,d,t){const o=new S.CharWidthRequest(s,n);return d.push(o),t&&t.push(o),o}static _actualReadConfiguration(s){const n=[],d=[],t=this.createRequest("n",0,n,d),o=this.createRequest("\uFF4D",0,n,null),h=this.createRequest(" ",0,n,d),m=this.createRequest("0",0,n,d),y=this.createRequest("1",0,n,d),w=this.createRequest("2",0,n,d),g=this.createRequest("3",0,n,d),f=this.createRequest("4",0,n,d),_=this.createRequest("5",0,n,d),D=this.createRequest("6",0,n,d),N=this.createRequest("7",0,n,d),I=this.createRequest("8",0,n,d),M=this.createRequest("9",0,n,d),O=this.createRequest("\u2192",0,n,d),R=this.createRequest("\uFFEB",0,n,null),P=this.createRequest("\xB7",0,n,d),A=this.createRequest(String.fromCharCode(11825),0,n,null);this.createRequest("|",0,n,d),this.createRequest("/",0,n,d),this.createRequest("-",0,n,d),this.createRequest("_",0,n,d),this.createRequest("i",0,n,d),this.createRequest("l",0,n,d),this.createRequest("m",0,n,d),this.createRequest("|",1,n,d),this.createRequest("_",1,n,d),this.createRequest("i",1,n,d),this.createRequest("l",1,n,d),this.createRequest("m",1,n,d),this.createRequest("n",1,n,d),this.createRequest("|",2,n,d),this.createRequest("_",2,n,d),this.createRequest("i",2,n,d),this.createRequest("l",2,n,d),this.createRequest("m",2,n,d),this.createRequest("n",2,n,d),(0,S.readCharWidths)(s,n);const F=Math.max(m.width,y.width,w.width,g.width,f.width,_.width,D.width,N.width,I.width,M.width);let E=s.fontFeatureSettings===i.EditorFontLigatures.OFF;const W=d[0].width;for(let Z=1,X=d.length;E&&Z<X;Z++){const J=W-d[Z].width;if(J<-.001||J>.001){E=!1;break}}let V=!0;E&&R.width!==W&&(V=!1),R.width>O.width&&(V=!1);const $=b.getTimeSinceLastZoomLevelChanged()>2e3;return new v.FontInfo({zoomLevel:b.getZoomLevel(),pixelRatio:b.getPixelRatio(),fontFamily:s.fontFamily,fontWeight:s.fontWeight,fontSize:s.fontSize,fontFeatureSettings:s.fontFeatureSettings,lineHeight:s.lineHeight,letterSpacing:s.letterSpacing,isMonospace:E,typicalHalfwidthCharacterWidth:t.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:V,spaceWidth:h.width,middotWidth:P.width,wsmiddotWidth:A.width,maxDigitWidth:F},$)}}l.INSTANCE=new l;class c extends C.CommonEditorConfiguration{constructor(s,n,d=null,t){super(s,n);this.accessibilityService=t,this._elementSizeObserver=this._register(new p.ElementSizeObserver(d,n.dimension,()=>this._recomputeOptions())),this._register(l.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(b.onDidChangeZoomLevel(o=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(s,n){s.style.fontFamily=n.getMassagedFontFamily(),s.style.fontWeight=n.fontWeight,s.style.fontSize=n.fontSize+"px",s.style.fontFeatureSettings=n.fontFeatureSettings,s.style.lineHeight=n.lineHeight+"px",s.style.letterSpacing=n.letterSpacing+"px"}static applyFontInfo(s,n){s.setFontFamily(n.getMassagedFontFamily()),s.setFontWeight(n.fontWeight),s.setFontSize(n.fontSize),s.setFontFeatureSettings(n.fontFeatureSettings),s.setLineHeight(n.lineHeight),s.setLetterSpacing(n.letterSpacing)}observeReferenceElement(s){this._elementSizeObserver.observe(s)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let s="";return!b.isSafari&&!b.isWebkitWebView&&(s+="no-user-select "),b.isSafari&&(s+="no-minimap-shadow "),L.isMacintosh&&(s+="mac "),s}_getEnvConfiguration(){return{extraEditorClassName:c._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:b.isWebKit||b.isFirefox,pixelRatio:b.getPixelRatio(),zoomLevel:b.getZoomLevel(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(s){return l.INSTANCE.readConfiguration(s)}}e.Configuration=c}),define(ee[577],te([0,1,83,8,65,62,96]),function(G,e,b,k,T,L,S){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const C=(p=window.trustedTypes)===null||p===void 0?void 0:p.createPolicy("domLineBreaksComputer",{createHTML:u=>u});class i{static create(){return new i}constructor(){}createLineBreaksComputer(s,n,d,t){n=n|0,d=+d;let o=[],h=[];return{addRequest:(m,y,w)=>{o.push(m),h.push(y)},finalize:()=>v(o,s,n,d,t,h)}}}e.DOMLineBreaksComputerFactory=i;function v(u,s,n,d,t,o){var h;function m(F){const E=o[F];if(E){const W=S.LineInjectedText.applyInjectedText(u[F],E),V=E.map(Z=>Z.options),$=E.map(Z=>Z.column-1);return new L.LineBreakData([W.length],[],0,$,V)}else return null}if(d===-1){const F=[];for(let E=0,W=u.length;E<W;E++)F[E]=m(E);return F}const y=Math.round(d*s.typicalHalfwidthCharacterWidth);(t===2||t===3)&&(t=1);const w=document.createElement("div");T.Configuration.applyFontInfoSlow(w,s);const g=(0,b.createStringBuilder)(1e4),f=[],_=[],D=[],N=[],I=[];for(let F=0;F<u.length;F++){const E=S.LineInjectedText.applyInjectedText(u[F],o[F]);let W=0,V=0,$=y;if(t!==0)if(W=k.firstNonWhitespaceIndex(E),W===-1)W=0;else{for(let ie=0;ie<W;ie++)V+=E.charCodeAt(ie)===9?n-V%n:1;const J=Math.ceil(s.spaceWidth*V);J+s.typicalFullwidthCharacterWidth>y?(W=0,V=0):$=y-J}const Z=E.substr(W),X=r(Z,V,n,$,g);f[F]=W,_[F]=V,D[F]=Z,N[F]=X[0],I[F]=X[1]}const M=g.build(),O=(h=C==null?void 0:C.createHTML(M))!==null&&h!==void 0?h:M;w.innerHTML=O,w.style.position="absolute",w.style.top="10000",w.style.wordWrap="break-word",document.body.appendChild(w);let R=document.createRange();const P=Array.prototype.slice.call(w.children,0);let A=[];for(let F=0;F<u.length;F++){const E=P[F],W=a(R,E,D[F],N[F]);if(W===null){A[F]=m(F);continue}const V=f[F],$=_[F],Z=I[F],X=[];for(let ue=0,q=W.length;ue<q;ue++)X[ue]=Z[W[ue]];if(V!==0)for(let ue=0,q=W.length;ue<q;ue++)W[ue]+=V;let J,ie;const de=o[F];de?(J=de.map(ue=>ue.options),ie=de.map(ue=>ue.column-1)):(J=null,ie=null),A[F]=new L.LineBreakData(W,X,$,ie,J)}return document.body.removeChild(w),A}function r(u,s,n,d,t){t.appendASCIIString('<div style="width:'),t.appendASCIIString(String(d)),t.appendASCIIString('px;">');const o=u.length;let h=s,m=0,y=[],w=[],g=0<o?u.charCodeAt(0):0;t.appendASCIIString("<span>");for(let f=0;f<o;f++){f!==0&&f%16384==0&&t.appendASCIIString("</span><span>"),y[f]=m,w[f]=h;const _=g;g=f+1<o?u.charCodeAt(f+1):0;let D=1,N=1;switch(_){case 9:D=n-h%n,N=D;for(let I=1;I<=D;I++)I<D?t.write1(160):t.appendASCII(32);break;case 32:g===32?t.write1(160):t.appendASCII(32);break;case 60:t.appendASCIIString("&lt;");break;case 62:t.appendASCIIString("&gt;");break;case 38:t.appendASCIIString("&amp;");break;case 0:t.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.write1(65533);break;default:k.isFullWidthCharacter(_)&&N++,_<32?t.write1(9216+_):t.write1(_)}m+=D,h+=N}return t.appendASCIIString("</span>"),y[u.length]=m,w[u.length]=h,t.appendASCIIString("</div>"),[y,w]}function a(u,s,n,d){if(n.length<=1)return null;const t=Array.prototype.slice.call(s.children,0),o=[];try{l(u,t,d,0,null,n.length-1,null,o)}catch(h){return console.log(h),null}return o.length===0?null:(o.push(n.length),o)}function l(u,s,n,d,t,o,h,m){if(d===o||(t=t||c(u,s,n[d],n[d+1]),h=h||c(u,s,n[o],n[o+1]),Math.abs(t[0].top-h[0].top)<=.1))return;if(d+1===o){m.push(o);return}const y=d+(o-d)/2|0,w=c(u,s,n[y],n[y+1]);l(u,s,n,d,t,y,w,m),l(u,s,n,y,w,o,h,m)}function c(u,s,n,d){return u.setStart(s[n/16384|0].firstChild,n%16384),u.setEnd(s[d/16384|0].firstChild,d%16384),u.getClientRects()}}),define(ee[578],te([0,1,30,65,170,47]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class S extends L.ViewPart{constructor(r){super(r);this._visibleLines=new T.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let r=0,a=this._dynamicOverlays.length;r<a;r++)if(this._dynamicOverlays[r].shouldRender())return!0;return!1}dispose(){super.dispose();for(let r=0,a=this._dynamicOverlays.length;r<a;r++)this._dynamicOverlays[r].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new p(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(r){this._dynamicOverlays.push(r)}onConfigurationChanged(r){this._visibleLines.onConfigurationChanged(r);const a=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let c=a;c<=l;c++)this._visibleLines.getVisibleLine(c).onConfigurationChanged(r);return!0}onFlushed(r){return this._visibleLines.onFlushed(r)}onFocusChanged(r){return this._isFocused=r.isFocused,!0}onLinesChanged(r){return this._visibleLines.onLinesChanged(r)}onLinesDeleted(r){return this._visibleLines.onLinesDeleted(r)}onLinesInserted(r){return this._visibleLines.onLinesInserted(r)}onScrollChanged(r){return this._visibleLines.onScrollChanged(r)||!0}onTokensChanged(r){return this._visibleLines.onTokensChanged(r)}onZonesChanged(r){return this._visibleLines.onZonesChanged(r)}prepareRender(r){const a=this._dynamicOverlays.filter(l=>l.shouldRender());for(let l=0,c=a.length;l<c;l++){const u=a[l];u.prepareRender(r),u.onDidRender()}}render(r){this._viewOverlaysRender(r),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(r){this._visibleLines.renderLines(r.viewportData)}}e.ViewOverlays=S;class p{constructor(r,a){this._configuration=r,this._lineHeight=this._configuration.options.get(57),this._dynamicOverlays=a,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(r){this._domNode=(0,b.createFastDomNode)(r)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(r){this._lineHeight=this._configuration.options.get(57)}renderLine(r,a,l,c){let u="";for(let s=0,n=this._dynamicOverlays.length;s<n;s++)u+=this._dynamicOverlays[s].render(l.startLineNumber,r);return this._renderedContent===u?!1:(this._renderedContent=u,c.appendASCIIString('<div style="position:absolute;top:'),c.appendASCIIString(String(a)),c.appendASCIIString("px;width:100%;height:"),c.appendASCIIString(String(this._lineHeight)),c.appendASCIIString('px;">'),c.appendASCIIString(u),c.appendASCIIString("</div>"),!0)}layoutLine(r,a){this._domNode&&(this._domNode.setTop(a),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=p;class C extends S{constructor(r){super(r);const l=this._context.configuration.options.get(129);this._contentWidth=l.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(r){const l=this._context.configuration.options.get(129);return this._contentWidth=l.contentWidth,super.onConfigurationChanged(r)||!0}onScrollChanged(r){return super.onScrollChanged(r)||r.scrollWidthChanged}_viewOverlaysRender(r){super._viewOverlaysRender(r),this.domNode.setWidth(Math.max(r.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=C;class i extends S{constructor(r){super(r);const a=this._context.configuration.options,l=a.get(129);this._contentLeft=l.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),k.Configuration.applyFontInfo(this.domNode,a.get(41))}onConfigurationChanged(r){const a=this._context.configuration.options;k.Configuration.applyFontInfo(this.domNode,a.get(41));const l=a.get(129);return this._contentLeft=l.contentLeft,super.onConfigurationChanged(r)||!0}onScrollChanged(r){return super.onScrollChanged(r)||r.scrollHeightChanged}_viewOverlaysRender(r){super._viewOverlaysRender(r);const a=Math.min(r.scrollHeight,1e6);this.domNode.setHeight(a),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=i}),define(ee[579],te([0,1,7,30,8,65,35,13,3,131]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class v{constructor(l,c,u,s,n,d){this.top=l,this.left=c,this.width=u,this.height=s,this.textContent=n,this.textContentClassName=d}}class r{constructor(l){this._context=l;const c=this._context.configuration.options,u=c.get(41);this._cursorStyle=c.get(22),this._lineHeight=c.get(57),this._typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(25),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,k.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),L.Configuration.applyFontInfo(this._domNode,u),this._domNode.setDisplay("none"),this._position=new p.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(l){const c=this._context.configuration.options,u=c.get(41);return this._cursorStyle=c.get(22),this._lineHeight=c.get(57),this._typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(25),this._typicalHalfwidthCharacterWidth),L.Configuration.applyFontInfo(this._domNode,u),!0}onCursorPositionChanged(l){return this._position=l,!0}_prepareRender(l){let c="";if(this._cursorStyle===S.TextEditorCursorStyle.Line||this._cursorStyle===S.TextEditorCursorStyle.LineThin){const w=l.visibleRangeForPosition(this._position);if(!w||w.outsideRenderedLine)return null;let g;if(this._cursorStyle===S.TextEditorCursorStyle.Line){if(g=b.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),g>2){const D=this._context.model.getLineContent(this._position.lineNumber),N=T.nextCharLength(D,this._position.column-1);c=D.substr(this._position.column-1,N)}}else g=b.computeScreenAwareSize(1);let f=w.left;g>=2&&f>=1&&(f-=1);const _=l.getVerticalOffsetForLineNumber(this._position.lineNumber)-l.bigNumbersDelta;return new v(_,f,g,this._lineHeight,c,"")}const u=this._context.model.getLineContent(this._position.lineNumber),s=T.nextCharLength(u,this._position.column-1),n=l.linesVisibleRangesForRange(new C.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+s),!1);if(!n||n.length===0)return null;const d=n[0];if(d.outsideRenderedLine||d.ranges.length===0)return null;const t=d.ranges[0],o=t.width<1?this._typicalHalfwidthCharacterWidth:t.width;let h="";if(this._cursorStyle===S.TextEditorCursorStyle.Block){const w=this._context.model.getViewLineData(this._position.lineNumber);c=u.substr(this._position.column-1,s);const g=w.tokens.findTokenIndexAtOffset(this._position.column-1);h=w.tokens.getClassName(g)}let m=l.getVerticalOffsetForLineNumber(this._position.lineNumber)-l.bigNumbersDelta,y=this._lineHeight;return(this._cursorStyle===S.TextEditorCursorStyle.Underline||this._cursorStyle===S.TextEditorCursorStyle.UnderlineThin)&&(m+=this._lineHeight-2,y=2),new v(m,t.left,o,y,c,h)}prepareRender(l){this._renderData=this._prepareRender(l)}render(l){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=r}),define(ee[580],te([0,1,12,6,2,106,8,18,146,77,98,32]),function(G,e,b,k,T,L,S,p,C,i,v,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=void 0;const a=Object.prototype.hasOwnProperty;class l extends T.Disposable{constructor(u=!0,s=!1){super();this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=s,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},u&&(this._initializeFromRegistry(),this._register(C.ModesRegistry.onDidChangeLanguages(n=>this._initializeFromRegistry())))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const u=C.ModesRegistry.getLanguages();this._registerLanguages(u)}_registerLanguages(u){for(const s of u)this._registerLanguage(s);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(s=>{let n=this._languages[s];n.name&&(this._nameMap[n.name]=n.identifier),n.aliases.forEach(d=>{this._lowercaseNameMap[d.toLowerCase()]=n.identifier}),n.mimetypes.forEach(d=>{this._mimeTypesMap[d]=n.identifier})}),r.Registry.as(v.Extensions.Configuration).registerOverrideIdentifiers(C.ModesRegistry.getLanguages().map(s=>s.id)),this._onDidChange.fire()}_getLanguageId(u){if(this._languageToLanguageId[u])return this._languageToLanguageId[u];const s=this._nextLanguageId2++;return this._languageIdToLanguage[s]=u,this._languageToLanguageId[u]=s,s}_registerLanguage(u){const s=u.id;let n;if(a.call(this._languages,s))n=this._languages[s];else{const d=this._getLanguageId(s);n={identifier:new p.LanguageIdentifier(s,d),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[s]=n}this._mergeLanguage(n,u)}_mergeLanguage(u,s){const n=s.id;let d=null;if(Array.isArray(s.mimetypes)&&s.mimetypes.length>0&&(u.mimetypes.push(...s.mimetypes),d=s.mimetypes[0]),d||(d=`text/x-${n}`,u.mimetypes.push(d)),Array.isArray(s.extensions)){s.configuration?u.extensions=s.extensions.concat(u.extensions):u.extensions=u.extensions.concat(s.extensions);for(let h of s.extensions)L.registerTextMime({id:n,mime:d,extension:h},this._warnOnOverwrite)}if(Array.isArray(s.filenames))for(let h of s.filenames)L.registerTextMime({id:n,mime:d,filename:h},this._warnOnOverwrite),u.filenames.push(h);if(Array.isArray(s.filenamePatterns))for(let h of s.filenamePatterns)L.registerTextMime({id:n,mime:d,filepattern:h},this._warnOnOverwrite);if(typeof s.firstLine=="string"&&s.firstLine.length>0){let h=s.firstLine;h.charAt(0)!=="^"&&(h="^"+h);try{let m=new RegExp(h);S.regExpLeadsToEndlessLoop(m)||L.registerTextMime({id:n,mime:d,firstline:m},this._warnOnOverwrite)}catch(m){(0,b.onUnexpectedError)(m)}}u.aliases.push(n);let t=null;if(typeof s.aliases!="undefined"&&Array.isArray(s.aliases)&&(s.aliases.length===0?t=[null]:t=s.aliases),t!==null)for(const h of t)!h||h.length===0||u.aliases.push(h);let o=t!==null&&t.length>0;if(!(o&&t[0]===null)){let h=(o?t[0]:null)||n;(o||!u.name)&&(u.name=h)}s.configuration&&u.configurationFiles.push(s.configuration)}isRegisteredMode(u){return a.call(this._mimeTypesMap,u)?!0:a.call(this._languages,u)}getModeIdForLanguageNameLowercase(u){return a.call(this._lowercaseNameMap,u)?this._lowercaseNameMap[u].language:null}extractModeIds(u){return u?u.split(",").map(s=>s.trim()).map(s=>a.call(this._mimeTypesMap,s)?this._mimeTypesMap[s].language:s).filter(s=>a.call(this._languages,s)):[]}getLanguageIdentifier(u){if(u===i.NULL_MODE_ID||u===0)return i.NULL_LANGUAGE_IDENTIFIER;let s;if(typeof u=="string")s=u;else if(s=this._languageIdToLanguage[u],!s)return null;return a.call(this._languages,s)?this._languages[s].identifier:null}getModeIdsFromFilepathOrFirstLine(u,s){if(!u&&!s)return[];let n=L.guessMimeTypes(u,s);return this.extractModeIds(n.join(","))}}e.LanguagesRegistry=l}),define(ee[581],te([0,1,6,2,381,77,580,19]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModeServiceImpl=void 0;class C{constructor(r,a){this._selector=a,this.languageIdentifier=this._selector();let l;this._onDidChange=new b.Emitter({onFirstListenerAdd:()=>{l=r(()=>this._evaluate())},onLastListenerRemove:()=>{l.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){let r=this._selector();r.id!==this.languageIdentifier.id&&(this.languageIdentifier=r,this._onDidChange.fire(this.languageIdentifier))}}class i extends k.Disposable{constructor(r=!1){super();this._onDidCreateMode=this._register(new b.Emitter),this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=this._register(new b.Emitter({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=this._register(new S.LanguagesRegistry(!0,r)),this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}isRegisteredMode(r){return this._registry.isRegisteredMode(r)}getModeIdForLanguageName(r){return this._registry.getModeIdForLanguageNameLowercase(r)}getModeIdByFilepathOrFirstLine(r,a){const l=this._registry.getModeIdsFromFilepathOrFirstLine(r,a);return(0,p.firstOrDefault)(l,null)}getModeId(r){const a=this._registry.extractModeIds(r);return(0,p.firstOrDefault)(a,null)}getLanguageIdentifier(r){return this._registry.getLanguageIdentifier(r)}create(r){return new C(this.onLanguagesMaybeChanged,()=>{const a=this.getModeId(r);return this._createModeAndGetLanguageIdentifier(a)})}createByFilepathOrFirstLine(r,a){return new C(this.onLanguagesMaybeChanged,()=>{const l=this.getModeIdByFilepathOrFirstLine(r,a);return this._createModeAndGetLanguageIdentifier(l)})}_createModeAndGetLanguageIdentifier(r){const a=this.getLanguageIdentifier(r||"plaintext")||L.NULL_LANGUAGE_IDENTIFIER;return this._getOrCreateMode(a.language),a}triggerMode(r){const a=this.getModeId(r);this._getOrCreateMode(a||"plaintext")}_getOrCreateMode(r){if(!this._instantiatedModes.hasOwnProperty(r)){let a=this.getLanguageIdentifier(r)||L.NULL_LANGUAGE_IDENTIFIER;this._instantiatedModes[r]=new T.FrankensteinMode(a),this._onDidCreateMode.fire(this._instantiatedModes[r])}return this._instantiatedModes[r]}}e.ModeServiceImpl=i}),define(ee[38],te([0,1,32,9,98]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultValues=e.getConfigurationKeys=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,k.createDecorator)("configurationService");function L(a,l){const c=Object.create(null);for(let u in a)S(c,u,a[u],l);return c}e.toValuesTree=L;function S(a,l,c,u){const s=l.split("."),n=s.pop();let d=a;for(let t=0;t<s.length;t++){let o=s[t],h=d[o];switch(typeof h){case"undefined":h=d[o]=Object.create(null);break;case"object":break;default:u(`Ignoring ${l} as ${s.slice(0,t+1).join(".")} is ${JSON.stringify(h)}`);return}d=h}if(typeof d=="object"&&d!==null)try{d[n]=c}catch(t){u(`Ignoring ${l} as ${s.join(".")} is ${JSON.stringify(d)}`)}else u(`Ignoring ${l} as ${s.join(".")} is ${JSON.stringify(d)}`)}e.addToValueTree=S;function p(a,l){const c=l.split(".");C(a,c)}e.removeFromValueTree=p;function C(a,l){const c=l.shift();if(l.length===0){delete a[c];return}if(Object.keys(a).indexOf(c)!==-1){const u=a[c];typeof u=="object"&&!Array.isArray(u)&&(C(u,l),Object.keys(u).length===0&&delete a[c])}}function i(a,l,c){function u(d,t){let o=d;for(const h of t){if(typeof o!="object"||o===null)return;o=o[h]}return o}const s=l.split("."),n=u(a,s);return typeof n=="undefined"?c:n}e.getConfigurationValue=i;function v(){const a=b.Registry.as(T.Extensions.Configuration).getConfigurationProperties();return Object.keys(a)}e.getConfigurationKeys=v;function r(){const a=Object.create(null),l=b.Registry.as(T.Extensions.Configuration).getConfigurationProperties();for(let c in l){let u=l[c].default;S(a,c,u,s=>console.error(`Conflict in default settings: ${s}`))}return a}e.getDefaultValues=r}),define(ee[582],te([0,1,2,64,6,16,38]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let p=class extends b.Disposable{constructor(i,v){super();this._contextKeyService=i,this._configurationService=v,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new T.Emitter,this._accessibilityModeEnabledContext=k.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const r=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration("editor.accessibilitySupport")&&(r(),this._onDidChangeScreenReaderOptimized.fire())})),r(),this.onDidChangeScreenReaderOptimized(()=>r())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const i=this._configurationService.getValue("editor.accessibilitySupport");return i==="on"||i==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};p=Re([Ce(0,L.IContextKeyService),Ce(1,S.IConfigurationService)],p),e.AccessibilityService=p}),define(ee[583],te([0,1,49,19,20,42,24,98,38]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.DefaultConfigurationModel=e.ConfigurationModel=void 0;class i{constructor(c={},u=[],s=[]){this._contents=c,this._keys=u,this._overrides=s,this.isFrozen=!1}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(c){return c?(0,C.getConfigurationValue)(this.contents,c):this.contents}override(c){const u=this.getContentsForOverrideIdentifer(c);if(!u||typeof u!="object"||!Object.keys(u).length)return this;let s={};for(const n of k.distinct([...Object.keys(this.contents),...Object.keys(u)])){let d=this.contents[n],t=u[n];t&&(typeof d=="object"&&typeof t=="object"?(d=L.deepClone(d),this.mergeContents(d,t)):d=t),s[n]=d}return new i(s,this.keys,this.overrides)}merge(...c){const u=L.deepClone(this.contents),s=L.deepClone(this.overrides),n=[...this.keys];for(const d of c){this.mergeContents(u,d.contents);for(const t of d.overrides){const[o]=s.filter(h=>k.equals(h.identifiers,t.identifiers));o?this.mergeContents(o.contents,t.contents):s.push(L.deepClone(t))}for(const t of d.keys)n.indexOf(t)===-1&&n.push(t)}return new i(u,n,s)}freeze(){return this.isFrozen=!0,this}mergeContents(c,u){for(const s of Object.keys(u)){if(s in c&&T.isObject(c[s])&&T.isObject(u[s])){this.mergeContents(c[s],u[s]);continue}c[s]=L.deepClone(u[s])}}checkAndFreeze(c){return this.isFrozen&&!Object.isFrozen(c)?L.deepFreeze(c):c}getContentsForOverrideIdentifer(c){for(const u of this.overrides)if(u.identifiers.indexOf(c)!==-1)return u.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(c,u){this.addKey(c),(0,C.addToValueTree)(this.contents,c,u,s=>{throw new Error(s)})}removeValue(c){this.removeKey(c)&&(0,C.removeFromValueTree)(this.contents,c)}addKey(c){let u=this.keys.length;for(let s=0;s<u;s++)c.indexOf(this.keys[s])===0&&(u=s);this.keys.splice(u,1,c)}removeKey(c){let u=this.keys.indexOf(c);return u!==-1?(this.keys.splice(u,1),!0):!1}}e.ConfigurationModel=i;class v extends i{constructor(){const c=(0,C.getDefaultValues)(),u=(0,C.getConfigurationKeys)(),s=[];for(const n of Object.keys(c))p.OVERRIDE_PROPERTY_PATTERN.test(n)&&s.push({identifiers:[(0,p.overrideIdentifierFromKey)(n).trim()],keys:Object.keys(c[n]),contents:(0,C.toValuesTree)(c[n],d=>console.error(`Conflict in default settings file: ${d}`))});super(c,u,s)}}e.DefaultConfigurationModel=v;class r{constructor(c,u,s=new i,n=new i,d=new b.ResourceMap,t=new i,o=new b.ResourceMap,h=!0){this._defaultConfiguration=c,this._localUserConfiguration=u,this._remoteUserConfiguration=s,this._workspaceConfiguration=n,this._folderConfigurations=d,this._memoryConfiguration=t,this._memoryConfigurationByResource=o,this._freeze=h,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new b.ResourceMap,this._userConfiguration=null}getValue(c,u,s){return this.getConsolidateConfigurationModel(u,s).getValue(c)}updateValue(c,u,s={}){let n;s.resource?(n=this._memoryConfigurationByResource.get(s.resource),n||(n=new i,this._memoryConfigurationByResource.set(s.resource,n))):n=this._memoryConfiguration,u===void 0?n.removeValue(c):n.setValue(c,u),s.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(c,u){let s=this.getConsolidatedConfigurationModelForResource(c,u);return c.overrideIdentifier?s.override(c.overrideIdentifier):s}getConsolidatedConfigurationModelForResource({resource:c},u){let s=this.getWorkspaceConsolidatedConfiguration();if(u&&c){const n=u.getFolder(c);n&&(s=this.getFolderConsolidatedConfiguration(n.uri)||s);const d=this._memoryConfigurationByResource.get(c);d&&(s=s.merge(d))}return s}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(c){let u=this._foldersConsolidatedConfigurations.get(c);if(!u){const s=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(c);n?(u=s.merge(n),this._freeze&&(u=u.freeze()),this._foldersConsolidatedConfigurations.set(c,u)):u=s}return u}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((c,u)=>{const{contents:s,overrides:n,keys:d}=this._folderConfigurations.get(u);return c.push([u,{contents:s,overrides:n,keys:d}]),c},[])}}static parse(c){const u=this.parseConfigurationModel(c.defaults),s=this.parseConfigurationModel(c.user),n=this.parseConfigurationModel(c.workspace),d=c.folders.reduce((t,o)=>(t.set(S.URI.revive(o[0]),this.parseConfigurationModel(o[1])),t),new b.ResourceMap);return new r(u,s,new i,n,d,new i,new b.ResourceMap,!1)}static parseConfigurationModel(c){return new i(c.contents,c.keys,c.overrides).freeze()}}e.Configuration=r;class a{constructor(c,u,s,n){this.change=c,this.previous=u,this.currentConfiguraiton=s,this.currentWorkspace=n,this._previousConfiguration=void 0;const d=new Set;c.keys.forEach(o=>d.add(o)),c.overrides.forEach(([,o])=>o.forEach(h=>d.add(h))),this.affectedKeys=[...d.values()];const t=new i;this.affectedKeys.forEach(o=>t.setValue(o,{})),this.affectedKeysTree=t.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=r.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(c,u){var s;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,c)){if(u){const n=this.previousConfiguration?this.previousConfiguration.getValue(c,u,(s=this.previous)===null||s===void 0?void 0:s.workspace):void 0,d=this.currentConfiguraiton.getValue(c,u,this.currentWorkspace);return!L.equals(n,d)}return!0}return!1}doesAffectedKeysTreeContains(c,u){let s=(0,C.toValuesTree)({[u]:!0},()=>{}),n;for(;typeof s=="object"&&(n=Object.keys(s)[0]);){if(c=c[n],!c)return!1;s=s[n]}return!0}}e.ConfigurationChangeEvent=a}),define(ee[584],te([0,1,6,54,2,49,534,26,38,16,254]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const r="data-keybinding-context";class a{constructor(w,g){this._id=w,this._parent=g,this._value=Object.create(null),this._value._contextId=w}setValue(w,g){return this._value[w]!==g?(this._value[w]=g,!0):!1}removeValue(w){return w in this._value?(delete this._value[w],!0):!1}getValue(w){const g=this._value[w];return typeof g=="undefined"&&this._parent?this._parent.getValue(w):g}}e.Context=a;class l extends a{constructor(){super(-1,null)}setValue(w,g){return!1}removeValue(w){return!1}getValue(w){}}l.INSTANCE=new l;class c extends a{constructor(w,g,f){super(w,null);this._configurationService=g,this._values=L.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(_=>{if(_.source===6){const D=Array.from(k.Iterable.map(this._values,([N])=>N));this._values.clear(),f.fire(new n(D))}else{const D=[];for(const N of _.affectedKeys){const I=`config.${N}`,M=this._values.findSuperstr(I);M!==void 0&&(D.push(...k.Iterable.map(M,([O])=>O)),this._values.deleteSuperstr(I)),this._values.has(I)&&(D.push(I),this._values.delete(I))}f.fire(new n(D))}})}dispose(){this._listener.dispose()}getValue(w){if(w.indexOf(c._keyPrefix)!==0)return super.getValue(w);if(this._values.has(w))return this._values.get(w);const g=w.substr(c._keyPrefix.length),f=this._configurationService.getValue(g);let _;switch(typeof f){case"number":case"boolean":case"string":_=f;break;default:Array.isArray(f)?_=JSON.stringify(f):_=f}return this._values.set(w,_),_}setValue(w,g){return super.setValue(w,g)}removeValue(w){return super.removeValue(w)}}c._keyPrefix="config.";class u{constructor(w,g,f){this._service=w,this._key=g,this._defaultValue=f,this.reset()}set(w){this._service.setContext(this._key,w)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class s{constructor(w){this.key=w}affectsSome(w){return w.has(this.key)}}class n{constructor(w){this.keys=w}affectsSome(w){for(const g of this.keys)if(w.has(g))return!0;return!1}}class d{constructor(w){this.events=w}affectsSome(w){for(const g of this.events)if(g.affectsSome(w))return!0;return!1}}class t{constructor(w){this._onDidChangeContext=new b.PauseableEmitter({merge:g=>new d(g)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=w}createKey(w,g){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new u(this,w,g)}bufferChangeEvents(w){this._onDidChangeContext.pause();try{w()}finally{this._onDidChangeContext.resume()}}createScoped(w){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new h(this,w)}contextMatchesRules(w){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const g=this.getContextValuesContainer(this._myContextId);return v.KeybindingResolver.contextMatchesRules(g,w)}getContextKeyValue(w){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(w)}setContext(w,g){if(this._isDisposed)return;const f=this.getContextValuesContainer(this._myContextId);!f||f.setValue(w,g)&&this._onDidChangeContext.fire(new s(w))}removeContext(w){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(w)&&this._onDidChangeContext.fire(new s(w))}getContext(w){return this._isDisposed?l.INSTANCE:this.getContextValuesContainer(m(w))}}e.AbstractContextKeyService=t;let o=class extends t{constructor(w){super(0);this._contexts=new Map,this._toDispose=new T.DisposableStore,this._lastContextId=0;const g=new c(this._myContextId,w,this._onDidChangeContext);this._contexts.set(this._myContextId,g),this._toDispose.add(g)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(w){return this._isDisposed?l.INSTANCE:this._contexts.get(w)||l.INSTANCE}createChildContext(w=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let g=++this._lastContextId;return this._contexts.set(g,new a(g,this.getContextValuesContainer(w))),g}disposeContext(w){this._isDisposed||this._contexts.delete(w)}};o=Re([Ce(0,C.IConfigurationService)],o),e.ContextKeyService=o;class h extends t{constructor(w,g){super(w.createChildContext());if(this._parentChangeListener=new T.MutableDisposable,this._parent=w,this._updateParentChangeListener(),this._domNode=g,this._domNode.hasAttribute(r)){let f="";this._domNode.classList&&(f=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${f?": "+f:""}`)}this._domNode.setAttribute(r,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(r),this._isDisposed=!0)}getContextValuesContainer(w){return this._isDisposed?l.INSTANCE:this._parent.getContextValuesContainer(w)}createChildContext(w=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(w)}disposeContext(w){this._isDisposed||this._parent.disposeContext(w)}}function m(y){for(;y;){if(y.hasAttribute(r)){const w=y.getAttribute(r);return w?parseInt(w,10):NaN}y=y.parentElement}return 0}p.CommandsRegistry.registerCommand(i.SET_CONTEXT_COMMAND_ID,function(y,w,g){y.get(i.IContextKeyService).createKey(String(w),g)}),p.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...i.RawContextKey.all()].sort((y,w)=>y.key.localeCompare(w.key))},description:{description:(0,S.localize)(0,null),args:[]}}),p.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const y=[],w=new Set;for(let g of i.RawContextKey.all())w.has(g.key)||(w.add(g.key),y.push(g));y.sort((g,f)=>g.key.localeCompare(f.key)),console.log(JSON.stringify(y,void 0,2))})}),define(ee[88],te([0,1,41,17,26,32]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class S{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(i){if(k.OS===1){if(i&&i.win)return i.win}else if(k.OS===2){if(i&&i.mac)return i.mac}else if(i&&i.linux)return i.linux;return i}registerKeybindingRule(i){const v=S.bindToCurrentPlatform(i);if(v&&v.primary){const r=(0,b.createKeybinding)(v.primary,k.OS);r&&this._registerDefaultKeybinding(r,i.id,i.args,i.weight,0,i.when)}if(v&&Array.isArray(v.secondary))for(let r=0,a=v.secondary.length;r<a;r++){const l=v.secondary[r],c=(0,b.createKeybinding)(l,k.OS);c&&this._registerDefaultKeybinding(c,i.id,i.args,i.weight,-r-1,i.when)}}registerCommandAndKeybindingRule(i){this.registerKeybindingRule(i),T.CommandsRegistry.registerCommand(i)}static _mightProduceChar(i){return i>=21&&i<=30||i>=31&&i<=56?!0:i===80||i===81||i===82||i===83||i===84||i===85||i===86||i===110||i===111||i===87||i===88||i===89||i===90||i===91||i===92}_assertNoCtrlAlt(i,v){i.ctrlKey&&i.altKey&&!i.metaKey&&S._mightProduceChar(i.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",i," for ",v)}_registerDefaultKeybinding(i,v,r,a,l,c){k.OS===1&&this._assertNoCtrlAlt(i.parts[0],v),this._coreKeybindings.push({keybinding:i,command:v,commandArgs:r,when:c,weight1:a,weight2:l,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(p)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new S,e.Extensions={EditorModes:"platform.keybindingsRegistry"},L.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function p(C,i){return C.weight1!==i.weight1?C.weight1-i.weight1:C.command<i.command?-1:C.command>i.command?1:C.weight2-i.weight2}}),define(ee[585],te([0,1,16,442,88,443]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.createAndBindHistoryNavigationWidgetScopedContextKeyService=e.HistoryNavigationEnablementContext=e.HistoryNavigationWidgetContext=void 0,e.HistoryNavigationWidgetContext="historyNavigationWidget",e.HistoryNavigationEnablementContext="historyNavigationEnabled";function S(a,l,c){new b.RawContextKey(c,l).bindTo(a)}function p(a,l){return a.createScoped(l.target)}function C(a,l){return a.getContext(document.activeElement).getValue(l)}function i(a,l){const c=p(a,l);S(c,l,e.HistoryNavigationWidgetContext);const u=new b.RawContextKey(e.HistoryNavigationEnablementContext,!0).bindTo(c);return{scopedContextKeyService:c,historyNavigationEnablement:u}}e.createAndBindHistoryNavigationWidgetScopedContextKeyService=i;let v=class extends k.FindInput{constructor(l,c,u,s,n=!1){super(l,c,n,u);this._register(i(s,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};v=Re([Ce(3,b.IContextKeyService)],v),e.ContextScopedFindInput=v;let r=class extends L.ReplaceInput{constructor(l,c,u,s,n=!1){super(l,c,n,u);this._register(i(s,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};r=Re([Ce(3,b.IContextKeyService)],r),e.ContextScopedReplaceInput=r,T.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:b.ContextKeyExpr.and(b.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),b.ContextKeyExpr.equals(e.HistoryNavigationEnablementContext,!0)),primary:16,secondary:[512|16],handler:(a,l)=>{const c=C(a.get(b.IContextKeyService),e.HistoryNavigationWidgetContext);c&&c.historyNavigator.showPreviousValue()}}),T.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:b.ContextKeyExpr.and(b.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),b.ContextKeyExpr.equals(e.HistoryNavigationEnablementContext,!0)),primary:18,secondary:[512|18],handler:(a,l)=>{const c=C(a.get(b.IContextKeyService),e.HistoryNavigationWidgetContext);c&&c.historyNavigator.showNextValue()}})}),define(ee[99],te([0,1,32,19,2]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var L;(function(p){p[p.PRESERVE=0]="PRESERVE",p[p.LAST=1]="LAST"})(L=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class S{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(C){return C.prefix.length===0?this.defaultProvider=C:this.providers.push(C),this.providers.sort((i,v)=>v.prefix.length-i.prefix.length),(0,T.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(C),1),this.defaultProvider===C&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,k.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(C){return C&&this.providers.find(v=>C.startsWith(v.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=S,b.Registry.add(e.Extensions.Quickaccess,new S)}),define(ee[586],te([0,1,78,99,32,540,2]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let p=class dt{constructor(i){this.quickInputService=i,this.registry=T.Registry.as(k.Extensions.Quickaccess)}provide(i){const v=new S.DisposableStore;v.add(i.onDidAccept(()=>{const[l]=i.selectedItems;l&&this.quickInputService.quickAccess.show(l.prefix,{preserveValue:!0})})),v.add(i.onDidChangeValue(l=>{const c=this.registry.getQuickAccessProvider(l.substr(dt.PREFIX.length));c&&c.prefix&&c.prefix!==dt.PREFIX&&this.quickInputService.quickAccess.show(c.prefix,{preserveValue:!0})}));const{editorProviders:r,globalProviders:a}=this.getQuickAccessProviders();return i.items=r.length===0||a.length===0?[...r.length===0?a:r]:[{label:(0,L.localize)(0,null),type:"separator"},...a,{label:(0,L.localize)(1,null),type:"separator"},...r],v}getQuickAccessProviders(){const i=[],v=[];for(const r of this.registry.getQuickAccessProviders().sort((a,l)=>a.prefix.localeCompare(l.prefix)))if(r.prefix!==dt.PREFIX)for(const a of r.helpEntries){const l=a.prefix||r.prefix,c=l||"\u2026";(a.needsEditor?v:i).push({prefix:l,label:c,ariaLabel:(0,L.localize)(2,null,c,a.description),description:a.description})}return{editorProviders:v,globalProviders:i}}};p.PREFIX="?",p=Re([Ce(0,b.IQuickInputService)],p),e.HelpQuickAccessProvider=p}),define(ee[587],te([0,1,32,99,63,586]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),b.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:L.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:T.QuickHelpNLS.helpQuickAccessActionLabel,needsEditor:!0}]})}),define(ee[588],te([0,1,78,2,99,32,23,9,80]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let i=class extends k.Disposable{constructor(r,a){super();this.quickInputService=r,this.instantiationService=a,this.registry=L.Registry.as(T.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(r="",a){this.doShowOrPick(r,!1,a)}doShowOrPick(r,a,l){var c;const[u,s]=this.getOrInstantiateProvider(r),n=this.visibleQuickAccess,d=n==null?void 0:n.descriptor;if(n&&s&&d===s){r!==s.prefix&&!(l==null?void 0:l.preserveValue)&&(n.picker.value=r),this.adjustValueSelection(n.picker,s,l);return}if(s&&!(l==null?void 0:l.preserveValue)){let w;if(n&&d&&d!==s){const g=n.value.substr(d.prefix.length);g&&(w=`${s.prefix}${g}`)}if(!w){const g=u==null?void 0:u.defaultFilterValue;g===T.DefaultQuickAccessFilterValue.LAST?w=this.lastAcceptedPickerValues.get(s):typeof g=="string"&&(w=`${s.prefix}${g}`)}typeof w=="string"&&(r=w)}const t=new k.DisposableStore,o=t.add(this.quickInputService.createQuickPick());o.value=r,this.adjustValueSelection(o,s,l),o.placeholder=s==null?void 0:s.placeholder,o.quickNavigate=l==null?void 0:l.quickNavigateConfiguration,o.hideInput=!!o.quickNavigate&&!n,(typeof(l==null?void 0:l.itemActivation)=="number"||(l==null?void 0:l.quickNavigateConfiguration))&&(o.itemActivation=(c=l==null?void 0:l.itemActivation)!==null&&c!==void 0?c:b.ItemActivation.SECOND),o.contextKey=s==null?void 0:s.contextKey,o.filterValue=w=>w.substring(s?s.prefix.length:0),(s==null?void 0:s.placeholder)&&(o.ariaLabel=s==null?void 0:s.placeholder);let h,m;a&&(h=new Promise(w=>m=w),t.add((0,C.once)(o.onWillAccept)(w=>{w.veto(),o.hide()}))),t.add(this.registerPickerListeners(o,u,s,r));const y=t.add(new S.CancellationTokenSource);if(u&&t.add(u.provide(o,y.token)),(0,C.once)(o.onDidHide)(()=>{o.selectedItems.length===0&&y.cancel(),t.dispose(),m==null||m(o.selectedItems)}),o.show(),a)return h}adjustValueSelection(r,a,l){var c;let u;(l==null?void 0:l.preserveValue)?u=[r.value.length,r.value.length]:u=[(c=a==null?void 0:a.prefix.length)!==null&&c!==void 0?c:0,r.value.length],r.valueSelection=u}registerPickerListeners(r,a,l,c){const u=new k.DisposableStore,s=this.visibleQuickAccess={picker:r,descriptor:l,value:c};return u.add((0,k.toDisposable)(()=>{s===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),u.add(r.onDidChangeValue(n=>{const[d]=this.getOrInstantiateProvider(n);d!==a?this.show(n,{preserveValue:!0}):s.value=n})),l&&u.add(r.onDidAccept(()=>{this.lastAcceptedPickerValues.set(l,r.value)})),u}getOrInstantiateProvider(r){const a=this.registry.getQuickAccessProvider(r);if(!a)return[void 0,void 0];let l=this.mapProviderToDescriptor.get(a);return l||(l=this.instantiationService.createInstance(a.ctor),this.mapProviderToDescriptor.set(a,l)),[l,a]}};i=Re([Ce(0,b.IQuickInputService),Ce(1,p.IInstantiationService)],i),e.QuickAccessController=i}),define(ee[71],te([0,1,9,6,2,20,300]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=void 0;const p="__$__targetStorageMarker";e.IStorageService=(0,b.createDecorator)("storageService");var C;(function(r){r[r.NONE=0]="NONE",r[r.SHUTDOWN=1]="SHUTDOWN"})(C=e.WillSaveStateReason||(e.WillSaveStateReason={}));class i extends T.Disposable{constructor(a={flushInterval:i.DEFAULT_FLUSH_INTERVAL}){super();this.options=a,this._onDidChangeValue=this._register(new k.PauseableEmitter),this._onDidChangeTarget=this._register(new k.PauseableEmitter),this._onWillSaveState=this._register(new k.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(a,l){l===p?(a===0?this._globalKeyTargets=void 0:a===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:a})):this._onDidChangeValue.fire({scope:a,key:l,target:this.getKeyTargets(a)[l]})}get(a,l,c){var u;return(u=this.getStorage(l))===null||u===void 0?void 0:u.get(a,c)}getBoolean(a,l,c){var u;return(u=this.getStorage(l))===null||u===void 0?void 0:u.getBoolean(a,c)}getNumber(a,l,c){var u;return(u=this.getStorage(l))===null||u===void 0?void 0:u.getNumber(a,c)}store(a,l,c,u){if((0,L.isUndefinedOrNull)(l)){this.remove(a,c);return}this.withPausedEmitters(()=>{var s;this.updateKeyTarget(a,c,u),(s=this.getStorage(c))===null||s===void 0||s.set(a,l)})}remove(a,l){this.withPausedEmitters(()=>{var c;this.updateKeyTarget(a,l,void 0),(c=this.getStorage(l))===null||c===void 0||c.delete(a)})}withPausedEmitters(a){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{a()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(a,l,c){var u,s;const n=this.getKeyTargets(l);typeof c=="number"?n[a]!==c&&(n[a]=c,(u=this.getStorage(l))===null||u===void 0||u.set(p,JSON.stringify(n))):typeof n[a]=="number"&&(delete n[a],(s=this.getStorage(l))===null||s===void 0||s.set(p,JSON.stringify(n)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(a){return a===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(a){const l=this.get(p,a);if(l)try{return JSON.parse(l)}catch(c){}return Object.create(null)}}e.AbstractStorageService=i,i.DEFAULT_FLUSH_INTERVAL=60*1e3;class v extends i{constructor(){super();this.globalStorage=this._register(new S.Storage(new S.InMemoryStorageDatabase)),this.workspaceStorage=this._register(new S.Storage(new S.InMemoryStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage(a=>this.emitDidChangeValue(1,a))),this._register(this.globalStorage.onDidChangeStorage(a=>this.emitDidChangeValue(0,a)))}getStorage(a){return a===0?this.globalStorage:this.workspaceStorage}}e.InMemoryStorageService=v}),define(ee[589],te([0,1,9,75,251,49,71,3,15,80]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,b.createDecorator)("ICodeLensCache");class v{constructor(l,c){this.lineCount=l,this.data=c}}let r=class{constructor(l){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new L.LRUCache(20,.75);const c="codelens/cache";(0,C.runWhenIdle)(()=>l.remove(c,1));const u="codelens/cache2",s=l.get(u,1,"{}");this._deserialize(s),(0,i.once)(l.onWillSaveState)(n=>{n.reason===S.WillSaveStateReason.SHUTDOWN&&l.store(u,this._serialize(),1,1)})}put(l,c){const u=c.lenses.map(d=>{var t;return{range:d.symbol.range,command:d.symbol.command&&{id:"",title:(t=d.symbol.command)===null||t===void 0?void 0:t.title}}}),s=new T.CodeLensModel;s.add({lenses:u,dispose:()=>{}},this._fakeProvider);const n=new v(l.getLineCount(),s);this._cache.set(l.uri.toString(),n)}get(l){const c=this._cache.get(l.uri.toString());return c&&c.lineCount===l.getLineCount()?c.data:void 0}delete(l){this._cache.delete(l.uri.toString())}_serialize(){const l=Object.create(null);for(const[c,u]of this._cache){const s=new Set;for(const n of u.data.lenses)s.add(n.symbol.range.startLineNumber);l[c]={lineCount:u.lineCount,lines:[...s.values()]}}return JSON.stringify(l)}_deserialize(l){try{const c=JSON.parse(l);for(const u in c){const s=c[u],n=[];for(const t of s.lines)n.push({range:new p.Range(t,1,t,11)});const d=new T.CodeLensModel;d.add({lenses:n,dispose(){}},this._fakeProvider),this._cache.set(u,new v(s.lineCount,d))}}catch(c){}}};r=Re([Ce(0,S.IStorageService)],r),e.CodeLensCache=r,(0,k.registerSingleton)(e.ICodeLensCache,r)}),define(ee[590],te([0,1,49,71,18,2,15,9,38,75,57]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class r{constructor(n){this.name=n}select(n,d,t){if(t.length===0)return 0;let o=t[0].score[0];for(let h=0;h<t.length;h++){const{score:m,completion:y}=t[h];if(m[0]!==o)break;if(y.preselect)return h}return 0}}e.Memory=r;class a extends r{constructor(){super("first")}memorize(n,d,t){}toJSON(){}fromJSON(){}}e.NoMemory=a;class l extends r{constructor(){super("recentlyUsed");this._cache=new b.LRUCache(300,.66),this._seq=0}memorize(n,d,t){const o=`${n.getLanguageIdentifier().language}/${t.textLabel}`;this._cache.set(o,{touch:this._seq++,type:t.completion.kind,insertText:t.completion.insertText})}select(n,d,t){if(t.length===0)return 0;const o=n.getLineContent(d.lineNumber).substr(d.column-10,d.column-1);if(/\s$/.test(o))return super.select(n,d,t);let h=t[0].score[0],m=-1,y=-1,w=-1;for(let g=0;g<t.length&&t[g].score[0]===h;g++){const f=`${n.getLanguageIdentifier().language}/${t[g].textLabel}`,_=this._cache.peek(f);if(_&&_.touch>w&&_.type===t[g].completion.kind&&_.insertText===t[g].completion.insertText&&(w=_.touch,y=g),t[g].completion.preselect&&m===-1)return m=g}return y!==-1?y:m!==-1?m:0}toJSON(){return this._cache.toJSON()}fromJSON(n){this._cache.clear();let d=0;for(const[t,o]of n)o.touch=d,o.type=typeof o.type=="number"?o.type:(0,T.completionKindFromString)(o.type),this._cache.set(t,o);this._seq=this._cache.size}}e.LRUMemory=l;class c extends r{constructor(){super("recentlyUsedByPrefix");this._trie=b.TernarySearchTree.forStrings(),this._seq=0}memorize(n,d,t){const{word:o}=n.getWordUntilPosition(d),h=`${n.getLanguageIdentifier().language}/${o}`;this._trie.set(h,{type:t.completion.kind,insertText:t.completion.insertText,touch:this._seq++})}select(n,d,t){let{word:o}=n.getWordUntilPosition(d);if(!o)return super.select(n,d,t);let h=`${n.getLanguageIdentifier().language}/${o}`,m=this._trie.get(h);if(m||(m=this._trie.findSubstr(h)),m)for(let y=0;y<t.length;y++){let{kind:w,insertText:g}=t[y].completion;if(w===m.type&&g===m.insertText)return y}return super.select(n,d,t)}toJSON(){let n=[];return this._trie.forEach((d,t)=>n.push([t,d])),n.sort((d,t)=>-(d[1].touch-t[1].touch)).forEach((d,t)=>d[1].touch=t),n.slice(0,200)}fromJSON(n){if(this._trie.clear(),n.length>0){this._seq=n[0][1].touch+1;for(const[d,t]of n)t.type=typeof t.type=="number"?t.type:(0,T.completionKindFromString)(t.type),this._trie.set(d,t)}}}e.PrefixMemory=c;let u=class ut{constructor(n,d,t){this._storageService=n,this._modeService=d,this._configService=t,this._disposables=new L.DisposableStore,this._persistSoon=new S.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(n.onWillSaveState(o=>{o.reason===k.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(n,d,t){this._withStrategy(n,d).memorize(n,d,t),this._persistSoon.schedule()}select(n,d,t){return this._withStrategy(n,d).select(n,d,t)}_withStrategy(n,d){var t,o;const h=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:(t=this._modeService.getLanguageIdentifier(n.getLanguageIdAtPosition(d.lineNumber,d.column)))===null||t===void 0?void 0:t.language,resource:n.uri});if(((o=this._strategy)===null||o===void 0?void 0:o.name)!==h){this._saveState();const m=ut._strategyCtors.get(h)||a;this._strategy=new m;try{const w=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,g=this._storageService.get(`${ut._storagePrefix}/${h}`,w);g&&this._strategy.fromJSON(JSON.parse(g))}catch(y){}}return this._strategy}_saveState(){if(this._strategy){const d=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,t=JSON.stringify(this._strategy);this._storageService.store(`${ut._storagePrefix}/${this._strategy.name}`,t,d,1)}}};u._strategyCtors=new Map([["recentlyUsedByPrefix",c],["recentlyUsed",l],["first",a]]),u._storagePrefix="suggest/memories",u=Re([Ce(0,k.IStorageService),Ce(1,v.IModeService),Ce(2,C.IConfigurationService)],u),e.SuggestMemoryService=u,e.ISuggestMemoryService=(0,p.createDecorator)("ISuggestMemories"),(0,i.registerSingleton)(e.ISuggestMemoryService,u,!0)}),define(ee[89],te([0,1,9]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,b.createDecorator)("telemetryService")}),define(ee[591],te([0,1,539,575,2,67,20,49,71,38,9,37,26,89,12,120,74,447]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let d=class ct extends k.PickerQuickAccessProvider{constructor(h,m,y,w,g,f){super(ct.PREFIX,h);this.instantiationService=m,this.keybindingService=y,this.commandService=w,this.telemetryService=g,this.dialogService=f,this.commandsHistory=this._register(this.instantiationService.createInstance(t)),this.options=h}_getPicks(h,m,y){return Ie(this,void 0,void 0,function*(){const w=yield this.getCommandPicks(m,y);if(y.isCancellationRequested)return[];const g=[];for(const N of w){const I=(0,S.withNullAsUndefined)(ct.WORD_FILTER(h,N.label)),M=N.commandAlias?(0,S.withNullAsUndefined)(ct.WORD_FILTER(h,N.commandAlias)):void 0;I||M?(N.highlights={label:I,detail:this.options.showAlias?M:void 0},g.push(N)):h===N.commandId&&g.push(N)}const f=new Map;for(const N of g){const I=f.get(N.label);I?(N.description=N.commandId,I.description=I.commandId):f.set(N.label,N)}g.sort((N,I)=>{const M=this.commandsHistory.peek(N.commandId),O=this.commandsHistory.peek(I.commandId);return M&&O?M>O?-1:1:M?-1:O?1:N.label.localeCompare(I.label)});const _=[];let D=!1;for(let N=0;N<g.length;N++){const I=g[N],M=this.keybindingService.lookupKeybinding(I.commandId),O=M?(0,b.localize)(0,null,I.label,M.getAriaLabel()):I.label;N===0&&this.commandsHistory.peek(I.commandId)&&(_.push({type:"separator",label:(0,b.localize)(1,null)}),D=!0),N!==0&&D&&!this.commandsHistory.peek(I.commandId)&&(_.push({type:"separator",label:(0,b.localize)(2,null)}),D=!1),_.push(Object.assign(Object.assign({},I),{ariaLabel:O,detail:this.options.showAlias&&I.commandAlias!==I.label?I.commandAlias:void 0,keybinding:M,accept:()=>Ie(this,void 0,void 0,function*(){this.commandsHistory.push(I.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:I.commandId,from:"quick open"});try{yield this.commandService.executeCommand(I.commandId)}catch(R){(0,c.isPromiseCanceledError)(R)||this.dialogService.show(s.default.Error,(0,b.localize)(3,null,I.label,(0,n.toErrorMessage)(R)))}})}))}return _})}};d.PREFIX=">",d.WORD_FILTER=(0,L.or)(L.matchesPrefix,L.matchesWords,L.matchesContiguousSubString),d=Re([Ce(1,v.IInstantiationService),Ce(2,r.IKeybindingService),Ce(3,a.ICommandService),Ce(4,l.ITelemetryService),Ce(5,u.IDialogService)],d),e.AbstractCommandsQuickAccessProvider=d;let t=class qe extends T.Disposable{constructor(h,m){super();this.storageService=h,this.configurationService=m,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=qe.getConfiguredCommandHistoryLength(this.configurationService),qe.cache&&qe.cache.limit!==this.configuredCommandsHistoryLength&&(qe.cache.limit=this.configuredCommandsHistoryLength,qe.saveState(this.storageService))}load(){const h=this.storageService.get(qe.PREF_KEY_CACHE,0);let m;if(h)try{m=JSON.parse(h)}catch(w){}const y=qe.cache=new p.LRUCache(this.configuredCommandsHistoryLength,1);if(m){let w;m.usesLRU?w=m.entries:w=m.entries.sort((g,f)=>g.value-f.value),w.forEach(g=>y.set(g.key,g.value))}qe.counter=this.storageService.getNumber(qe.PREF_KEY_COUNTER,0,qe.counter)}push(h){!qe.cache||(qe.cache.set(h,qe.counter++),qe.saveState(this.storageService))}peek(h){var m;return(m=qe.cache)===null||m===void 0?void 0:m.peek(h)}static saveState(h){if(!qe.cache)return;const m={usesLRU:!0,entries:[]};qe.cache.forEach((y,w)=>m.entries.push({key:w,value:y})),h.store(qe.PREF_KEY_CACHE,JSON.stringify(m),0,0),h.store(qe.PREF_KEY_COUNTER,qe.counter,0,0)}static getConfiguredCommandHistoryLength(h){var m,y;const g=(y=(m=h.getValue().workbench)===null||m===void 0?void 0:m.commandPalette)===null||y===void 0?void 0:y.history;return typeof g=="number"?g:qe.DEFAULT_COMMANDS_HISTORY_LENGTH}};t.DEFAULT_COMMANDS_HISTORY_LENGTH=50,t.PREF_KEY_CACHE="commandPalette.mru.cache",t.PREF_KEY_COUNTER="commandPalette.mru.counter",t.counter=1,t=Re([Ce(0,C.IStorageService),Ce(1,i.IConfigurationService)],t),e.CommandsHistory=t}),define(ee[592],te([0,1,591,104]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class T extends b.AbstractCommandsQuickAccessProvider{constructor(S,p,C,i,v,r){super(S,p,C,i,v,r)}getCodeEditorCommandPicks(){const S=this.activeTextEditorControl;if(!S)return[];const p=[];for(const C of S.getSupportedActions())p.push({commandId:C.id,commandAlias:C.alias,label:(0,k.stripIcons)(C.label)||C.id});return p}}e.AbstractEditorCommandsQuickAccessProvider=T}),define(ee[22],te([0,1,32,29,6,541,189,15,20]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.tableColumnsBorder=e.treeIndentGuidesStroke=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorForeground=e.editorBackground=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonHoverBackground=e.buttonBackground=e.buttonForeground=e.selectForeground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textLinkActiveForeground=e.textLinkForeground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.errorForeground=e.foreground=e.registerColor=e.Extensions=void 0,e.Extensions={ColorContribution:"base.contributions.colors"};class i{constructor(){this._onDidChangeSchema=new T.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(y,w,g,f=!1,_){let D={id:y,description:g,defaults:w,needsTransparency:f,deprecationMessage:_};this.colorsById[y]=D;let N={type:"string",description:g,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return _&&(N.deprecationMessage=_),this.colorSchema.properties[y]=N,this.colorReferenceSchema.enum.push(y),this.colorReferenceSchema.enumDescriptions.push(g),this._onDidChangeSchema.fire(),y}resolveDefaultColor(y,w){const g=this.colorsById[y];if(g&&g.defaults){const f=g.defaults[w.type];return t(f,w)}}getColorSchema(){return this.colorSchema}toString(){let y=(w,g)=>{let f=w.indexOf(".")===-1?0:1,_=g.indexOf(".")===-1?0:1;return f!==_?f-_:w.localeCompare(g)};return Object.keys(this.colorsById).sort(y).map(w=>`- \`${w}\`: ${this.colorsById[w].description}`).join(`
`)}}const v=new i;b.Registry.add(e.Extensions.ColorContribution,v);function r(m,y,w,g,f){return v.registerColor(m,y,w,g,f)}e.registerColor=r,e.foreground=r("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},L.localize(0,null)),e.errorForeground=r("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},L.localize(1,null)),e.iconForeground=r("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},L.localize(2,null)),e.focusBorder=r("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},L.localize(3,null)),e.contrastBorder=r("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},L.localize(4,null)),e.activeContrastBorder=r("contrastActiveBorder",{light:null,dark:null,hc:e.focusBorder},L.localize(5,null)),e.textLinkForeground=r("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},L.localize(6,null)),e.textLinkActiveForeground=r("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},L.localize(7,null)),e.textCodeBlockBackground=r("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:k.Color.black},L.localize(8,null)),e.widgetShadow=r("widget.shadow",{dark:u(k.Color.black,.36),light:u(k.Color.black,.16),hc:null},L.localize(9,null)),e.inputBackground=r("input.background",{dark:"#3C3C3C",light:k.Color.white,hc:k.Color.black},L.localize(10,null)),e.inputForeground=r("input.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},L.localize(11,null)),e.inputBorder=r("input.border",{dark:null,light:null,hc:e.contrastBorder},L.localize(12,null)),e.inputActiveOptionBorder=r("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:e.contrastBorder},L.localize(13,null)),e.inputActiveOptionBackground=r("inputOption.activeBackground",{dark:u(e.focusBorder,.4),light:u(e.focusBorder,.2),hc:k.Color.transparent},L.localize(14,null)),e.inputActiveOptionForeground=r("inputOption.activeForeground",{dark:k.Color.white,light:k.Color.black,hc:null},L.localize(15,null)),e.inputValidationInfoBackground=r("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:k.Color.black},L.localize(16,null)),e.inputValidationInfoForeground=r("inputValidation.infoForeground",{dark:null,light:null,hc:null},L.localize(17,null)),e.inputValidationInfoBorder=r("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:e.contrastBorder},L.localize(18,null)),e.inputValidationWarningBackground=r("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:k.Color.black},L.localize(19,null)),e.inputValidationWarningForeground=r("inputValidation.warningForeground",{dark:null,light:null,hc:null},L.localize(20,null)),e.inputValidationWarningBorder=r("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:e.contrastBorder},L.localize(21,null)),e.inputValidationErrorBackground=r("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:k.Color.black},L.localize(22,null)),e.inputValidationErrorForeground=r("inputValidation.errorForeground",{dark:null,light:null,hc:null},L.localize(23,null)),e.inputValidationErrorBorder=r("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},L.localize(24,null)),e.selectBackground=r("dropdown.background",{dark:"#3C3C3C",light:k.Color.white,hc:k.Color.black},L.localize(25,null)),e.selectForeground=r("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:k.Color.white},L.localize(26,null)),e.buttonForeground=r("button.foreground",{dark:k.Color.white,light:k.Color.white,hc:k.Color.white},L.localize(27,null)),e.buttonBackground=r("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},L.localize(28,null)),e.buttonHoverBackground=r("button.hoverBackground",{dark:c(e.buttonBackground,.2),light:l(e.buttonBackground,.2),hc:null},L.localize(29,null)),e.badgeBackground=r("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:k.Color.black},L.localize(30,null)),e.badgeForeground=r("badge.foreground",{dark:k.Color.white,light:"#333",hc:k.Color.white},L.localize(31,null)),e.scrollbarShadow=r("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},L.localize(32,null)),e.scrollbarSliderBackground=r("scrollbarSlider.background",{dark:k.Color.fromHex("#797979").transparent(.4),light:k.Color.fromHex("#646464").transparent(.4),hc:u(e.contrastBorder,.6)},L.localize(33,null)),e.scrollbarSliderHoverBackground=r("scrollbarSlider.hoverBackground",{dark:k.Color.fromHex("#646464").transparent(.7),light:k.Color.fromHex("#646464").transparent(.7),hc:u(e.contrastBorder,.8)},L.localize(34,null)),e.scrollbarSliderActiveBackground=r("scrollbarSlider.activeBackground",{dark:k.Color.fromHex("#BFBFBF").transparent(.4),light:k.Color.fromHex("#000000").transparent(.6),hc:e.contrastBorder},L.localize(35,null)),e.progressBarBackground=r("progressBar.background",{dark:k.Color.fromHex("#0E70C0"),light:k.Color.fromHex("#0E70C0"),hc:e.contrastBorder},L.localize(36,null)),e.editorErrorBackground=r("editorError.background",{dark:null,light:null,hc:null},L.localize(37,null),!0),e.editorErrorForeground=r("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},L.localize(38,null)),e.editorErrorBorder=r("editorError.border",{dark:null,light:null,hc:k.Color.fromHex("#E47777").transparent(.8)},L.localize(39,null)),e.editorWarningBackground=r("editorWarning.background",{dark:null,light:null,hc:null},L.localize(40,null),!0),e.editorWarningForeground=r("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},L.localize(41,null)),e.editorWarningBorder=r("editorWarning.border",{dark:null,light:null,hc:k.Color.fromHex("#FFCC00").transparent(.8)},L.localize(42,null)),e.editorInfoBackground=r("editorInfo.background",{dark:null,light:null,hc:null},L.localize(43,null),!0),e.editorInfoForeground=r("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},L.localize(44,null)),e.editorInfoBorder=r("editorInfo.border",{dark:null,light:null,hc:k.Color.fromHex("#75BEFF").transparent(.8)},L.localize(45,null)),e.editorHintForeground=r("editorHint.foreground",{dark:k.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},L.localize(46,null)),e.editorHintBorder=r("editorHint.border",{dark:null,light:null,hc:k.Color.fromHex("#eeeeee").transparent(.8)},L.localize(47,null)),e.editorBackground=r("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:k.Color.black},L.localize(48,null)),e.editorForeground=r("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:k.Color.white},L.localize(49,null)),e.editorWidgetBackground=r("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},L.localize(50,null)),e.editorWidgetForeground=r("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},L.localize(51,null)),e.editorWidgetBorder=r("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:e.contrastBorder},L.localize(52,null)),e.editorWidgetResizeBorder=r("editorWidget.resizeBorder",{light:null,dark:null,hc:null},L.localize(53,null)),e.quickInputBackground=r("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hc:e.editorWidgetBackground},L.localize(54,null)),e.quickInputForeground=r("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hc:e.editorWidgetForeground},L.localize(55,null)),e.quickInputTitleBackground=r("quickInputTitle.background",{dark:new k.Color(new k.RGBA(255,255,255,.105)),light:new k.Color(new k.RGBA(0,0,0,.06)),hc:"#000000"},L.localize(56,null)),e.pickerGroupForeground=r("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:k.Color.white},L.localize(57,null)),e.pickerGroupBorder=r("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:k.Color.white},L.localize(58,null)),e.keybindingLabelBackground=r("keybindingLabel.background",{dark:new k.Color(new k.RGBA(128,128,128,.17)),light:new k.Color(new k.RGBA(221,221,221,.4)),hc:k.Color.transparent},L.localize(59,null)),e.keybindingLabelForeground=r("keybindingLabel.foreground",{dark:k.Color.fromHex("#CCCCCC"),light:k.Color.fromHex("#555555"),hc:k.Color.white},L.localize(60,null)),e.keybindingLabelBorder=r("keybindingLabel.border",{dark:new k.Color(new k.RGBA(51,51,51,.6)),light:new k.Color(new k.RGBA(204,204,204,.4)),hc:new k.Color(new k.RGBA(111,195,223))},L.localize(61,null)),e.keybindingLabelBottomBorder=r("keybindingLabel.bottomBorder",{dark:new k.Color(new k.RGBA(68,68,68,.6)),light:new k.Color(new k.RGBA(187,187,187,.4)),hc:new k.Color(new k.RGBA(111,195,223))},L.localize(62,null)),e.editorSelectionBackground=r("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},L.localize(63,null)),e.editorSelectionForeground=r("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},L.localize(64,null)),e.editorInactiveSelection=r("editor.inactiveSelectionBackground",{light:u(e.editorSelectionBackground,.5),dark:u(e.editorSelectionBackground,.5),hc:u(e.editorSelectionBackground,.5)},L.localize(65,null),!0),e.editorSelectionHighlight=r("editor.selectionHighlightBackground",{light:d(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:d(e.editorSelectionBackground,e.editorBackground,.3,.6),hc:null},L.localize(66,null),!0),e.editorSelectionHighlightBorder=r("editor.selectionHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},L.localize(67,null)),e.editorFindMatch=r("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},L.localize(68,null)),e.editorFindMatchHighlight=r("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},L.localize(69,null),!0),e.editorFindRangeHighlight=r("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},L.localize(70,null),!0),e.editorFindMatchBorder=r("editor.findMatchBorder",{light:null,dark:null,hc:e.activeContrastBorder},L.localize(71,null)),e.editorFindMatchHighlightBorder=r("editor.findMatchHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},L.localize(72,null)),e.editorFindRangeHighlightBorder=r("editor.findRangeHighlightBorder",{dark:null,light:null,hc:u(e.activeContrastBorder,.4)},L.localize(73,null),!0),e.editorHoverHighlight=r("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},L.localize(74,null),!0),e.editorHoverBackground=r("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hc:e.editorWidgetBackground},L.localize(75,null)),e.editorHoverForeground=r("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hc:e.editorWidgetForeground},L.localize(76,null)),e.editorHoverBorder=r("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hc:e.editorWidgetBorder},L.localize(77,null)),e.editorHoverStatusBarBackground=r("editorHoverWidget.statusBarBackground",{dark:c(e.editorHoverBackground,.2),light:l(e.editorHoverBackground,.05),hc:e.editorWidgetBackground},L.localize(78,null)),e.editorActiveLinkForeground=r("editorLink.activeForeground",{dark:"#4E94CE",light:k.Color.blue,hc:k.Color.cyan},L.localize(79,null)),e.editorInlayHintForeground=r("editorInlayHint.foreground",{dark:u(e.badgeForeground,.8),light:u(e.badgeForeground,.8),hc:e.badgeForeground},L.localize(80,null)),e.editorInlayHintBackground=r("editorInlayHint.background",{dark:u(e.badgeBackground,.6),light:u(e.badgeBackground,.3),hc:e.badgeBackground},L.localize(81,null)),e.editorLightBulbForeground=r("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},L.localize(82,null)),e.editorLightBulbAutoFixForeground=r("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},L.localize(83,null)),e.defaultInsertColor=new k.Color(new k.RGBA(155,185,85,.2)),e.defaultRemoveColor=new k.Color(new k.RGBA(255,0,0,.2)),e.diffInserted=r("diffEditor.insertedTextBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hc:null},L.localize(84,null),!0),e.diffRemoved=r("diffEditor.removedTextBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hc:null},L.localize(85,null),!0),e.diffInsertedOutline=r("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},L.localize(86,null)),e.diffRemovedOutline=r("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},L.localize(87,null)),e.diffBorder=r("diffEditor.border",{dark:null,light:null,hc:e.contrastBorder},L.localize(88,null)),e.diffDiagonalFill=r("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},L.localize(89,null)),e.listFocusBackground=r("list.focusBackground",{dark:null,light:null,hc:null},L.localize(90,null)),e.listFocusForeground=r("list.focusForeground",{dark:null,light:null,hc:null},L.localize(91,null)),e.listFocusOutline=r("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hc:e.activeContrastBorder},L.localize(92,null)),e.listActiveSelectionBackground=r("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},L.localize(93,null)),e.listActiveSelectionForeground=r("list.activeSelectionForeground",{dark:k.Color.white,light:k.Color.white,hc:null},L.localize(94,null)),e.listActiveSelectionIconForeground=r("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},L.localize(95,null)),e.listInactiveSelectionBackground=r("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},L.localize(96,null)),e.listInactiveSelectionForeground=r("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},L.localize(97,null)),e.listInactiveSelectionIconForeground=r("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},L.localize(98,null)),e.listInactiveFocusBackground=r("list.inactiveFocusBackground",{dark:null,light:null,hc:null},L.localize(99,null)),e.listInactiveFocusOutline=r("list.inactiveFocusOutline",{dark:null,light:null,hc:null},L.localize(100,null)),e.listHoverBackground=r("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},L.localize(101,null)),e.listHoverForeground=r("list.hoverForeground",{dark:null,light:null,hc:null},L.localize(102,null)),e.listDropBackground=r("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},L.localize(103,null)),e.listHighlightForeground=r("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:e.focusBorder},L.localize(104,null)),e.listFocusHighlightForeground=r("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:n(e.listActiveSelectionBackground,e.listHighlightForeground,"#9DDDFF"),hc:e.listHighlightForeground},L.localize(105,null)),e.listFilterWidgetBackground=r("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:k.Color.black},L.localize(106,null)),e.listFilterWidgetOutline=r("listFilterWidget.outline",{dark:k.Color.transparent,light:k.Color.transparent,hc:"#f38518"},L.localize(107,null)),e.listFilterWidgetNoMatchesOutline=r("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},L.localize(108,null)),e.treeIndentGuidesStroke=r("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},L.localize(109,null)),e.tableColumnsBorder=r("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},L.localize(110,null)),e._deprecatedQuickInputListFocusBackground=r("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,L.localize(111,null)),e.quickInputListFocusForeground=r("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},L.localize(112,null)),e.quickInputListFocusIconForeground=r("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hc:e.listActiveSelectionIconForeground},L.localize(113,null)),e.quickInputListFocusBackground=r("quickInputList.focusBackground",{dark:s(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:s(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hc:null},L.localize(114,null)),e.menuBorder=r("menu.border",{dark:null,light:null,hc:e.contrastBorder},L.localize(115,null)),e.menuForeground=r("menu.foreground",{dark:e.selectForeground,light:e.foreground,hc:e.selectForeground},L.localize(116,null)),e.menuBackground=r("menu.background",{dark:e.selectBackground,light:e.selectBackground,hc:e.selectBackground},L.localize(117,null)),e.menuSelectionForeground=r("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},L.localize(118,null)),e.menuSelectionBackground=r("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hc:e.listActiveSelectionBackground},L.localize(119,null)),e.menuSelectionBorder=r("menu.selectionBorder",{dark:null,light:null,hc:e.activeContrastBorder},L.localize(120,null)),e.menuSeparatorBackground=r("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:e.contrastBorder},L.localize(121,null)),e.snippetTabstopHighlightBackground=r("editor.snippetTabstopHighlightBackground",{dark:new k.Color(new k.RGBA(124,124,124,.3)),light:new k.Color(new k.RGBA(10,50,100,.2)),hc:new k.Color(new k.RGBA(124,124,124,.3))},L.localize(122,null)),e.snippetTabstopHighlightBorder=r("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},L.localize(123,null)),e.snippetFinalTabstopHighlightBackground=r("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},L.localize(124,null)),e.snippetFinalTabstopHighlightBorder=r("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new k.Color(new k.RGBA(10,50,100,.5)),hc:"#525252"},L.localize(125,null)),e.overviewRulerFindMatchForeground=r("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},L.localize(126,null),!0),e.overviewRulerSelectionHighlightForeground=r("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},L.localize(127,null),!0),e.minimapFindMatch=r("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},L.localize(128,null),!0),e.minimapSelection=r("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},L.localize(129,null),!0),e.minimapError=r("minimap.errorHighlight",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hc:new k.Color(new k.RGBA(255,50,50,1))},L.localize(130,null)),e.minimapWarning=r("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningBorder},L.localize(131,null)),e.minimapBackground=r("minimap.background",{dark:null,light:null,hc:null},L.localize(132,null)),e.minimapSliderBackground=r("minimapSlider.background",{light:u(e.scrollbarSliderBackground,.5),dark:u(e.scrollbarSliderBackground,.5),hc:u(e.scrollbarSliderBackground,.5)},L.localize(133,null)),e.minimapSliderHoverBackground=r("minimapSlider.hoverBackground",{light:u(e.scrollbarSliderHoverBackground,.5),dark:u(e.scrollbarSliderHoverBackground,.5),hc:u(e.scrollbarSliderHoverBackground,.5)},L.localize(134,null)),e.minimapSliderActiveBackground=r("minimapSlider.activeBackground",{light:u(e.scrollbarSliderActiveBackground,.5),dark:u(e.scrollbarSliderActiveBackground,.5),hc:u(e.scrollbarSliderActiveBackground,.5)},L.localize(135,null)),e.problemsErrorIconForeground=r("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hc:e.editorErrorForeground},L.localize(136,null)),e.problemsWarningIconForeground=r("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningForeground},L.localize(137,null)),e.problemsInfoIconForeground=r("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hc:e.editorInfoForeground},L.localize(138,null));function a(m,y){var w,g,f;switch(m.op){case 0:return(w=t(m.value,y))===null||w===void 0?void 0:w.darken(m.factor);case 1:return(g=t(m.value,y))===null||g===void 0?void 0:g.lighten(m.factor);case 2:return(f=t(m.value,y))===null||f===void 0?void 0:f.transparent(m.factor);case 3:for(const N of m.values){const I=t(N,y);if(I)return I}return;case 5:return t(y.defines(m.if)?m.then:m.else,y);case 4:const _=t(m.value,y);if(!_)return;const D=t(m.background,y);return D?_.isDarkerThan(D)?k.Color.getLighterColor(_,D,m.factor).transparent(m.transparency):k.Color.getDarkerColor(_,D,m.factor).transparent(m.transparency):_.transparent(m.factor*m.transparency);default:throw(0,C.assertNever)(m)}}e.executeTransform=a;function l(m,y){return{op:0,value:m,factor:y}}e.darken=l;function c(m,y){return{op:1,value:m,factor:y}}e.lighten=c;function u(m,y){return{op:2,value:m,factor:y}}e.transparent=u;function s(...m){return{op:3,values:m}}e.oneOf=s;function n(m,y,w){return{op:5,if:m,then:y,else:w}}e.ifDefinedThenElse=n;function d(m,y,w,g){return{op:4,value:m,background:y,factor:w,transparency:g}}function t(m,y){if(m!==null){if(typeof m=="string")return m[0]==="#"?k.Color.fromHex(m):y.getColor(m);if(m instanceof k.Color)return m;if(typeof m=="object")return a(m,y)}}e.resolveColorValue=t,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";let o=b.Registry.as(S.Extensions.JSONContribution);o.registerSchema(e.workbenchColorsSchemaId,v.getColorSchema());const h=new p.RunOnceScheduler(()=>o.notifySchemaChanged(e.workbenchColorsSchemaId),200);v.onDidChangeSchema(()=>{h.isScheduled()||h.schedule()})}),define(ee[122],te([0,1,22]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachMenuStyler=e.defaultMenuStyles=e.defaultListStyles=e.attachListStyler=e.attachBadgeStyler=e.attachStyler=e.computeStyles=void 0;function k(C,i){const v=Object.create(null);for(let r in i){const a=i[r];a&&(v[r]=(0,b.resolveColorValue)(a,C))}return v}e.computeStyles=k;function T(C,i,v){function r(){const a=k(C.getColorTheme(),i);typeof v=="function"?v(a):v.style(a)}return r(),C.onDidColorThemeChange(r)}e.attachStyler=T;function L(C,i,v){return T(i,{badgeBackground:(v==null?void 0:v.badgeBackground)||b.badgeBackground,badgeForeground:(v==null?void 0:v.badgeForeground)||b.badgeForeground,badgeBorder:b.contrastBorder},C)}e.attachBadgeStyler=L;function S(C,i,v){return T(i,Object.assign(Object.assign({},e.defaultListStyles),v||{}),C)}e.attachListStyler=S,e.defaultListStyles={listFocusBackground:b.listFocusBackground,listFocusForeground:b.listFocusForeground,listFocusOutline:b.listFocusOutline,listActiveSelectionBackground:b.listActiveSelectionBackground,listActiveSelectionForeground:b.listActiveSelectionForeground,listActiveSelectionIconForeground:b.listActiveSelectionIconForeground,listFocusAndSelectionBackground:b.listActiveSelectionBackground,listFocusAndSelectionForeground:b.listActiveSelectionForeground,listInactiveSelectionBackground:b.listInactiveSelectionBackground,listInactiveSelectionIconForeground:b.listInactiveSelectionIconForeground,listInactiveSelectionForeground:b.listInactiveSelectionForeground,listInactiveFocusBackground:b.listInactiveFocusBackground,listInactiveFocusOutline:b.listInactiveFocusOutline,listHoverBackground:b.listHoverBackground,listHoverForeground:b.listHoverForeground,listDropBackground:b.listDropBackground,listSelectionOutline:b.activeContrastBorder,listHoverOutline:b.activeContrastBorder,listFilterWidgetBackground:b.listFilterWidgetBackground,listFilterWidgetOutline:b.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:b.listFilterWidgetNoMatchesOutline,listMatchesShadow:b.widgetShadow,treeIndentGuidesStroke:b.treeIndentGuidesStroke,tableColumnsBorder:b.tableColumnsBorder},e.defaultMenuStyles={shadowColor:b.widgetShadow,borderColor:b.menuBorder,foregroundColor:b.menuForeground,backgroundColor:b.menuBackground,selectionForegroundColor:b.menuSelectionForeground,selectionBackgroundColor:b.menuSelectionBackground,selectionBorderColor:b.menuSelectionBorder,separatorColor:b.menuSeparatorBackground};function p(C,i,v){return T(i,Object.assign(Object.assign({},e.defaultMenuStyles),v),C)}e.attachMenuStyler=p}),define(ee[593],te([0,1,50,2,444,7,122,55,12,369]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class i{constructor(r,a,l,c,u){this.contextViewService=r,this.telemetryService=a,this.notificationService=l,this.keybindingService=c,this.themeService=u,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(r){this.options=r}showContextMenu(r){const a=r.getActions();if(!a.length)return;this.focusToReturn=document.activeElement;let l,c=(0,L.isHTMLElement)(r.domForShadowRoot)?r.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>r.getAnchor(),canRelayout:!1,anchorAlignment:r.anchorAlignment,anchorAxisAlignment:r.anchorAxisAlignment,render:u=>{let s=r.getMenuClassName?r.getMenuClassName():"";s&&(u.className+=" "+s),this.options.blockMouse&&(this.block=u.appendChild((0,L.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,L.addDisposableListener)(this.block,L.EventType.MOUSE_DOWN,t=>t.stopPropagation()));const n=new k.DisposableStore,d=r.actionRunner||new b.ActionRunner;return d.onBeforeRun(this.onActionRun,this,n),d.onDidRun(this.onDidActionRun,this,n),l=new T.Menu(u,a,{actionViewItemProvider:r.getActionViewItem,context:r.getActionsContext?r.getActionsContext():null,actionRunner:d,getKeyBinding:r.getKeyBinding?r.getKeyBinding:t=>this.keybindingService.lookupKeybinding(t.id)}),n.add((0,S.attachMenuStyler)(l,this.themeService)),l.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,n),l.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,n),n.add((0,L.addDisposableListener)(window,L.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),n.add((0,L.addDisposableListener)(window,L.EventType.MOUSE_DOWN,t=>{if(t.defaultPrevented)return;let o=new p.StandardMouseEvent(t),h=o.target;if(!o.rightButton){for(;h;){if(h===u)return;h=h.parentElement}this.contextViewService.hideContextView(!0)}})),(0,k.combinedDisposable)(n,l)},focus:()=>{l&&l.focus(!!r.autoSelectFirstItem)},onHide:u=>{r.onHide&&r.onHide(!!u),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},c,!!c)}onActionRun(r){this.telemetryService.publicLog2("workbenchActionExecuted",{id:r.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(r){r.error&&!(0,C.isPromiseCanceledError)(r.error)&&this.notificationService.error(r.error)}}e.ContextMenuHandler=i}),define(ee[100],te([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0;var b;(function(k){k.DARK="dark",k.LIGHT="light",k.HIGH_CONTRAST="hc"})(b=e.ColorScheme||(e.ColorScheme={}))}),define(ee[258],te([0,1,39,30,17,392,113,136,114,100,35]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const r=function(){return T.isNative?!0:!(T.isLinux||b.isFirefox||b.isSafari)}();let a=!0;class l{constructor(y,w){this._domNode=y,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=w}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}e.DomReadingContext=l;class c{constructor(y,w){this.themeType=w;const g=y.options,f=g.get(41);this.renderWhitespace=g.get(87),this.renderControlCharacters=g.get(81),this.spaceWidth=f.spaceWidth,this.middotWidth=f.middotWidth,this.wsmiddotWidth=f.wsmiddotWidth,this.useMonospaceOptimizations=f.isMonospace&&!g.get(27),this.canUseHalfwidthRightwardsArrow=f.canUseHalfwidthRightwardsArrow,this.lineHeight=g.get(57),this.stopRenderingLineAfter=g.get(104),this.fontLigatures=g.get(42)}equals(y){return this.themeType===y.themeType&&this.renderWhitespace===y.renderWhitespace&&this.renderControlCharacters===y.renderControlCharacters&&this.spaceWidth===y.spaceWidth&&this.middotWidth===y.middotWidth&&this.wsmiddotWidth===y.wsmiddotWidth&&this.useMonospaceOptimizations===y.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===y.canUseHalfwidthRightwardsArrow&&this.lineHeight===y.lineHeight&&this.stopRenderingLineAfter===y.stopRenderingLineAfter&&this.fontLigatures===y.fontLigatures}}e.ViewLineOptions=c;class u{constructor(y){this._options=y,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(y){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,k.createFastDomNode)(y);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(y){this._isMaybeInvalid=!0,this._options=y}onSelectionChanged(){return this._options.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(y,w,g,f){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const _=g.getViewLineRenderingData(y),D=this._options,N=p.LineDecoration.filter(_.inlineDecorations,y,_.minColumn,_.maxColumn);let I=null;if(D.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const P=g.selections;for(const A of P){if(A.endLineNumber<y||A.startLineNumber>y)continue;const F=A.startLineNumber===y?A.startColumn:_.minColumn,E=A.endLineNumber===y?A.endColumn:_.maxColumn;F<E&&(D.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?N.push(new p.LineDecoration(F,E,"inline-selected-text",0)):(I||(I=[]),I.push(new C.LineRange(F-1,E-1))))}}const M=new C.RenderLineInput(D.useMonospaceOptimizations,D.canUseHalfwidthRightwardsArrow,_.content,_.continuesWithWrappedLine,_.isBasicASCII,_.containsRTL,_.minColumn-1,_.tokens,N,_.tabSize,_.startVisibleColumn,D.spaceWidth,D.middotWidth,D.wsmiddotWidth,D.stopRenderingLineAfter,D.renderWhitespace,D.renderControlCharacters,D.fontLigatures!==v.EditorFontLigatures.OFF,I);if(this._renderedViewLine&&this._renderedViewLine.input.equals(M))return!1;f.appendASCIIString('<div style="top:'),f.appendASCIIString(String(w)),f.appendASCIIString("px;height:"),f.appendASCIIString(String(this._options.lineHeight)),f.appendASCIIString('px;" class="'),f.appendASCIIString(u.CLASS_NAME),f.appendASCIIString('">');const O=(0,C.renderViewLine)(M,f);f.appendASCIIString("</div>");let R=null;return a&&r&&_.isBasicASCII&&D.useMonospaceOptimizations&&O.containsForeignElements===0&&_.content.length<300&&M.lineTokens.getCount()<100&&(R=new s(this._renderedViewLine?this._renderedViewLine.domNode:null,M,O.characterMapping)),R||(R=t(this._renderedViewLine?this._renderedViewLine.domNode:null,M,O.characterMapping,O.containsRTL,O.containsForeignElements)),this._renderedViewLine=R,!0}layoutLine(y,w){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(w),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof s:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof s?this._renderedViewLine.monospaceAssumptionsAreValid():a}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof s&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(y,w,g){if(!this._renderedViewLine)return null;y=y|0,w=w|0,y=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,y)),w=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,w));const f=this._renderedViewLine.input.stopRenderingLineAfter|0;let _=!1;f!==-1&&y>f+1&&w>f+1&&(_=!0),f!==-1&&y>f+1&&(y=f+1),f!==-1&&w>f+1&&(w=f+1);const D=this._renderedViewLine.getVisibleRangesForRange(y,w,g);return D&&D.length>0?new S.VisibleRanges(_,D):null}getColumnOfNodeOffset(y,w,g){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(y,w,g):1}}e.ViewLine=u,u.CLASS_NAME="view-line";class s{constructor(y,w,g){this.domNode=y,this.input=w,this._characterMapping=g,this._charWidth=w.spaceWidth}getWidth(){return this._getCharPosition(this._characterMapping.length)}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return a;const y=this.getWidth(),w=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(y-w)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),a=!1),a}toSlowRenderedLine(){return t(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(y,w,g){const f=this._getCharPosition(y),_=this._getCharPosition(w);return[new S.HorizontalRange(f,_-f)]}_getCharPosition(y){const w=this._characterMapping.getAbsoluteOffset(y);return Math.round(this._charWidth*w)}getColumnOfNodeOffset(y,w,g){const f=w.textContent.length;let _=-1;for(;w;)w=w.previousSibling,_++;return this._characterMapping.getColumn(new C.DomPosition(_,g),f)}}class n{constructor(y,w,g,f,_){if(this.domNode=y,this.input=w,this._characterMapping=g,this._isWhitespaceOnly=/^\s*$/.test(w.lineContent),this._containsForeignElements=_,this._cachedWidth=-1,this._pixelOffsetCache=null,!f||this._characterMapping.length===0){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(let D=0,N=this._characterMapping.length;D<=N;D++)this._pixelOffsetCache[D]=-1}}_getReadingTarget(y){return y.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(y,w,g){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const f=this._readPixelOffset(this.domNode,y,g);if(f===-1)return null;const _=this._readPixelOffset(this.domNode,w,g);return _===-1?null:[new S.HorizontalRange(f,_-f)]}return this._readVisibleRangesForRange(this.domNode,y,w,g)}_readVisibleRangesForRange(y,w,g,f){if(w===g){const _=this._readPixelOffset(y,w,f);return _===-1?null:[new S.HorizontalRange(_,0)]}else return this._readRawVisibleRangesForRange(y,w,g,f)}_readPixelOffset(y,w,g){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const f=this._getReadingTarget(y);return f.firstChild?f.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const f=this._pixelOffsetCache[w];if(f!==-1)return f;const _=this._actualReadPixelOffset(y,w,g);return this._pixelOffsetCache[w]=_,_}return this._actualReadPixelOffset(y,w,g)}_actualReadPixelOffset(y,w,g){if(this._characterMapping.length===0){const N=L.RangeUtil.readHorizontalRanges(this._getReadingTarget(y),0,0,0,0,g.clientRectDeltaLeft,g.endNode);return!N||N.length===0?-1:N[0].left}if(w===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const f=this._characterMapping.getDomPosition(w),_=L.RangeUtil.readHorizontalRanges(this._getReadingTarget(y),f.partIndex,f.charIndex,f.partIndex,f.charIndex,g.clientRectDeltaLeft,g.endNode);if(!_||_.length===0)return-1;const D=_[0].left;if(this.input.isBasicASCII){const N=this._characterMapping.getAbsoluteOffset(w),I=Math.round(this.input.spaceWidth*N);if(Math.abs(I-D)<=1)return I}return D}_readRawVisibleRangesForRange(y,w,g,f){if(w===1&&g===this._characterMapping.length)return[new S.HorizontalRange(0,this.getWidth())];const _=this._characterMapping.getDomPosition(w),D=this._characterMapping.getDomPosition(g);return L.RangeUtil.readHorizontalRanges(this._getReadingTarget(y),_.partIndex,_.charIndex,D.partIndex,D.charIndex,f.clientRectDeltaLeft,f.endNode)}getColumnOfNodeOffset(y,w,g){const f=w.textContent.length;let _=-1;for(;w;)w=w.previousSibling,_++;return this._characterMapping.getColumn(new C.DomPosition(_,g),f)}}class d extends n{_readVisibleRangesForRange(y,w,g,f){const _=super._readVisibleRangesForRange(y,w,g,f);if(!_||_.length===0||w===g||w===1&&g===this._characterMapping.length)return _;if(!this.input.containsRTL){const D=this._readPixelOffset(y,g,f);if(D!==-1){const N=_[_.length-1];N.left<D&&(N.width=D-N.left)}}return _}}const t=function(){return b.isWebKit?o:h}();function o(m,y,w,g,f){return new d(m,y,w,g,f)}function h(m,y,w,g,f){return new n(m,y,w,g,f)}}),define(ee[191],te([0,1,167,47,258,13,3,40,7,243]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class v{constructor(g=null){this.hitTarget=g,this.type=0}}class r{constructor(g,f,_){this.position=g,this.spanNode=f,this.injectedText=_,this.type=1}}var a;(function(w){function g(f,_,D){const N=f.getPositionFromDOMInfo(_,D);return N?new r(N,_,null):new v(_)}w.createFromDOMInfo=g})(a||(a={}));class l{constructor(g,f){this.lastViewCursorsRenderData=g,this.lastTextareaPosition=f}}e.PointerHandlerLastRenderData=l;class c{constructor(g,f,_=0,D=null,N=null,I=null){this.element=g,this.type=f,this.mouseColumn=_,this.position=D,!N&&D&&(N=new S.Range(D.lineNumber,D.column,D.lineNumber,D.column)),this.range=N,this.detail=I}static _typeToString(g){return g===1?"TEXTAREA":g===2?"GUTTER_GLYPH_MARGIN":g===3?"GUTTER_LINE_NUMBERS":g===4?"GUTTER_LINE_DECORATIONS":g===5?"GUTTER_VIEW_ZONE":g===6?"CONTENT_TEXT":g===7?"CONTENT_EMPTY":g===8?"CONTENT_VIEW_ZONE":g===9?"CONTENT_WIDGET":g===10?"OVERVIEW_RULER":g===11?"SCROLLBAR":g===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(g){return this._typeToString(g.type)+": "+g.position+" - "+g.range+" - "+g.detail}toString(){return c.toString(this)}}e.MouseTarget=c;class u{static isTextArea(g){return g.length===2&&g[0]===3&&g[1]===6}static isChildOfViewLines(g){return g.length>=4&&g[0]===3&&g[3]===7}static isStrictChildOfViewLines(g){return g.length>4&&g[0]===3&&g[3]===7}static isChildOfScrollableElement(g){return g.length>=2&&g[0]===3&&g[1]===5}static isChildOfMinimap(g){return g.length>=2&&g[0]===3&&g[1]===8}static isChildOfContentWidgets(g){return g.length>=4&&g[0]===3&&g[3]===1}static isChildOfOverflowingContentWidgets(g){return g.length>=1&&g[0]===2}static isChildOfOverlayWidgets(g){return g.length>=2&&g[0]===3&&g[1]===4}}class s{constructor(g,f,_){this.model=g.model;const D=g.configuration.options;this.layoutInfo=D.get(129),this.viewDomNode=f.viewDomNode,this.lineHeight=D.get(57),this.stickyTabStops=D.get(103),this.typicalHalfwidthCharacterWidth=D.get(41).typicalHalfwidthCharacterWidth,this.lastRenderData=_,this._context=g,this._viewHelper=f}getZoneAtCoord(g){return s.getZoneAtCoord(this._context,g)}static getZoneAtCoord(g,f){const _=g.viewLayout.getWhitespaceAtVerticalOffset(f);if(_){const D=_.verticalOffset+_.height/2,N=g.model.getLineCount();let I=null,M,O=null;return _.afterLineNumber!==N&&(O=new L.Position(_.afterLineNumber+1,1)),_.afterLineNumber>0&&(I=new L.Position(_.afterLineNumber,g.model.getLineMaxColumn(_.afterLineNumber))),O===null?M=I:I===null?M=O:f<D?M=I:M=O,{viewZoneId:_.id,afterLineNumber:_.afterLineNumber,positionBefore:I,positionAfter:O,position:M}}return null}getFullLineRangeAtCoord(g){if(this._context.viewLayout.isAfterLines(g)){const D=this._context.model.getLineCount(),N=this._context.model.getLineMaxColumn(D);return{range:new S.Range(D,N,D,N),isAfterLines:!0}}const f=this._context.viewLayout.getLineNumberAtVerticalOffset(g),_=this._context.model.getLineMaxColumn(f);return{range:new S.Range(f,1,f,_),isAfterLines:!1}}getLineNumberAtVerticalOffset(g){return this._context.viewLayout.getLineNumberAtVerticalOffset(g)}isAfterLines(g){return this._context.viewLayout.isAfterLines(g)}isInTopPadding(g){return this._context.viewLayout.isInTopPadding(g)}isInBottomPadding(g){return this._context.viewLayout.isInBottomPadding(g)}getVerticalOffsetForLineNumber(g){return this._context.viewLayout.getVerticalOffsetForLineNumber(g)}findAttribute(g,f){return s._findAttribute(g,f,this._viewHelper.viewDomNode)}static _findAttribute(g,f,_){for(;g&&g!==document.body;){if(g.hasAttribute&&g.hasAttribute(f))return g.getAttribute(f);if(g===_)return null;g=g.parentNode}return null}getLineWidth(g){return this._viewHelper.getLineWidth(g)}visibleRangeForPosition(g,f){return this._viewHelper.visibleRangeForPosition(g,f)}getPositionFromDOMInfo(g,f){return this._viewHelper.getPositionFromDOMInfo(g,f)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=s;class n{constructor(g,f,_){this.editorPos=f,this.pos=_,this.mouseVerticalOffset=Math.max(0,g.getCurrentScrollTop()+_.y-f.y),this.mouseContentHorizontalOffset=g.getCurrentScrollLeft()+_.x-f.x-g.layoutInfo.contentLeft,this.isInMarginArea=_.x-f.x<g.layoutInfo.contentLeft&&_.x-f.x>=g.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,h._getMouseColumn(this.mouseContentHorizontalOffset,g.typicalHalfwidthCharacterWidth))}}class d extends n{constructor(g,f,_,D){super(g,f,_);this._ctx=g,D?(this.target=D,this.targetPath=k.PartFingerprints.collect(D,g.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}fulfill(g,f=null,_=null,D=null){let N=this.mouseColumn;return f&&f.column<this._ctx.model.getLineMaxColumn(f.lineNumber)&&(N=p.CursorColumns.visibleColumnFromColumn(this._ctx.model.getLineContent(f.lineNumber),f.column,this._ctx.model.getTextModelOptions().tabSize)+1),new c(this.target,g,N,f,_,D)}withTarget(g){return new d(this._ctx,this.editorPos,this.pos,g)}}const t={isAfterLines:!0};function o(w){return{isAfterLines:!1,horizontalDistanceToText:w}}class h{constructor(g,f){this._context=g,this._viewHelper=f}mouseTargetIsWidget(g){const f=g.target,_=k.PartFingerprints.collect(f,this._viewHelper.viewDomNode);return!!(u.isChildOfContentWidgets(_)||u.isChildOfOverflowingContentWidgets(_)||u.isChildOfOverlayWidgets(_))}createMouseTarget(g,f,_,D){const N=new s(this._context,this._viewHelper,g),I=new d(N,f,_,D);try{return h._createMouseTarget(N,I,!1)}catch(M){return I.fulfill(0)}}static _createMouseTarget(g,f,_){if(f.target===null){if(_)return f.fulfill(0);const I=h._doHitTest(g,f);return I.type===1?h.createMouseTargetFromHitTestPosition(g,f,I.spanNode,I.position,I.injectedText):this._createMouseTarget(g,f.withTarget(I.hitTarget),!0)}const D=f;let N=null;return N=N||h._hitTestContentWidget(g,D),N=N||h._hitTestOverlayWidget(g,D),N=N||h._hitTestMinimap(g,D),N=N||h._hitTestScrollbarSlider(g,D),N=N||h._hitTestViewZone(g,D),N=N||h._hitTestMargin(g,D),N=N||h._hitTestViewCursor(g,D),N=N||h._hitTestTextArea(g,D),N=N||h._hitTestViewLines(g,D,_),N=N||h._hitTestScrollbar(g,D),N||f.fulfill(0)}static _hitTestContentWidget(g,f){if(u.isChildOfContentWidgets(f.targetPath)||u.isChildOfOverflowingContentWidgets(f.targetPath)){const _=g.findAttribute(f.target,"widgetId");return _?f.fulfill(9,null,null,_):f.fulfill(0)}return null}static _hitTestOverlayWidget(g,f){if(u.isChildOfOverlayWidgets(f.targetPath)){const _=g.findAttribute(f.target,"widgetId");return _?f.fulfill(12,null,null,_):f.fulfill(0)}return null}static _hitTestViewCursor(g,f){if(f.target){const _=g.lastRenderData.lastViewCursorsRenderData;for(const D of _)if(f.target===D.domNode)return f.fulfill(6,D.position,null,{mightBeForeignElement:!1})}if(f.isInContentArea){const _=g.lastRenderData.lastViewCursorsRenderData,D=f.mouseContentHorizontalOffset,N=f.mouseVerticalOffset;for(const I of _){if(D<I.contentLeft||D>I.contentLeft+I.width)continue;const M=g.getVerticalOffsetForLineNumber(I.position.lineNumber);if(M<=N&&N<=M+I.height)return f.fulfill(6,I.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(g,f){const _=g.getZoneAtCoord(f.mouseVerticalOffset);if(_){const D=f.isInContentArea?8:5;return f.fulfill(D,_.position,null,_)}return null}static _hitTestTextArea(g,f){return u.isTextArea(f.targetPath)?g.lastRenderData.lastTextareaPosition?f.fulfill(6,g.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):f.fulfill(1,g.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(g,f){if(f.isInMarginArea){const _=g.getFullLineRangeAtCoord(f.mouseVerticalOffset),D=_.range.getStartPosition();let N=Math.abs(f.pos.x-f.editorPos.x);const I={isAfterLines:_.isAfterLines,glyphMarginLeft:g.layoutInfo.glyphMarginLeft,glyphMarginWidth:g.layoutInfo.glyphMarginWidth,lineNumbersWidth:g.layoutInfo.lineNumbersWidth,offsetX:N};return N-=g.layoutInfo.glyphMarginLeft,N<=g.layoutInfo.glyphMarginWidth?f.fulfill(2,D,_.range,I):(N-=g.layoutInfo.glyphMarginWidth,N<=g.layoutInfo.lineNumbersWidth?f.fulfill(3,D,_.range,I):(N-=g.layoutInfo.lineNumbersWidth,f.fulfill(4,D,_.range,I)))}return null}static _hitTestViewLines(g,f,_){if(!u.isChildOfViewLines(f.targetPath))return null;if(g.isInTopPadding(f.mouseVerticalOffset))return f.fulfill(7,new L.Position(1,1),null,t);if(g.isAfterLines(f.mouseVerticalOffset)||g.isInBottomPadding(f.mouseVerticalOffset)){const N=g.model.getLineCount(),I=g.model.getLineMaxColumn(N);return f.fulfill(7,new L.Position(N,I),null,t)}if(_){if(u.isStrictChildOfViewLines(f.targetPath)){const N=g.getLineNumberAtVerticalOffset(f.mouseVerticalOffset);if(g.model.getLineLength(N)===0){const M=g.getLineWidth(N),O=o(f.mouseContentHorizontalOffset-M);return f.fulfill(7,new L.Position(N,1),null,O)}const I=g.getLineWidth(N);if(f.mouseContentHorizontalOffset>=I){const M=o(f.mouseContentHorizontalOffset-I),O=new L.Position(N,g.model.getLineMaxColumn(N));return f.fulfill(7,O,null,M)}}return f.fulfill(0)}const D=h._doHitTest(g,f);return D.type===1?h.createMouseTargetFromHitTestPosition(g,f,D.spanNode,D.position,D.injectedText):this._createMouseTarget(g,f.withTarget(D.hitTarget),!0)}static _hitTestMinimap(g,f){if(u.isChildOfMinimap(f.targetPath)){const _=g.getLineNumberAtVerticalOffset(f.mouseVerticalOffset),D=g.model.getLineMaxColumn(_);return f.fulfill(11,new L.Position(_,D))}return null}static _hitTestScrollbarSlider(g,f){if(u.isChildOfScrollableElement(f.targetPath)&&f.target&&f.target.nodeType===1){const _=f.target.className;if(_&&/\b(slider|scrollbar)\b/.test(_)){const D=g.getLineNumberAtVerticalOffset(f.mouseVerticalOffset),N=g.model.getLineMaxColumn(D);return f.fulfill(11,new L.Position(D,N))}}return null}static _hitTestScrollbar(g,f){if(u.isChildOfScrollableElement(f.targetPath)){const _=g.getLineNumberAtVerticalOffset(f.mouseVerticalOffset),D=g.model.getLineMaxColumn(_);return f.fulfill(11,new L.Position(_,D))}return null}getMouseColumn(g,f){const _=this._context.configuration.options,D=_.get(129),N=this._context.viewLayout.getCurrentScrollLeft()+f.x-g.x-D.contentLeft;return h._getMouseColumn(N,_.get(41).typicalHalfwidthCharacterWidth)}static _getMouseColumn(g,f){return g<0?1:Math.round(g/f)+1}static createMouseTargetFromHitTestPosition(g,f,_,D,N){const I=D.lineNumber,M=D.column,O=g.getLineWidth(I);if(f.mouseContentHorizontalOffset>O){const $=o(f.mouseContentHorizontalOffset-O);return f.fulfill(7,D,null,$)}const R=g.visibleRangeForPosition(I,M);if(!R)return f.fulfill(0,D);const P=R.left;if(f.mouseContentHorizontalOffset===P)return f.fulfill(6,D,null,{mightBeForeignElement:!!N});const A=[];if(A.push({offset:R.left,column:M}),M>1){const $=g.visibleRangeForPosition(I,M-1);$&&A.push({offset:$.left,column:M-1})}const F=g.model.getLineMaxColumn(I);if(M<F){const $=g.visibleRangeForPosition(I,M+1);$&&A.push({offset:$.left,column:M+1})}A.sort(($,Z)=>$.offset-Z.offset);const E=f.pos.toClientCoordinates(),W=_.getBoundingClientRect(),V=W.left<=E.clientX&&E.clientX<=W.right;for(let $=1;$<A.length;$++){const Z=A[$-1],X=A[$];if(Z.offset<=f.mouseContentHorizontalOffset&&f.mouseContentHorizontalOffset<=X.offset){const J=new S.Range(I,Z.column,I,X.column);return f.fulfill(6,D,J,{mightBeForeignElement:!V||!!N})}}return f.fulfill(6,D,null,{mightBeForeignElement:!V||!!N})}static _doHitTestWithCaretRangeFromPoint(g,f){const _=g.getLineNumberAtVerticalOffset(f.mouseVerticalOffset),N=g.getVerticalOffsetForLineNumber(_)+Math.floor(g.lineHeight/2);let I=f.pos.y+(N-f.mouseVerticalOffset);I<=f.editorPos.y&&(I=f.editorPos.y+1),I>=f.editorPos.y+g.layoutInfo.height&&(I=f.editorPos.y+g.layoutInfo.height-1);const M=new b.PageCoordinates(f.pos.x,I),O=this._actualDoHitTestWithCaretRangeFromPoint(g,M.toClientCoordinates());return O.type===1?O:this._actualDoHitTestWithCaretRangeFromPoint(g,f.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(g,f){const _=C.getShadowRoot(g.viewDomNode);let D;if(_?typeof _.caretRangeFromPoint=="undefined"?D=m(_,f.clientX,f.clientY):D=_.caretRangeFromPoint(f.clientX,f.clientY):D=document.caretRangeFromPoint(f.clientX,f.clientY),!D||!D.startContainer)return new v;const N=D.startContainer;if(N.nodeType===N.TEXT_NODE){const I=N.parentNode,M=I?I.parentNode:null,O=M?M.parentNode:null;return(O&&O.nodeType===O.ELEMENT_NODE?O.className:null)===T.ViewLine.CLASS_NAME?a.createFromDOMInfo(g,I,D.startOffset):new v(N.parentNode)}else if(N.nodeType===N.ELEMENT_NODE){const I=N.parentNode,M=I?I.parentNode:null;return(M&&M.nodeType===M.ELEMENT_NODE?M.className:null)===T.ViewLine.CLASS_NAME?a.createFromDOMInfo(g,N,N.textContent.length):new v(N)}return new v}static _doHitTestWithCaretPositionFromPoint(g,f){const _=document.caretPositionFromPoint(f.clientX,f.clientY);if(_.offsetNode.nodeType===_.offsetNode.TEXT_NODE){const D=_.offsetNode.parentNode,N=D?D.parentNode:null,I=N?N.parentNode:null;return(I&&I.nodeType===I.ELEMENT_NODE?I.className:null)===T.ViewLine.CLASS_NAME?a.createFromDOMInfo(g,_.offsetNode.parentNode,_.offset):new v(_.offsetNode.parentNode)}if(_.offsetNode.nodeType===_.offsetNode.ELEMENT_NODE){const D=_.offsetNode.parentNode,N=D&&D.nodeType===D.ELEMENT_NODE?D.className:null,I=D?D.parentNode:null,M=I&&I.nodeType===I.ELEMENT_NODE?I.className:null;if(N===T.ViewLine.CLASS_NAME){const O=_.offsetNode.childNodes[Math.min(_.offset,_.offsetNode.childNodes.length-1)];if(O)return a.createFromDOMInfo(g,O,0)}else if(M===T.ViewLine.CLASS_NAME)return a.createFromDOMInfo(g,_.offsetNode,0)}return new v(_.offsetNode)}static _snapToSoftTabBoundary(g,f){const _=f.getLineContent(g.lineNumber),{tabSize:D}=f.getTextModelOptions(),N=i.AtomicTabMoveOperations.atomicPosition(_,g.column-1,D,2);return N!==-1?new L.Position(g.lineNumber,N+1):g}static _doHitTest(g,f){let _=new v;if(typeof document.caretRangeFromPoint=="function"?_=this._doHitTestWithCaretRangeFromPoint(g,f):document.caretPositionFromPoint&&(_=this._doHitTestWithCaretPositionFromPoint(g,f.pos.toClientCoordinates())),_.type===1){const D=g.model.getInjectedTextAt(_.position),N=g.model.normalizePosition(_.position,2);(D||!N.equals(_.position))&&(_=new r(N,_.spanNode,D))}return _.type===1&&g.stickyTabStops&&(_=new r(this._snapToSoftTabBoundary(_.position,g.model),_.spanNode,_.injectedText)),_}}e.MouseTargetFactory=h;function m(w,g,f){const _=document.createRange();let D=w.elementFromPoint(g,f);if(D!==null){for(;D&&D.firstChild&&D.firstChild.nodeType!==D.firstChild.TEXT_NODE&&D.lastChild&&D.lastChild.firstChild;)D=D.lastChild;const N=D.getBoundingClientRect(),I=window.getComputedStyle(D,null).getPropertyValue("font"),M=D.innerText;let O=N.left,R=0,P;if(g>N.left+N.width)R=M.length;else{const A=y.getInstance();for(let F=0;F<M.length+1;F++){if(P=A.getCharWidth(M.charAt(F),I)/2,O+=P,g<O){R=F;break}O+=P}}_.setStart(D.firstChild,R),_.setEnd(D.firstChild,R)}return _}e.shadowCaretRangeFromPoint=m;class y{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return y._INSTANCE||(y._INSTANCE=new y),y._INSTANCE}getCharWidth(g,f){const _=g+f;if(this._cache[_])return this._cache[_];const D=this._canvas.getContext("2d");D.font=f;const I=D.measureText(g).width;return this._cache[_]=I,I}}y._INSTANCE=null}),define(ee[594],te([0,1,7,55,15,2,17,191,167,133,13,21,115]),function(G,e,b,k,T,L,S,p,C,i,v,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=e.createMouseMoveEventMerger=void 0;function l(n){return function(d,t){let o=!1;return n&&(o=n.mouseTargetIsWidget(t)),o||t.preventDefault(),t}}e.createMouseMoveEventMerger=l;class c extends a.ViewEventHandler{constructor(d,t,o){super();this._context=d,this.viewController=t,this.viewHelper=o,this.mouseTargetFactory=new p.MouseTargetFactory(this._context,o),this._mouseDownOperation=this._register(new u(this._context,this.viewController,this.viewHelper,(y,w)=>this._createMouseTarget(y,w),y=>this._getMouseColumn(y))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(129).height;const h=new C.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(h.onContextMenu(this.viewHelper.viewDomNode,y=>this._onContextMenu(y,!0))),this._register(h.onMouseMoveThrottled(this.viewHelper.viewDomNode,y=>this._onMouseMove(y),l(this.mouseTargetFactory),c.MOUSE_MOVE_MINIMUM_TIME)),this._register(h.onMouseUp(this.viewHelper.viewDomNode,y=>this._onMouseUp(y))),this._register(h.onMouseLeave(this.viewHelper.viewDomNode,y=>this._onMouseLeave(y))),this._register(h.onMouseDown(this.viewHelper.viewDomNode,y=>this._onMouseDown(y)));const m=y=>{if(this.viewController.emitMouseWheel(y),!this._context.configuration.options.get(66))return;const w=new k.StandardWheelEvent(y);if(S.isMacintosh?(y.metaKey||y.ctrlKey)&&!y.shiftKey&&!y.altKey:y.ctrlKey&&!y.metaKey&&!y.shiftKey&&!y.altKey){const f=i.EditorZoom.getZoomLevel(),_=w.deltaY>0?1:-1;i.EditorZoom.setZoomLevel(f+_),w.preventDefault(),w.stopPropagation()}};this._register(b.addDisposableListener(this.viewHelper.viewDomNode,b.EventType.MOUSE_WHEEL,m,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(d){if(d.hasChanged(129)){const t=this._context.configuration.options.get(129).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(d){return this._mouseDownOperation.onCursorStateChanged(d),!1}onFocusChanged(d){return!1}onScrollChanged(d){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(d,t){const h=new C.ClientCoordinates(d,t).toPageCoordinates(),m=(0,C.createEditorPagePosition)(this.viewHelper.viewDomNode);return h.y<m.y||h.y>m.y+m.height||h.x<m.x||h.x>m.x+m.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),m,h,null)}_createMouseTarget(d,t){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),d.editorPos,d.pos,t?d.target:null)}_getMouseColumn(d){return this.mouseTargetFactory.getMouseColumn(d.editorPos,d.pos)}_onContextMenu(d,t){this.viewController.emitContextMenu({event:d,target:this._createMouseTarget(d,t)})}_onMouseMove(d){this._mouseDownOperation.isActive()||d.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:d,target:this._createMouseTarget(d,!0)})}_onMouseLeave(d){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:d,target:null})}_onMouseUp(d){this.viewController.emitMouseUp({event:d,target:this._createMouseTarget(d,!0)})}_onMouseDown(d){const t=this._createMouseTarget(d,!0),o=t.type===6||t.type===7,h=t.type===2||t.type===3||t.type===4,m=t.type===3,y=this._context.configuration.options.get(97),w=t.type===8||t.type===5,g=t.type===9;let f=d.leftButton||d.middleButton;S.isMacintosh&&d.leftButton&&d.ctrlKey&&(f=!1);const _=()=>{d.preventDefault(),this.viewHelper.focusTextArea()};if(f&&(o||m&&y))_(),this._mouseDownOperation.start(t.type,d);else if(h)d.preventDefault();else if(w){const D=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(D.viewZoneId)&&(_(),this._mouseDownOperation.start(t.type,d),d.preventDefault())}else g&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(_(),d.preventDefault());this.viewController.emitMouseDown({event:d,target:t})}}e.MouseHandler=c,c.MOUSE_MOVE_MINIMUM_TIME=100;class u extends L.Disposable{constructor(d,t,o,h,m){super();this._context=d,this._viewController=t,this._viewHelper=o,this._createMouseTarget=h,this._getMouseColumn=m,this._mouseMoveMonitor=this._register(new C.GlobalEditorMouseMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new T.TimeoutTimer),this._mouseState=new s,this._currentSelection=new r.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(d){this._lastMouseEvent=d,this._mouseState.setModifiers(d);const t=this._findMousePosition(d,!0);!t||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:d,target:t}):this._dispatchMouse(t,!0))}start(d,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(d===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const o=this._findMousePosition(t,!0);if(!o||!o.position)return;this._mouseState.trySetCount(t.detail,o.position),t.detail=this._mouseState.count;const h=this._context.configuration.options;if(!h.get(79)&&h.get(29)&&!h.get(16)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&o.type===6&&o.position&&this._currentSelection.containsPosition(o.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,l(null),m=>this._onMouseDownThenMove(m),m=>{const y=this._findMousePosition(this._lastMouseEvent,!0);m&&m instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:y?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(o,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,l(null),m=>this._onMouseDownThenMove(m),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const d=this._findMousePosition(this._lastMouseEvent,!1);!d||this._mouseState.isDragAndDrop||this._dispatchMouse(d,!0)},10)}onCursorStateChanged(d){this._currentSelection=d.selections[0]}_getPositionOutsideEditor(d){const t=d.editorPos,o=this._context.model,h=this._context.viewLayout,m=this._getMouseColumn(d);if(d.posy<t.y){const w=Math.max(h.getCurrentScrollTop()-(t.y-d.posy),0),g=p.HitTestContext.getZoneAtCoord(this._context,w);if(g){const _=this._helpPositionJumpOverViewZone(g);if(_)return new p.MouseTarget(null,13,m,_)}const f=h.getLineNumberAtVerticalOffset(w);return new p.MouseTarget(null,13,m,new v.Position(f,1))}if(d.posy>t.y+t.height){const w=h.getCurrentScrollTop()+(d.posy-t.y),g=p.HitTestContext.getZoneAtCoord(this._context,w);if(g){const _=this._helpPositionJumpOverViewZone(g);if(_)return new p.MouseTarget(null,13,m,_)}const f=h.getLineNumberAtVerticalOffset(w);return new p.MouseTarget(null,13,m,new v.Position(f,o.getLineMaxColumn(f)))}const y=h.getLineNumberAtVerticalOffset(h.getCurrentScrollTop()+(d.posy-t.y));return d.posx<t.x?new p.MouseTarget(null,13,m,new v.Position(y,1)):d.posx>t.x+t.width?new p.MouseTarget(null,13,m,new v.Position(y,o.getLineMaxColumn(y))):null}_findMousePosition(d,t){const o=this._getPositionOutsideEditor(d);if(o)return o;const h=this._createMouseTarget(d,t);if(!h.position)return null;if(h.type===8||h.type===5){const y=this._helpPositionJumpOverViewZone(h.detail);if(y)return new p.MouseTarget(h.element,h.type,h.mouseColumn,y,null,h.detail)}return h}_helpPositionJumpOverViewZone(d){const t=new v.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),o=d.positionBefore,h=d.positionAfter;return o&&h?o.isBefore(t)?o:h:null}_dispatchMouse(d,t){!d.position||this._viewController.dispatchMouse({position:d.position,mouseColumn:d.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class s{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(d){this._altKey=d.altKey,this._ctrlKey=d.ctrlKey,this._metaKey=d.metaKey,this._shiftKey=d.shiftKey}setStartButtons(d){this._leftButton=d.leftButton,this._middleButton=d.middleButton}setStartedOnLineNumbers(d){this._startedOnLineNumbers=d}trySetCount(d,t){const o=new Date().getTime();o-this._lastSetMouseDownCountTime>s.CLEAR_MOUSE_DOWN_COUNT_TIME&&(d=1),this._lastSetMouseDownCountTime=o,d>this._lastMouseDownCount+1&&(d=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(d,this._lastMouseDownPositionEqualCount)}}s.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(ee[595],te([0,1,7,17,60,2,594,167,156,169]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class v extends S.MouseHandler{constructor(c,u,s){super(c,u,s);this._register(T.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(b.addDisposableListener(this.viewHelper.linesContentDomNode,T.EventType.Tap,d=>this.onTap(d))),this._register(b.addDisposableListener(this.viewHelper.linesContentDomNode,T.EventType.Change,d=>this.onChange(d))),this._register(b.addDisposableListener(this.viewHelper.linesContentDomNode,T.EventType.Contextmenu,d=>this._onContextMenu(new p.EditorMouseEvent(d,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(b.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",d=>{const t=d.pointerType;if(t==="mouse"){this._lastPointerType="mouse";return}else t==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const n=new p.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,d=>this._onMouseMove(d),(0,S.createMouseMoveEventMerger)(this.mouseTargetFactory),S.MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,d=>this._onMouseUp(d))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,d=>this._onMouseLeave(d))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,d=>this._onMouseDown(d)))}onTap(c){if(!c.initialTarget||!this.viewHelper.linesContentDomNode.contains(c.initialTarget))return;c.preventDefault(),this.viewHelper.focusTextArea();const u=this._createMouseTarget(new p.EditorMouseEvent(c,this.viewHelper.viewDomNode),!1);u.position&&this.viewController.dispatchMouse({position:u.position,mouseColumn:u.position.column,startedOnLineNumbers:!1,mouseDownCount:c.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(c){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-c.translationX,-c.translationY)}_onMouseDown(c){c.browserEvent.pointerType!=="touch"&&super._onMouseDown(c)}}e.PointerEventHandler=v;class r extends S.MouseHandler{constructor(c,u,s){super(c,u,s);this._register(T.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(b.addDisposableListener(this.viewHelper.linesContentDomNode,T.EventType.Tap,n=>this.onTap(n))),this._register(b.addDisposableListener(this.viewHelper.linesContentDomNode,T.EventType.Change,n=>this.onChange(n))),this._register(b.addDisposableListener(this.viewHelper.linesContentDomNode,T.EventType.Contextmenu,n=>this._onContextMenu(new p.EditorMouseEvent(n,this.viewHelper.viewDomNode),!1)))}onTap(c){c.preventDefault(),this.viewHelper.focusTextArea();const u=this._createMouseTarget(new p.EditorMouseEvent(c,this.viewHelper.viewDomNode),!1);if(u.position){const s=document.createEvent("CustomEvent");s.initEvent(i.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(s),this.viewController.moveTo(u.position)}}onChange(c){this._context.model.deltaScrollNow(-c.translationX,-c.translationY)}}class a extends L.Disposable{constructor(c,u,s){super();k.isIOS&&C.BrowserFeatures.pointerEvents?this.handler=this._register(new v(c,u,s)):window.TouchEvent?this.handler=this._register(new r(c,u,s)):this.handler=this._register(new S.MouseHandler(c,u,s))}getTargetAtClientPoint(c,u){return this.handler.getTargetAtClientPoint(c,u)}}e.PointerHandler=a}),define(ee[259],te([0,1,191]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class k{constructor(S){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=S}emitKeyDown(S){this.onKeyDown&&this.onKeyDown(S)}emitKeyUp(S){this.onKeyUp&&this.onKeyUp(S)}emitContextMenu(S){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(S))}emitMouseMove(S){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(S))}emitMouseLeave(S){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(S))}emitMouseDown(S){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(S))}emitMouseUp(S){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(S))}emitMouseDrag(S){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(S))}emitMouseDrop(S){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(S))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(S){this.onMouseWheel&&this.onMouseWheel(S)}_convertViewToModelMouseEvent(S){return S.target?{event:S.event,target:this._convertViewToModelMouseTarget(S.target)}:S}_convertViewToModelMouseTarget(S){return k.convertViewToModelMouseTarget(S,this._coordinatesConverter)}static convertViewToModelMouseTarget(S,p){return new T(S.element,S.type,S.mouseColumn,S.position?p.convertViewPositionToModelPosition(S.position):null,S.range?p.convertViewRangeToModelRange(S.range):null,S.detail)}}e.ViewUserInputEvents=k;class T{constructor(S,p,C,i,v,r){this.element=S,this.type=p,this.mouseColumn=C,this.position=i,this.range=v,this.detail=r}toString(){return b.MouseTarget.toString(this)}}}),define(ee[596],te([0,1,17,15,65,170,47,258,13,3,113,131,331]),function(G,e,b,k,T,L,S,p,C,i,v,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class a{constructor(){this._currentVisibleRange=new i.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(n){this._currentVisibleRange=n}}class l{constructor(n,d,t,o,h,m){this.lineNumber=n,this.startColumn=d,this.endColumn=t,this.startScrollTop=o,this.stopScrollTop=h,this.scrollType=m,this.type="range",this.minLineNumber=n,this.maxLineNumber=n}}class c{constructor(n,d,t,o){this.selections=n,this.startScrollTop=d,this.stopScrollTop=t,this.scrollType=o,this.type="selections";let h=n[0].startLineNumber,m=n[0].endLineNumber;for(let y=1,w=n.length;y<w;y++){const g=n[y];h=Math.min(h,g.startLineNumber),m=Math.max(m,g.endLineNumber)}this.minLineNumber=h,this.maxLineNumber=m}}class u extends S.ViewPart{constructor(n,d){super(n);this._linesContent=d,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new L.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const t=this._context.configuration,o=this._context.configuration.options,h=o.get(41),m=o.get(130);this._lineHeight=o.get(57),this._typicalHalfwidthCharacterWidth=h.typicalHalfwidthCharacterWidth,this._isViewportWrapping=m.isViewportWrapping,this._revealHorizontalRightPadding=o.get(88),this._cursorSurroundingLines=o.get(23),this._cursorSurroundingLinesStyle=o.get(24),this._canUseLayerHinting=!o.get(26),this._viewLineOptions=new p.ViewLineOptions(t,this._context.theme.type),S.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${r.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),T.Configuration.applyFontInfo(this.domNode,h),this._maxLineWidth=0,this._asyncUpdateLineWidths=new k.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new k.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new a,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new p.ViewLine(this._viewLineOptions)}onConfigurationChanged(n){this._visibleLines.onConfigurationChanged(n),n.hasChanged(130)&&(this._maxLineWidth=0);const d=this._context.configuration.options,t=d.get(41),o=d.get(130);return this._lineHeight=d.get(57),this._typicalHalfwidthCharacterWidth=t.typicalHalfwidthCharacterWidth,this._isViewportWrapping=o.isViewportWrapping,this._revealHorizontalRightPadding=d.get(88),this._cursorSurroundingLines=d.get(23),this._cursorSurroundingLinesStyle=d.get(24),this._canUseLayerHinting=!d.get(26),T.Configuration.applyFontInfo(this.domNode,t),this._onOptionsMaybeChanged(),n.hasChanged(129)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const n=this._context.configuration,d=new p.ViewLineOptions(n,this._context.theme.type);if(!this._viewLineOptions.equals(d)){this._viewLineOptions=d;const t=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let h=t;h<=o;h++)this._visibleLines.getVisibleLine(h).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(n){const d=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();let o=!1;for(let h=d;h<=t;h++)o=this._visibleLines.getVisibleLine(h).onSelectionChanged()||o;return o}onDecorationsChanged(n){{const d=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let o=d;o<=t;o++)this._visibleLines.getVisibleLine(o).onDecorationsChanged()}return!0}onFlushed(n){const d=this._visibleLines.onFlushed(n);return this._maxLineWidth=0,d}onLinesChanged(n){return this._visibleLines.onLinesChanged(n)}onLinesDeleted(n){return this._visibleLines.onLinesDeleted(n)}onLinesInserted(n){return this._visibleLines.onLinesInserted(n)}onRevealRangeRequest(n){const d=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),n.source,n.range,n.selections,n.verticalType);if(d===-1)return!1;let t=this._context.viewLayout.validateScrollPosition({scrollTop:d});n.revealHorizontal?n.range&&n.range.startLineNumber!==n.range.endLineNumber?t={scrollTop:t.scrollTop,scrollLeft:0}:n.range?this._horizontalRevealRequest=new l(n.range.startLineNumber,n.range.startColumn,n.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),t.scrollTop,n.scrollType):n.selections&&n.selections.length>0&&(this._horizontalRevealRequest=new c(n.selections,this._context.viewLayout.getCurrentScrollTop(),t.scrollTop,n.scrollType)):this._horizontalRevealRequest=null;const h=Math.abs(this._context.viewLayout.getCurrentScrollTop()-t.scrollTop)<=this._lineHeight?1:n.scrollType;return this._context.model.setScrollPosition(t,h),!0}onScrollChanged(n){if(this._horizontalRevealRequest&&n.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&n.scrollTopChanged){const d=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),t=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(n.scrollTop<d||n.scrollTop>t)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(n.scrollWidth),this._visibleLines.onScrollChanged(n)||!0}onTokensChanged(n){return this._visibleLines.onTokensChanged(n)}onZonesChanged(n){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(n)}onThemeChanged(n){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(n,d){const t=this._getViewLineDomNode(n);if(t===null)return null;const o=this._getLineNumberFor(t);if(o===-1||o<1||o>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(o)===1)return new C.Position(o,1);const h=this._visibleLines.getStartLineNumber(),m=this._visibleLines.getEndLineNumber();if(o<h||o>m)return null;let y=this._visibleLines.getVisibleLine(o).getColumnOfNodeOffset(o,n,d);const w=this._context.model.getLineMinColumn(o);return y<w&&(y=w),new C.Position(o,y)}_getViewLineDomNode(n){for(;n&&n.nodeType===1;){if(n.className===p.ViewLine.CLASS_NAME)return n;n=n.parentElement}return null}_getLineNumberFor(n){const d=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let o=d;o<=t;o++){const h=this._visibleLines.getVisibleLine(o);if(n===h.getDomNode())return o}return-1}getLineWidth(n){const d=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();return n<d||n>t?-1:this._visibleLines.getVisibleLine(n).getWidth()}linesVisibleRangesForRange(n,d){if(this.shouldRender())return null;const t=n.endLineNumber,o=i.Range.intersectRanges(n,this._lastRenderedData.getCurrentVisibleRange());if(!o)return null;let h=[],m=0;const y=new p.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let w=0;d&&(w=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new C.Position(o.startLineNumber,1)).lineNumber);const g=this._visibleLines.getStartLineNumber(),f=this._visibleLines.getEndLineNumber();for(let _=o.startLineNumber;_<=o.endLineNumber;_++){if(_<g||_>f)continue;const D=_===o.startLineNumber?o.startColumn:1,N=_===o.endLineNumber?o.endColumn:this._context.model.getLineMaxColumn(_),I=this._visibleLines.getVisibleLine(_).getVisibleRangesForRange(D,N,y);if(!!I){if(d&&_<t){const M=w;w=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new C.Position(_+1,1)).lineNumber,M!==w&&(I.ranges[I.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}h[m++]=new v.LineVisibleRanges(I.outsideRenderedLine,_,I.ranges)}}return m===0?null:h}_visibleRangesForLineRange(n,d,t){return this.shouldRender()||n<this._visibleLines.getStartLineNumber()||n>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(n).getVisibleRangesForRange(d,t,new p.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(n){const d=this._visibleRangesForLineRange(n.lineNumber,n.column,n.column);return d?new v.HorizontalPosition(d.outsideRenderedLine,d.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(n){const d=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();let o=1,h=!0;for(let m=d;m<=t;m++){const y=this._visibleLines.getVisibleLine(m);if(n&&!y.getWidthIsFast()){h=!1;continue}o=Math.max(o,y.getWidth())}return h&&d===1&&t===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(o),h}_checkMonospaceFontAssumptions(){let n=-1,d=-1;const t=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let h=t;h<=o;h++){const m=this._visibleLines.getVisibleLine(h);if(m.needsMonospaceFontCheck()){const y=m.getWidth();y>d&&(d=y,n=h)}}if(n!==-1&&!this._visibleLines.getVisibleLine(n).monospaceAssumptionsAreValid())for(let h=t;h<=o;h++)this._visibleLines.getVisibleLine(h).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(n){if(this._visibleLines.renderLines(n),this._lastRenderedData.setCurrentVisibleRange(n.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const t=this._horizontalRevealRequest;if(n.startLineNumber<=t.minLineNumber&&t.maxLineNumber<=n.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const o=this._computeScrollLeftToReveal(t);o&&(this._isViewportWrapping||this._ensureMaxLineWidth(o.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:o.scrollLeft},t.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),b.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const t=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let h=t;h<=o;h++)if(this._visibleLines.getVisibleLine(h).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const d=this._context.viewLayout.getCurrentScrollTop()-n.bigNumbersDelta;this._linesContent.setTop(-d),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(n){const d=Math.ceil(n);this._maxLineWidth<d&&(this._maxLineWidth=d,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(n,d,t,o,h){const m=n.top,y=n.height,w=m+y;let g,f,_;if(o&&o.length>0){let I=o[0].startLineNumber,M=o[0].endLineNumber;for(let O=1,R=o.length;O<R;O++){const P=o[O];I=Math.min(I,P.startLineNumber),M=Math.max(M,P.endLineNumber)}g=!1,f=this._context.viewLayout.getVerticalOffsetForLineNumber(I),_=this._context.viewLayout.getVerticalOffsetForLineNumber(M)+this._lineHeight}else if(t)g=!0,f=this._context.viewLayout.getVerticalOffsetForLineNumber(t.startLineNumber),_=this._context.viewLayout.getVerticalOffsetForLineNumber(t.endLineNumber)+this._lineHeight;else return-1;if(!(d==="mouse"&&this._cursorSurroundingLinesStyle==="default")){const I=Math.min(y/this._lineHeight/2,this._cursorSurroundingLines);f-=I*this._lineHeight,_+=Math.max(0,I-1)*this._lineHeight}(h===0||h===4)&&(_+=this._lineHeight);let N;if(_-f>y){if(!g)return-1;N=f}else if(h===5||h===6)if(h===6&&m<=f&&_<=w)N=m;else{const I=Math.max(5*this._lineHeight,y*.2),M=f-I,O=_-y;N=Math.max(O,M)}else if(h===1||h===2)if(h===2&&m<=f&&_<=w)N=m;else{const I=(f+_)/2;N=Math.max(0,I-y/2)}else N=this._computeMinimumScrolling(m,w,f,_,h===3,h===4);return N}_computeScrollLeftToReveal(n){const d=this._context.viewLayout.getCurrentViewport(),t=d.left,o=t+d.width;let h=1073741824,m=0;if(n.type==="range"){const w=this._visibleRangesForLineRange(n.lineNumber,n.startColumn,n.endColumn);if(!w)return null;for(const g of w.ranges)h=Math.min(h,g.left),m=Math.max(m,g.left+g.width)}else for(const w of n.selections){if(w.startLineNumber!==w.endLineNumber)return null;const g=this._visibleRangesForLineRange(w.startLineNumber,w.startColumn,w.endColumn);if(!g)return null;for(const f of g.ranges)h=Math.min(h,f.left),m=Math.max(m,f.left+f.width)}return h=Math.max(0,h-u.HORIZONTAL_EXTRA_PX),m+=this._revealHorizontalRightPadding,n.type==="selections"&&m-h>d.width?null:{scrollLeft:this._computeMinimumScrolling(t,o,h,m),maxHorizontalOffset:m}}_computeMinimumScrolling(n,d,t,o,h,m){n=n|0,d=d|0,t=t|0,o=o|0,h=!!h,m=!!m;const y=d-n;if(o-t<y){if(h)return t;if(m)return Math.max(0,o-y);if(t<n)return t;if(o>d)return Math.max(0,o-y)}else return t;return n}}e.ViewLines=u,u.HORIZONTAL_EXTRA_PX=30}),define(ee[11],te([0,1,9,2,32,6,100,27]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=(0,b.createDecorator)("themeService");var C;(function(s){function n(d){return d&&typeof d=="object"&&typeof d.id=="string"}s.isThemeColor=n})(C=e.ThemeColor||(e.ThemeColor={}));function i(s){return{id:s}}e.themeColorFromId=i;var v;(function(s){function n(y){return y&&typeof y=="object"&&typeof y.id=="string"&&(typeof y.color=="undefined"||C.isThemeColor(y.color))}s.isThemeIcon=n;const d=new RegExp(`^\\$\\((${p.CSSIcon.iconNameExpression}(?:${p.CSSIcon.iconModifierExpression})?)\\)$`);function t(y){const w=d.exec(y);if(!w)return;let[,g]=w;return{id:g}}s.fromString=t;function o(y,w){let g=y.id;const f=g.lastIndexOf("~");return f!==-1&&(g=g.substring(0,f)),w&&(g=`${g}~${w}`),{id:g}}s.modify=o;function h(y,w){var g,f;return y.id===w.id&&((g=y.color)===null||g===void 0?void 0:g.id)===((f=w.color)===null||f===void 0?void 0:f.id)}s.isEqual=h;function m(y,w){return{id:y.id,color:w?i(w):void 0}}s.asThemeIcon=m,s.asClassNameArray=p.CSSIcon.asClassNameArray,s.asClassName=p.CSSIcon.asClassName,s.asCSSSelector=p.CSSIcon.asCSSSelector})(v=e.ThemeIcon||(e.ThemeIcon={}));function r(s){switch(s){case S.ColorScheme.DARK:return"vs-dark";case S.ColorScheme.HIGH_CONTRAST:return"hc-black";default:return"vs"}}e.getThemeTypeSelector=r,e.Extensions={ThemingContribution:"base.contributions.theming"};class a{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new L.Emitter}onColorThemeChange(n){return this.themingParticipants.push(n),this.onThemingParticipantAddedEmitter.fire(n),(0,k.toDisposable)(()=>{const d=this.themingParticipants.indexOf(n);this.themingParticipants.splice(d,1)})}getThemingParticipants(){return this.themingParticipants}}let l=new a;T.Registry.add(e.Extensions.ThemingContribution,l);function c(s){return l.onColorThemeChange(s)}e.registerThemingParticipant=c;class u extends k.Disposable{constructor(n){super();this.themeService=n,this.theme=n.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(d=>this.onThemeChange(d)))}onThemeChange(n){this.theme=n,this.updateStyles()}updateStyles(){}}e.Themable=u}),define(ee[597],te([0,1,7,2,8,24,371,110,53,11]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._CSS_MAP=e.DecorationTypeOptionsProvider=e.DecorationSubTypeOptionsProvider=e.CodeEditorServiceImpl=e.GlobalStyleSheet=e.RefCountedStyleSheet=void 0;class v{constructor(d,t,o){this._parent=d,this._editorId=t,this._styleSheet=o,this._refCount=0}ref(){this._refCount++}unref(){var d;this._refCount--,this._refCount===0&&((d=this._styleSheet.parentNode)===null||d===void 0||d.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(d,t){this._styleSheet.sheet.insertRule(d,t)}removeRulesContainingSelector(d){b.removeCSSRulesContainingSelector(d,this._styleSheet)}}e.RefCountedStyleSheet=v;class r{constructor(d){this._styleSheet=d}ref(){}unref(){}insertRule(d,t){this._styleSheet.sheet.insertRule(d,t)}removeRulesContainingSelector(d){b.removeCSSRulesContainingSelector(d,this._styleSheet)}}e.GlobalStyleSheet=r;let a=class extends S.AbstractCodeEditorService{constructor(d,t){super();this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=d||null,this._themeService=t}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new r(b.createStyleSheet())),this._globalStyleSheet}_getOrCreateStyleSheet(d){if(!d)return this._getOrCreateGlobalStyleSheet();const t=d.getContainerDomNode();if(!b.isInShadowDOM(t))return this._getOrCreateGlobalStyleSheet();const o=d.getId();if(!this._editorStyleSheets.has(o)){const h=new v(this,o,b.createStyleSheet(t));this._editorStyleSheets.set(o,h)}return this._editorStyleSheets.get(o)}_removeEditorStyleSheets(d){this._editorStyleSheets.delete(d)}registerDecorationType(d,t,o,h,m){let y=this._decorationOptionProviders.get(t);if(!y){const w=this._getOrCreateStyleSheet(m),g={styleSheet:w,key:t,parentTypeKey:h,options:o||Object.create(null)};h?y=new l(this._themeService,w,g):y=new c(d,this._themeService,w,g),this._decorationOptionProviders.set(t,y),this._onDecorationTypeRegistered.fire(t)}y.refCount++}removeDecorationType(d){const t=this._decorationOptionProviders.get(d);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(d),t.dispose(),this.listCodeEditors().forEach(o=>o.removeDecorations(d))))}resolveDecorationOptions(d,t){const o=this._decorationOptionProviders.get(d);if(!o)throw new Error("Unknown decoration type key: "+d);return o.getOptions(this,t)}};a=Re([Ce(1,i.IThemeService)],a),e.CodeEditorServiceImpl=a;class l{constructor(d,t,o){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=o.parentTypeKey,this.refCount=0,this._beforeContentRules=new u(3,o,d),this._afterContentRules=new u(4,o,d)}getOptions(d,t){const o=d.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(o.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(o.afterContentClassName=this._afterContentRules.className),o}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}e.DecorationSubTypeOptionsProvider=l;class c{constructor(d,t,o,h){this._disposables=new k.DisposableStore,this.description=d,this._styleSheet=o,this._styleSheet.ref(),this.refCount=0;const m=D=>{const N=new u(D,h,t);if(this._disposables.add(N),N.hasContent)return N.className},y=D=>{const N=new u(D,h,t);return this._disposables.add(N),N.hasContent?{className:N.className,hasLetterSpacing:N.hasLetterSpacing}:null};this.className=m(0);const w=y(1);if(w&&(this.inlineClassName=w.className,this.inlineClassNameAffectsLetterSpacing=w.hasLetterSpacing),this.beforeContentClassName=m(3),this.afterContentClassName=m(4),h.options.beforeInjectedText&&h.options.beforeInjectedText.contentText){const D=y(5);this.beforeInjectedText={content:h.options.beforeInjectedText.contentText,inlineClassName:D==null?void 0:D.className,inlineClassNameAffectsLetterSpacing:(D==null?void 0:D.hasLetterSpacing)||h.options.beforeInjectedText.affectsLetterSpacing}}if(h.options.afterInjectedText&&h.options.afterInjectedText.contentText){const D=y(6);this.afterInjectedText={content:h.options.afterInjectedText.contentText,inlineClassName:D==null?void 0:D.className,inlineClassNameAffectsLetterSpacing:(D==null?void 0:D.hasLetterSpacing)||h.options.afterInjectedText.affectsLetterSpacing}}this.glyphMarginClassName=m(2);const g=h.options;this.isWholeLine=Boolean(g.isWholeLine),this.stickiness=g.rangeBehavior;const f=g.light&&g.light.overviewRulerColor||g.overviewRulerColor,_=g.dark&&g.dark.overviewRulerColor||g.overviewRulerColor;(typeof f!="undefined"||typeof _!="undefined")&&(this.overviewRuler={color:f||_,darkColor:_||f,position:g.overviewRulerLane||C.OverviewRulerLane.Center})}getOptions(d,t){return t?{description:this.description,inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness,before:this.beforeInjectedText}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}e.DecorationTypeOptionsProvider=c,e._CSS_MAP={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};"};class u{constructor(d,t,o){this._theme=o.getColorTheme(),this._ruleType=d,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let h=s.getClassName(this._providerArgs.key,d);this._providerArgs.parentTypeKey&&(h=h+" "+s.getClassName(this._providerArgs.parentTypeKey,d)),this._className=h,this._unThemedSelector=s.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,d),this._buildCSS(),this._usesThemeColors?this._themeListener=o.onDidColorThemeChange(m=>{this._theme=o.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const d=this._providerArgs.options;let t,o,h;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(d),o=this.getCSSTextForModelDecorationClassName(d.light),h=this.getCSSTextForModelDecorationClassName(d.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(d),o=this.getCSSTextForModelDecorationInlineClassName(d.light),h=this.getCSSTextForModelDecorationInlineClassName(d.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(d),o=this.getCSSTextForModelDecorationGlyphMarginClassName(d.light),h=this.getCSSTextForModelDecorationGlyphMarginClassName(d.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(d.before),o=this.getCSSTextForModelDecorationContentClassName(d.light&&d.light.before),h=this.getCSSTextForModelDecorationContentClassName(d.dark&&d.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(d.after),o=this.getCSSTextForModelDecorationContentClassName(d.light&&d.light.after),h=this.getCSSTextForModelDecorationContentClassName(d.dark&&d.dark.after);break;case 5:t=this.getCSSTextForModelDecorationContentClassName(d.beforeInjectedText),o=this.getCSSTextForModelDecorationContentClassName(d.light&&d.light.beforeInjectedText),h=this.getCSSTextForModelDecorationContentClassName(d.dark&&d.dark.beforeInjectedText);break;case 6:t=this.getCSSTextForModelDecorationContentClassName(d.afterInjectedText),o=this.getCSSTextForModelDecorationContentClassName(d.light&&d.light.afterInjectedText),h=this.getCSSTextForModelDecorationContentClassName(d.dark&&d.dark.afterInjectedText);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const m=this._providerArgs.styleSheet;let y=!1;t.length>0&&(m.insertRule(`${this._unThemedSelector} {${t}}`,0),y=!0),o.length>0&&(m.insertRule(`.vs${this._unThemedSelector} {${o}}`,0),y=!0),h.length>0&&(m.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${h}}`,0),y=!0),this._hasContent=y}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(d){if(!d)return"";const t=[];return this.collectCSSText(d,["backgroundColor"],t),this.collectCSSText(d,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(d,t),t.join("")}getCSSTextForModelDecorationInlineClassName(d){if(!d)return"";const t=[];return this.collectCSSText(d,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),d.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")}getCSSTextForModelDecorationContentClassName(d){if(!d)return"";const t=[];if(typeof d!="undefined"){if(this.collectBorderSettingsCSSText(d,t),typeof d.contentIconPath!="undefined"&&t.push(T.format(e._CSS_MAP.contentIconPath,b.asCSSUrl(L.URI.revive(d.contentIconPath)))),typeof d.contentText=="string"){const h=d.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(T.format(e._CSS_MAP.contentText,h))}this.collectCSSText(d,["fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],t),this.collectCSSText(d,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")}getCSSTextForModelDecorationGlyphMarginClassName(d){if(!d)return"";const t=[];return typeof d.gutterIconPath!="undefined"&&(t.push(T.format(e._CSS_MAP.gutterIconPath,b.asCSSUrl(L.URI.revive(d.gutterIconPath)))),typeof d.gutterIconSize!="undefined"&&t.push(T.format(e._CSS_MAP.gutterIconSize,d.gutterIconSize))),t.join("")}collectBorderSettingsCSSText(d,t){return this.collectCSSText(d,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)?(t.push(T.format("box-sizing: border-box;")),!0):!1}collectCSSText(d,t,o){const h=o.length;for(let m of t){const y=this.resolveValue(d[m]);typeof y=="string"&&o.push(T.format(e._CSS_MAP[m],y))}return o.length!==h}resolveValue(d){if((0,p.isThemeColor)(d)){this._usesThemeColors=!0;const t=this._theme.getColor(d.id);return t?t.toString():"transparent"}return d}}class s{static getClassName(d,t){return"ced-"+d+"-"+t}static getSelector(d,t,o){let h=".monaco-editor ."+this.getClassName(d,o);return t&&(h=h+"."+this.getClassName(t,o)),o===3?h+="::before":o===4&&(h+="::after"),h}}}),define(ee[598],te([0,1,7,30,61,47,11]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class p extends L.ViewPart{constructor(i,v,r,a){super(i);const l=this._context.configuration.options,c=l.get(91),u=l.get(65),s=l.get(32),n=l.get(94),d={listenOnDomNode:r.domNode,className:"editor-scrollable "+(0,S.getThemeTypeSelector)(i.theme.type),useShadows:!1,lazyRender:!0,vertical:c.vertical,horizontal:c.horizontal,verticalHasArrows:c.verticalHasArrows,horizontalHasArrows:c.horizontalHasArrows,verticalScrollbarSize:c.verticalScrollbarSize,verticalSliderSize:c.verticalSliderSize,horizontalScrollbarSize:c.horizontalScrollbarSize,horizontalSliderSize:c.horizontalSliderSize,handleMouseWheel:c.handleMouseWheel,alwaysConsumeMouseWheel:c.alwaysConsumeMouseWheel,arrowSize:c.arrowSize,mouseWheelScrollSensitivity:u,fastScrollSensitivity:s,scrollPredominantAxis:n,scrollByPage:c.scrollByPage};this.scrollbar=this._register(new T.SmoothScrollableElement(v.domNode,d,this._context.viewLayout.getScrollable())),L.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,k.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const t=(o,h,m)=>{const y={};if(h){const w=o.scrollTop;w&&(y.scrollTop=this._context.viewLayout.getCurrentScrollTop()+w,o.scrollTop=0)}if(m){const w=o.scrollLeft;w&&(y.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+w,o.scrollLeft=0)}this._context.model.setScrollPosition(y,1)};this._register(b.addDisposableListener(r.domNode,"scroll",o=>t(r.domNode,!0,!0))),this._register(b.addDisposableListener(v.domNode,"scroll",o=>t(v.domNode,!0,!1))),this._register(b.addDisposableListener(a.domNode,"scroll",o=>t(a.domNode,!0,!1))),this._register(b.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",o=>t(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const i=this._context.configuration.options,v=i.get(129);this.scrollbarDomNode.setLeft(v.contentLeft),i.get(63).side==="right"?this.scrollbarDomNode.setWidth(v.contentWidth+v.minimap.minimapWidth):this.scrollbarDomNode.setWidth(v.contentWidth),this.scrollbarDomNode.setHeight(v.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(i){this.scrollbar.delegateVerticalScrollbarMouseDown(i)}onConfigurationChanged(i){if(i.hasChanged(91)||i.hasChanged(65)||i.hasChanged(32)){const v=this._context.configuration.options,r=v.get(91),a=v.get(65),l=v.get(32),c=v.get(94),u={vertical:r.vertical,horizontal:r.horizontal,verticalScrollbarSize:r.verticalScrollbarSize,horizontalScrollbarSize:r.horizontalScrollbarSize,scrollByPage:r.scrollByPage,handleMouseWheel:r.handleMouseWheel,mouseWheelScrollSensitivity:a,fastScrollSensitivity:l,scrollPredominantAxis:c};this.scrollbar.updateOptions(u)}return i.hasChanged(129)&&this._setLayout(),!0}onScrollChanged(i){return!0}onThemeChanged(i){return this.scrollbar.updateClassName("editor-scrollable "+(0,S.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(i){}render(i){this.scrollbar.renderNow()}}e.EditorScrollbar=p}),define(ee[599],te([0,1,7,30,93,2,17,8,170,47,35,3,218,247,62,22,11,21,60,374,53,80,334]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const m=140,y=2;class w{constructor(R,P,A){const F=R.options,E=F.get(127),W=F.get(129),V=W.minimap,$=F.get(41),Z=F.get(63);this.renderMinimap=V.renderMinimap,this.size=Z.size,this.minimapHeightIsEditorHeight=V.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=F.get(93),this.showSlider=Z.showSlider,this.pixelRatio=E,this.typicalHalfwidthCharacterWidth=$.typicalHalfwidthCharacterWidth,this.lineHeight=F.get(57),this.minimapLeft=V.minimapLeft,this.minimapWidth=V.minimapWidth,this.minimapHeight=W.height,this.canvasInnerWidth=V.minimapCanvasInnerWidth,this.canvasInnerHeight=V.minimapCanvasInnerHeight,this.canvasOuterWidth=V.minimapCanvasOuterWidth,this.canvasOuterHeight=V.minimapCanvasOuterHeight,this.isSampling=V.minimapIsSampling,this.editorHeight=W.height,this.fontScale=V.minimapScale,this.minimapLineHeight=V.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,h.once)(()=>t.MinimapCharRendererFactory.create(this.fontScale,$.fontFamily)),this.backgroundColor=w._getMinimapBackground(P,A)}static _getMinimapBackground(R,P){const A=R.getColor(u.minimapBackground);return A?new a.RGBA8(A.rgba.r,A.rgba.g,A.rgba.b,A.rgba.a):P.getColor(2)}equals(R){return this.renderMinimap===R.renderMinimap&&this.size===R.size&&this.minimapHeightIsEditorHeight===R.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===R.scrollBeyondLastLine&&this.showSlider===R.showSlider&&this.pixelRatio===R.pixelRatio&&this.typicalHalfwidthCharacterWidth===R.typicalHalfwidthCharacterWidth&&this.lineHeight===R.lineHeight&&this.minimapLeft===R.minimapLeft&&this.minimapWidth===R.minimapWidth&&this.minimapHeight===R.minimapHeight&&this.canvasInnerWidth===R.canvasInnerWidth&&this.canvasInnerHeight===R.canvasInnerHeight&&this.canvasOuterWidth===R.canvasOuterWidth&&this.canvasOuterHeight===R.canvasOuterHeight&&this.isSampling===R.isSampling&&this.editorHeight===R.editorHeight&&this.fontScale===R.fontScale&&this.minimapLineHeight===R.minimapLineHeight&&this.minimapCharWidth===R.minimapCharWidth&&this.backgroundColor&&this.backgroundColor.equals(R.backgroundColor)}}class g{constructor(R,P,A,F,E,W,V,$){this.scrollTop=R,this.scrollHeight=P,this.sliderNeeded=A,this._computedSliderRatio=F,this.sliderTop=E,this.sliderHeight=W,this.startLineNumber=V,this.endLineNumber=$}getDesiredScrollTopFromDelta(R){return Math.round(this.scrollTop+R/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(R){return Math.round((R-this.sliderHeight/2)/this._computedSliderRatio)}static create(R,P,A,F,E,W,V,$,Z,X,J){const ie=R.pixelRatio,de=R.minimapLineHeight,ue=Math.floor(R.canvasInnerHeight/de),q=R.lineHeight;if(R.minimapHeightIsEditorHeight){const x=$*R.lineHeight+(R.scrollBeyondLastLine?E-R.lineHeight:0),le=Math.max(1,Math.floor(E*E/x)),oe=Math.max(0,R.minimapHeight-le),K=oe/(X-E),re=Z*K,ae=oe>0,he=Math.floor(R.canvasInnerHeight/R.minimapLineHeight);return new g(Z,X,ae,K,re,le,1,Math.min(V,he))}let B;if(W&&A!==V){const x=A-P+1;B=Math.floor(x*de/ie)}else{const x=E/q;B=Math.floor(x*de/ie)}let j;R.scrollBeyondLastLine?j=(V-1)*de/ie:j=Math.max(0,V*de/ie-B),j=Math.min(R.minimapHeight-B,j);const H=j/(X-E),z=Z*H;let Q=0;if(R.scrollBeyondLastLine&&(Q=E/q-1),ue>=V+Q){const x=1,le=V,oe=j>0;return new g(Z,X,oe,H,z,B,x,le)}else{let x=Math.max(1,Math.floor(P-z*ie/de));J&&J.scrollHeight===X&&(J.scrollTop>Z&&(x=Math.min(x,J.startLineNumber)),J.scrollTop<Z&&(x=Math.max(x,J.startLineNumber)));const le=Math.min(V,x+ue-1),oe=(Z-F)/q,K=(P-x+oe)*de/ie;return new g(Z,X,!0,H,K,B,x,le)}}}class f{constructor(R){this.dy=R}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}f.INVALID=new f(-1);class _{constructor(R,P,A){this.renderedLayout=R,this._imageData=P,this._renderedLines=new C.RenderedLinesCollection(()=>f.INVALID),this._renderedLines._set(R.startLineNumber,A)}linesEquals(R){if(!this.scrollEquals(R))return!1;const A=this._renderedLines._get().lines;for(let F=0,E=A.length;F<E;F++)if(A[F].dy===-1)return!1;return!0}scrollEquals(R){return this.renderedLayout.startLineNumber===R.startLineNumber&&this.renderedLayout.endLineNumber===R.endLineNumber}_get(){const R=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:R.rendLineNumberStart,lines:R.lines}}onLinesChanged(R,P){return this._renderedLines.onLinesChanged(R,P)}onLinesDeleted(R,P){this._renderedLines.onLinesDeleted(R,P)}onLinesInserted(R,P){this._renderedLines.onLinesInserted(R,P)}onTokensChanged(R){return this._renderedLines.onTokensChanged(R)}}class D{constructor(R,P,A,F){this._backgroundFillData=D._createBackgroundFillData(P,A,F),this._buffers=[R.createImageData(P,A),R.createImageData(P,A)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const R=this._buffers[this._lastUsedBuffer];return R.data.set(this._backgroundFillData),R}static _createBackgroundFillData(R,P,A){const F=A.r,E=A.g,W=A.b,V=new Uint8ClampedArray(R*P*4);let $=0;for(let Z=0;Z<P;Z++)for(let X=0;X<R;X++)V[$]=F,V[$+1]=E,V[$+2]=W,V[$+3]=255,$+=4;return V}}class N{constructor(R,P){this.samplingRatio=R,this.minimapLines=P}static compute(R,P,A){if(R.renderMinimap===0||!R.isSampling)return[null,[]];const F=R.pixelRatio,E=R.lineHeight,W=R.scrollBeyondLastLine,{minimapLineCount:V}=v.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:P,scrollBeyondLastLine:W,height:R.editorHeight,lineHeight:E,pixelRatio:F}),$=P/V,Z=$/2;if(!A||A.minimapLines.length===0){let z=[];if(z[0]=1,V>1){for(let Q=0,x=V-1;Q<x;Q++)z[Q]=Math.round(Q*$+Z);z[V-1]=P}return[new N($,z),[]]}const X=A.minimapLines,J=X.length;let ie=[],de=0,ue=0,q=1;const B=10;let j=[],H=null;for(let z=0;z<V;z++){const Q=Math.max(q,Math.round(z*$)),x=Math.max(Q,Math.round((z+1)*$));for(;de<J&&X[de]<Q;){if(j.length<B){const oe=de+1+ue;H&&H.type==="deleted"&&H._oldIndex===de-1?H.deleteToLineNumber++:(H={type:"deleted",_oldIndex:de,deleteFromLineNumber:oe,deleteToLineNumber:oe},j.push(H)),ue--}de++}let le;if(de<J&&X[de]<=x)le=X[de],de++;else if(z===0?le=1:z+1===V?le=P:le=Math.round(z*$+Z),j.length<B){const oe=de+1+ue;H&&H.type==="inserted"&&H._i===z-1?H.insertToLineNumber++:(H={type:"inserted",_i:z,insertFromLineNumber:oe,insertToLineNumber:oe},j.push(H)),ue++}ie[z]=le,q=le}if(j.length<B)for(;de<J;){const z=de+1+ue;H&&H.type==="deleted"&&H._oldIndex===de-1?H.deleteToLineNumber++:(H={type:"deleted",_oldIndex:de,deleteFromLineNumber:z,deleteToLineNumber:z},j.push(H)),ue--,de++}else j=[{type:"flush"}];return[new N($,ie),j]}modelLineToMinimapLine(R){return Math.min(this.minimapLines.length,Math.max(1,Math.round(R/this.samplingRatio)))}modelLineRangeToMinimapLineRange(R,P){let A=this.modelLineToMinimapLine(R)-1;for(;A>0&&this.minimapLines[A-1]>=R;)A--;let F=this.modelLineToMinimapLine(P)-1;for(;F+1<this.minimapLines.length&&this.minimapLines[F+1]<=P;)F++;if(A===F){const E=this.minimapLines[A];if(E<R||E>P)return null}return[A+1,F+1]}decorationLineRangeToMinimapLineRange(R,P){let A=this.modelLineToMinimapLine(R),F=this.modelLineToMinimapLine(P);return R!==P&&F===A&&(F===this.minimapLines.length?A>1&&A--:F++),[A,F]}onLinesDeleted(R){const P=R.toLineNumber-R.fromLineNumber+1;let A=this.minimapLines.length,F=0;for(let E=this.minimapLines.length-1;E>=0&&!(this.minimapLines[E]<R.fromLineNumber);E--)this.minimapLines[E]<=R.toLineNumber?(this.minimapLines[E]=Math.max(1,R.fromLineNumber-1),A=Math.min(A,E),F=Math.max(F,E)):this.minimapLines[E]-=P;return[A,F]}onLinesInserted(R){const P=R.toLineNumber-R.fromLineNumber+1;for(let A=this.minimapLines.length-1;A>=0&&!(this.minimapLines[A]<R.fromLineNumber);A--)this.minimapLines[A]+=P}}class I extends i.ViewPart{constructor(R){super(R);this.tokensColorTracker=l.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new w(this._context.configuration,this._context.theme,this.tokensColorTracker);const[P]=N.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=P,this._shouldCheckSampling=!1,this._actual=new M(R.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const R=new w(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(R)?!1:(this.options=R,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(R){return this._onOptionsMaybeChanged()}onCursorStateChanged(R){return this._selections=R.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(R){return R.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(R){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(R){if(this._samplingState){const P=this._samplingState.modelLineRangeToMinimapLineRange(R.fromLineNumber,R.toLineNumber);return P?this._actual.onLinesChanged(P[0],P[1]):!1}else return this._actual.onLinesChanged(R.fromLineNumber,R.toLineNumber)}onLinesDeleted(R){if(this._samplingState){const[P,A]=this._samplingState.onLinesDeleted(R);return P<=A&&this._actual.onLinesChanged(P+1,A+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(R.fromLineNumber,R.toLineNumber)}onLinesInserted(R){return this._samplingState?(this._samplingState.onLinesInserted(R),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(R.fromLineNumber,R.toLineNumber)}onScrollChanged(R){return this._actual.onScrollChanged()}onThemeChanged(R){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(R){if(this._samplingState){let P=[];for(const A of R.ranges){const F=this._samplingState.modelLineRangeToMinimapLineRange(A.fromLineNumber,A.toLineNumber);F&&P.push({fromLineNumber:F[0],toLineNumber:F[1]})}return P.length?this._actual.onTokensChanged(P):!1}else return this._actual.onTokensChanged(R.ranges)}onTokensColorsChanged(R){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(R){return this._actual.onZonesChanged()}prepareRender(R){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(R){let P=R.visibleRange.startLineNumber,A=R.visibleRange.endLineNumber;this._samplingState&&(P=this._samplingState.modelLineToMinimapLine(P),A=this._samplingState.modelLineToMinimapLine(A));const F={viewportContainsWhitespaceGaps:R.viewportData.whitespaceViewportData.length>0,scrollWidth:R.scrollWidth,scrollHeight:R.scrollHeight,viewportStartLineNumber:P,viewportEndLineNumber:A,viewportStartLineNumberVerticalOffset:R.getVerticalOffsetForLineNumber(P),scrollTop:R.scrollTop,scrollLeft:R.scrollLeft,viewportWidth:R.viewportWidth,viewportHeight:R.viewportHeight};this._actual.render(F)}_recreateLineSampling(){this._minimapSelections=null;const R=Boolean(this._samplingState),[P,A]=N.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=P,R&&this._samplingState)for(const F of A)switch(F.type){case"deleted":this._actual.onLinesDeleted(F.deleteFromLineNumber,F.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(F.insertFromLineNumber,F.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(R){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[R-1]):this._context.model.getLineContent(R)}getMinimapLinesRenderingData(R,P,A){if(this._samplingState){let F=[];for(let E=0,W=P-R+1;E<W;E++)A[E]?F[E]=this._context.model.getViewLineData(this._samplingState.minimapLines[R+E-1]):F[E]=null;return F}return this._context.model.getMinimapLinesRenderingData(R,P,A).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const R of this._selections){const[P,A]=this._samplingState.decorationLineRangeToMinimapLineRange(R.startLineNumber,R.endLineNumber);this._minimapSelections.push(new n.Selection(P,R.startColumn,A,R.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(R,P){let A;if(this._samplingState){const E=this._samplingState.minimapLines[R-1],W=this._samplingState.minimapLines[P-1];A=new r.Range(E,1,W,this._context.model.getLineMaxColumn(W))}else A=new r.Range(R,1,P,this._context.model.getLineMaxColumn(P));const F=this._context.model.getDecorationsInViewport(A);if(this._samplingState){let E=[];for(const W of F){if(!W.options.minimap)continue;const V=W.range,$=this._samplingState.modelLineToMinimapLine(V.startLineNumber),Z=this._samplingState.modelLineToMinimapLine(V.endLineNumber);E.push(new c.ViewModelDecoration(new r.Range($,V.startColumn,Z,V.endColumn),W.options))}return E}return F}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(R){this._samplingState&&(R=this._samplingState.minimapLines[R-1]),this._context.model.revealRange("mouse",!1,new r.Range(R,1,R,1),1,0)}setScrollTop(R){this._context.model.setScrollPosition({scrollTop:R},1)}}e.Minimap=I;class M extends L.Disposable{constructor(R,P){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=R,this._model=P,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(u.minimapSelection),this._domNode=(0,k.createFastDomNode)(document.createElement("div")),i.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,k.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,k.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,k.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=b.addStandardDisposableListener(this._domNode.domNode,"mousedown",A=>{if(A.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(A.leftButton&&this._lastRenderData){const Z=b.getDomNodePagePosition(this._slider.domNode),X=Z.top+Z.height/2;this._startSliderDragging(A.buttons,A.posx,X,A.posy,this._lastRenderData.renderedLayout)}return}const E=this._model.options.minimapLineHeight,W=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*A.browserEvent.offsetY;let $=Math.floor(W/E)+this._lastRenderData.renderedLayout.startLineNumber;$=Math.min($,this._model.getLineCount()),this._model.revealLineNumber($)}),this._sliderMouseMoveMonitor=new T.GlobalMouseMoveMonitor,this._sliderMouseDownListener=b.addStandardDisposableListener(this._slider.domNode,"mousedown",A=>{A.preventDefault(),A.stopPropagation(),A.leftButton&&this._lastRenderData&&this._startSliderDragging(A.buttons,A.posx,A.posy,A.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=d.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=b.addDisposableListener(this._domNode.domNode,d.EventType.Start,A=>{A.preventDefault(),A.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(A))},{passive:!1}),this._sliderTouchMoveListener=b.addDisposableListener(this._domNode.domNode,d.EventType.Change,A=>{A.preventDefault(),A.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(A)},{passive:!1}),this._sliderTouchEndListener=b.addStandardDisposableListener(this._domNode.domNode,d.EventType.End,A=>{A.preventDefault(),A.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(R,P,A,F,E){this._slider.toggleClassName("active",!0);const W=(V,$)=>{const Z=Math.abs($-P);if(S.isWindows&&Z>m){this._model.setScrollTop(E.scrollTop);return}const X=V-A;this._model.setScrollTop(E.getDesiredScrollTopFromDelta(X))};F!==A&&W(F,P),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,R,T.standardMouseMoveMerger,V=>W(V.posy,V.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(R){const P=this._domNode.domNode.getBoundingClientRect().top,A=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(R.pageY-P);this._model.setScrollTop(A)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new D(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(R,P){return this._lastRenderData?this._lastRenderData.onLinesChanged(R,P):!1}onLinesDeleted(R,P){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(R,P),!0}onLinesInserted(R,P){return this._lastRenderData&&this._lastRenderData.onLinesInserted(R,P),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(u.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(R){return this._lastRenderData?this._lastRenderData.onTokensChanged(R):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(R){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}R.scrollLeft+R.viewportWidth>=R.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const A=g.create(this._model.options,R.viewportStartLineNumber,R.viewportEndLineNumber,R.viewportStartLineNumberVerticalOffset,R.viewportHeight,R.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),R.scrollTop,R.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(A.sliderNeeded?"block":"none"),this._slider.setTop(A.sliderTop),this._slider.setHeight(A.sliderHeight);const F=R.scrollLeft/this._model.options.typicalHalfwidthCharacterWidth,E=Math.min(this._model.options.minimapWidth,Math.round(F*this._model.options.minimapCharWidth/this._model.options.pixelRatio));this._sliderHorizontal.setLeft(E),this._sliderHorizontal.setWidth(this._model.options.minimapWidth-E),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(A.sliderHeight),this.renderDecorations(A),this._lastRenderData=this.renderLines(A)}renderDecorations(R){if(this._renderDecorations){this._renderDecorations=!1;const P=this._model.getSelections(),A=this._model.getMinimapDecorationsInViewport(R.startLineNumber,R.endLineNumber),{canvasInnerWidth:F,canvasInnerHeight:E}=this._model.options,W=this._model.options.minimapLineHeight,V=this._model.options.minimapCharWidth,$=this._model.getOptions().tabSize,Z=this._decorationsCanvas.domNode.getContext("2d");Z.clearRect(0,0,F,E);const X=new Map;for(let J=0;J<P.length;J++){const ie=P[J];for(let de=ie.startLineNumber;de<=ie.endLineNumber;de++)this.renderDecorationOnLine(Z,X,ie,this._selectionColor,R,de,W,W,$,V)}for(let J=0;J<A.length;J++){const ie=A[J];if(!ie.options.minimap)continue;const de=ie.options.minimap.getColor(this._theme);for(let ue=ie.range.startLineNumber;ue<=ie.range.endLineNumber;ue++)switch(ie.options.minimap.position){case o.MinimapPosition.Inline:this.renderDecorationOnLine(Z,X,ie.range,de,R,ue,W,W,$,V);continue;case o.MinimapPosition.Gutter:const q=(ue-R.startLineNumber)*W,B=2;this.renderDecoration(Z,de,B,q,y,W);continue}}}}renderDecorationOnLine(R,P,A,F,E,W,V,$,Z,X){const J=(W-E.startLineNumber)*$;if(J+V<0||J>this._model.options.canvasInnerHeight)return;let ie=P.get(W);const de=!ie;if(!ie){const Q=this._model.getLineContent(W);ie=[v.MINIMAP_GUTTER_WIDTH];for(let x=1;x<Q.length+1;x++){const le=Q.charCodeAt(x-1),oe=le===9?Z*X:p.isFullWidthCharacter(le)?2*X:X;ie[x]=ie[x-1]+oe}P.set(W,ie)}const{startColumn:ue,endColumn:q,startLineNumber:B,endLineNumber:j}=A,H=B===W?ie[ue-1]:v.MINIMAP_GUTTER_WIDTH,z=j>W?ie.length-1:q-1;if(z>0){const Q=ie[z]-H||2;this.renderDecoration(R,F,H,J,Q,V)}de&&this.renderLineHighlight(R,F,J,V)}renderLineHighlight(R,P,A,F){R.fillStyle=P&&P.transparent(.5).toString()||"",R.fillRect(v.MINIMAP_GUTTER_WIDTH,A,R.canvas.width,F)}renderDecoration(R,P,A,F,E,W){R.fillStyle=P&&P.toString()||"",R.fillRect(A,F,E,W)}renderLines(R){const P=R.startLineNumber,A=R.endLineNumber,F=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(R)){const he=this._lastRenderData._get();return new _(R,he.imageData,he.lines)}const E=this._getBuffer();if(!E)return null;let[W,V,$]=M._renderUntouchedLines(E,P,A,F,this._lastRenderData);const Z=this._model.getMinimapLinesRenderingData(P,A,$),X=this._model.getOptions().tabSize,J=this._model.options.backgroundColor,ie=this._model.tokensColorTracker,de=ie.backgroundIsLight(),ue=this._model.options.renderMinimap,q=this._model.options.charRenderer(),B=this._model.options.fontScale,j=this._model.options.minimapCharWidth,z=(ue===1?2:2+1)*B,Q=F>z?Math.floor((F-z)/2):0;let x=0;const le=[];for(let he=0,U=A-P+1;he<U;he++)$[he]&&M._renderLine(E,J,de,ue,j,ie,q,x,Q,X,Z[he],B,F),le[he]=new f(x),x+=F;const oe=W===-1?0:W,re=(V===-1?E.height:V)-oe;return this._canvas.domNode.getContext("2d").putImageData(E,0,0,0,oe,E.width,re),new _(R,E,le)}static _renderUntouchedLines(R,P,A,F,E){const W=[];if(!E){for(let K=0,re=A-P+1;K<re;K++)W[K]=!0;return[-1,-1,W]}const V=E._get(),$=V.imageData.data,Z=V.rendLineNumberStart,X=V.lines,J=X.length,ie=R.width,de=R.data,ue=(A-P+1)*F*ie*4;let q=-1,B=-1,j=-1,H=-1,z=-1,Q=-1,x=0;for(let K=P;K<=A;K++){const re=K-P,ae=K-Z,he=ae>=0&&ae<J?X[ae].dy:-1;if(he===-1){W[re]=!0,x+=F;continue}const U=he*ie*4,se=(he+F)*ie*4,Y=x*ie*4,ne=(x+F)*ie*4;H===U&&Q===Y?(H=se,Q=ne):(j!==-1&&(de.set($.subarray(j,H),z),q===-1&&j===0&&j===z&&(q=H),B===-1&&H===ue&&j===z&&(B=j)),j=U,H=se,z=Y,Q=ne),W[re]=!1,x+=F}j!==-1&&(de.set($.subarray(j,H),z),q===-1&&j===0&&j===z&&(q=H),B===-1&&H===ue&&j===z&&(B=j));const le=q===-1?-1:q/(ie*4),oe=B===-1?-1:B/(ie*4);return[le,oe,W]}static _renderLine(R,P,A,F,E,W,V,$,Z,X,J,ie,de){const ue=J.content,q=J.tokens,B=R.width-E,j=de===1;let H=v.MINIMAP_GUTTER_WIDTH,z=0,Q=0;for(let x=0,le=q.getCount();x<le;x++){const oe=q.getEndOffset(x),K=q.getForeground(x),re=W.getColor(K);for(;z<oe;z++){if(H>B)return;const ae=ue.charCodeAt(z);if(ae===9){const he=X-(z+Q)%X;Q+=he-1,H+=he*E}else if(ae===32)H+=E;else{const he=p.isFullWidthCharacter(ae)?2:1;for(let U=0;U<he;U++)if(F===2?V.blockRenderChar(R,H,$+Z,re,P,A,j):V.renderChar(R,H,$+Z,ae,re,P,ie,A,j),H+=E,H>B)return}}}}}(0,s.registerThemingParticipant)((O,R)=>{const P=O.getColor(u.minimapBackground);P&&R.addRule(`.monaco-editor .minimap > canvas { opacity: ${P.rgba.a}; will-change: opacity; }`);const A=O.getColor(u.minimapSliderBackground);A&&R.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${A}; }`);const F=O.getColor(u.minimapSliderHoverBackground);F&&R.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${F}; }`);const E=O.getColor(u.minimapSliderActiveBackground);E&&R.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${E}; }`);const W=O.getColor(u.scrollbarShadow);W&&R.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${W} -6px 0 6px -6px inset; }`)})}),define(ee[600],te([0,1,30,47,22,11,337]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class S extends k.ViewPart{constructor(C){super(C);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const v=this._context.configuration.options.get(91);this._useShadows=v.useShadows,this._domNode=(0,b.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const C=this._useShadows&&this._scrollTop>0;return this._shouldShow!==C?(this._shouldShow=C,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const i=this._context.configuration.options.get(129);i.minimap.renderMinimap===0||i.minimap.minimapWidth>0&&i.minimap.minimapLeft===0?this._width=i.width:this._width=i.width-i.minimap.minimapWidth-i.verticalScrollbarWidth}onConfigurationChanged(C){const v=this._context.configuration.options.get(91);return this._useShadows=v.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(C){return this._scrollTop=C.scrollTop,this._updateShouldShow()}prepareRender(C){}render(C){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=S,(0,L.registerThemingParticipant)((p,C)=>{const i=p.getColor(T.scrollbarShadow);i&&C.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${i} 0 6px 6px -6px inset; }`)})}),define(ee[601],te([0,1,97,22,11,338]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class L{constructor(a){this.left=a.left,this.width=a.width,this.startStyle=null,this.endStyle=null}}class S{constructor(a,l){this.lineNumber=a,this.ranges=l}}function p(r){return new L(r)}function C(r){return new S(r.lineNumber,r.ranges.map(p))}class i extends b.DynamicViewOverlay{constructor(a){super();this._previousFrameVisibleRangesWithStyle=[],this._context=a;const l=this._context.configuration.options;this._lineHeight=l.get(57),this._roundedSelection=l.get(89),this._typicalHalfwidthCharacterWidth=l.get(41).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(a){const l=this._context.configuration.options;return this._lineHeight=l.get(57),this._roundedSelection=l.get(89),this._typicalHalfwidthCharacterWidth=l.get(41).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(a){return this._selections=a.selections.slice(0),!0}onDecorationsChanged(a){return!0}onFlushed(a){return!0}onLinesChanged(a){return!0}onLinesDeleted(a){return!0}onLinesInserted(a){return!0}onScrollChanged(a){return a.scrollTopChanged}onZonesChanged(a){return!0}_visibleRangesHaveGaps(a){for(let l=0,c=a.length;l<c;l++)if(a[l].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(a,l,c){const u=this._typicalHalfwidthCharacterWidth/4;let s=null,n=null;if(c&&c.length>0&&l.length>0){const d=l[0].lineNumber;if(d===a.startLineNumber)for(let o=0;!s&&o<c.length;o++)c[o].lineNumber===d&&(s=c[o].ranges[0]);const t=l[l.length-1].lineNumber;if(t===a.endLineNumber)for(let o=c.length-1;!n&&o>=0;o--)c[o].lineNumber===t&&(n=c[o].ranges[0]);s&&!s.startStyle&&(s=null),n&&!n.startStyle&&(n=null)}for(let d=0,t=l.length;d<t;d++){const o=l[d].ranges[0],h=o.left,m=o.left+o.width,y={top:0,bottom:0},w={top:0,bottom:0};if(d>0){const g=l[d-1].ranges[0].left,f=l[d-1].ranges[0].left+l[d-1].ranges[0].width;v(h-g)<u?y.top=2:h>g&&(y.top=1),v(m-f)<u?w.top=2:g<m&&m<f&&(w.top=1)}else s&&(y.top=s.startStyle.top,w.top=s.endStyle.top);if(d+1<t){const g=l[d+1].ranges[0].left,f=l[d+1].ranges[0].left+l[d+1].ranges[0].width;v(h-g)<u?y.bottom=2:g<h&&h<f&&(y.bottom=1),v(m-f)<u?w.bottom=2:m<f&&(w.bottom=1)}else n&&(y.bottom=n.startStyle.bottom,w.bottom=n.endStyle.bottom);o.startStyle=y,o.endStyle=w}}_getVisibleRangesWithStyle(a,l,c){const s=(l.linesVisibleRangesForRange(a,!0)||[]).map(C);return!this._visibleRangesHaveGaps(s)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(l.visibleRange,s,c),s}_createSelectionPiece(a,l,c,u,s){return'<div class="cslr '+c+'" style="top:'+a.toString()+"px;left:"+u.toString()+"px;width:"+s.toString()+"px;height:"+l+'px;"></div>'}_actualRenderOneSelection(a,l,c,u){if(u.length===0)return;const s=!!u[0].ranges[0].startStyle,n=this._lineHeight.toString(),d=(this._lineHeight-1).toString(),t=u[0].lineNumber,o=u[u.length-1].lineNumber;for(let h=0,m=u.length;h<m;h++){const y=u[h],w=y.lineNumber,g=w-l,f=c&&(w===o||w===t)?d:n,_=c&&w===t?1:0;let D="",N="";for(let I=0,M=y.ranges.length;I<M;I++){const O=y.ranges[I];if(s){const P=O.startStyle,A=O.endStyle;if(P.top===1||P.bottom===1){D+=this._createSelectionPiece(_,f,i.SELECTION_CLASS_NAME,O.left-i.ROUNDED_PIECE_WIDTH,i.ROUNDED_PIECE_WIDTH);let F=i.EDITOR_BACKGROUND_CLASS_NAME;P.top===1&&(F+=" "+i.SELECTION_TOP_RIGHT),P.bottom===1&&(F+=" "+i.SELECTION_BOTTOM_RIGHT),D+=this._createSelectionPiece(_,f,F,O.left-i.ROUNDED_PIECE_WIDTH,i.ROUNDED_PIECE_WIDTH)}if(A.top===1||A.bottom===1){D+=this._createSelectionPiece(_,f,i.SELECTION_CLASS_NAME,O.left+O.width,i.ROUNDED_PIECE_WIDTH);let F=i.EDITOR_BACKGROUND_CLASS_NAME;A.top===1&&(F+=" "+i.SELECTION_TOP_LEFT),A.bottom===1&&(F+=" "+i.SELECTION_BOTTOM_LEFT),D+=this._createSelectionPiece(_,f,F,O.left+O.width,i.ROUNDED_PIECE_WIDTH)}}let R=i.SELECTION_CLASS_NAME;if(s){const P=O.startStyle,A=O.endStyle;P.top===0&&(R+=" "+i.SELECTION_TOP_LEFT),P.bottom===0&&(R+=" "+i.SELECTION_BOTTOM_LEFT),A.top===0&&(R+=" "+i.SELECTION_TOP_RIGHT),A.bottom===0&&(R+=" "+i.SELECTION_BOTTOM_RIGHT)}N+=this._createSelectionPiece(_,f,R,O.left,O.width)}a[g][0]+=D,a[g][1]+=N}}prepareRender(a){const l=[],c=a.visibleRange.startLineNumber,u=a.visibleRange.endLineNumber;for(let n=c;n<=u;n++){const d=n-c;l[d]=["",""]}const s=[];for(let n=0,d=this._selections.length;n<d;n++){const t=this._selections[n];if(t.isEmpty()){s[n]=null;continue}const o=this._getVisibleRangesWithStyle(t,a,this._previousFrameVisibleRangesWithStyle[n]);s[n]=o,this._actualRenderOneSelection(l,c,this._selections.length>1,o)}this._previousFrameVisibleRangesWithStyle=s,this._renderResult=l.map(([n,d])=>n+d)}render(a,l){if(!this._renderResult)return"";const c=l-a;return c<0||c>=this._renderResult.length?"":this._renderResult[c]}}e.SelectionsOverlay=i,i.SELECTION_CLASS_NAME="selected-text",i.SELECTION_TOP_LEFT="top-left-radius",i.SELECTION_BOTTOM_LEFT="bottom-left-radius",i.SELECTION_TOP_RIGHT="top-right-radius",i.SELECTION_BOTTOM_RIGHT="bottom-right-radius",i.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",i.ROUNDED_PIECE_WIDTH=10,(0,T.registerThemingParticipant)((r,a)=>{const l=r.getColor(k.editorSelectionBackground);l&&a.addRule(`.monaco-editor .focused .selected-text { background-color: ${l}; }`);const c=r.getColor(k.editorInactiveSelection);c&&a.addRule(`.monaco-editor .selected-text { background-color: ${c}; }`);const u=r.getColor(k.editorSelectionForeground);u&&!u.isTransparent()&&a.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${u}; }`)});function v(r){return r<0?-r:r}}),define(ee[48],te([0,1,470,29,22,11]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,T.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},b.localize(0,null)),e.editorLineHighlightBorder=(0,T.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},b.localize(1,null)),e.editorRangeHighlight=(0,T.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},b.localize(2,null),!0),e.editorRangeHighlightBorder=(0,T.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hc:T.activeContrastBorder},b.localize(3,null),!0),e.editorSymbolHighlight=(0,T.registerColor)("editor.symbolHighlightBackground",{dark:T.editorFindMatchHighlight,light:T.editorFindMatchHighlight,hc:null},b.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,T.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hc:T.activeContrastBorder},b.localize(5,null),!0),e.editorCursorForeground=(0,T.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:k.Color.black,hc:k.Color.white},b.localize(6,null)),e.editorCursorBackground=(0,T.registerColor)("editorCursor.background",null,b.localize(7,null)),e.editorWhitespaces=(0,T.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},b.localize(8,null)),e.editorIndentGuides=(0,T.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},b.localize(9,null)),e.editorActiveIndentGuides=(0,T.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},b.localize(10,null)),e.editorLineNumbers=(0,T.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:k.Color.white},b.localize(11,null));const S=(0,T.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:T.activeContrastBorder},b.localize(12,null),!1,b.localize(13,null));e.editorActiveLineNumber=(0,T.registerColor)("editorLineNumber.activeForeground",{dark:S,light:S,hc:S},b.localize(14,null)),e.editorRuler=(0,T.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:k.Color.lightgrey,hc:k.Color.white},b.localize(15,null)),e.editorCodeLensForeground=(0,T.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},b.localize(16,null)),e.editorBracketMatchBackground=(0,T.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},b.localize(17,null)),e.editorBracketMatchBorder=(0,T.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:T.contrastBorder},b.localize(18,null)),e.editorOverviewRulerBorder=(0,T.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},b.localize(19,null)),e.editorOverviewRulerBackground=(0,T.registerColor)("editorOverviewRuler.background",null,b.localize(20,null)),e.editorGutter=(0,T.registerColor)("editorGutter.background",{dark:T.editorBackground,light:T.editorBackground,hc:T.editorBackground},b.localize(21,null)),e.editorUnnecessaryCodeBorder=(0,T.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hc:k.Color.fromHex("#fff").transparent(.8)},b.localize(22,null)),e.editorUnnecessaryCodeOpacity=(0,T.registerColor)("editorUnnecessaryCode.opacity",{dark:k.Color.fromHex("#000a"),light:k.Color.fromHex("#0007"),hc:null},b.localize(23,null)),e.ghostTextBorder=(0,T.registerColor)("editorGhostText.border",{dark:null,light:null,hc:k.Color.fromHex("#fff").transparent(.8)},b.localize(24,null)),e.ghostTextForeground=(0,T.registerColor)("editorGhostText.foreground",{dark:k.Color.fromHex("#ffffff56"),light:k.Color.fromHex("#0007"),hc:null},b.localize(25,null));const p=new k.Color(new k.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,T.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:p,light:p,hc:p},b.localize(26,null),!0),e.overviewRulerError=(0,T.registerColor)("editorOverviewRuler.errorForeground",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hc:new k.Color(new k.RGBA(255,50,50,1))},b.localize(27,null)),e.overviewRulerWarning=(0,T.registerColor)("editorOverviewRuler.warningForeground",{dark:T.editorWarningForeground,light:T.editorWarningForeground,hc:T.editorWarningBorder},b.localize(28,null)),e.overviewRulerInfo=(0,T.registerColor)("editorOverviewRuler.infoForeground",{dark:T.editorInfoForeground,light:T.editorInfoForeground,hc:T.editorInfoBorder},b.localize(29,null)),(0,L.registerThemingParticipant)((C,i)=>{const v=C.getColor(T.editorBackground);v&&i.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${v}; }`);const r=C.getColor(T.editorForeground);r&&i.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${r}; }`);const a=C.getColor(e.editorGutter);a&&i.addRule(`.monaco-editor .margin { background-color: ${a}; }`);const l=C.getColor(e.editorRangeHighlight);l&&i.addRule(`.monaco-editor .rangeHighlight { background-color: ${l}; }`);const c=C.getColor(e.editorRangeHighlightBorder);c&&i.addRule(`.monaco-editor .rangeHighlight { border: 1px ${C.type==="hc"?"dotted":"solid"} ${c}; }`);const u=C.getColor(e.editorSymbolHighlight);u&&i.addRule(`.monaco-editor .symbolHighlight { background-color: ${u}; }`);const s=C.getColor(e.editorSymbolHighlightBorder);s&&i.addRule(`.monaco-editor .symbolHighlight { border: 1px ${C.type==="hc"?"dotted":"solid"} ${s}; }`);const n=C.getColor(e.editorWhitespaces);n&&(i.addRule(`.monaco-editor .mtkw { color: ${n} !important; }`),i.addRule(`.monaco-editor .mtkz { color: ${n} !important; }`))})}),define(ee[602],te([0,1,97,48,19,11,21,326]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;let p=!0;class C extends b.DynamicViewOverlay{constructor(a){super();this._context=a;const l=this._context.configuration.options,c=l.get(129);this._lineHeight=l.get(57),this._renderLineHighlight=l.get(84),this._renderLineHighlightOnlyWhenFocus=l.get(85),this._contentLeft=c.contentLeft,this._contentWidth=c.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new S.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let a=!1;const l=p?this._selections.slice(0,1):this._selections,c=l.map(s=>s.positionLineNumber);c.sort((s,n)=>s-n),T.equals(this._cursorLineNumbers,c)||(this._cursorLineNumbers=c,a=!0);const u=l.every(s=>s.isEmpty());return this._selectionIsEmpty!==u&&(this._selectionIsEmpty=u,a=!0),a}onThemeChanged(a){return this._readFromSelections()}onConfigurationChanged(a){const l=this._context.configuration.options,c=l.get(129);return this._lineHeight=l.get(57),this._renderLineHighlight=l.get(84),this._renderLineHighlightOnlyWhenFocus=l.get(85),this._contentLeft=c.contentLeft,this._contentWidth=c.contentWidth,!0}onCursorStateChanged(a){return this._selections=a.selections,this._readFromSelections()}onFlushed(a){return!0}onLinesDeleted(a){return!0}onLinesInserted(a){return!0}onScrollChanged(a){return a.scrollWidthChanged||a.scrollTopChanged}onZonesChanged(a){return!0}onFocusChanged(a){return this._renderLineHighlightOnlyWhenFocus?(this._focused=a.isFocused,!0):!1}prepareRender(a){if(!this._shouldRenderThis()){this._renderData=null;return}const l=this._renderOne(a),c=a.visibleRange.startLineNumber,u=a.visibleRange.endLineNumber,s=this._cursorLineNumbers.length;let n=0;const d=[];for(let t=c;t<=u;t++){const o=t-c;for(;n<s&&this._cursorLineNumbers[n]<t;)n++;n<s&&this._cursorLineNumbers[n]===t?d[o]=l:d[o]=""}this._renderData=d}render(a,l){if(!this._renderData)return"";const c=l-a;return c>=this._renderData.length?"":this._renderData[c]}}e.AbstractLineHighlightOverlay=C;class i extends C{_renderOne(a){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(a.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineHighlightOverlay=i;class v extends C{_renderOne(a){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineMarginHighlightOverlay=v,(0,L.registerThemingParticipant)((r,a)=>{p=!1;const l=r.getColor(k.editorLineHighlight);if(l&&(a.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${l}; }`),a.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${l}; border: none; }`)),!l||l.isTransparent()||r.defines(k.editorLineHighlightBorder)){const c=r.getColor(k.editorLineHighlightBorder);c&&(p=!0,a.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${c}; }`),a.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${c}; }`),r.type==="hc"&&(a.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),a.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(ee[603],te([0,1,97,13,48,11,329]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class S extends b.DynamicViewOverlay{constructor(C){super();this._context=C,this._primaryLineNumber=0;const i=this._context.configuration.options,v=i.get(130),r=i.get(41);this._lineHeight=i.get(57),this._spaceWidth=r.spaceWidth,this._enabled=i.get(82),this._activeIndentEnabled=i.get(50),this._maxIndentLeft=v.wrappingColumn===-1?-1:v.wrappingColumn*r.typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(C){const i=this._context.configuration.options,v=i.get(130),r=i.get(41);return this._lineHeight=i.get(57),this._spaceWidth=r.spaceWidth,this._enabled=i.get(82),this._activeIndentEnabled=i.get(50),this._maxIndentLeft=v.wrappingColumn===-1?-1:v.wrappingColumn*r.typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(C){const i=C.selections[0],v=i.isEmpty()?i.positionLineNumber:0;return this._primaryLineNumber!==v?(this._primaryLineNumber=v,!0):!1}onDecorationsChanged(C){return!0}onFlushed(C){return!0}onLinesChanged(C){return!0}onLinesDeleted(C){return!0}onLinesInserted(C){return!0}onScrollChanged(C){return C.scrollTopChanged}onZonesChanged(C){return!0}onLanguageConfigurationChanged(C){return!0}prepareRender(C){if(!this._enabled){this._renderResult=null;return}const i=C.visibleRange.startLineNumber,v=C.visibleRange.endLineNumber,{indentSize:r}=this._context.model.getTextModelOptions(),a=r*this._spaceWidth,l=C.scrollWidth,c=this._lineHeight,u=this._context.model.getLinesIndentGuides(i,v);let s=0,n=0,d=0;if(this._activeIndentEnabled&&this._primaryLineNumber){const o=this._context.model.getActiveIndentGuide(this._primaryLineNumber,i,v);s=o.startLineNumber,n=o.endLineNumber,d=o.indent}const t=[];for(let o=i;o<=v;o++){const h=s<=o&&o<=n,m=o-i,y=u[m];let w="";if(y>=1){const g=C.visibleRangeForPosition(new k.Position(o,1));let f=g?g.left:0;for(let _=1;_<=y&&(w+=`<div class="${h&&_===d?"cigra":"cigr"}" style="left:${f}px;height:${c}px;width:${a}px"></div>`,f+=a,!(f>l||this._maxIndentLeft>0&&f>this._maxIndentLeft));_++);}t[m]=w}this._renderResult=t}render(C,i){if(!this._renderResult)return"";const v=i-C;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}e.IndentGuidesOverlay=S,(0,L.registerThemingParticipant)((p,C)=>{const i=p.getColor(T.editorIndentGuides);i&&C.addRule(`.monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 ${i} inset; }`);const v=p.getColor(T.editorActiveIndentGuides)||i;v&&C.addRule(`.monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 ${v} inset; }`)})}),define(ee[260],te([0,1,17,97,13,48,11,330]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class p extends k.DynamicViewOverlay{constructor(i){super();this._context=i,this._readConfig(),this._lastCursorModelPosition=new T.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const i=this._context.configuration.options;this._lineHeight=i.get(57);const v=i.get(58);this._renderLineNumbers=v.renderType,this._renderCustomLineNumbers=v.renderFn,this._renderFinalNewline=i.get(83);const r=i.get(129);this._lineNumbersLeft=r.lineNumbersLeft,this._lineNumbersWidth=r.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){return this._readConfig(),!0}onCursorStateChanged(i){const v=i.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(v);let r=!1;return this._activeLineNumber!==v.lineNumber&&(this._activeLineNumber=v.lineNumber,r=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(r=!0),r}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getLineRenderLineNumber(i){const v=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new T.Position(i,1));if(v.column!==1)return"";const r=v.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(r);if(this._renderLineNumbers===2){const a=Math.abs(this._lastCursorModelPosition.lineNumber-r);return a===0?'<span class="relative-current-line-number">'+r+"</span>":String(a)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===r||r%10==0?String(r):"":String(r)}prepareRender(i){if(this._renderLineNumbers===0){this._renderResult=null;return}const v=b.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",r=i.visibleRange.startLineNumber,a=i.visibleRange.endLineNumber,l='<div class="'+p.CLASS_NAME+v+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',c=this._context.model.getLineCount(),u=[];for(let s=r;s<=a;s++){const n=s-r;if(!this._renderFinalNewline&&s===c&&this._context.model.getLineLength(s)===0){u[n]="";continue}const d=this._getLineRenderLineNumber(s);d?s===this._activeLineNumber?u[n]='<div class="active-line-number '+p.CLASS_NAME+v+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+d+"</div>":u[n]=l+d+"</div>":u[n]=""}this._renderResult=u}render(i,v){if(!this._renderResult)return"";const r=v-i;return r<0||r>=this._renderResult.length?"":this._renderResult[r]}}e.LineNumbersOverlay=p,p.CLASS_NAME="line-numbers",(0,S.registerThemingParticipant)((C,i)=>{const v=C.getColor(L.editorLineNumbers);v&&i.addRule(`.monaco-editor .line-numbers { color: ${v}; }`);const r=C.getColor(L.editorActiveLineNumber);r&&i.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${r}; }`)})}),define(ee[604],te([0,1,455,39,30,17,8,65,169,216,47,260,225,35,109,13,3,21,131,325]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class t{constructor(f,_,D){this._visibleTextAreaBrand=void 0,this.top=f,this.left=_,this.width=D}setWidth(f){return new t(this.top,this.left,f)}}const o=k.isFirefox;class h extends v.ViewPart{constructor(f,_,D){super(f);this._primaryCursorPosition=new u.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=_,this._viewHelper=D,this._scrollLeft=0,this._scrollTop=0;const N=this._context.configuration.options,I=N.get(129);this._setAccessibilityOptions(N),this._contentLeft=I.contentLeft,this._contentWidth=I.contentWidth,this._contentHeight=I.height,this._fontInfo=N.get(41),this._lineHeight=N.get(57),this._emptySelectionClipboard=N.get(30),this._copyWithSyntaxHighlighting=N.get(19),this._visibleTextArea=null,this._selections=[new n.Selection(1,1,1,1)],this._modelSelections=[new n.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,T.createFastDomNode)(document.createElement("textarea")),v.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${d.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(N)),this.textArea.setAttribute("tabindex",String(N.get(111))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",b.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),N.get(28)&&N.get(79)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,T.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const M={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:R=>this._context.model.getLineMaxColumn(R),getValueInRange:(R,P)=>this._context.model.getValueInRange(R,P)},O={getDataToCopy:R=>{const P=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,L.isWindows),A=this._context.model.getEOL(),F=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),E=Array.isArray(P)?P:null,W=Array.isArray(P)?P.join(A):P;let V,$=null;if(R&&(C.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&W.length<65536)){const Z=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Z&&(V=Z.html,$=Z.mode)}return{isFromEmptySelection:F,multicursorText:E,text:W,html:V,mode:$}},getScreenReaderContent:R=>{if(this._accessibilitySupport===1){if(L.isMacintosh){const P=this._selections[0];if(P.isEmpty()){const A=P.getStartPosition();let F=this._getWordBeforePosition(A);if(F.length===0&&(F=this._getCharacterBeforePosition(A)),F.length>0)return new i.TextAreaState(F,F.length,F.length,A,A)}}return i.TextAreaState.EMPTY}if(k.isAndroid){const P=this._selections[0];if(P.isEmpty()){const A=P.getStartPosition(),[F,E]=this._getAndroidWordAtPosition(A);if(F.length>0)return new i.TextAreaState(F,E,E,A,A)}return i.TextAreaState.EMPTY}return i.PagedScreenReaderStrategy.fromEditorSelection(R,M,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(R,P,A)=>this._context.model.deduceModelPositionRelativeToViewPosition(R,P,A)};this._textAreaInput=this._register(new C.TextAreaInput(O,this.textArea)),this._register(this._textAreaInput.onKeyDown(R=>{this._viewController.emitKeyDown(R)})),this._register(this._textAreaInput.onKeyUp(R=>{this._viewController.emitKeyUp(R)})),this._register(this._textAreaInput.onPaste(R=>{let P=!1,A=null,F=null;R.metadata&&(P=this._emptySelectionClipboard&&!!R.metadata.isFromEmptySelection,A=typeof R.metadata.multicursorText!="undefined"?R.metadata.multicursorText:null,F=R.metadata.mode),this._viewController.paste(R.text,P,A,F)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(R=>{R.replacePrevCharCnt||R.replaceNextCharCnt||R.positionDelta?(i._debugComposition&&console.log(` => compositionType: <<${R.text}>>, ${R.replacePrevCharCnt}, ${R.replaceNextCharCnt}, ${R.positionDelta}`),this._viewController.compositionType(R.text,R.replacePrevCharCnt,R.replaceNextCharCnt,R.positionDelta)):(i._debugComposition&&console.log(` => type: <<${R.text}>>`),this._viewController.type(R.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(R=>{this._viewController.setSelection(R)})),this._register(this._textAreaInput.onCompositionStart(R=>{const P=this._selections[0].startLineNumber,A=this._selections[0].startColumn+R.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new s.Range(P,A,P,A),0,1);const F=this._viewHelper.visibleRangeForPositionRelativeToEditor(P,A);F&&(this._visibleTextArea=new t(this._context.viewLayout.getVerticalOffsetForLineNumber(P),F.left,o?0:1),this._render()),this.textArea.setClassName(`inputarea ${d.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(R=>{!this._visibleTextArea||(this._visibleTextArea=this._visibleTextArea.setWidth(m(R.data,this._fontInfo)),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${d.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(f){const _='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',D=this._context.model.getLineContent(f.lineNumber),N=(0,c.getMapForWordSeparators)(_);let I=!0,M=f.column,O=!0,R=f.column,P=0;for(;P<50&&(I||O);){if(I&&M<=1&&(I=!1),I){const A=D.charCodeAt(M-2);N.get(A)!==0?I=!1:M--}if(O&&R>D.length&&(O=!1),O){const A=D.charCodeAt(R-1);N.get(A)!==0?O=!1:R++}P++}return[D.substring(M-1,R-1),f.column-M]}_getWordBeforePosition(f){const _=this._context.model.getLineContent(f.lineNumber),D=(0,c.getMapForWordSeparators)(this._context.configuration.options.get(115));let N=f.column,I=0;for(;N>1;){const M=_.charCodeAt(N-2);if(D.get(M)!==0||I>50)return _.substring(N-1,f.column-1);I++,N--}return _.substring(0,f.column-1)}_getCharacterBeforePosition(f){if(f.column>1){const D=this._context.model.getLineContent(f.lineNumber).charAt(f.column-2);if(!S.isHighSurrogate(D.charCodeAt(0)))return D}return""}_getAriaLabel(f){return f.get(2)===1?b.localize(1,null,L.isLinux?"Shift+Alt+F1":"Alt+F1"):f.get(4)}_setAccessibilityOptions(f){this._accessibilitySupport=f.get(2);const _=f.get(3);this._accessibilitySupport===2&&_===l.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=_}onConfigurationChanged(f){const _=this._context.configuration.options,D=_.get(129);return this._setAccessibilityOptions(_),this._contentLeft=D.contentLeft,this._contentWidth=D.contentWidth,this._contentHeight=D.height,this._fontInfo=_.get(41),this._lineHeight=_.get(57),this._emptySelectionClipboard=_.get(30),this._copyWithSyntaxHighlighting=_.get(19),this.textArea.setAttribute("aria-label",this._getAriaLabel(_)),this.textArea.setAttribute("tabindex",String(_.get(111))),(f.hasChanged(28)||f.hasChanged(79))&&(_.get(28)&&_.get(79)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),f.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(f){return this._selections=f.selections.slice(0),this._modelSelections=f.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(f){return!0}onFlushed(f){return!0}onLinesChanged(f){return!0}onLinesDeleted(f){return!0}onLinesInserted(f){return!0}onScrollChanged(f){return this._scrollLeft=f.scrollLeft,this._scrollTop=f.scrollTop,!0}onZonesChanged(f){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(f){f.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",f.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),f.role&&this.textArea.setAttribute("role",f.role)}prepareRender(f){this._primaryCursorPosition=new u.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=f.visibleRangeForPosition(this._primaryCursorPosition)}render(f){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const f=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(f<this._contentLeft||f>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const _=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(_<0||_>this._contentHeight){this._renderAtTopLeft();return}if(L.isMacintosh){this._renderInsideEditor(this._primaryCursorPosition,_,f,o?0:1,this._lineHeight);return}this._renderInsideEditor(this._primaryCursorPosition,_,f,o?0:1,o?0:1)}_renderInsideEditor(f,_,D,N,I){this._lastRenderPosition=f;const M=this.textArea,O=this.textAreaCover;p.Configuration.applyFontInfo(M,this._fontInfo),M.setTop(_),M.setLeft(D),M.setWidth(N),M.setHeight(I),O.setTop(0),O.setLeft(0),O.setWidth(0),O.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const f=this.textArea,_=this.textAreaCover;if(p.Configuration.applyFontInfo(f,this._fontInfo),f.setTop(0),f.setLeft(0),_.setTop(0),_.setLeft(0),o){f.setWidth(0),f.setHeight(0),_.setWidth(0),_.setHeight(0);return}f.setWidth(1),f.setHeight(1),_.setWidth(1),_.setHeight(1);const D=this._context.configuration.options;D.get(47)?_.setClassName("monaco-editor-background textAreaCover "+a.Margin.OUTER_CLASS_NAME):D.get(58).renderType!==0?_.setClassName("monaco-editor-background textAreaCover "+r.LineNumbersOverlay.CLASS_NAME):_.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=h;function m(g,f){const D=document.createElement("canvas").getContext("2d");D.font=y(f);const N=D.measureText(g);return k.isFirefox?N.width+2:N.width}function y(g){return w("normal",g.fontWeight,g.fontSize,g.lineHeight,g.fontFamily)}function w(g,f,_,D,N){return`${g} normal ${f} ${_}px / ${D}px ${N}`}}),define(ee[605],te([0,1,30,29,47,13,18,48]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class C{constructor(r,a){const l=r.options;this.lineHeight=l.get(57),this.pixelRatio=l.get(127),this.overviewRulerLanes=l.get(72),this.renderBorder=l.get(71);const c=a.getColor(p.editorOverviewRulerBorder);this.borderColor=c?c.toString():null,this.hideCursor=l.get(49);const u=a.getColor(p.editorCursorForeground);this.cursorColor=u?u.transparent(.7).toString():null,this.themeType=a.type;const s=l.get(63),n=s.enabled,d=s.side,t=n?a.getColor(p.editorOverviewRulerBackground)||S.TokenizationRegistry.getDefaultBackground():null;t===null||d==="left"?this.backgroundColor=null:this.backgroundColor=k.Color.Format.CSS.formatHex(t);const h=l.get(129).overviewRuler;this.top=h.top,this.right=h.right,this.domWidth=h.width,this.domHeight=h.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[m,y]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=m,this.w=y}_initLanes(r,a,l){const c=a-r;if(l>=3){const u=Math.floor(c/3),s=Math.floor(c/3),n=c-u-s,d=r,t=d+u,o=d+u+n;return[[0,d,t,d,o,d,t,d],[0,u,n,u+n,s,u+n+s,n+s,u+n+s]]}else if(l===2){const u=Math.floor(c/2),s=c-u,n=r,d=n+u;return[[0,n,n,n,d,n,n,n],[0,u,u,u,s,u+s,u+s,u+s]]}else{const u=r,s=c;return[[0,u,u,u,u,u,u,u],[0,s,s,s,s,s,s,s]]}}equals(r){return this.lineHeight===r.lineHeight&&this.pixelRatio===r.pixelRatio&&this.overviewRulerLanes===r.overviewRulerLanes&&this.renderBorder===r.renderBorder&&this.borderColor===r.borderColor&&this.hideCursor===r.hideCursor&&this.cursorColor===r.cursorColor&&this.themeType===r.themeType&&this.backgroundColor===r.backgroundColor&&this.top===r.top&&this.right===r.right&&this.domWidth===r.domWidth&&this.domHeight===r.domHeight&&this.canvasWidth===r.canvasWidth&&this.canvasHeight===r.canvasHeight}}class i extends T.ViewPart{constructor(r){super(r);this._domNode=(0,b.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=S.TokenizationRegistry.onDidChange(a=>{a.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(r){const a=new C(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(a)?!1:(this._settings=a,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,r&&this._render(),!0)}onConfigurationChanged(r){return this._updateSettings(!1)}onCursorStateChanged(r){this._cursorPositions=[];for(let a=0,l=r.selections.length;a<l;a++)this._cursorPositions[a]=r.selections[a].getPosition();return this._cursorPositions.sort(L.Position.compare),!0}onDecorationsChanged(r){return!!r.affectsOverviewRuler}onFlushed(r){return!0}onScrollChanged(r){return r.scrollHeightChanged}onZonesChanged(r){return!0}onThemeChanged(r){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(r){}render(r){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const r=this._settings.canvasWidth,a=this._settings.canvasHeight,l=this._settings.lineHeight,c=this._context.viewLayout,u=this._context.viewLayout.getScrollHeight(),s=a/u,n=this._context.model.getAllOverviewRulerDecorations(this._context.theme),d=6*this._settings.pixelRatio|0,t=d/2|0,o=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?o.clearRect(0,0,r,a):(o.fillStyle=this._settings.backgroundColor,o.fillRect(0,0,r,a));const h=this._settings.x,m=this._settings.w,y=Object.keys(n);y.sort();for(let w=0,g=y.length;w<g;w++){const f=y[w],_=n[f];o.fillStyle=f;let D=0,N=0,I=0;for(let M=0,O=_.length;M<O;M++){const R=_[3*M],P=_[3*M+1],A=_[3*M+2];let F=c.getVerticalOffsetForLineNumber(P)*s|0,E=(c.getVerticalOffsetForLineNumber(A)+l)*s|0;if(E-F<d){let V=(F+E)/2|0;V<t?V=t:V+t>a&&(V=a-t),F=V-t,E=V+t}F>I+1||R!==D?(M!==0&&o.fillRect(h[D],N,m[D],I-N),D=R,N=F,I=E):E>I&&(I=E)}o.fillRect(h[D],N,m[D],I-N)}if(!this._settings.hideCursor&&this._settings.cursorColor){const w=2*this._settings.pixelRatio|0,g=w/2|0,f=this._settings.x[7],_=this._settings.w[7];o.fillStyle=this._settings.cursorColor;let D=-100,N=-100;for(let I=0,M=this._cursorPositions.length;I<M;I++){const O=this._cursorPositions[I];let R=c.getVerticalOffsetForLineNumber(O.lineNumber)*s|0;R<g?R=g:R+g>a&&(R=a-g);const P=R-g,A=P+w;P>N+1?(I!==0&&o.fillRect(f,D,_,N-D),D=P,N=A):A>N&&(N=A)}o.fillRect(f,D,_,N-D)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(o.beginPath(),o.lineWidth=1,o.strokeStyle=this._settings.borderColor,o.moveTo(0,0),o.lineTo(0,a),o.stroke(),o.moveTo(0,0),o.lineTo(r,0),o.stroke())}}e.DecorationsOverviewRuler=i}),define(ee[606],te([0,1,30,47,48,11,336]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class S extends k.ViewPart{constructor(C){super(C);this.domNode=(0,b.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const i=this._context.configuration.options;this._rulers=i.get(90),this._typicalHalfwidthCharacterWidth=i.get(41).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(C){const i=this._context.configuration.options;return this._rulers=i.get(90),this._typicalHalfwidthCharacterWidth=i.get(41).typicalHalfwidthCharacterWidth,!0}onScrollChanged(C){return C.scrollHeightChanged}prepareRender(C){}_ensureRulersCount(){const C=this._renderedRulers.length,i=this._rulers.length;if(C===i)return;if(C<i){const{tabSize:r}=this._context.model.getTextModelOptions(),a=r;let l=i-C;for(;l>0;){const c=(0,b.createFastDomNode)(document.createElement("div"));c.setClassName("view-ruler"),c.setWidth(a),this.domNode.appendChild(c),this._renderedRulers.push(c),l--}return}let v=C-i;for(;v>0;){const r=this._renderedRulers.pop();this.domNode.removeChild(r),v--}}render(C){this._ensureRulersCount();for(let i=0,v=this._rulers.length;i<v;i++){const r=this._renderedRulers[i],a=this._rulers[i];r.setBoxShadow(a.color?`1px 0 0 0 ${a.color} inset`:""),r.setHeight(Math.min(C.scrollHeight,1e6)),r.setLeft(a.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=S,(0,L.registerThemingParticipant)((p,C)=>{const i=p.getColor(T.editorRuler);i&&C.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${i} inset; }`)})}),define(ee[607],te([0,1,30,15,47,579,35,48,11,339]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class i extends T.ViewPart{constructor(r){super(r);const a=this._context.configuration.options;this._readOnly=a.get(79),this._cursorBlinking=a.get(20),this._cursorStyle=a.get(22),this._cursorSmoothCaretAnimation=a.get(21),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new L.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,b.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new k.TimeoutTimer,this._cursorFlatBlinkInterval=new k.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(r){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(r){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(r){const a=this._context.configuration.options;this._readOnly=a.get(79),this._cursorBlinking=a.get(20),this._cursorStyle=a.get(22),this._cursorSmoothCaretAnimation=a.get(21),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(r);for(let l=0,c=this._secondaryCursors.length;l<c;l++)this._secondaryCursors[l].onConfigurationChanged(r);return!0}_onCursorPositionChanged(r,a){if(this._primaryCursor.onCursorPositionChanged(r),this._updateBlinking(),this._secondaryCursors.length<a.length){const l=a.length-this._secondaryCursors.length;for(let c=0;c<l;c++){const u=new L.ViewCursor(this._context);this._domNode.domNode.insertBefore(u.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(u)}}else if(this._secondaryCursors.length>a.length){const l=this._secondaryCursors.length-a.length;for(let c=0;c<l;c++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let l=0;l<a.length;l++)this._secondaryCursors[l].onCursorPositionChanged(a[l])}onCursorStateChanged(r){const a=[];for(let c=0,u=r.selections.length;c<u;c++)a[c]=r.selections[c].getPosition();this._onCursorPositionChanged(a[0],a.slice(1));const l=r.selections[0].isEmpty();return this._selectionIsEmpty!==l&&(this._selectionIsEmpty=l,this._updateDomClassName()),!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onFocusChanged(r){return this._editorHasFocus=r.isFocused,this._updateBlinking(),!1}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return!0}onTokensChanged(r){const a=l=>{for(let c=0,u=r.ranges.length;c<u;c++)if(r.ranges[c].fromLineNumber<=l.lineNumber&&l.lineNumber<=r.ranges[c].toLineNumber)return!0;return!1};if(a(this._primaryCursor.getPosition()))return!0;for(const l of this._secondaryCursors)if(a(l.getPosition()))return!0;return!1}onZonesChanged(r){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const r=this._getCursorBlinking(),a=r===0,l=r===5;a?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!a&&!l&&(r===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},i.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},i.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let r="cursors-layer";switch(this._selectionIsEmpty||(r+=" has-selection"),this._cursorStyle){case S.TextEditorCursorStyle.Line:r+=" cursor-line-style";break;case S.TextEditorCursorStyle.Block:r+=" cursor-block-style";break;case S.TextEditorCursorStyle.Underline:r+=" cursor-underline-style";break;case S.TextEditorCursorStyle.LineThin:r+=" cursor-line-thin-style";break;case S.TextEditorCursorStyle.BlockOutline:r+=" cursor-block-outline-style";break;case S.TextEditorCursorStyle.UnderlineThin:r+=" cursor-underline-thin-style";break;default:r+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:r+=" cursor-blink";break;case 2:r+=" cursor-smooth";break;case 3:r+=" cursor-phase";break;case 4:r+=" cursor-expand";break;case 5:r+=" cursor-solid";break;default:r+=" cursor-solid"}else r+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(r+=" cursor-smooth-caret-animation"),r}_show(){this._primaryCursor.show();for(let r=0,a=this._secondaryCursors.length;r<a;r++)this._secondaryCursors[r].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let r=0,a=this._secondaryCursors.length;r<a;r++)this._secondaryCursors[r].hide();this._isVisible=!1}prepareRender(r){this._primaryCursor.prepareRender(r);for(let a=0,l=this._secondaryCursors.length;a<l;a++)this._secondaryCursors[a].prepareRender(r)}render(r){let a=[],l=0;const c=this._primaryCursor.render(r);c&&(a[l++]=c);for(let u=0,s=this._secondaryCursors.length;u<s;u++){const n=this._secondaryCursors[u].render(r);n&&(a[l++]=n)}this._renderData=a}getLastRenderData(){return this._renderData}}e.ViewCursors=i,i.BLINK_INTERVAL=500,(0,C.registerThemingParticipant)((v,r)=>{const a=v.getColor(p.editorCursorForeground);if(a){let l=v.getColor(p.editorCursorBackground);l||(l=a.opposite()),r.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${a}; border-color: ${a}; color: ${l}; }`),v.type==="hc"&&r.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${l}; border-right: 1px solid ${l}; }`)}})}),define(ee[608],te([0,1,87,2,53,11,48,36,3,46,6,22,49]),function(G,e,b,k,T,L,S,p,C,i,v,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;class l extends k.Disposable{constructor(s){super();this.model=s,this._markersData=new Map,this._register((0,k.toDisposable)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(s,n){const d=[...this._markersData.keys()];this._markersData.clear();const t=this.model.deltaDecorations(d,n);for(let o=0;o<t.length;o++)this._markersData.set(t[o],s[o]);return d.length!==0||t.length!==0}getMarker(s){return this._markersData.get(s.id)}}let c=class extends k.Disposable{constructor(s,n){super();this._markerService=n,this._onDidChangeMarker=this._register(new v.Emitter),this._markerDecorations=new a.ResourceMap,s.getModels().forEach(d=>this._onModelAdded(d)),this._register(s.onModelAdded(this._onModelAdded,this)),this._register(s.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(s=>s.dispose()),this._markerDecorations.clear()}getMarker(s,n){const d=this._markerDecorations.get(s);return d&&d.getMarker(n)||null}_handleMarkerChange(s){s.forEach(n=>{const d=this._markerDecorations.get(n);d&&this._updateDecorations(d)})}_onModelAdded(s){const n=new l(s);this._markerDecorations.set(s.uri,n),this._updateDecorations(n)}_onModelRemoved(s){const n=this._markerDecorations.get(s.uri);n&&(n.dispose(),this._markerDecorations.delete(s.uri)),(s.uri.scheme===i.Schemas.inMemory||s.uri.scheme===i.Schemas.internal||s.uri.scheme===i.Schemas.vscode)&&this._markerService&&this._markerService.read({resource:s.uri}).map(d=>d.owner).forEach(d=>this._markerService.remove(d,[s.uri]))}_updateDecorations(s){const n=this._markerService.read({resource:s.model.uri,take:500});let d=n.map(t=>({range:this._createDecorationRange(s.model,t),options:this._createDecorationOption(t)}));s.update(n,d)&&this._onDidChangeMarker.fire(s.model)}_createDecorationRange(s,n){let d=C.Range.lift(n);if(n.severity===b.MarkerSeverity.Hint&&!this._hasMarkerTag(n,1)&&!this._hasMarkerTag(n,2)&&(d=d.setEndPosition(d.startLineNumber,d.startColumn+2)),d=s.validateRange(d),d.isEmpty()){let t=s.getWordAtPosition(d.getStartPosition());if(t)d=new C.Range(d.startLineNumber,t.startColumn,d.endLineNumber,t.endColumn);else{let o=s.getLineLastNonWhitespaceColumn(d.startLineNumber)||s.getLineMaxColumn(d.startLineNumber);o===1||(d.endColumn>=o?d=new C.Range(d.startLineNumber,o-1,d.endLineNumber,o):d=new C.Range(d.startLineNumber,d.startColumn,d.endLineNumber,d.endColumn+1))}}else if(n.endColumn===Number.MAX_VALUE&&n.startColumn===1&&d.startLineNumber===d.endLineNumber){let t=s.getLineFirstNonWhitespaceColumn(n.startLineNumber);t<d.endColumn&&(d=new C.Range(d.startLineNumber,t,d.endLineNumber,d.endColumn),n.startColumn=t)}return d}_createDecorationOption(s){let n,d,t,o,h;switch(s.severity){case b.MarkerSeverity.Hint:this._hasMarkerTag(s,2)?n=void 0:this._hasMarkerTag(s,1)?n="squiggly-unnecessary":n="squiggly-hint",t=0;break;case b.MarkerSeverity.Warning:n="squiggly-warning",d=(0,L.themeColorFromId)(S.overviewRulerWarning),t=20,h={color:(0,L.themeColorFromId)(r.minimapWarning),position:T.MinimapPosition.Inline};break;case b.MarkerSeverity.Info:n="squiggly-info",d=(0,L.themeColorFromId)(S.overviewRulerInfo),t=10;break;case b.MarkerSeverity.Error:default:n="squiggly-error",d=(0,L.themeColorFromId)(S.overviewRulerError),t=30,h={color:(0,L.themeColorFromId)(r.minimapError),position:T.MinimapPosition.Inline};break}return s.tags&&(s.tags.indexOf(1)!==-1&&(o="squiggly-inline-unnecessary"),s.tags.indexOf(2)!==-1&&(o="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:n,showIfCollapsed:!0,overviewRuler:{color:d,position:T.OverviewRulerLane.Right},minimap:h,zIndex:t,inlineClassName:o}}_hasMarkerTag(s,n){return s.tags?s.tags.indexOf(n)>=0:!1}};c=Re([Ce(0,p.IModelService),Ce(1,b.IMarkerService)],c),e.MarkerDecorationsService=c}),define(ee[609],te([0,1,7,93,6,2,31,477,37,11,22,60,27,345]),function(G,e,b,k,T,L,S,p,C,i,v,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var l;(function(u){u.Hidden={type:0};class s{constructor(d,t,o,h){this.actions=d,this.trigger=t,this.editorPosition=o,this.widgetPosition=h,this.type=1}}u.Showing=s})(l||(l={}));let c=class Pt extends L.Disposable{constructor(s,n,d,t){super();this._editor=s,this._quickFixActionId=n,this._preferredFixActionId=d,this._keybindingService=t,this._onClick=this._register(new T.Emitter),this.onClick=this._onClick.event,this._state=l.Hidden,this._domNode=document.createElement("div"),this._domNode.className=a.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(o=>{const h=this._editor.getModel();(this.state.type!==1||!h||this.state.editorPosition.lineNumber>=h.getLineCount())&&this.hide()})),r.Gesture.ignoreTarget(this._domNode),this._register(b.addStandardDisposableGenericMouseDownListner(this._domNode,o=>{if(this.state.type!==1)return;this._editor.focus(),o.preventDefault();const{top:h,height:m}=b.getDomNodePagePosition(this._domNode),y=this._editor.getOption(57);let w=Math.floor(y/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(w+=y),this._onClick.fire({x:o.posx,y:h+m+w,actions:this.state.actions,trigger:this.state.trigger})})),this._register(b.addDisposableListener(this._domNode,"mouseenter",o=>{if((o.buttons&1)!=1)return;this.hide();const h=new k.GlobalMouseMoveMonitor;h.startMonitoring(o.target,o.buttons,k.standardMouseMoveMerger,()=>{},()=>{h.dispose()})})),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(55)&&!this._editor.getOption(55).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(s,n,d){if(s.validActions.length<=0)return this.hide();const t=this._editor.getOptions();if(!t.get(55).enabled)return this.hide();const o=this._editor.getModel();if(!o)return this.hide();const{lineNumber:h,column:m}=o.validatePosition(d),y=o.getOptions().tabSize,w=t.get(41),g=o.getLineContent(h),f=S.TextModel.computeIndentLevel(g,y),_=w.spaceWidth*f>22,D=I=>I>2&&this._editor.getTopForLineNumber(I)===this._editor.getTopForLineNumber(I-1);let N=h;if(!_){if(h>1&&!D(h-1))N-=1;else if(!D(h+1))N+=1;else if(m*w.spaceWidth<22)return this.hide()}this.state=new l.Showing(s,n,d,{position:{lineNumber:N,column:1},preference:Pt._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=l.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(s){this._state=s,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...a.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...a.Codicon.lightbulbAutofix.classNamesArray);const n=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(n){this.title=p.localize(0,null,n.getLabel());return}}this._domNode.classList.remove(...a.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...a.Codicon.lightBulb.classNamesArray);const s=this._keybindingService.lookupKeybinding(this._quickFixActionId);s?this.title=p.localize(1,null,s.getLabel()):this.title=p.localize(2,null)}set title(s){this._domNode.title=s}};c._posPref=[0],c=Re([Ce(3,C.IKeybindingService)],c),e.LightBulbWidget=c,(0,i.registerThemingParticipant)((u,s)=>{var n;const d=(n=u.getColor(v.editorBackground))===null||n===void 0?void 0:n.transparent(.7),t=u.getColor(v.editorLightBulbForeground);t&&s.addRule(`
		.monaco-editor .contentWidgets ${a.Codicon.lightBulb.cssSelector} {
			color: ${t};
			background-color: ${d};
		}`);const o=u.getColor(v.editorLightBulbAutoFixForeground);o&&s.addRule(`
		.monaco-editor .contentWidgets ${a.Codicon.lightbulbAutofix.cssSelector} {
			color: ${o};
			background-color: ${d};
		}`)})}),define(ee[610],te([0,1,7,3,31,48,22,11,105,346]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class i{constructor(c,u,s){this.afterLineNumber=c,this.heightInPx=u,this._onHeight=s,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(c){this._lastHeight===void 0?this._lastHeight=c:this._lastHeight!==c&&(this._lastHeight=c,this._onHeight())}}class v{constructor(c,u,s){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=c,this._id=`codelens.widget-${v._idPool++}`,this.updatePosition(s),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${u}`}withCommands(c,u){this._commands.clear();let s=[],n=!1;for(let d=0;d<c.length;d++){const t=c[d];if(!!t&&(n=!0,t.command)){const o=(0,C.renderLabelWithIcons)(t.command.title.trim());t.command.id?(s.push(b.$("a",{id:String(d),title:t.command.tooltip},...o)),this._commands.set(String(d),t.command)):s.push(b.$("span",{title:t.command.tooltip},...o)),d+1<c.length&&s.push(b.$("span",void 0,"\xA0|\xA0"))}}n?(b.reset(this._domNode,...s),this._isEmpty&&u&&this._domNode.classList.add("fadein"),this._isEmpty=!1):b.reset(this._domNode,b.$("span",void 0,"no commands"))}getCommand(c){return c.parentElement===this._domNode?this._commands.get(c.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(c){const u=this._editor.getModel().getLineFirstNonWhitespaceColumn(c);this._widgetPosition={position:{lineNumber:c,column:u},preference:[1]}}getPosition(){return this._widgetPosition||null}}v._idPool=0;class r{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(c,u){this._addDecorations.push(c),this._addDecorationsCallbacks.push(u)}removeDecoration(c){this._removeDecorations.push(c)}commit(c){let u=c.deltaDecorations(this._removeDecorations,this._addDecorations);for(let s=0,n=u.length;s<n;s++)this._addDecorationsCallbacks[s](u[s])}}e.CodeLensHelper=r;class a{constructor(c,u,s,n,d,t,o){this._isDisposed=!1,this._editor=u,this._className=s,this._data=c,this._decorationIds=[];let h,m=[];this._data.forEach((y,w)=>{y.symbol.command&&m.push(y.symbol),n.addDecoration({range:y.symbol.range,options:T.ModelDecorationOptions.EMPTY},g=>this._decorationIds[w]=g),h?h=k.Range.plusRange(h,y.symbol.range):h=k.Range.lift(y.symbol.range)}),this._viewZone=new i(h.startLineNumber-1,t,o),this._viewZoneId=d.addZone(this._viewZone),m.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(m,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new v(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(c,u){this._decorationIds.forEach(c.removeDecoration,c),this._decorationIds=[],u&&u.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((c,u)=>{const s=this._editor.getModel().getDecorationRange(c),n=this._data[u].symbol;return!!(s&&k.Range.isEmpty(n.range)===s.isEmpty())})}updateCodeLensSymbols(c,u){this._decorationIds.forEach(u.removeDecoration,u),this._decorationIds=[],this._data=c,this._data.forEach((s,n)=>{u.addDecoration({range:s.symbol.range,options:T.ModelDecorationOptions.EMPTY},d=>this._decorationIds[n]=d)})}updateHeight(c,u){this._viewZone.heightInPx=c,u.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(c){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(let u=0;u<this._decorationIds.length;u++){const s=c.getDecorationRange(this._decorationIds[u]);s&&(this._data[u].symbol.range=s)}return this._data}updateCommands(c){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(c,!0);for(let u=0;u<this._data.length;u++){const s=c[u];if(s){const{symbol:n}=this._data[u];n.command=s.command||n.command}}}getCommand(c){var u;return(u=this._contentWidget)===null||u===void 0?void 0:u.getCommand(c)}getLineNumber(){const c=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return c?c.startLineNumber:-1}update(c){if(this.isValid()){const u=this._editor.getModel().getDecorationRange(this._decorationIds[0]);u&&(this._viewZone.afterLineNumber=u.startLineNumber-1,c.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(u.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}e.CodeLensWidget=a,(0,p.registerThemingParticipant)((l,c)=>{const u=l.getColor(L.editorCodeLensForeground);u&&(c.addRule(`.monaco-editor .codelens-decoration { color: ${u}; }`),c.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${u}; }`));const s=l.getColor(S.editorActiveLinkForeground);s&&(c.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${s} !important; }`),c.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${s} !important; }`))})}),define(ee[611],te([0,1,39,7,93,52,29,6,2,22,11,347]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const r=k.$;class a extends C.Disposable{constructor(o,h,m){super();this.model=h,this.domNode=r(".colorpicker-header"),k.append(o,this.domNode),this.pickedColorNode=k.append(this.domNode,r(".picked-color"));const y=k.append(this.domNode,r(".original-color"));y.style.backgroundColor=S.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=m.getColorTheme().getColor(i.editorHoverBackground)||S.Color.white,this._register((0,v.registerThemingParticipant)((w,g)=>{this.backgroundColor=w.getColor(i.editorHoverBackground)||S.Color.white})),this._register(k.addDisposableListener(this.pickedColorNode,k.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(k.addDisposableListener(y,k.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(h.onDidChangeColor(this.onDidChangeColor,this)),this._register(h.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(h.color)||"",this.pickedColorNode.classList.toggle("light",h.color.rgba.a<.5?this.backgroundColor.isLighter():h.color.isLighter())}onDidChangeColor(o){this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(o)||"",this.pickedColorNode.classList.toggle("light",o.rgba.a<.5?this.backgroundColor.isLighter():o.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=a;class l extends C.Disposable{constructor(o,h,m){super();this.model=h,this.pixelRatio=m,this.domNode=r(".colorpicker-body"),k.append(o,this.domNode),this.saturationBox=new c(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new s(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new n(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:o,v:h}){const m=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(m.h,o,h,m.a))}onDidOpacityChange(o){const h=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(h.h,h.s,h.v,o))}onDidHueChange(o){const h=this.model.color.hsva,m=(1-o)*360;this.model.color=new S.Color(new S.HSVA(m===360?0:m,h.s,h.v,h.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=l;class c extends C.Disposable{constructor(o,h,m){super();this.model=h,this.pixelRatio=m,this._onDidChange=new p.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new p.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=r(".saturation-wrap"),k.append(o,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",k.append(this.domNode,this.canvas),this.selection=r(".saturation-selection"),k.append(this.domNode,this.selection),this.layout(),this._register(k.addDisposableGenericMouseDownListner(this.domNode,y=>this.onMouseDown(y))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(o){this.monitor=this._register(new T.GlobalMouseMoveMonitor);const h=k.getDomNodePagePosition(this.domNode);o.target!==this.selection&&this.onDidChangePosition(o.offsetX,o.offsetY),this.monitor.startMonitoring(o.target,o.buttons,T.standardMouseMoveMerger,y=>this.onDidChangePosition(y.posx-h.left,y.posy-h.top),()=>null);const m=k.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),m.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(o,h){const m=Math.max(0,Math.min(1,o/this.width)),y=Math.max(0,Math.min(1,1-h/this.height));this.paintSelection(m,y),this._onDidChange.fire({s:m,v:y})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const o=this.model.color.hsva;this.paintSelection(o.s,o.v)}paint(){const o=this.model.color.hsva,h=new S.Color(new S.HSVA(o.h,1,1,1)),m=this.canvas.getContext("2d"),y=m.createLinearGradient(0,0,this.canvas.width,0);y.addColorStop(0,"rgba(255, 255, 255, 1)"),y.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),y.addColorStop(1,"rgba(255, 255, 255, 0)");const w=m.createLinearGradient(0,0,0,this.canvas.height);w.addColorStop(0,"rgba(0, 0, 0, 0)"),w.addColorStop(1,"rgba(0, 0, 0, 1)"),m.rect(0,0,this.canvas.width,this.canvas.height),m.fillStyle=S.Color.Format.CSS.format(h),m.fill(),m.fillStyle=y,m.fill(),m.fillStyle=w,m.fill()}paintSelection(o,h){this.selection.style.left=`${o*this.width}px`,this.selection.style.top=`${this.height-h*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class u extends C.Disposable{constructor(o,h){super();this.model=h,this._onDidChange=new p.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new p.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=k.append(o,r(".strip")),this.overlay=k.append(this.domNode,r(".overlay")),this.slider=k.append(this.domNode,r(".slider")),this.slider.style.top="0px",this._register(k.addDisposableGenericMouseDownListner(this.domNode,m=>this.onMouseDown(m))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const o=this.getValue(this.model.color);this.updateSliderPosition(o)}onMouseDown(o){const h=this._register(new T.GlobalMouseMoveMonitor),m=k.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),o.target!==this.slider&&this.onDidChangeTop(o.offsetY),h.startMonitoring(o.target,o.buttons,T.standardMouseMoveMerger,w=>this.onDidChangeTop(w.posy-m.top),()=>null);const y=k.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),y.dispose(),h.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(o){const h=Math.max(0,Math.min(1,1-o/this.height));this.updateSliderPosition(h),this._onDidChange.fire(h)}updateSliderPosition(o){this.slider.style.top=`${(1-o)*this.height}px`}}class s extends u{constructor(o,h){super(o,h);this.domNode.classList.add("opacity-strip"),this._register(h.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(o){const{r:h,g:m,b:y}=o.rgba,w=new S.Color(new S.RGBA(h,m,y,1)),g=new S.Color(new S.RGBA(h,m,y,0));this.overlay.style.background=`linear-gradient(to bottom, ${w} 0%, ${g} 100%)`}getValue(o){return o.hsva.a}}class n extends u{constructor(o,h){super(o,h);this.domNode.classList.add("hue-strip")}getValue(o){return 1-o.hsva.h/360}}class d extends L.Widget{constructor(o,h,m,y){super();this.model=h,this.pixelRatio=m,this._register((0,b.onDidChangeZoomLevel)(()=>this.layout()));const w=r(".colorpicker-widget");o.appendChild(w);const g=new a(w,this.model,y);this.body=new l(w,this.model,this.pixelRatio),this._register(g),this._register(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=d}),define(ee[612],te([0,1,3,53,31,22,11]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class p{constructor(i){this._editor=i,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const i=this._findScopeDecorationIds.map(v=>this._editor.getModel().getDecorationRange(v)).filter(v=>!!v);if(i.length)return i}return null}getStartPosition(){return this._startPosition}setStartPosition(i){this._startPosition=i,this.setCurrentFindMatch(null)}_getDecorationIndex(i){const v=this._decorations.indexOf(i);return v>=0?v+1:1}getCurrentMatchesPosition(i){let v=this._editor.getModel().getDecorationsInRange(i);for(const r of v){const a=r.options;if(a===p._FIND_MATCH_DECORATION||a===p._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(r.id)}return 0}setCurrentFindMatch(i){let v=null,r=0;if(i)for(let a=0,l=this._decorations.length;a<l;a++){let c=this._editor.getModel().getDecorationRange(this._decorations[a]);if(i.equalsRange(c)){v=this._decorations[a],r=a+1;break}}return(this._highlightedDecorationId!==null||v!==null)&&this._editor.changeDecorations(a=>{if(this._highlightedDecorationId!==null&&(a.changeDecorationOptions(this._highlightedDecorationId,p._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),v!==null&&(this._highlightedDecorationId=v,a.changeDecorationOptions(this._highlightedDecorationId,p._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(a.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),v!==null){let l=this._editor.getModel().getDecorationRange(v);if(l.startLineNumber!==l.endLineNumber&&l.endColumn===1){let c=l.endLineNumber-1,u=this._editor.getModel().getLineMaxColumn(c);l=new b.Range(l.startLineNumber,l.startColumn,c,u)}this._rangeHighlightDecorationId=a.addDecoration(l,p._RANGE_HIGHLIGHT_DECORATION)}}),r}set(i,v){this._editor.changeDecorations(r=>{let a=p._FIND_MATCH_DECORATION,l=[];if(i.length>1e3){a=p._FIND_MATCH_NO_OVERVIEW_DECORATION;const u=this._editor.getModel().getLineCount(),n=this._editor.getLayoutInfo().height/u,d=Math.max(2,Math.ceil(3/n));let t=i[0].range.startLineNumber,o=i[0].range.endLineNumber;for(let h=1,m=i.length;h<m;h++){const y=i[h].range;o+d>=y.startLineNumber?y.endLineNumber>o&&(o=y.endLineNumber):(l.push({range:new b.Range(t,1,o,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),t=y.startLineNumber,o=y.endLineNumber)}l.push({range:new b.Range(t,1,o,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let c=new Array(i.length);for(let u=0,s=i.length;u<s;u++)c[u]={range:i[u].range,options:a};this._decorations=r.deltaDecorations(this._decorations,c),this._overviewRulerApproximateDecorations=r.deltaDecorations(this._overviewRulerApproximateDecorations,l),this._rangeHighlightDecorationId&&(r.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(u=>r.removeDecoration(u)),this._findScopeDecorationIds=[]),(v==null?void 0:v.length)&&(this._findScopeDecorationIds=v.map(u=>r.addDecoration(u,p._FIND_SCOPE_DECORATION)))})}matchBeforePosition(i){if(this._decorations.length===0)return null;for(let v=this._decorations.length-1;v>=0;v--){let r=this._decorations[v],a=this._editor.getModel().getDecorationRange(r);if(!(!a||a.endLineNumber>i.lineNumber)){if(a.endLineNumber<i.lineNumber)return a;if(!(a.endColumn>i.column))return a}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(i){if(this._decorations.length===0)return null;for(let v=0,r=this._decorations.length;v<r;v++){let a=this._decorations[v],l=this._editor.getModel().getDecorationRange(a);if(!(!l||l.startLineNumber<i.lineNumber)){if(l.startLineNumber>i.lineNumber)return l;if(!(l.startColumn<i.column))return l}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let i=[];return i=i.concat(this._decorations),i=i.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&i.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&i.push(this._rangeHighlightDecorationId),i}}e.FindDecorations=p,p._CURRENT_FIND_MATCH_DECORATION=T.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(L.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(L.minimapFindMatch),position:k.MinimapPosition.Inline}}),p._FIND_MATCH_DECORATION=T.ModelDecorationOptions.register({description:"find-match",stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(L.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(L.minimapFindMatch),position:k.MinimapPosition.Inline}}),p._FIND_MATCH_NO_OVERVIEW_DECORATION=T.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),p._FIND_MATCH_ONLY_OVERVIEW_DECORATION=T.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,S.themeColorFromId)(L.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center}}),p._RANGE_HIGHLIGHT_DECORATION=T.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),p._FIND_SCOPE_DECORATION=T.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(ee[147],te([0,1,15,2,95,13,3,21,171,612,411,412,16,19]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new a.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_INPUT_FOCUSED=new a.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new a.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}},e.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}},e.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}},e.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}},e.TogglePreserveCaseKeybinding={primary:512|46,mac:{primary:2048|512|46}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const c=240;class u{constructor(n,d){this._toDispose=new k.DisposableStore,this._editor=n,this._state=d,this._isDisposed=!1,this._startSearchingTimer=new b.TimeoutTimer,this._decorations=new i.FindDecorations(n),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new b.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(t=>{(t.reason===3||t.reason===5||t.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(t=>{this._ignoreModelContentChanged||(t.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(t=>this._onStateChanged(t))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,k.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(n){this._isDisposed||!this._editor.hasModel()||(n.searchString||n.isReplaceRevealed||n.isRegex||n.wholeWord||n.matchCase||n.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{n.searchScope?this.research(n.moveCursor,this._state.searchScope):this.research(n.moveCursor)},c)):n.searchScope?this.research(n.moveCursor,this._state.searchScope):this.research(n.moveCursor))}static _getSearchRange(n,d){return d||n.getFullModelRange()}research(n,d){let t=null;typeof d!="undefined"?d!==null&&(Array.isArray(d)?t=d:t=[d]):t=this._decorations.getFindScopes(),t!==null&&(t=t.map(y=>{if(y.startLineNumber!==y.endLineNumber){let w=y.endLineNumber;return y.endColumn===1&&(w=w-1),new S.Range(y.startLineNumber,1,w,this._editor.getModel().getLineMaxColumn(w))}return y}));let o=this._findMatches(t,!1,e.MATCHES_LIMIT);this._decorations.set(o,t);const h=this._editor.getSelection();let m=this._decorations.getCurrentMatchesPosition(h);if(m===0&&o.length>0){const y=(0,l.findFirstInSorted)(o.map(w=>w.range),w=>S.Range.compareRangesUsingStarts(w,h)>=0);m=y>0?y-1+1:m}this._state.changeMatchInfo(m,this._decorations.getCount(),void 0),n&&this._editor.getOption(33).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let n=this._decorations.getFindScope();return n&&this._editor.revealRangeInCenterIfOutsideViewport(n,0),!0}return!1}_setCurrentFindMatch(n){let d=this._decorations.setCurrentFindMatch(n);this._state.changeMatchInfo(d,this._decorations.getCount(),n),this._editor.setSelection(n),this._editor.revealRangeInCenterIfOutsideViewport(n,0)}_prevSearchPosition(n){let d=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:t,column:o}=n,h=this._editor.getModel();return d||o===1?(t===1?t=h.getLineCount():t--,o=h.getLineMaxColumn(t)):o--,new L.Position(t,o)}_moveToPrevMatch(n,d=!1){if(!this._state.canNavigateBack()){const f=this._decorations.matchAfterPosition(n);f&&this._setCurrentFindMatch(f);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let f=this._decorations.matchBeforePosition(n);f&&f.isEmpty()&&f.getStartPosition().equals(n)&&(n=this._prevSearchPosition(n),f=this._decorations.matchBeforePosition(n)),f&&this._setCurrentFindMatch(f);return}if(this._cannotFind())return;let t=this._decorations.getFindScope(),o=u._getSearchRange(this._editor.getModel(),t);o.getEndPosition().isBefore(n)&&(n=o.getEndPosition()),n.isBefore(o.getStartPosition())&&(n=o.getEndPosition());let{lineNumber:h,column:m}=n,y=this._editor.getModel(),w=new L.Position(h,m),g=y.findPreviousMatch(this._state.searchString,w,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1);if(g&&g.range.isEmpty()&&g.range.getStartPosition().equals(w)&&(w=this._prevSearchPosition(w),g=y.findPreviousMatch(this._state.searchString,w,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1)),!!g){if(!d&&!o.containsRange(g.range))return this._moveToPrevMatch(g.range.getStartPosition(),!0);this._setCurrentFindMatch(g.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(n){let d=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:t,column:o}=n,h=this._editor.getModel();return d||o===h.getLineMaxColumn(t)?(t===h.getLineCount()?t=1:t++,o=1):o++,new L.Position(t,o)}_moveToNextMatch(n){if(!this._state.canNavigateForward()){const t=this._decorations.matchBeforePosition(n);t&&this._setCurrentFindMatch(t);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let t=this._decorations.matchAfterPosition(n);t&&t.isEmpty()&&t.getStartPosition().equals(n)&&(n=this._nextSearchPosition(n),t=this._decorations.matchAfterPosition(n)),t&&this._setCurrentFindMatch(t);return}let d=this._getNextMatch(n,!1,!0);d&&this._setCurrentFindMatch(d.range)}_getNextMatch(n,d,t,o=!1){if(this._cannotFind())return null;let h=this._decorations.getFindScope(),m=u._getSearchRange(this._editor.getModel(),h);m.getEndPosition().isBefore(n)&&(n=m.getStartPosition()),n.isBefore(m.getStartPosition())&&(n=m.getStartPosition());let{lineNumber:y,column:w}=n,g=this._editor.getModel(),f=new L.Position(y,w),_=g.findNextMatch(this._state.searchString,f,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,d);return t&&_&&_.range.isEmpty()&&_.range.getStartPosition().equals(f)&&(f=this._nextSearchPosition(f),_=g.findNextMatch(this._state.searchString,f,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,d)),_?!o&&!m.containsRange(_.range)?this._getNextMatch(_.range.getEndPosition(),d,t,!0):_:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?(0,r.parseReplaceString)(this._state.replaceString):r.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let n=this._getReplacePattern(),d=this._editor.getSelection(),t=this._getNextMatch(d.getStartPosition(),!0,!1);if(t)if(d.equalsRange(t.range)){let o=n.buildReplaceString(t.matches,this._state.preserveCase),h=new T.ReplaceCommand(d,o);this._executeEditorCommand("replace",h),this._decorations.setStartPosition(new L.Position(d.startLineNumber,d.startColumn+o.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(t.range)}_findMatches(n,d,t){const o=(n||[null]).map(h=>u._getSearchRange(this._editor.getModel(),h));return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,d,t)}replaceAll(){if(!this._hasMatches())return;const n=this._decorations.getFindScopes();n===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(n),this.research(!1)}_largeReplaceAll(){const d=new C.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null).parseSearchRequest();if(!d)return;let t=d.regex;if(!t.multiline){let _="mu";t.ignoreCase&&(_+="i"),t.global&&(_+="g"),t=new RegExp(t.source,_)}const o=this._editor.getModel(),h=o.getValue(1),m=o.getFullModelRange(),y=this._getReplacePattern();let w;const g=this._state.preserveCase;y.hasReplacementPatterns||g?w=h.replace(t,function(){return y.buildReplaceString(arguments,g)}):w=h.replace(t,y.buildReplaceString(null,g));let f=new T.ReplaceCommandThatPreservesSelection(m,w,this._editor.getSelection());this._executeEditorCommand("replaceAll",f)}_regularReplaceAll(n){const d=this._getReplacePattern();let t=this._findMatches(n,d.hasReplacementPatterns||this._state.preserveCase,1073741824),o=[];for(let m=0,y=t.length;m<y;m++)o[m]=d.buildReplaceString(t[m].matches,this._state.preserveCase);let h=new v.ReplaceAllCommand(this._editor.getSelection(),t.map(m=>m.range),o);this._executeEditorCommand("replaceAll",h)}selectAllMatches(){if(!this._hasMatches())return;let n=this._decorations.getFindScopes(),t=this._findMatches(n,!1,1073741824).map(h=>new p.Selection(h.range.startLineNumber,h.range.startColumn,h.range.endLineNumber,h.range.endColumn)),o=this._editor.getSelection();for(let h=0,m=t.length;h<m;h++)if(t[h].equalsRange(o)){t=[o].concat(t.slice(0,h)).concat(t.slice(h+1));break}this._editor.setSelections(t)}_executeEditorCommand(n,d){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(n,d),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=u}),define(ee[613],te([0,1,7,237,52,15,147,22,11]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class i extends T.Widget{constructor(r,a,l,c){super();this._hideSoon=this._register(new L.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=r,this._state=a,this._keybindingService=l,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const u=c.getColorTheme().getColor(p.inputActiveOptionBorder),s=c.getColorTheme().getColor(p.inputActiveOptionForeground),n=c.getColorTheme().getColor(p.inputActiveOptionBackground);this.caseSensitive=this._register(new k.CaseSensitiveCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:u,inputActiveOptionForeground:s,inputActiveOptionBackground:n})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new k.WholeWordsCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:u,inputActiveOptionForeground:s,inputActiveOptionBackground:n})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new k.RegexCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:u,inputActiveOptionForeground:s,inputActiveOptionBackground:n})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(d=>{let t=!1;d.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),d.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),d.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()})),this._register(b.addDisposableNonBubblingMouseOutListener(this._domNode,d=>this._onMouseOut())),this._register(b.addDisposableListener(this._domNode,"mouseover",d=>this._onMouseOver())),this._applyTheme(c.getColorTheme()),this._register(c.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(r){let a=this._keybindingService.lookupKeybinding(r);return a?` (${a.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return i.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(r){let a={inputActiveOptionBorder:r.getColor(p.inputActiveOptionBorder),inputActiveOptionForeground:r.getColor(p.inputActiveOptionForeground),inputActiveOptionBackground:r.getColor(p.inputActiveOptionBackground)};this.caseSensitive.style(a),this.wholeWords.style(a),this.regex.style(a)}}e.FindOptionsWidget=i,i.ID="editor.contrib.findOptionsWidget",(0,C.registerThemingParticipant)((v,r)=>{const a=v.getColor(p.editorWidgetBackground);a&&r.addRule(`.monaco-editor .findOptionsWidget { background-color: ${a}; }`);const l=v.getColor(p.editorWidgetForeground);l&&r.addRule(`.monaco-editor .findOptionsWidget { color: ${l}; }`);const c=v.getColor(p.widgetShadow);c&&r.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${c}; }`);const u=v.getColor(p.contrastBorder);u&&r.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${u}; }`)})}),define(ee[614],te([0,1,6,2,3,147]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function S(C,i){return C===1?!0:C===2?!1:i}class p extends k.Disposable{constructor(){super();this._onFindReplaceStateChange=this._register(new b.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return S(this._isRegexOverride,this._isRegex)}get wholeWord(){return S(this._wholeWordOverride,this._wholeWord)}get matchCase(){return S(this._matchCaseOverride,this._matchCase)}get preserveCase(){return S(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(i,v,r){let a={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},l=!1;v===0&&(i=0),i>v&&(i=v),this._matchesPosition!==i&&(this._matchesPosition=i,a.matchesPosition=!0,l=!0),this._matchesCount!==v&&(this._matchesCount=v,a.matchesCount=!0,l=!0),typeof r!="undefined"&&(T.Range.equalsRange(this._currentMatch,r)||(this._currentMatch=r,a.currentMatch=!0,l=!0)),l&&this._onFindReplaceStateChange.fire(a)}change(i,v,r=!0){var a;let l={moveCursor:v,updateHistory:r,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},c=!1;const u=this.isRegex,s=this.wholeWord,n=this.matchCase,d=this.preserveCase;typeof i.searchString!="undefined"&&this._searchString!==i.searchString&&(this._searchString=i.searchString,l.searchString=!0,c=!0),typeof i.replaceString!="undefined"&&this._replaceString!==i.replaceString&&(this._replaceString=i.replaceString,l.replaceString=!0,c=!0),typeof i.isRevealed!="undefined"&&this._isRevealed!==i.isRevealed&&(this._isRevealed=i.isRevealed,l.isRevealed=!0,c=!0),typeof i.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==i.isReplaceRevealed&&(this._isReplaceRevealed=i.isReplaceRevealed,l.isReplaceRevealed=!0,c=!0),typeof i.isRegex!="undefined"&&(this._isRegex=i.isRegex),typeof i.wholeWord!="undefined"&&(this._wholeWord=i.wholeWord),typeof i.matchCase!="undefined"&&(this._matchCase=i.matchCase),typeof i.preserveCase!="undefined"&&(this._preserveCase=i.preserveCase),typeof i.searchScope!="undefined"&&(((a=i.searchScope)===null||a===void 0?void 0:a.every(t=>{var o;return(o=this._searchScope)===null||o===void 0?void 0:o.some(h=>!T.Range.equalsRange(h,t))}))||(this._searchScope=i.searchScope,l.searchScope=!0,c=!0)),typeof i.loop!="undefined"&&this._loop!==i.loop&&(this._loop=i.loop,l.loop=!0,c=!0),this._isRegexOverride=typeof i.isRegexOverride!="undefined"?i.isRegexOverride:0,this._wholeWordOverride=typeof i.wholeWordOverride!="undefined"?i.wholeWordOverride:0,this._matchCaseOverride=typeof i.matchCaseOverride!="undefined"?i.matchCaseOverride:0,this._preserveCaseOverride=typeof i.preserveCaseOverride!="undefined"?i.preserveCaseOverride:0,u!==this.isRegex&&(c=!0,l.isRegex=!0),s!==this.wholeWord&&(c=!0,l.wholeWord=!0),n!==this.matchCase&&(c=!0,l.matchCase=!0),d!==this.preserveCase&&(c=!0,l.preserveCase=!0),c&&this._onFindReplaceStateChange.fire(l)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=L.MATCHES_LIMIT}}e.FindReplaceState=p}),define(ee[615],te([0,1,118,68,179,208,121,11,122,7,494,163,43,2,9,37,67,161]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let d=class{constructor(D){this._resolverService=D}hasChildren(D){return D instanceof b.ReferencesModel||D instanceof b.FileReferences}getChildren(D){if(D instanceof b.ReferencesModel)return D.groups;if(D instanceof b.FileReferences)return D.resolve(this._resolverService).then(N=>N.children);throw new Error("bad tree")}};d=Re([Ce(0,k.ITextModelService)],d),e.DataSource=d;class t{getHeight(){return 23}getTemplateId(D){return D instanceof b.FileReferences?y.id:g.id}}e.Delegate=t;let o=class{constructor(D){this._keybindingService=D}getKeyboardNavigationLabel(D){var N;if(D instanceof b.OneReference){const I=(N=D.parent.getPreview(D))===null||N===void 0?void 0:N.preview(D.range);if(I)return I.value}return(0,a.basename)(D.uri)}};o=Re([Ce(0,u.IKeybindingService)],o),e.StringRepresentationProvider=o;class h{getId(D){return D instanceof b.OneReference?D.id:D.uri}}e.IdentityProvider=h;let m=class extends l.Disposable{constructor(D,N,I){super();this._uriLabel=N;const M=document.createElement("div");M.classList.add("reference-file"),this.file=this._register(new T.IconLabel(M,{supportHighlights:!0})),this.badge=new L.CountBadge(i.append(M,i.$(".count"))),this._register((0,C.attachBadgeStyler)(this.badge,I)),D.appendChild(M)}set(D,N){let I=(0,a.dirname)(D.uri);this.file.setLabel((0,r.getBaseLabel)(D.uri),this._uriLabel.getUriLabel(I,{relative:!0}),{title:this._uriLabel.getUriLabel(D.uri),matches:N});const M=D.children.length;this.badge.setCount(M),M>1?this.badge.setTitleFormat((0,v.localize)(0,null,M)):this.badge.setTitleFormat((0,v.localize)(1,null,M))}};m=Re([Ce(1,S.ILabelService),Ce(2,p.IThemeService)],m);let y=class Ft{constructor(D){this._instantiationService=D,this.templateId=Ft.id}renderTemplate(D){return this._instantiationService.createInstance(m,D)}renderElement(D,N,I){I.set(D.element,(0,s.createMatches)(D.filterData))}disposeTemplate(D){D.dispose()}};y.id="FileReferencesRenderer",y=Re([Ce(0,c.IInstantiationService)],y),e.FileReferencesRenderer=y;class w{constructor(D){this.label=new n.HighlightedLabel(D,!1)}set(D,N){var I;const M=(I=D.parent.getPreview(D))===null||I===void 0?void 0:I.preview(D.range);if(!M||!M.value)this.label.set(`${(0,a.basename)(D.uri)}:${D.range.startLineNumber+1}:${D.range.startColumn+1}`);else{const{value:O,highlight:R}=M;N&&!s.FuzzyScore.isDefault(N)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(O,(0,s.createMatches)(N))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(O,[R]))}}}class g{constructor(){this.templateId=g.id}renderTemplate(D){return new w(D)}renderElement(D,N,I){I.set(D.element,D.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=g,g.id="OneReferenceRenderer";class f{getWidgetAriaLabel(){return(0,v.localize)(2,null)}getAriaLabel(D){return D.ariaMessage}}e.AccessibilityProvider=f}),define(ee[616],te([0,1,7,2,3,28,8,114,35,83,65,85,13,11,48,29,40,136,16,9,354]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;const h=(o=window.trustedTypes)===null||o===void 0?void 0:o.createPolicy("editorGhostText",{createHTML:I=>I});let m=class extends k.Disposable{constructor(M,O,R){super();this.editor=M,this.model=O,this.instantiationService=R,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(y,this.editor)),this.additionalLinesWidget=this._register(new g(this.editor)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(P=>{(P.hasChanged(27)||P.hasChanged(104)||P.hasChanged(87)||P.hasChanged(81)||P.hasChanged(42)||P.hasChanged(41)||P.hasChanged(57))&&this.update()})),this._register((0,k.toDisposable)(()=>{var P;this.disposed=!0,this.update(),(P=this.viewMoreContentWidget)===null||P===void 0||P.dispose(),this.viewMoreContentWidget=void 0})),this._register(O.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(M){return this.additionalLinesWidget.viewZoneId===M}update(){var M;const O=this.model.ghostText;if(!this.editor.hasModel()||!O||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear();return}const R=new Array,P=new Array;function A(V,$){if(P.length>0){const Z=P[P.length-1];$&&Z.decorations.push(new n.LineDecoration(Z.content.length+1,Z.content.length+1+V[0].length,$,0)),Z.content+=V[0],V=V.slice(1)}for(const Z of V)P.push({content:Z,decorations:$?[new n.LineDecoration(1,Z.length+1,$,0)]:[]})}const F=this.editor.getModel().getLineContent(O.lineNumber);this.editor.getModel().getLineTokens(O.lineNumber);let E,W=0;for(const V of O.parts){let $=V.lines;E===void 0?(R.push({column:V.column,text:$[0]}),$=$.slice(1)):A([F.substring(W,V.column-1)],void 0),$.length>0&&(A($,"ghost-text"),E===void 0&&V.column<=F.length&&(E=V.column)),W=V.column-1}E!==void 0&&A([F.substring(W)],void 0),this.partsWidget.setParts(O.lineNumber,R,E!==void 0?{column:E,length:F.length+1-E}:void 0),this.additionalLinesWidget.updateLines(O.lineNumber,P,O.additionalReservedLineCount),O.parts.some(V=>V.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new a.Position(O.lineNumber,this.editor.getModel().getLineMaxColumn(O.lineNumber)),"",0):((M=this.viewMoreContentWidget)===null||M===void 0||M.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(M,O,R){const P=this.editor.getOption(41),A=document.createElement("div");A.className="suggest-preview-additional-widget",v.Configuration.applyFontInfoSlow(A,P);const F=document.createElement("span");F.className="content-spacer",F.append(O),A.append(F);const E=document.createElement("span");E.className="content-newline suggest-preview-text",E.append("\u23CE  "),A.append(E);const W=new k.DisposableStore,V=document.createElement("div");return V.className="button suggest-preview-text",V.append(`+${R} lines\u2026`),W.add(b.addStandardDisposableListener(V,"mousedown",$=>{var Z;(Z=this.model)===null||Z===void 0||Z.setExpanded(!0),$.preventDefault(),this.editor.focus()})),A.append(V),new N(this.editor,M,A,W)}};m=Re([Ce(2,t.IInstantiationService)],m),e.GhostTextWidget=m;let y=class{constructor(M,O,R,P){this.editor=M,this.codeEditorService=O,this.themeService=R,this.contextKeyService=P,this.decorationIds=[],this.disposableStore=new k.DisposableStore}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(M,O,R){this.disposableStore.clear();const P=this.themeService.getColorTheme(),A=P.getColor(c.ghostTextForeground);let F,E;A&&(F=String(A.rgba.a),E=u.Color.Format.CSS.format(w(A)));const W=P.getColor(c.ghostTextBorder);let V;W&&(V=`2px dashed ${W}`);const $=this.editor.getModel();if(!$)return;const{tabSize:Z}=$.getOptions(),X=$.getLineContent(M)||"";let J=0,ie="";const de=new Array;R&&de.push({range:T.Range.fromPositions(new a.Position(M,R.column),new a.Position(M,R.column+R.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});const ue=this.contextKeyService.getContextKeyValue("config.editor.useInjectedText"),q=ue===void 0?!0:!!ue;this.decorationIds=this.editor.deltaDecorations(this.decorationIds,O.map(B=>{ie+=X.substring(J,B.column-1),J=B.column-1;const j=q?B.text:this.renderSingleLineText(B.text,ie,Z,!1),H=this.disposableStore.add(D(this.codeEditorService,"ghost-text","0-ghost-text-",{after:{contentText:j,opacity:F,color:E,border:V}}));return{range:T.Range.fromPositions(new a.Position(M,B.column)),options:q?{description:"ghost-text",after:{content:j,inlineClassName:"ghost-text-decoration"}}:Object.assign({},H.resolve())}}).concat(de))}renderSingleLineText(M,O,R,P){const A=O+M,F=s.CursorColumns.visibleColumnsByColumns(A,R);let E="",W=O.length+1;for(const V of M){if(V==="	"){const $=F[W+1]-F[W];if(P){E+="\u2192";for(let Z=1;Z<$;Z++)E+="\xA0"}else for(let Z=0;Z<$;Z++)E+="\xA0"}else V===" "?P?E+="\xB7":E+="\xA0":E+=V;W+=1}return E}};y=Re([Ce(1,L.ICodeEditorService),Ce(2,l.IThemeService),Ce(3,d.IContextKeyService)],y);function w(I){const{r:M,b:O,g:R}=I.rgba;return new u.Color(new u.RGBA(M,R,O,255))}class g{constructor(M){this.editor=M,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(M=>{this._viewZoneId&&(M.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(M,O,R){const P=this.editor.getModel();if(!P)return;const{tabSize:A}=P.getOptions();this.editor.changeViewZones(F=>{this._viewZoneId&&(F.removeZone(this._viewZoneId),this._viewZoneId=void 0);const E=Math.max(O.length,R);if(E>0){const W=document.createElement("div");f(W,A,O,this.editor.getOptions()),this._viewZoneId=F.addZone({afterLineNumber:M,heightInLines:E,domNode:W})}})}}function f(I,M,O,R){const P=R.get(27),A=R.get(104),F="none",E=R.get(81),W=R.get(42),V=R.get(41),$=R.get(57),Z=(0,i.createStringBuilder)(1e4);Z.appendASCIIString('<div class="suggest-preview-text">');for(let ie=0,de=O.length;ie<de;ie++){const ue=O[ie],q=ue.content;Z.appendASCIIString('<div class="view-line'),Z.appendASCIIString('" style="top:'),Z.appendASCIIString(String(ie*$)),Z.appendASCIIString('px;width:1000000px;">');const B=S.isBasicASCII(q),j=S.containsRTL(q),H=r.LineTokens.createEmpty(q);(0,p.renderViewLine)(new p.RenderLineInput(V.isMonospace&&!P,V.canUseHalfwidthRightwardsArrow,q,!1,B,j,0,H,ue.decorations,M,0,V.spaceWidth,V.middotWidth,V.wsmiddotWidth,A,F,E,W!==C.EditorFontLigatures.OFF,null),Z),Z.appendASCIIString("</div>")}Z.appendASCIIString("</div>"),v.Configuration.applyFontInfoSlow(I,V);const X=Z.build(),J=h?h.createHTML(X):X;I.innerHTML=J}let _=0;function D(I,M,O,R){const P=O+_++;return I.registerDecorationType(M,P,R),{dispose(){I.removeDecorationType(P)},resolve(){return I.resolveDecorationOptions(P,!0)}}}class N extends k.Disposable{constructor(M,O,R,P){super();this.editor=M,this.position=O,this.domNode=R,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(P),this._register((0,k.toDisposable)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,l.registerThemingParticipant)((I,M)=>{const O=I.getColor(c.ghostTextForeground);if(O){const P=String(O.rgba.a),A=u.Color.Format.CSS.format(w(O));M.addRule(`.monaco-editor .ghost-text-decoration { opacity: ${P}; color: ${A}; }`),M.addRule(`.monaco-editor .suggest-preview-text .ghost-text { opacity: ${P}; color: ${A}; }`)}const R=I.getColor(c.ghostTextBorder);R&&M.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 2px dashed ${R}; }`)})}),define(ee[261],te([0,1,53,11,48,2,111,20,80]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class i{constructor(r){this.options=r,this.rangeHighlightDecorationId=void 0}provide(r,a){var l;const c=new L.DisposableStore;r.canAcceptInBackground=!!((l=this.options)===null||l===void 0?void 0:l.canAcceptInBackground),r.matchOnLabel=r.matchOnDescription=r.matchOnDetail=r.sortByLabel=!1;const u=c.add(new L.MutableDisposable);return u.value=this.doProvide(r,a),c.add(this.onDidActiveTextEditorControlChange(()=>{u.value=void 0,u.value=this.doProvide(r,a)})),c}doProvide(r,a){const l=new L.DisposableStore,c=this.activeTextEditorControl;if(c&&this.canProvideWithTextEditor(c)){const u={editor:c},s=(0,S.getCodeEditor)(c);if(s){let n=(0,p.withNullAsUndefined)(c.saveViewState());l.add(s.onDidChangeCursorPosition(()=>{n=(0,p.withNullAsUndefined)(c.saveViewState())})),u.restoreViewState=()=>{n&&c===this.activeTextEditorControl&&c.restoreViewState(n)},l.add((0,C.once)(a.onCancellationRequested)(()=>{var d;return(d=u.restoreViewState)===null||d===void 0?void 0:d.call(u)}))}l.add((0,L.toDisposable)(()=>this.clearDecorations(c))),l.add(this.provideWithTextEditor(u,r,a))}else l.add(this.provideWithoutTextEditor(r,a));return l}canProvideWithTextEditor(r){return!0}gotoLocation({editor:r},a){r.setSelection(a.range),r.revealRangeInCenter(a.range,0),a.preserveFocus||r.focus()}getModel(r){var a;return(0,S.isDiffEditor)(r)?(a=r.getModel())===null||a===void 0?void 0:a.modified:r.getModel()}addDecorations(r,a){r.changeDecorations(l=>{const c=[];this.rangeHighlightDecorationId&&(c.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),c.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const u=[{range:a,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:a,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,k.themeColorFromId)(T.overviewRulerRangeHighlight),position:b.OverviewRulerLane.Full}}}],[s,n]=l.deltaDecorations(c,u);this.rangeHighlightDecorationId={rangeHighlightId:s,overviewRulerDecorationId:n}})}clearDecorations(r){const a=this.rangeHighlightDecorationId;a&&(r.changeDecorations(l=>{l.deltaDecorations([a.overviewRulerDecorationId,a.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=i}),define(ee[617],te([0,1,513,2,261,111]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class S extends T.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(C){const i=(0,b.localize)(0,null);return C.items=[{label:i}],C.ariaLabel=i,k.Disposable.None}provideWithTextEditor(C,i,v){const r=C.editor,a=new k.DisposableStore;a.add(i.onDidAccept(u=>{const[s]=i.selectedItems;if(s){if(!this.isValidLineNumber(r,s.lineNumber))return;this.gotoLocation(C,{range:this.toRange(s.lineNumber,s.column),keyMods:i.keyMods,preserveFocus:u.inBackground}),u.inBackground||i.hide()}}));const l=()=>{const u=this.parsePosition(r,i.value.trim().substr(S.PREFIX.length)),s=this.getPickLabel(r,u.lineNumber,u.column);if(i.items=[{lineNumber:u.lineNumber,column:u.column,label:s}],i.ariaLabel=s,!this.isValidLineNumber(r,u.lineNumber)){this.clearDecorations(r);return}const n=this.toRange(u.lineNumber,u.column);r.revealRangeInCenter(n,0),this.addDecorations(r,n)};l(),a.add(i.onDidChangeValue(()=>l()));const c=(0,L.getCodeEditor)(r);return c&&c.getOptions().get(58).renderType===2&&(c.updateOptions({lineNumbers:"on"}),a.add((0,k.toDisposable)(()=>c.updateOptions({lineNumbers:"relative"})))),a}toRange(C=1,i=1){return{startLineNumber:C,startColumn:i,endLineNumber:C,endColumn:i}}parsePosition(C,i){const v=i.split(/,|:|#/).map(a=>parseInt(a,10)).filter(a=>!isNaN(a)),r=this.lineCount(C)+1;return{lineNumber:v[0]>0?v[0]:r+v[0],column:v[1]}}getPickLabel(C,i,v){if(this.isValidLineNumber(C,i))return this.isValidColumn(C,i,v)?(0,b.localize)(1,null,i,v):(0,b.localize)(2,null,i);const r=C.getPosition()||{lineNumber:1,column:1},a=this.lineCount(C);return a>1?(0,b.localize)(3,null,r.lineNumber,r.column,a):(0,b.localize)(4,null,r.lineNumber,r.column)}isValidLineNumber(C,i){return!i||typeof i!="number"?!1:i>0&&i<=this.lineCount(C)}isValidColumn(C,i,v){if(!v||typeof v!="number")return!1;const r=this.getModel(C);if(!r)return!1;const a={lineNumber:i,column:v};return r.validatePosition(a).equals(a)}lineCount(C){var i,v;return(v=(i=this.getModel(C))===null||i===void 0?void 0:i.getLineCount())!==null&&v!==void 0?v:0}}e.AbstractGotoLineQuickAccessProvider=S,S.PREFIX=":"}),define(ee[618],te([0,1,514,23,2,3,261,18,248,8,294,27]),function(G,e,b,k,T,L,S,p,C,i,v,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;class a extends S.AbstractEditorNavigationQuickAccessProvider{constructor(s=Object.create(null)){super(s);this.options=s,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(s){return this.provideLabelPick(s,(0,b.localize)(0,null)),T.Disposable.None}provideWithTextEditor(s,n,d){const t=s.editor,o=this.getModel(t);return o?p.DocumentSymbolProviderRegistry.has(o)?this.doProvideWithEditorSymbols(s,o,n,d):this.doProvideWithoutEditorSymbols(s,o,n,d):T.Disposable.None}doProvideWithoutEditorSymbols(s,n,d,t){const o=new T.DisposableStore;return this.provideLabelPick(d,(0,b.localize)(1,null)),(()=>Ie(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(n,o))||t.isCancellationRequested||o.add(this.doProvideWithEditorSymbols(s,n,d,t))}))(),o}provideLabelPick(s,n){s.items=[{label:n,index:0,kind:14}],s.ariaLabel=n}waitForLanguageSymbolRegistry(s,n){return Ie(this,void 0,void 0,function*(){if(p.DocumentSymbolProviderRegistry.has(s))return!0;let d;const t=new Promise(h=>d=h),o=n.add(p.DocumentSymbolProviderRegistry.onDidChange(()=>{p.DocumentSymbolProviderRegistry.has(s)&&(o.dispose(),d(!0))}));return n.add((0,T.toDisposable)(()=>d(!1))),t})}doProvideWithEditorSymbols(s,n,d,t){const o=s.editor,h=new T.DisposableStore;h.add(d.onDidAccept(f=>{const[_]=d.selectedItems;_&&_.range&&(this.gotoLocation(s,{range:_.range.selection,keyMods:d.keyMods,preserveFocus:f.inBackground}),f.inBackground||d.hide())})),h.add(d.onDidTriggerItemButton(({item:f})=>{f&&f.range&&(this.gotoLocation(s,{range:f.range.selection,keyMods:d.keyMods,forceSideBySide:!0}),d.hide())}));const m=this.getDocumentSymbols(n,t);let y;const w=()=>Ie(this,void 0,void 0,function*(){y==null||y.dispose(!0),d.busy=!1,y=new k.CancellationTokenSource(t),d.busy=!0;try{const f=(0,v.prepareQuery)(d.value.substr(a.PREFIX.length).trim()),_=yield this.doGetSymbolPicks(m,f,void 0,y.token);if(t.isCancellationRequested)return;_.length>0?d.items=_:f.original.length>0?this.provideLabelPick(d,(0,b.localize)(2,null)):this.provideLabelPick(d,(0,b.localize)(3,null))}finally{t.isCancellationRequested||(d.busy=!1)}});h.add(d.onDidChangeValue(()=>w())),w();let g=!0;return h.add(d.onDidChangeActive(()=>{const[f]=d.activeItems;if(f&&f.range){if(g){g=!1;return}o.revealRangeInCenter(f.range.selection,0),this.addDecorations(o,f.range.decoration)}})),h}doGetSymbolPicks(s,n,d,t){return Ie(this,void 0,void 0,function*(){const o=yield s;if(t.isCancellationRequested)return[];const h=n.original.indexOf(a.SCOPE_PREFIX)===0,m=h?1:0;let y,w;n.values&&n.values.length>1?(y=(0,v.pieceToQuery)(n.values[0]),w=(0,v.pieceToQuery)(n.values.slice(1))):y=n;const g=[];for(let D=0;D<o.length;D++){const N=o[D],I=(0,i.trim)(N.name),M=`$(symbol-${p.SymbolKinds.toString(N.kind)||"property"}) ${I}`,O=M.length-I.length;let R=N.containerName;(d==null?void 0:d.extraContainerLabel)&&(R?R=`${d.extraContainerLabel} \u2022 ${R}`:R=d.extraContainerLabel);let P,A,F,E;if(n.original.length>m){let V=!1;if(y!==n&&([P,A]=(0,v.scoreFuzzy2)(M,Object.assign(Object.assign({},n),{values:void 0}),m,O),typeof P=="number"&&(V=!0)),typeof P!="number"&&([P,A]=(0,v.scoreFuzzy2)(M,y,m,O),typeof P!="number"))continue;if(!V&&w){if(R&&w.original.length>0&&([F,E]=(0,v.scoreFuzzy2)(R,w)),typeof F!="number")continue;typeof P=="number"&&(P+=F)}}const W=N.tags&&N.tags.indexOf(1)>=0;g.push({index:D,kind:N.kind,score:P,label:M,ariaLabel:I,description:R,highlights:W?void 0:{label:A,description:E},range:{selection:L.Range.collapseToStart(N.selectionRange),decoration:N.range},strikethrough:W,buttons:(()=>{var V,$;const Z=((V=this.options)===null||V===void 0?void 0:V.openSideBySideDirection)?($=this.options)===null||$===void 0?void 0:$.openSideBySideDirection():void 0;if(!!Z)return[{iconClass:Z==="right"?r.Codicon.splitHorizontal.classNames:r.Codicon.splitVertical.classNames,tooltip:Z==="right"?(0,b.localize)(4,null):(0,b.localize)(5,null)}]})()})}const f=g.sort((D,N)=>h?this.compareByKindAndScore(D,N):this.compareByScore(D,N));let _=[];if(h){let M=function(){N&&typeof D=="number"&&I>0&&(N.label=(0,i.format)(c[D]||l,I))},D,N,I=0;for(const O of f)D!==O.kind?(M(),D=O.kind,I=1,N={type:"separator"},_.push(N)):I++,_.push(O);M()}else f.length>0&&(_=[{label:(0,b.localize)(6,null,g.length),type:"separator"},...f]);return _})}compareByScore(s,n){if(typeof s.score!="number"&&typeof n.score=="number")return 1;if(typeof s.score=="number"&&typeof n.score!="number")return-1;if(typeof s.score=="number"&&typeof n.score=="number"){if(s.score>n.score)return-1;if(s.score<n.score)return 1}return s.index<n.index?-1:s.index>n.index?1:0}compareByKindAndScore(s,n){const d=c[s.kind]||l,t=c[n.kind]||l,o=d.localeCompare(t);return o===0?this.compareByScore(s,n):o}getDocumentSymbols(s,n){return Ie(this,void 0,void 0,function*(){const d=yield C.OutlineModel.create(s,n);return n.isCancellationRequested?[]:d.asListOfDocumentSymbols()})}}e.AbstractGotoSymbolQuickAccessProvider=a,a.PREFIX="@",a.SCOPE_PREFIX=":",a.PREFIX_BY_CATEGORY=`${a.PREFIX}${a.SCOPE_PREFIX}`;const l=(0,b.localize)(7,null),c={[5]:(0,b.localize)(8,null),[11]:(0,b.localize)(9,null),[8]:(0,b.localize)(10,null),[12]:(0,b.localize)(11,null),[4]:(0,b.localize)(12,null),[22]:(0,b.localize)(13,null),[23]:(0,b.localize)(14,null),[24]:(0,b.localize)(15,null),[10]:(0,b.localize)(16,null),[2]:(0,b.localize)(17,null),[3]:(0,b.localize)(18,null),[25]:(0,b.localize)(19,null),[1]:(0,b.localize)(20,null),[6]:(0,b.localize)(21,null),[9]:(0,b.localize)(22,null),[21]:(0,b.localize)(23,null),[14]:(0,b.localize)(24,null),[0]:(0,b.localize)(25,null),[17]:(0,b.localize)(26,null),[15]:(0,b.localize)(27,null),[16]:(0,b.localize)(28,null),[18]:(0,b.localize)(29,null),[19]:(0,b.localize)(30,null),[7]:(0,b.localize)(31,null),[13]:(0,b.localize)(32,null)}}),define(ee[619],te([0,1,2,13,516,16,22,11,37,359]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new L.RawContextKey("renameInputVisible",!1,(0,T.localize)(0,null));let i=class{constructor(r,a,l,c,u){this._editor=r,this._acceptKeybindings=a,this._themeService=l,this._keybindingService=c,this._disposables=new b.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(u),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(41)&&this._updateFont()})),this._disposables.add(l.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,T.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const r=()=>{var a,l;const[c,u]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(c),this._label.innerText=(0,T.localize)(2,null,(a=this._keybindingService.lookupKeybinding(c))===null||a===void 0?void 0:a.getLabel(),(l=this._keybindingService.lookupKeybinding(u))===null||l===void 0?void 0:l.getLabel())};r(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(r)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(r){var a,l,c,u;if(!this._input||!this._domNode)return;const s=r.getColor(S.widgetShadow);this._domNode.style.backgroundColor=String((a=r.getColor(S.editorWidgetBackground))!==null&&a!==void 0?a:""),this._domNode.style.boxShadow=s?` 0 0 8px 2px ${s}`:"",this._domNode.style.color=String((l=r.getColor(S.inputForeground))!==null&&l!==void 0?l:""),this._input.style.backgroundColor=String((c=r.getColor(S.inputBackground))!==null&&c!==void 0?c:"");const n=r.getColor(S.inputBorder);this._input.style.borderWidth=n?"1px":"0px",this._input.style.borderStyle=n?"solid":"none",this._input.style.borderColor=(u=n==null?void 0:n.toString())!==null&&u!==void 0?u:"none"}_updateFont(){if(!this._input||!this._label)return;const r=this._editor.getOption(41);this._input.style.fontFamily=r.fontFamily,this._input.style.fontWeight=r.fontWeight,this._input.style.fontSize=`${r.fontSize}px`,this._label.style.fontSize=`${r.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(r){r||this.cancelInput(!0)}acceptInput(r){this._currentAcceptInput&&this._currentAcceptInput(r)}cancelInput(r){this._currentCancelInput&&this._currentCancelInput(r)}getInput(r,a,l,c,u,s){this._domNode.classList.toggle("preview",u),this._position=new k.Position(r.startLineNumber,r.startColumn),this._input.value=a,this._input.setAttribute("selectionStart",l.toString()),this._input.setAttribute("selectionEnd",c.toString()),this._input.size=Math.max((r.endColumn-r.startColumn)*1.1,20);const n=new b.DisposableStore;return new Promise(d=>{this._currentCancelInput=t=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,d(t),!0),this._currentAcceptInput=t=>{if(this._input.value.trim().length===0||this._input.value===a){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,d({newName:this._input.value,wantsPreview:u&&t})},s.onCancellationRequested(()=>this.cancelInput(!0)),n.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{n.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};i=Re([Ce(2,p.IThemeService),Ce(3,C.IKeybindingService),Ce(4,L.IContextKeyService)],i),e.RenameInputField=i}),define(ee[262],te([0,1,526,11,22,27]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,T.registerColor)("symbolIcon.arrayForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,T.registerColor)("symbolIcon.booleanForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,T.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,b.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,T.registerColor)("symbolIcon.colorForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,T.registerColor)("symbolIcon.constantForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,T.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,b.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,T.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,b.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,T.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,b.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,T.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,b.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,T.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,b.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,T.registerColor)("symbolIcon.fileForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,T.registerColor)("symbolIcon.folderForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,T.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,b.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,T.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,b.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,T.registerColor)("symbolIcon.keyForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,T.registerColor)("symbolIcon.keywordForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,T.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,b.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,T.registerColor)("symbolIcon.moduleForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,T.registerColor)("symbolIcon.namespaceForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,T.registerColor)("symbolIcon.nullForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,T.registerColor)("symbolIcon.numberForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,T.registerColor)("symbolIcon.objectForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,T.registerColor)("symbolIcon.operatorForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,T.registerColor)("symbolIcon.packageForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,T.registerColor)("symbolIcon.propertyForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,T.registerColor)("symbolIcon.referenceForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,T.registerColor)("symbolIcon.snippetForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,T.registerColor)("symbolIcon.stringForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,T.registerColor)("symbolIcon.structForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,T.registerColor)("symbolIcon.textForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,T.registerColor)("symbolIcon.typeParameterForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,T.registerColor)("symbolIcon.unitForeground",{dark:T.foreground,light:T.foreground,hc:T.foreground},(0,b.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,T.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,b.localize)(32,null)),(0,k.registerThemingParticipant)((S,p)=>{const C=S.getColor(e.SYMBOL_ICON_ARRAY_FOREGROUND);C&&p.addRule(`${L.Codicon.symbolArray.cssSelector} { color: ${C}; }`);const i=S.getColor(e.SYMBOL_ICON_BOOLEAN_FOREGROUND);i&&p.addRule(`${L.Codicon.symbolBoolean.cssSelector} { color: ${i}; }`);const v=S.getColor(e.SYMBOL_ICON_CLASS_FOREGROUND);v&&p.addRule(`${L.Codicon.symbolClass.cssSelector} { color: ${v}; }`);const r=S.getColor(e.SYMBOL_ICON_METHOD_FOREGROUND);r&&p.addRule(`${L.Codicon.symbolMethod.cssSelector} { color: ${r}; }`);const a=S.getColor(e.SYMBOL_ICON_COLOR_FOREGROUND);a&&p.addRule(`${L.Codicon.symbolColor.cssSelector} { color: ${a}; }`);const l=S.getColor(e.SYMBOL_ICON_CONSTANT_FOREGROUND);l&&p.addRule(`${L.Codicon.symbolConstant.cssSelector} { color: ${l}; }`);const c=S.getColor(e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);c&&p.addRule(`${L.Codicon.symbolConstructor.cssSelector} { color: ${c}; }`);const u=S.getColor(e.SYMBOL_ICON_ENUMERATOR_FOREGROUND);u&&p.addRule(`
			${L.Codicon.symbolValue.cssSelector},${L.Codicon.symbolEnum.cssSelector} { color: ${u}; }`);const s=S.getColor(e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);s&&p.addRule(`${L.Codicon.symbolEnumMember.cssSelector} { color: ${s}; }`);const n=S.getColor(e.SYMBOL_ICON_EVENT_FOREGROUND);n&&p.addRule(`${L.Codicon.symbolEvent.cssSelector} { color: ${n}; }`);const d=S.getColor(e.SYMBOL_ICON_FIELD_FOREGROUND);d&&p.addRule(`${L.Codicon.symbolField.cssSelector} { color: ${d}; }`);const t=S.getColor(e.SYMBOL_ICON_FILE_FOREGROUND);t&&p.addRule(`${L.Codicon.symbolFile.cssSelector} { color: ${t}; }`);const o=S.getColor(e.SYMBOL_ICON_FOLDER_FOREGROUND);o&&p.addRule(`${L.Codicon.symbolFolder.cssSelector} { color: ${o}; }`);const h=S.getColor(e.SYMBOL_ICON_FUNCTION_FOREGROUND);h&&p.addRule(`${L.Codicon.symbolFunction.cssSelector} { color: ${h}; }`);const m=S.getColor(e.SYMBOL_ICON_INTERFACE_FOREGROUND);m&&p.addRule(`${L.Codicon.symbolInterface.cssSelector} { color: ${m}; }`);const y=S.getColor(e.SYMBOL_ICON_KEY_FOREGROUND);y&&p.addRule(`${L.Codicon.symbolKey.cssSelector} { color: ${y}; }`);const w=S.getColor(e.SYMBOL_ICON_KEYWORD_FOREGROUND);w&&p.addRule(`${L.Codicon.symbolKeyword.cssSelector} { color: ${w}; }`);const g=S.getColor(e.SYMBOL_ICON_MODULE_FOREGROUND);g&&p.addRule(`${L.Codicon.symbolModule.cssSelector} { color: ${g}; }`);const f=S.getColor(e.SYMBOL_ICON_NAMESPACE_FOREGROUND);f&&p.addRule(`${L.Codicon.symbolNamespace.cssSelector} { color: ${f}; }`);const _=S.getColor(e.SYMBOL_ICON_NULL_FOREGROUND);_&&p.addRule(`${L.Codicon.symbolNull.cssSelector} { color: ${_}; }`);const D=S.getColor(e.SYMBOL_ICON_NUMBER_FOREGROUND);D&&p.addRule(`${L.Codicon.symbolNumber.cssSelector} { color: ${D}; }`);const N=S.getColor(e.SYMBOL_ICON_OBJECT_FOREGROUND);N&&p.addRule(`${L.Codicon.symbolObject.cssSelector} { color: ${N}; }`);const I=S.getColor(e.SYMBOL_ICON_OPERATOR_FOREGROUND);I&&p.addRule(`${L.Codicon.symbolOperator.cssSelector} { color: ${I}; }`);const M=S.getColor(e.SYMBOL_ICON_PACKAGE_FOREGROUND);M&&p.addRule(`${L.Codicon.symbolPackage.cssSelector} { color: ${M}; }`);const O=S.getColor(e.SYMBOL_ICON_PROPERTY_FOREGROUND);O&&p.addRule(`${L.Codicon.symbolProperty.cssSelector} { color: ${O}; }`);const R=S.getColor(e.SYMBOL_ICON_REFERENCE_FOREGROUND);R&&p.addRule(`${L.Codicon.symbolReference.cssSelector} { color: ${R}; }`);const P=S.getColor(e.SYMBOL_ICON_SNIPPET_FOREGROUND);P&&p.addRule(`${L.Codicon.symbolSnippet.cssSelector} { color: ${P}; }`);const A=S.getColor(e.SYMBOL_ICON_STRING_FOREGROUND);A&&p.addRule(`${L.Codicon.symbolString.cssSelector} { color: ${A}; }`);const F=S.getColor(e.SYMBOL_ICON_STRUCT_FOREGROUND);F&&p.addRule(`${L.Codicon.symbolStruct.cssSelector} { color: ${F}; }`);const E=S.getColor(e.SYMBOL_ICON_TEXT_FOREGROUND);E&&p.addRule(`${L.Codicon.symbolText.cssSelector} { color: ${E}; }`);const W=S.getColor(e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);W&&p.addRule(`${L.Codicon.symbolTypeParameter.cssSelector} { color: ${W}; }`);const V=S.getColor(e.SYMBOL_ICON_UNIT_FOREGROUND);V&&p.addRule(`${L.Codicon.symbolUnit.cssSelector} { color: ${V}; }`);const $=S.getColor(e.SYMBOL_ICON_VARIABLE_FOREGROUND);$&&p.addRule(`${L.Codicon.symbolVariable.cssSelector} { color: ${$}; }`)})}),define(ee[263],te([0,1,7,46,597,16,11]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorServiceImpl=void 0;let p=class extends T.CodeEditorServiceImpl{constructor(i,v,r){super(i,r);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=v.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let i=!1;for(const v of this.listCodeEditors())if(!v.isSimpleWidget){i=!0;break}this._editorIsOpen.set(i)}setActiveCodeEditor(i){this._activeCodeEditor=i}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(i,v,r){return v?Promise.resolve(this.doOpenEditor(v,i)):Promise.resolve(null)}doOpenEditor(i,v){if(!this.findModel(i,v.resource)){if(v.resource){const l=v.resource.scheme;if(l===k.Schemas.http||l===k.Schemas.https)return(0,b.windowOpenNoOpener)(v.resource.toString()),i}return null}const a=v.options?v.options.selection:null;if(a)if(typeof a.endLineNumber=="number"&&typeof a.endColumn=="number")i.setSelection(a),i.revealRangeInCenter(a,1);else{const l={lineNumber:a.startLineNumber,column:a.startColumn};i.setPosition(l),i.revealPositionInCenter(l,1)}return i}findModel(i,v){const r=i.getModel();return r&&r.uri.toString()!==v.toString()?null:r}};p=Re([Ce(1,L.IContextKeyService),Ce(2,S.IThemeService)],p),e.StandaloneCodeEditorServiceImpl=p}),define(ee[620],te([0,1,48,22]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFE",[k.editorForeground]:"#000000",[k.editorInactiveSelection]:"#E5EBF1",[b.editorIndentGuides]:"#D3D3D3",[b.editorActiveIndentGuides]:"#939393",[k.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#1E1E1E",[k.editorForeground]:"#D4D4D4",[k.editorInactiveSelection]:"#3A3D41",[b.editorIndentGuides]:"#404040",[b.editorActiveIndentGuides]:"#707070",[k.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#000000",[k.editorForeground]:"#FFFFFF",[b.editorIndentGuides]:"#FFFFFF",[b.editorActiveIndentGuides]:"#FFFFFF"}}}),define(ee[33],te([0,1,50,9,16,26,2,6,11,54,72,27]),function(G,e,b,k,T,L,S,p,C,i,v,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isIMenuItem=void 0;function a(s){return s.command!==void 0}e.isIMenuItem=a;class l{constructor(n){this.id=l._idPool++,this._debugName=n}}e.MenuId=l,l._idPool=0,l.CommandPalette=new l("CommandPalette"),l.EditorContext=new l("EditorContext"),l.SimpleEditorContext=new l("SimpleEditorContext"),l.EditorContextCopy=new l("EditorContextCopy"),l.EditorContextPeek=new l("EditorContextPeek"),l.MenubarEditMenu=new l("MenubarEditMenu"),l.MenubarCopy=new l("MenubarCopy"),l.MenubarGoMenu=new l("MenubarGoMenu"),l.MenubarSelectionMenu=new l("MenubarSelectionMenu"),l.InlineCompletionsActions=new l("InlineCompletionsActions"),e.IMenuService=(0,k.createDecorator)("menuService"),e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new p.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:s=>s===l.CommandPalette}}addCommand(s){return this.addCommands(i.Iterable.single(s))}addCommands(s){for(const n of s)this._commands.set(n.id,n);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,S.toDisposable)(()=>{let n=!1;for(const d of s)n=this._commands.delete(d.id)||n;n&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(s){return this._commands.get(s)}getCommands(){const s=new Map;return this._commands.forEach((n,d)=>s.set(d,n)),s}appendMenuItem(s,n){return this.appendMenuItems(i.Iterable.single({id:s,item:n}))}appendMenuItems(s){const n=new Set,d=new v.LinkedList;for(const{id:t,item:o}of s){let h=this._menuItems.get(t);h||(h=new v.LinkedList,this._menuItems.set(t,h)),d.push(h.push(o)),n.add(t)}return this._onDidChangeMenu.fire(n),(0,S.toDisposable)(()=>{if(d.size>0){for(let t of d)t();this._onDidChangeMenu.fire(n),d.clear()}})}getMenuItems(s){let n;return this._menuItems.has(s)?n=[...this._menuItems.get(s)]:n=[],s===l.CommandPalette&&this._appendImplicitItems(n),n}_appendImplicitItems(s){const n=new Set;for(const d of s)a(d)&&(n.add(d.command.id),d.alt&&n.add(d.alt.id));this._commands.forEach((d,t)=>{n.has(t)||s.push({command:d})})}};class c extends b.SubmenuAction{constructor(n,d,t,o){super(`submenuitem.${n.submenu.id}`,typeof n.title=="string"?n.title:n.title.value,[],"submenu");this.item=n,this._menuService=d,this._contextKeyService=t,this._options=o}get actions(){const n=[],d=this._menuService.createMenu(this.item.submenu,this._contextKeyService),t=d.getActions(this._options);d.dispose();for(const[,o]of t)o.length>0&&(n.push(...o),n.push(new b.Separator));return n.length&&n.pop(),n}}e.SubmenuItemAction=c;let u=class Bt{constructor(n,d,t,o,h){var m;if(this._commandService=h,this.id=n.id,this.label=(t==null?void 0:t.renderShortTitle)&&n.shortTitle?typeof n.shortTitle=="string"?n.shortTitle:n.shortTitle.value:typeof n.title=="string"?n.title:n.title.value,this.tooltip=(m=n.tooltip)!==null&&m!==void 0?m:"",this.enabled=!n.precondition||o.contextMatchesRules(n.precondition),this.checked=!1,n.toggled){const y=n.toggled.condition?n.toggled:{condition:n.toggled};this.checked=o.contextMatchesRules(y.condition),this.checked&&y.tooltip&&(this.tooltip=typeof y.tooltip=="string"?y.tooltip:y.tooltip.value),y.title&&(this.label=typeof y.title=="string"?y.title:y.title.value)}this.item=n,this.alt=d?new Bt(d,void 0,t,o,h):void 0,this._options=t,C.ThemeIcon.isThemeIcon(n.icon)&&(this.class=r.CSSIcon.asClassName(n.icon))}dispose(){}run(...n){var d,t;let o=[];return((d=this._options)===null||d===void 0?void 0:d.arg)&&(o=[...o,this._options.arg]),((t=this._options)===null||t===void 0?void 0:t.shouldForwardArgs)&&(o=[...o,...n]),this._commandService.executeCommand(this.id,...o)}};u=Re([Ce(3,T.IContextKeyService),Ce(4,L.ICommandService)],u),e.MenuItemAction=u}),define(ee[14],te([0,1,457,24,28,13,36,68,33,26,16,88,32,89,20,70]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelCommand=e.registerModelAndPositionCommand=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class s{constructor(P){this.id=P.id,this.precondition=P.precondition,this._kbOpts=P.kbOpts,this._menuOpts=P.menuOpts,this._description=P.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const P=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const A of P){let F=A.kbExpr;this.precondition&&(F?F=v.ContextKeyExpr.and(F,this.precondition):F=this.precondition);const E={id:this.id,weight:A.weight,args:A.args,when:F,primary:A.primary,secondary:A.secondary,win:A.win,linux:A.linux,mac:A.mac};r.KeybindingsRegistry.registerKeybindingRule(E)}}i.CommandsRegistry.registerCommand({id:this.id,handler:(P,A)=>this.runCommand(P,A),description:this._description})}_registerMenuItem(P){C.MenuRegistry.appendMenuItem(P.menuId,{group:P.group,command:{id:this.id,title:P.title,icon:P.icon,precondition:this.precondition},when:P.when,order:P.order})}}e.Command=s;class n extends s{constructor(){super(...arguments);this._implementations=[]}addImplementation(P,A,F){return this._implementations.push({priority:P,name:A,implementation:F}),this._implementations.sort((E,W)=>W.priority-E.priority),{dispose:()=>{for(let E=0;E<this._implementations.length;E++)if(this._implementations[E].implementation===F){this._implementations.splice(E,1);return}}}}runCommand(P,A){const F=P.get(u.ILogService);for(const E of this._implementations){const W=E.implementation(P,A);if(W)return F.trace(`Command '${this.id}' was handled by '${E.name}'.`),typeof W=="boolean"?void 0:W}}}e.MultiCommand=n;class d extends s{constructor(P,A){super(A);this.command=P}runCommand(P,A){return this.command.runCommand(P,A)}}e.ProxyCommand=d;class t extends s{static bindToContribution(P){return class extends t{constructor(F){super(F);this._callback=F.handler}runEditorCommand(F,E,W){P(E)&&this._callback(P(E),W)}}}runCommand(P,A){const F=P.get(T.ICodeEditorService),E=F.getFocusedCodeEditor()||F.getActiveCodeEditor();if(!!E)return E.invokeWithinContext(W=>{if(!!W.get(v.IContextKeyService).contextMatchesRules((0,c.withNullAsUndefined)(this.precondition)))return this.runEditorCommand(W,E,A)})}}e.EditorCommand=t;class o extends t{constructor(P){super(o.convertOptions(P));this.label=P.label,this.alias=P.alias}static convertOptions(P){let A;Array.isArray(P.menuOpts)?A=P.menuOpts:P.menuOpts?A=[P.menuOpts]:A=[];function F(E){return E.menuId||(E.menuId=C.MenuId.EditorContext),E.title||(E.title=P.label),E.when=v.ContextKeyExpr.and(P.precondition,E.when),E}return Array.isArray(P.contextMenuOpts)?A.push(...P.contextMenuOpts.map(F)):P.contextMenuOpts&&A.push(F(P.contextMenuOpts)),P.menuOpts=A,P}runEditorCommand(P,A,F){return this.reportTelemetry(P,A),this.run(P,A,F||{})}reportTelemetry(P,A){P.get(l.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=o;class h extends o{constructor(){super(...arguments);this._implementations=[]}addImplementation(P,A){return this._implementations.push([P,A]),this._implementations.sort((F,E)=>E[0]-F[0]),{dispose:()=>{for(let F=0;F<this._implementations.length;F++)if(this._implementations[F][1]===A){this._implementations.splice(F,1);return}}}}run(P,A,F){for(const E of this._implementations){const W=E[1](P,A,F);if(W)return typeof W=="boolean"?void 0:W}}}e.MultiEditorAction=h;function m(R,P){i.CommandsRegistry.registerCommand(R,function(A,...F){const[E,W]=F;(0,c.assertType)(k.URI.isUri(E)),(0,c.assertType)(L.Position.isIPosition(W));const V=A.get(S.IModelService).getModel(E);if(V){const $=L.Position.lift(W);return P(V,$,...F.slice(2))}return A.get(p.ITextModelService).createModelReference(E).then($=>new Promise((Z,X)=>{try{const J=P($.object.textEditorModel,L.Position.lift(W),F.slice(2));Z(J)}catch(J){X(J)}}).finally(()=>{$.dispose()}))})}e.registerModelAndPositionCommand=m;function y(R,P){i.CommandsRegistry.registerCommand(R,function(A,...F){const[E]=F;(0,c.assertType)(k.URI.isUri(E));const W=A.get(S.IModelService).getModel(E);return W?P(W,...F.slice(1)):A.get(p.ITextModelService).createModelReference(E).then(V=>new Promise(($,Z)=>{try{const X=P(V.object.textEditorModel,F.slice(1));$(X)}catch(X){Z(X)}}).finally(()=>{V.dispose()}))})}e.registerModelCommand=y;function w(R){return M.INSTANCE.registerEditorCommand(R),R}e.registerEditorCommand=w;function g(R){const P=new R;return M.INSTANCE.registerEditorAction(P),P}e.registerEditorAction=g;function f(R){return M.INSTANCE.registerEditorAction(R),R}e.registerMultiEditorAction=f;function _(R){M.INSTANCE.registerEditorAction(R)}e.registerInstantiatedEditorAction=_;function D(R,P){M.INSTANCE.registerEditorContribution(R,P)}e.registerEditorContribution=D;var N;(function(R){function P(V){return M.INSTANCE.getEditorCommand(V)}R.getEditorCommand=P;function A(){return M.INSTANCE.getEditorActions()}R.getEditorActions=A;function F(){return M.INSTANCE.getEditorContributions()}R.getEditorContributions=F;function E(V){return M.INSTANCE.getEditorContributions().filter($=>V.indexOf($.id)>=0)}R.getSomeEditorContributions=E;function W(){return M.INSTANCE.getDiffEditorContributions()}R.getDiffEditorContributions=W})(N=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const I={EditorCommonContributions:"editor.contributions"};class M{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(P,A){this.editorContributions.push({id:P,ctor:A})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(P){P.register(),this.editorActions.push(P)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(P){P.register(),this.editorCommands[P.id]=P}getEditorCommand(P){return this.editorCommands[P]||null}}M.INSTANCE=new M,a.Registry.add(I.EditorCommonContributions,M.INSTANCE);function O(R){return R.register(),R}e.UndoCommand=O(new n({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:C.MenuId.MenubarEditMenu,group:"1_do",title:b.localize(0,null),order:1},{menuId:C.MenuId.CommandPalette,group:"",title:b.localize(1,null),order:1}]})),O(new d(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=O(new n({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:C.MenuId.MenubarEditMenu,group:"1_do",title:b.localize(2,null),order:2},{menuId:C.MenuId.CommandPalette,group:"",title:b.localize(3,null),order:1}]})),O(new d(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=O(new n({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:C.MenuId.MenubarSelectionMenu,group:"1_basic",title:b.localize(4,null),order:1},{menuId:C.MenuId.CommandPalette,group:"",title:b.localize(5,null),order:1}]}))}),define(ee[148],te([0,1,454,39,20,44,14,28,550,40,186,244,187,13,3,25,16,88]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const d=0;class t extends S.EditorCommand{runEditorCommand(M,O,R){const P=O._getViewModel();!P||this.runCoreEditorCommand(P,R||{})}}e.CoreEditorCommand=t;var o;(function(I){const M=function(R){if(!T.isObject(R))return!1;const P=R;return!(!T.isString(P.to)||!T.isUndefined(P.by)&&!T.isString(P.by)||!T.isUndefined(P.value)&&!T.isNumber(P.value)||!T.isUndefined(P.revealCursor)&&!T.isBoolean(P.revealCursor))};I.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:M,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},I.RawDirection={Up:"up",Down:"down"},I.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function O(R){let P;switch(R.to){case I.RawDirection.Up:P=1;break;case I.RawDirection.Down:P=2;break;default:return null}let A;switch(R.by){case I.RawUnit.Line:A=1;break;case I.RawUnit.WrappedLine:A=2;break;case I.RawUnit.Page:A=3;break;case I.RawUnit.HalfPage:A=4;break;default:A=2}const F=Math.floor(R.value||1),E=!!R.revealCursor;return{direction:P,unit:A,value:F,revealCursor:E,select:!!R.select}}I.parse=O})(o=e.EditorScroll_||(e.EditorScroll_={}));var h;(function(I){const M=function(O){if(!T.isObject(O))return!1;const R=O;return!(!T.isNumber(R.lineNumber)&&!T.isString(R.lineNumber)||!T.isUndefined(R.at)&&!T.isString(R.at))};I.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:M,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},I.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(h=e.RevealLine_||(e.RevealLine_={}));class m{constructor(M){M.addImplementation(1e4,"code-editor",(O,R)=>{const P=O.get(p.ICodeEditorService).getFocusedCodeEditor();return P&&P.hasTextFocus()?this._runEditorCommand(O,P,R):!1}),M.addImplementation(1e3,"generic-dom-input-textarea",(O,R)=>{const P=document.activeElement;return P&&["input","textarea"].indexOf(P.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),M.addImplementation(0,"generic-dom",(O,R)=>{const P=O.get(p.ICodeEditorService).getActiveCodeEditor();return P?(P.focus(),this._runEditorCommand(O,P,R)):!1})}_runEditorCommand(M,O,R){const P=this.runEditorCommand(M,O,R);return P||!0}}var y;(function(I){class M extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,j){B.model.pushStackElement(),B.setCursorStates(j.source,3,[r.CursorMoveCommands.moveTo(B,B.getPrimaryCursorState(),this._inSelectionMode,j.position,j.viewPosition)]),B.revealPrimaryCursor(j.source,!0)}}I.MoveTo=(0,S.registerEditorCommand)(new M({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),I.MoveToSelect=(0,S.registerEditorCommand)(new M({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class O extends t{runCoreEditorCommand(B,j){B.model.pushStackElement();const H=this._getColumnSelectResult(B,B.getPrimaryCursorState(),B.getCursorColumnSelectData(),j);B.setCursorStates(j.source,3,H.viewStates.map(z=>i.CursorState.fromViewState(z))),B.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:H.fromLineNumber,fromViewVisualColumn:H.fromVisualColumn,toViewLineNumber:H.toLineNumber,toViewVisualColumn:H.toVisualColumn}),H.reversed?B.revealTopMostCursor(j.source):B.revealBottomMostCursor(j.source)}}I.ColumnSelect=(0,S.registerEditorCommand)(new class extends O{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(q,B,j,H){const z=q.model.validatePosition(H.position),Q=q.coordinatesConverter.validateViewPosition(new l.Position(H.viewPosition.lineNumber,H.viewPosition.column),z);let x=H.doColumnSelect?j.fromViewLineNumber:Q.lineNumber,le=H.doColumnSelect?j.fromViewVisualColumn:H.mouseColumn-1;return C.ColumnSelection.columnSelect(q.cursorConfig,q,x,le,Q.lineNumber,H.mouseColumn-1)}}),I.CursorColumnSelectLeft=(0,S.registerEditorCommand)(new class extends O{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(q,B,j,H){return C.ColumnSelection.columnSelectLeft(q.cursorConfig,q,j)}}),I.CursorColumnSelectRight=(0,S.registerEditorCommand)(new class extends O{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(q,B,j,H){return C.ColumnSelection.columnSelectRight(q.cursorConfig,q,j)}});class R extends O{constructor(B){super(B);this._isPaged=B.isPaged}_getColumnSelectResult(B,j,H,z){return C.ColumnSelection.columnSelectUp(B.cursorConfig,B,H,this._isPaged)}}I.CursorColumnSelectUp=(0,S.registerEditorCommand)(new R({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),I.CursorColumnSelectPageUp=(0,S.registerEditorCommand)(new R({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class P extends O{constructor(B){super(B);this._isPaged=B.isPaged}_getColumnSelectResult(B,j,H,z){return C.ColumnSelection.columnSelectDown(B.cursorConfig,B,H,this._isPaged)}}I.CursorColumnSelectDown=(0,S.registerEditorCommand)(new P({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),I.CursorColumnSelectPageDown=(0,S.registerEditorCommand)(new P({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class A extends t{constructor(){super({id:"cursorMove",precondition:void 0,description:r.CursorMove.description})}runCoreEditorCommand(B,j){const H=r.CursorMove.parse(j);!H||this._runCursorMove(B,j.source,H)}_runCursorMove(B,j,H){B.model.pushStackElement(),B.setCursorStates(j,3,A._move(B,B.getCursorStates(),H)),B.revealPrimaryCursor(j,!0)}static _move(B,j,H){const z=H.select,Q=H.value;switch(H.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return r.CursorMoveCommands.simpleMove(B,j,H.direction,z,Q,H.unit);case 11:case 13:case 12:case 14:return r.CursorMoveCommands.viewportMove(B,j,H.direction,z,Q);default:return null}}}I.CursorMoveImpl=A,I.CursorMove=(0,S.registerEditorCommand)(new A);class F extends t{constructor(B){super(B);this._staticArgs=B.args}runCoreEditorCommand(B,j){let H=this._staticArgs;this._staticArgs.value===-1&&(H={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:B.cursorConfig.pageSize}),B.model.pushStackElement(),B.setCursorStates(j.source,3,r.CursorMoveCommands.simpleMove(B,B.getCursorStates(),H.direction,H.select,H.value,H.unit)),B.revealPrimaryCursor(j.source,!0)}}I.CursorLeft=(0,S.registerEditorCommand)(new F({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),I.CursorLeftSelect=(0,S.registerEditorCommand)(new F({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|15}})),I.CursorRight=(0,S.registerEditorCommand)(new F({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),I.CursorRightSelect=(0,S.registerEditorCommand)(new F({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|17}})),I.CursorUp=(0,S.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),I.CursorUpSelect=(0,S.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),I.CursorPageUp=(0,S.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:11}})),I.CursorPageUpSelect=(0,S.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|11}})),I.CursorDown=(0,S.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),I.CursorDownSelect=(0,S.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),I.CursorPageDown=(0,S.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:12}})),I.CursorPageDownSelect=(0,S.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|12}})),I.CreateCursor=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(q,B){let j;B.wholeLine?j=r.CursorMoveCommands.line(q,q.getPrimaryCursorState(),!1,B.position,B.viewPosition):j=r.CursorMoveCommands.moveTo(q,q.getPrimaryCursorState(),!1,B.position,B.viewPosition);const H=q.getCursorStates();if(H.length>1){const z=j.modelState?j.modelState.position:null,Q=j.viewState?j.viewState.position:null;for(let x=0,le=H.length;x<le;x++){const oe=H[x];if(!(z&&!oe.modelState.selection.containsPosition(z))&&!(Q&&!oe.viewState.selection.containsPosition(Q))){H.splice(x,1),q.model.pushStackElement(),q.setCursorStates(B.source,3,H);return}}}H.push(j),q.model.pushStackElement(),q.setCursorStates(B.source,3,H)}}),I.LastCursorMoveToSelect=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(q,B){const j=q.getLastAddedCursorIndex(),H=q.getCursorStates(),z=H.slice(0);z[j]=r.CursorMoveCommands.moveTo(q,H[j],!0,B.position,B.viewPosition),q.model.pushStackElement(),q.setCursorStates(B.source,3,z)}});class E extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,j){B.model.pushStackElement(),B.setCursorStates(j.source,3,r.CursorMoveCommands.moveToBeginningOfLine(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(j.source,!0)}}I.CursorHome=(0,S.registerEditorCommand)(new E({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),I.CursorHomeSelect=(0,S.registerEditorCommand)(new E({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class W extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,j){B.model.pushStackElement(),B.setCursorStates(j.source,3,this._exec(B.getCursorStates())),B.revealPrimaryCursor(j.source,!0)}_exec(B){const j=[];for(let H=0,z=B.length;H<z;H++){const Q=B[H],x=Q.modelState.position.lineNumber;j[H]=i.CursorState.fromModelState(Q.modelState.move(this._inSelectionMode,x,1,0))}return j}}I.CursorLineStart=(0,S.registerEditorCommand)(new W({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|31}}})),I.CursorLineStartSelect=(0,S.registerEditorCommand)(new W({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class V extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,j){B.model.pushStackElement(),B.setCursorStates(j.source,3,r.CursorMoveCommands.moveToEndOfLine(B,B.getCursorStates(),this._inSelectionMode,j.sticky||!1)),B.revealPrimaryCursor(j.source,!0)}}I.CursorEnd=(0,S.registerEditorCommand)(new V({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:b.localize(0,null),type:"boolean",default:!1}}}}]}})),I.CursorEndSelect=(0,S.registerEditorCommand)(new V({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:b.localize(1,null),type:"boolean",default:!1}}}}]}}));class $ extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,j){B.model.pushStackElement(),B.setCursorStates(j.source,3,this._exec(B,B.getCursorStates())),B.revealPrimaryCursor(j.source,!0)}_exec(B,j){const H=[];for(let z=0,Q=j.length;z<Q;z++){const x=j[z],le=x.modelState.position.lineNumber,oe=B.model.getLineMaxColumn(le);H[z]=i.CursorState.fromModelState(x.modelState.move(this._inSelectionMode,le,oe,0))}return H}}I.CursorLineEnd=(0,S.registerEditorCommand)(new $({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|35}}})),I.CursorLineEndSelect=(0,S.registerEditorCommand)(new $({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class Z extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,j){B.model.pushStackElement(),B.setCursorStates(j.source,3,r.CursorMoveCommands.moveToBeginningOfBuffer(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(j.source,!0)}}I.CursorTop=(0,S.registerEditorCommand)(new Z({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),I.CursorTopSelect=(0,S.registerEditorCommand)(new Z({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class X extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,j){B.model.pushStackElement(),B.setCursorStates(j.source,3,r.CursorMoveCommands.moveToEndOfBuffer(B,B.getCursorStates(),this._inSelectionMode)),B.revealPrimaryCursor(j.source,!0)}}I.CursorBottom=(0,S.registerEditorCommand)(new X({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),I.CursorBottomSelect=(0,S.registerEditorCommand)(new X({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class J extends t{constructor(){super({id:"editorScroll",precondition:void 0,description:o.description})}runCoreEditorCommand(B,j){const H=o.parse(j);!H||this._runEditorScroll(B,j.source,H)}_runEditorScroll(B,j,H){const z=this._computeDesiredScrollTop(B,H);if(H.revealCursor){const Q=B.getCompletelyVisibleViewRangeAtScrollTop(z);B.setCursorStates(j,3,[r.CursorMoveCommands.findPositionInViewportIfOutside(B,B.getPrimaryCursorState(),Q,H.select)])}B.setScrollTop(z,0)}_computeDesiredScrollTop(B,j){if(j.unit===1){const Q=B.getCompletelyVisibleViewRange(),x=B.coordinatesConverter.convertViewRangeToModelRange(Q);let le;j.direction===1?le=Math.max(1,x.startLineNumber-j.value):le=Math.min(B.model.getLineCount(),x.startLineNumber+j.value);const oe=B.coordinatesConverter.convertModelPositionToViewPosition(new l.Position(le,1));return B.getVerticalOffsetForLineNumber(oe.lineNumber)}let H;j.unit===3?H=B.cursorConfig.pageSize*j.value:j.unit===4?H=Math.round(B.cursorConfig.pageSize/2)*j.value:H=j.value;const z=(j.direction===1?-1:1)*H;return B.getScrollTop()+z*B.cursorConfig.lineHeight}}I.EditorScrollImpl=J,I.EditorScroll=(0,S.registerEditorCommand)(new J),I.ScrollLineUp=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(q,B){I.EditorScroll._runEditorScroll(q,B.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),I.ScrollPageUp=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(q,B){I.EditorScroll._runEditorScroll(q,B.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),I.ScrollLineDown=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(q,B){I.EditorScroll._runEditorScroll(q,B.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),I.ScrollPageDown=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(q,B){I.EditorScroll._runEditorScroll(q,B.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class ie extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,j){B.model.pushStackElement(),B.setCursorStates(j.source,3,[r.CursorMoveCommands.word(B,B.getPrimaryCursorState(),this._inSelectionMode,j.position)]),B.revealPrimaryCursor(j.source,!0)}}I.WordSelect=(0,S.registerEditorCommand)(new ie({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),I.WordSelectDrag=(0,S.registerEditorCommand)(new ie({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),I.LastCursorWordSelect=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(q,B){const j=q.getLastAddedCursorIndex(),H=q.getCursorStates(),z=H.slice(0),Q=H[j];z[j]=r.CursorMoveCommands.word(q,Q,Q.modelState.hasSelection(),B.position),q.model.pushStackElement(),q.setCursorStates(B.source,3,z)}});class de extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,j){B.model.pushStackElement(),B.setCursorStates(j.source,3,[r.CursorMoveCommands.line(B,B.getPrimaryCursorState(),this._inSelectionMode,j.position,j.viewPosition)]),B.revealPrimaryCursor(j.source,!1)}}I.LineSelect=(0,S.registerEditorCommand)(new de({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),I.LineSelectDrag=(0,S.registerEditorCommand)(new de({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class ue extends t{constructor(B){super(B);this._inSelectionMode=B.inSelectionMode}runCoreEditorCommand(B,j){const H=B.getLastAddedCursorIndex(),z=B.getCursorStates(),Q=z.slice(0);Q[H]=r.CursorMoveCommands.line(B,z[H],this._inSelectionMode,j.position,j.viewPosition),B.model.pushStackElement(),B.setCursorStates(j.source,3,Q)}}I.LastCursorLineSelect=(0,S.registerEditorCommand)(new ue({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),I.LastCursorLineSelectDrag=(0,S.registerEditorCommand)(new ue({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),I.ExpandLineSelection=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|42}})}runCoreEditorCommand(q,B){q.model.pushStackElement(),q.setCursorStates(B.source,3,r.CursorMoveCommands.expandLineSelection(q,q.getCursorStates())),q.revealPrimaryCursor(B.source,!0)}}),I.CancelSelection=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"cancelSelection",precondition:u.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(q,B){q.model.pushStackElement(),q.setCursorStates(B.source,3,[r.CursorMoveCommands.cancelSelection(q,q.getPrimaryCursorState())]),q.revealPrimaryCursor(B.source,!0)}}),I.RemoveSecondaryCursors=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"removeSecondaryCursors",precondition:u.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:d+1,kbExpr:u.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(q,B){q.model.pushStackElement(),q.setCursorStates(B.source,3,[q.getPrimaryCursorState()]),q.revealPrimaryCursor(B.source,!0),(0,L.status)(b.localize(2,null))}}),I.RevealLine=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"revealLine",precondition:void 0,description:h.description})}runCoreEditorCommand(q,B){const j=B,H=j.lineNumber||0;let z=typeof H=="number"?H+1:parseInt(H)+1;z<1&&(z=1);const Q=q.model.getLineCount();z>Q&&(z=Q);const x=new c.Range(z,1,z,q.model.getLineMaxColumn(z));let le=0;if(j.at)switch(j.at){case h.RawAtArgument.Top:le=3;break;case h.RawAtArgument.Center:le=1;break;case h.RawAtArgument.Bottom:le=4;break;default:break}const oe=q.coordinatesConverter.convertModelRangeToViewRange(x);q.revealRange(B.source,!1,oe,le,0)}}),I.SelectAll=new class extends m{constructor(){super(S.SelectAllCommand)}runDOMCommand(){k.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(q,B,j){const H=B._getViewModel();!H||this.runCoreEditorCommand(H,j)}runCoreEditorCommand(q,B){q.model.pushStackElement(),q.setCursorStates("keyboard",3,[r.CursorMoveCommands.selectAll(q,q.getPrimaryCursorState())])}},I.SetSelection=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(q,B){q.model.pushStackElement(),q.setCursorStates(B.source,3,[i.CursorState.fromModelSelection(B.selection)])}})})(y=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const w=s.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,u.EditorContextKeys.columnSelection);function g(I,M){n.KeybindingsRegistry.registerKeybindingRule({id:I,primary:M,when:w,weight:d+1})}g(y.CursorColumnSelectLeft.id,1024|15),g(y.CursorColumnSelectRight.id,1024|17),g(y.CursorColumnSelectUp.id,1024|16),g(y.CursorColumnSelectPageUp.id,1024|11),g(y.CursorColumnSelectDown.id,1024|18),g(y.CursorColumnSelectPageDown.id,1024|12);function f(I){return I.register(),I}var _;(function(I){class M extends S.EditorCommand{runEditorCommand(R,P,A){const F=P._getViewModel();!F||this.runCoreEditingCommand(P,F,A||{})}}I.CoreEditingCommand=M,I.LineBreakInsert=(0,S.registerEditorCommand)(new class extends M{constructor(){super({id:"lineBreakInsert",precondition:u.EditorContextKeys.writable,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(O,R,P){O.pushUndoStop(),O.executeCommands(this.id,a.TypeOperations.lineBreakInsert(R.cursorConfig,R.model,R.getCursorStates().map(A=>A.modelState.selection)))}}),I.Outdent=(0,S.registerEditorCommand)(new class extends M{constructor(){super({id:"outdent",precondition:u.EditorContextKeys.writable,kbOpts:{weight:d,kbExpr:s.ContextKeyExpr.and(u.EditorContextKeys.editorTextFocus,u.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(O,R,P){O.pushUndoStop(),O.executeCommands(this.id,a.TypeOperations.outdent(R.cursorConfig,R.model,R.getCursorStates().map(A=>A.modelState.selection))),O.pushUndoStop()}}),I.Tab=(0,S.registerEditorCommand)(new class extends M{constructor(){super({id:"tab",precondition:u.EditorContextKeys.writable,kbOpts:{weight:d,kbExpr:s.ContextKeyExpr.and(u.EditorContextKeys.editorTextFocus,u.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(O,R,P){O.pushUndoStop(),O.executeCommands(this.id,a.TypeOperations.tab(R.cursorConfig,R.model,R.getCursorStates().map(A=>A.modelState.selection))),O.pushUndoStop()}}),I.DeleteLeft=(0,S.registerEditorCommand)(new class extends M{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(O,R,P){const[A,F]=v.DeleteOperations.deleteLeft(R.getPrevEditOperationType(),R.cursorConfig,R.model,R.getCursorStates().map(E=>E.modelState.selection),R.getCursorAutoClosedCharacters());A&&O.pushUndoStop(),O.executeCommands(this.id,F),R.setPrevEditOperationType(2)}}),I.DeleteRight=(0,S.registerEditorCommand)(new class extends M{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:d,kbExpr:u.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(O,R,P){const[A,F]=v.DeleteOperations.deleteRight(R.getPrevEditOperationType(),R.cursorConfig,R.model,R.getCursorStates().map(E=>E.modelState.selection));A&&O.pushUndoStop(),O.executeCommands(this.id,F),R.setPrevEditOperationType(3)}}),I.Undo=new class extends m{constructor(){super(S.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(O,R,P){if(!(!R.hasModel()||R.getOption(79)===!0))return R.getModel().undo()}},I.Redo=new class extends m{constructor(){super(S.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(O,R,P){if(!(!R.hasModel()||R.getOption(79)===!0))return R.getModel().redo()}}})(_=e.CoreEditingCommands||(e.CoreEditingCommands={}));class D extends S.Command{constructor(M,O,R){super({id:M,precondition:void 0,description:R});this._handlerId=O}runCommand(M,O){const R=M.get(p.ICodeEditorService).getFocusedCodeEditor();!R||R.trigger("keyboard",this._handlerId,O)}}function N(I,M){f(new D("default:"+I,I)),f(new D(I,I,M))}N("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),N("replacePreviousChar"),N("compositionType"),N("compositionStart"),N("compositionEnd"),N("paste"),N("cut")}),define(ee[621],te([0,1,14,16,23,72,9,75,456]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const i=(0,S.createDecorator)("IEditorCancelService"),v=new k.RawContextKey("cancellableOperation",!1,(0,C.localize)(0,null));(0,p.registerSingleton)(i,class{constructor(){this._tokens=new WeakMap}add(a,l){let c=this._tokens.get(a);c||(c=a.invokeWithinContext(s=>{const n=v.bindTo(s.get(k.IContextKeyService)),d=new L.LinkedList;return{key:n,tokens:d}}),this._tokens.set(a,c));let u;return c.key.set(!0),u=c.tokens.push(l),()=>{u&&(u(),c.key.set(!c.tokens.isEmpty()),u=void 0)}}cancel(a){const l=this._tokens.get(a);if(!l)return;const c=l.tokens.pop();c&&(c.cancel(),l.key.set(!l.tokens.isEmpty()))}},!0);class r extends T.CancellationTokenSource{constructor(l,c){super(c);this.editor=l,this._unregister=l.invokeWithinContext(u=>u.get(i).add(l,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=r,(0,b.registerEditorCommand)(new class extends b.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:v})}runEditorCommand(a,l){a.get(i).cancel(l)}})}),define(ee[66],te([0,1,8,3,23,2,621]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class p{constructor(a,l){if(this.flags=l,(this.flags&1)!=0){const c=a.getModel();this.modelVersionId=c?b.format("{0}#{1}",c.uri.toString(),c.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=a.getPosition():this.position=null,(this.flags&2)!=0?this.selection=a.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=a.getScrollLeft(),this.scrollTop=a.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(a){if(!(a instanceof p))return!1;const l=a;return!(this.modelVersionId!==l.modelVersionId||this.scrollLeft!==l.scrollLeft||this.scrollTop!==l.scrollTop||!this.position&&l.position||this.position&&!l.position||this.position&&l.position&&!this.position.equals(l.position)||!this.selection&&l.selection||this.selection&&!l.selection||this.selection&&l.selection&&!this.selection.equalsRange(l.selection))}validate(a){return this._equals(new p(a,this.flags))}}e.EditorState=p;class C extends S.EditorKeybindingCancellationTokenSource{constructor(a,l,c,u){super(a,u);this._listener=new L.DisposableStore,l&4&&this._listener.add(a.onDidChangeCursorPosition(s=>{(!c||!k.Range.containsPosition(c,s.position))&&this.cancel()})),l&2&&this._listener.add(a.onDidChangeCursorSelection(s=>{(!c||!k.Range.containsRange(c,s.selection))&&this.cancel()})),l&8&&this._listener.add(a.onDidScrollChange(s=>this.cancel())),l&1&&(this._listener.add(a.onDidChangeModel(s=>this.cancel())),this._listener.add(a.onDidChangeModelContent(s=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=C;class i extends T.CancellationTokenSource{constructor(a,l){super(l);this._listener=a.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=i;class v{constructor(a,l,c){this._visiblePosition=a,this._visiblePositionScrollDelta=l,this._cursorPosition=c}static capture(a){let l=null,c=0;if(a.getScrollTop()!==0){const u=a.getVisibleRanges();if(u.length>0){l=u[0].getStartPosition();const s=a.getTopForPosition(l.lineNumber,l.column);c=a.getScrollTop()-s}}return new v(l,c,a.getPosition())}restore(a){if(this._visiblePosition){const l=a.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);a.setScrollTop(l+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(a){const l=a.getPosition();if(!this._cursorPosition||!l)return;const c=a.getTopForLineNumber(l.lineNumber)-a.getTopForLineNumber(this._cursorPosition.lineNumber);a.setScrollTop(a.getScrollTop()+c)}}e.StableEditorScrollState=v}),define(ee[622],te([0,1,183,14]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let T=class{constructor(S,p){}dispose(){}};T.ID="editor.contrib.markerDecorations",T=Re([Ce(1,b.IMarkerDecorationsService)],T),e.MarkerDecorationsContribution=T,(0,k.registerEditorContribution)(T.ID,T)}),define(ee[623],te([0,1,148,13,17]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class L{constructor(p,C,i,v){this.configuration=p,this.viewModel=C,this.userInputEvents=i,this.commandDelegate=v}paste(p,C,i,v){this.commandDelegate.paste(p,C,i,v)}type(p){this.commandDelegate.type(p)}compositionType(p,C,i,v){this.commandDelegate.compositionType(p,C,i,v)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(p){b.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:p})}_validateViewColumn(p){const C=this.viewModel.getLineMinColumn(p.lineNumber);return p.column<C?new k.Position(p.lineNumber,C):p}_hasMulticursorModifier(p){switch(this.configuration.options.get(68)){case"altKey":return p.altKey;case"ctrlKey":return p.ctrlKey;case"metaKey":return p.metaKey;default:return!1}}_hasNonMulticursorModifier(p){switch(this.configuration.options.get(68)){case"altKey":return p.ctrlKey||p.metaKey;case"ctrlKey":return p.altKey||p.metaKey;case"metaKey":return p.ctrlKey||p.altKey;default:return!1}}dispatchMouse(p){const C=this.configuration.options,i=T.isLinux&&C.get(95),v=C.get(16);p.middleButton&&!i?this._columnSelect(p.position,p.mouseColumn,p.inSelectionMode):p.startedOnLineNumbers?this._hasMulticursorModifier(p)?p.inSelectionMode?this._lastCursorLineSelect(p.position):this._createCursor(p.position,!0):p.inSelectionMode?this._lineSelectDrag(p.position):this._lineSelect(p.position):p.mouseDownCount>=4?this._selectAll():p.mouseDownCount===3?this._hasMulticursorModifier(p)?p.inSelectionMode?this._lastCursorLineSelectDrag(p.position):this._lastCursorLineSelect(p.position):p.inSelectionMode?this._lineSelectDrag(p.position):this._lineSelect(p.position):p.mouseDownCount===2?this._hasMulticursorModifier(p)?this._lastCursorWordSelect(p.position):p.inSelectionMode?this._wordSelectDrag(p.position):this._wordSelect(p.position):this._hasMulticursorModifier(p)?this._hasNonMulticursorModifier(p)||(p.shiftKey?this._columnSelect(p.position,p.mouseColumn,!0):p.inSelectionMode?this._lastCursorMoveToSelect(p.position):this._createCursor(p.position,!1)):p.inSelectionMode?p.altKey?this._columnSelect(p.position,p.mouseColumn,!0):v?this._columnSelect(p.position,p.mouseColumn,!0):this._moveToSelect(p.position):this.moveTo(p.position)}_usualArgs(p){return p=this._validateViewColumn(p),{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p}}moveTo(p){b.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_moveToSelect(p){b.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_columnSelect(p,C,i){p=this._validateViewColumn(p),b.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,mouseColumn:C,doColumnSelect:i})}_createCursor(p,C){p=this._validateViewColumn(p),b.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,wholeLine:C})}_lastCursorMoveToSelect(p){b.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_wordSelect(p){b.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_wordSelectDrag(p){b.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lastCursorWordSelect(p){b.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lineSelect(p){b.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lineSelectDrag(p){b.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lastCursorLineSelect(p){b.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_lastCursorLineSelectDrag(p){b.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p))}_selectAll(){b.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(p){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(p)}emitKeyDown(p){this.userInputEvents.emitKeyDown(p)}emitKeyUp(p){this.userInputEvents.emitKeyUp(p)}emitContextMenu(p){this.userInputEvents.emitContextMenu(p)}emitMouseMove(p){this.userInputEvents.emitMouseMove(p)}emitMouseLeave(p){this.userInputEvents.emitMouseLeave(p)}emitMouseUp(p){this.userInputEvents.emitMouseUp(p)}emitMouseDown(p){this.userInputEvents.emitMouseDown(p)}emitMouseDrag(p){this.userInputEvents.emitMouseDrag(p)}emitMouseDrop(p){this.userInputEvents.emitMouseDrop(p)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(p){this.userInputEvents.emitMouseWheel(p)}}e.ViewController=L}),define(ee[624],te([0,1,7,39,21,30,12,595,604,623,259,578,47,398,602,399,598,176,603,260,596,400,225,401,599,402,605,403,606,600,601,607,404,13,3,113,393,395,115,11,191]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h,m,y,w,g,f,_,D,N,I,M,O,R,P,A,F,E,W,V,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class Z extends W.ViewEventHandler{constructor(ie,de,ue,q,B,j){super();this._selections=[new T.Selection(1,1,1,1)],this._renderAnimationFrame=null;const H=new i.ViewController(de,q,B,ie);this._context=new F.ViewContext(de,ue.getColorTheme(),q),this._configPixelRatio=this._context.configuration.options.get(127),this._context.addEventHandler(this),this._register(ue.onDidColorThemeChange(ae=>{this._context.theme.update(ae),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new C.TextAreaHandler(this._context,H,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,L.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,L.createFastDomNode)(document.createElement("div")),a.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new s.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new o.ViewLines(this._context,this._linesContent),this._viewZones=new O.ViewZones(this._context),this._viewParts.push(this._viewZones);const z=new f.DecorationsOverviewRuler(this._context);this._viewParts.push(z);const Q=new N.ScrollDecorationViewPart(this._context);this._viewParts.push(Q);const x=new r.ContentViewOverlays(this._context);this._viewParts.push(x),x.addDynamicOverlay(new c.CurrentLineHighlightOverlay(this._context)),x.addDynamicOverlay(new I.SelectionsOverlay(this._context)),x.addDynamicOverlay(new d.IndentGuidesOverlay(this._context)),x.addDynamicOverlay(new u.DecorationsOverlay(this._context));const le=new r.MarginViewOverlays(this._context);this._viewParts.push(le),le.addDynamicOverlay(new c.CurrentLineMarginHighlightOverlay(this._context)),le.addDynamicOverlay(new n.GlyphMarginOverlay(this._context)),le.addDynamicOverlay(new y.MarginViewLineDecorationsOverlay(this._context)),le.addDynamicOverlay(new h.LinesDecorationsOverlay(this._context)),le.addDynamicOverlay(new t.LineNumbersOverlay(this._context));const oe=new m.Margin(this._context);oe.getDomNode().appendChild(this._viewZones.marginDomNode),oe.getDomNode().appendChild(le.getDomNode()),this._viewParts.push(oe),this._contentWidgets=new l.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new M.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new g.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const K=new D.Rulers(this._context);this._viewParts.push(K);const re=new w.Minimap(this._context);if(this._viewParts.push(re),z){const ae=this._scrollbar.getOverviewRulerLayoutInfo();ae.parent.insertBefore(z.getDomNode(),ae.insertBefore)}this._linesContent.appendChild(x.getDomNode()),this._linesContent.appendChild(K.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(oe.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(Q.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(re.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),j?j.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new p.PointerHandler(this._context,H,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:ie=>{this._textAreaHandler.textArea.domNode.dispatchEvent(ie)},getLastRenderData:()=>{const ie=this._viewCursors.getLastRenderData()||[],de=this._textAreaHandler.getLastRenderData();return new $.PointerHandlerLastRenderData(ie,de)},shouldSuppressMouseDownOnViewZone:ie=>this._viewZones.shouldSuppressMouseDownOnViewZone(ie),shouldSuppressMouseDownOnWidget:ie=>this._contentWidgets.shouldSuppressMouseDownOnWidget(ie),getPositionFromDOMInfo:(ie,de)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(ie,de)),visibleRangeForPosition:(ie,de)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new R.Position(ie,de))),getLineWidth:ie=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(ie))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(ie,de)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new R.Position(ie,de)))}}_applyLayout(){const de=this._context.configuration.options.get(129);this.domNode.setWidth(de.width),this.domNode.setHeight(de.height),this._overflowGuardContainer.setWidth(de.width),this._overflowGuardContainer.setHeight(de.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const ie=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(126)+" "+(0,V.getThemeTypeSelector)(this._context.theme.type)+ie}handleEvents(ie){super.handleEvents(ie),this._scheduleRender()}onConfigurationChanged(ie){return this._configPixelRatio=this._context.configuration.options.get(127),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(ie){return this._selections=ie.selections,!1}onFocusChanged(ie){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(ie){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const ie of this._viewParts)ie.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=b.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){X(()=>this._actualRender())}_getViewPartsToRender(){let ie=[],de=0;for(const ue of this._viewParts)ue.shouldRender()&&(ie[de++]=ue);return ie}_actualRender(){if(!b.isInDOM(this.domNode.domNode))return;let ie=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&ie.length===0)return;const de=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(de.startLineNumber,de.endLineNumber,de.centeredLineNumber);const ue=new E.ViewportData(this._selections,de,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(ue),this._viewLines.shouldRender()&&(this._viewLines.renderText(ue),this._viewLines.onDidRender(),ie=this._getViewPartsToRender());const q=new A.RenderingContext(this._context.viewLayout,ue,this._viewLines);for(const B of ie)B.prepareRender(q);for(const B of ie)B.render(q),B.onDidRender();Math.abs(k.getPixelRatio()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(ie){this._scrollbar.delegateVerticalScrollbarMouseDown(ie)}restoreState(ie){this._context.model.setScrollPosition({scrollTop:ie.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:ie.scrollLeft},1)}getOffsetForColumn(ie,de){const ue=this._context.model.validateModelPosition({lineNumber:ie,column:de}),q=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(ue);this._flushAccumulatedAndRenderNow();const B=this._viewLines.visibleRangeForPosition(new R.Position(q.lineNumber,q.column));return B?B.left:-1}getTargetAtClientPoint(ie,de){const ue=this._pointerHandler.getTargetAtClientPoint(ie,de);return ue?v.ViewUserInputEvents.convertViewToModelMouseTarget(ue,this._context.model.coordinatesConverter):null}createOverviewRuler(ie){return new _.OverviewRuler(this._context,ie)}change(ie){this._viewZones.changeViewZones(ie),this._scheduleRender()}render(ie,de){if(de){this._viewLines.forceShouldRender();for(const ue of this._viewParts)ue.forceShouldRender()}ie?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(ie){this._textAreaHandler.setAriaOptions(ie)}addContentWidget(ie){this._contentWidgets.addWidget(ie.widget),this.layoutContentWidget(ie),this._scheduleRender()}layoutContentWidget(ie){let de=ie.position&&ie.position.range||null;if(de===null){const q=ie.position?ie.position.position:null;q!==null&&(de=new P.Range(q.lineNumber,q.column,q.lineNumber,q.column))}const ue=ie.position?ie.position.preference:null;this._contentWidgets.setWidgetPosition(ie.widget,de,ue),this._scheduleRender()}removeContentWidget(ie){this._contentWidgets.removeWidget(ie.widget),this._scheduleRender()}addOverlayWidget(ie){this._overlayWidgets.addWidget(ie.widget),this.layoutOverlayWidget(ie),this._scheduleRender()}layoutOverlayWidget(ie){const de=ie.position?ie.position.preference:null;this._overlayWidgets.setWidgetPosition(ie.widget,de)&&this._scheduleRender()}removeOverlayWidget(ie){this._overlayWidgets.removeWidget(ie.widget),this._scheduleRender()}}e.View=Z;function X(J){try{return J()}catch(ie){(0,S.onUnexpectedError)(ie)}}}),define(ee[149],te([0,1,458,7,12,6,2,46,65,14,28,624,259,35,245,40,13,3,21,219,110,25,18,48,22,554,26,16,9,143,34,11,64,20,405,577,141,622,342]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h,m,y,w,g,f,_,D,N,I,M,O,R,P,A,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let E=0;class W{constructor(z,Q,x,le,oe){this.model=z,this.viewModel=Q,this.view=x,this.hasRealView=le,this.listenersToRemove=oe}dispose(){(0,S.dispose)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let V=class ht extends S.Disposable{constructor(z,Q,x,le,oe,K,re,ae,he,U){super();this._onDidDispose=this._register(new L.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new L.Emitter),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new L.Emitter),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new L.Emitter),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new L.Emitter),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new L.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new L.Emitter),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new L.Emitter),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new L.Emitter),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new L.Emitter),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new L.Emitter),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new L.Emitter),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new $),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new $),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new L.Emitter),this.onWillType=this._onWillType.event,this._onDidType=this._register(new L.Emitter),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new L.Emitter),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new L.Emitter),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new L.Emitter),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new L.Emitter),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new L.Emitter),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new L.Emitter),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new L.Emitter),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new L.Emitter),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new L.Emitter),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new L.Emitter),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new L.Emitter),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new L.Emitter),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new L.Emitter),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new L.Emitter),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new L.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new L.Emitter),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new L.Emitter),this.onDidChangeViewZones=this._onDidChangeViewZones.event;const se=Object.assign({},Q);this._domElement=z,this._overflowWidgetsDomNode=se.overflowWidgetsDomNode,delete se.overflowWidgetsDomNode,this._id=++E,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=x.isSimpleWidget||!1,this._telemetryData=x.telemetryData,this._configuration=this._register(this._createConfiguration(se,U)),this._register(this._configuration.onDidChange(ne=>{this._onDidChangeConfiguration.fire(ne);const ce=this._configuration.options;if(ne.hasChanged(129)){const pe=ce.get(129);this._onDidLayoutChange.fire(pe)}})),this._contextKeyService=this._register(re.createScoped(this._domElement)),this._notificationService=he,this._codeEditorService=oe,this._commandService=K,this._themeService=ae,this._register(new Z(this,this._contextKeyService)),this._register(new X(this,this._contextKeyService)),this._instantiationService=le.createChild(new N.ServiceCollection([_.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new J(z),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let Y;Array.isArray(x.contributions)?Y=x.contributions:Y=i.EditorExtensionsRegistry.getEditorContributions();for(const ne of Y){if(this._contributions[ne.id]){(0,T.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${ne.id}`));continue}try{const ce=this._instantiationService.createInstance(ne.ctor,this);this._contributions[ne.id]=ce}catch(ce){(0,T.onUnexpectedError)(ce)}}i.EditorExtensionsRegistry.getEditorActions().forEach(ne=>{if(this._actions[ne.id]){(0,T.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${ne.id}`));return}const ce=new t.InternalEditorAction(ne.id,ne.label,ne.alias,(0,R.withNullAsUndefined)(ne.precondition),()=>this._instantiationService.invokeFunction(pe=>Promise.resolve(ne.runEditorCommand(pe,this,null))),this._contextKeyService);this._actions[ce.id]=ce}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(z,Q){return new C.Configuration(this.isSimpleWidget,z,this._domElement,Q)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return o.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const z=Object.keys(this._contributions);for(let Q=0,x=z.length;Q<x;Q++){const le=z[Q];this._contributions[le].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(z){return this._instantiationService.invokeFunction(z)}updateOptions(z){this._configuration.updateOptions(z)}getOptions(){return this._configuration.options}getOption(z){return this._configuration.options.get(z)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(z){return this._modelData?F.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(115),z):null}getValue(z=null){if(!this._modelData)return"";const Q=!!(z&&z.preserveBOM);let x=0;return z&&z.lineEnding&&z.lineEnding===`
`?x=1:z&&z.lineEnding&&z.lineEnding===`\r
`&&(x=2),this._modelData.model.getValue(x,Q)}setValue(z){!this._modelData||this._modelData.model.setValue(z)}getModel(){return this._modelData?this._modelData.model:null}setModel(z=null){const Q=z;if(this._modelData===null&&Q===null||this._modelData&&this._modelData.model===Q)return;const x=this.hasTextFocus(),le=this._detachModel();this._attachModel(Q),x&&this.hasModel()&&this.focus();const oe={oldModelUrl:le?le.uri:null,newModelUrl:Q?Q.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(oe),this._postDetachModelCleanup(le)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let z in this._decorationTypeSubtypes){const Q=this._decorationTypeSubtypes[z];for(let x in Q)this._removeDecorationType(z+"-"+x)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(z,Q,x){const le=z.model.validatePosition({lineNumber:Q,column:x}),oe=z.viewModel.coordinatesConverter.convertModelPositionToViewPosition(le);return z.viewModel.viewLayout.getVerticalOffsetForLineNumber(oe.lineNumber)}getTopForLineNumber(z){return this._modelData?ht._getVerticalOffsetForPosition(this._modelData,z,1):-1}getTopForPosition(z,Q){return this._modelData?ht._getVerticalOffsetForPosition(this._modelData,z,Q):-1}setHiddenAreas(z){this._modelData&&this._modelData.viewModel.setHiddenAreas(z.map(Q=>n.Range.lift(Q)))}getVisibleColumnFromPosition(z){if(!this._modelData)return z.column;const Q=this._modelData.model.validatePosition(z),x=this._modelData.model.getOptions().tabSize;return u.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(Q.lineNumber),Q.column,x)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(z){if(!!this._modelData){if(!s.Position.isIPosition(z))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:z.lineNumber,selectionStartColumn:z.column,positionLineNumber:z.lineNumber,positionColumn:z.column}])}}_sendRevealRange(z,Q,x,le){if(!this._modelData)return;if(!n.Range.isIRange(z))throw new Error("Invalid arguments");const oe=this._modelData.model.validateRange(z),K=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(oe);this._modelData.viewModel.revealRange("api",x,K,Q,le)}revealLine(z,Q=0){this._revealLine(z,0,Q)}revealLineInCenter(z,Q=0){this._revealLine(z,1,Q)}revealLineInCenterIfOutsideViewport(z,Q=0){this._revealLine(z,2,Q)}revealLineNearTop(z,Q=0){this._revealLine(z,5,Q)}_revealLine(z,Q,x){if(typeof z!="number")throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(z,1,z,1),Q,!1,x)}revealPosition(z,Q=0){this._revealPosition(z,0,!0,Q)}revealPositionInCenter(z,Q=0){this._revealPosition(z,1,!0,Q)}revealPositionInCenterIfOutsideViewport(z,Q=0){this._revealPosition(z,2,!0,Q)}revealPositionNearTop(z,Q=0){this._revealPosition(z,5,!0,Q)}_revealPosition(z,Q,x,le){if(!s.Position.isIPosition(z))throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(z.lineNumber,z.column,z.lineNumber,z.column),Q,x,le)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(z){const Q=d.Selection.isISelection(z),x=n.Range.isIRange(z);if(!Q&&!x)throw new Error("Invalid arguments");if(Q)this._setSelectionImpl(z);else if(x){const le={selectionStartLineNumber:z.startLineNumber,selectionStartColumn:z.startColumn,positionLineNumber:z.endLineNumber,positionColumn:z.endColumn};this._setSelectionImpl(le)}}_setSelectionImpl(z){if(!this._modelData)return;const Q=new d.Selection(z.selectionStartLineNumber,z.selectionStartColumn,z.positionLineNumber,z.positionColumn);this._modelData.viewModel.setSelections("api",[Q])}revealLines(z,Q,x=0){this._revealLines(z,Q,0,x)}revealLinesInCenter(z,Q,x=0){this._revealLines(z,Q,1,x)}revealLinesInCenterIfOutsideViewport(z,Q,x=0){this._revealLines(z,Q,2,x)}revealLinesNearTop(z,Q,x=0){this._revealLines(z,Q,5,x)}_revealLines(z,Q,x,le){if(typeof z!="number"||typeof Q!="number")throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(z,1,Q,1),x,!1,le)}revealRange(z,Q=0,x=!1,le=!0){this._revealRange(z,x?1:0,le,Q)}revealRangeInCenter(z,Q=0){this._revealRange(z,1,!0,Q)}revealRangeInCenterIfOutsideViewport(z,Q=0){this._revealRange(z,2,!0,Q)}revealRangeNearTop(z,Q=0){this._revealRange(z,5,!0,Q)}revealRangeNearTopIfOutsideViewport(z,Q=0){this._revealRange(z,6,!0,Q)}revealRangeAtTop(z,Q=0){this._revealRange(z,3,!0,Q)}_revealRange(z,Q,x,le){if(!n.Range.isIRange(z))throw new Error("Invalid arguments");this._sendRevealRange(n.Range.lift(z),Q,x,le)}setSelections(z,Q="api",x=0){if(!!this._modelData){if(!z||z.length===0)throw new Error("Invalid arguments");for(let le=0,oe=z.length;le<oe;le++)if(!d.Selection.isISelection(z[le]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(Q,z,x)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(z,Q=1){if(!!this._modelData){if(typeof z!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:z},Q)}}setScrollTop(z,Q=1){if(!!this._modelData){if(typeof z!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:z},Q)}}setScrollPosition(z,Q=1){!this._modelData||this._modelData.viewModel.setScrollPosition(z,Q)}saveViewState(){if(!this._modelData)return null;const z={},Q=Object.keys(this._contributions);for(const oe of Q){const K=this._contributions[oe];typeof K.saveViewState=="function"&&(z[oe]=K.saveViewState())}const x=this._modelData.viewModel.saveCursorState(),le=this._modelData.viewModel.saveState();return{cursorState:x,viewState:le,contributionsState:z}}restoreViewState(z){if(!this._modelData||!this._modelData.hasRealView)return;const Q=z;if(Q&&Q.cursorState&&Q.viewState){const x=Q.cursorState;Array.isArray(x)?this._modelData.viewModel.restoreCursorState(x):this._modelData.viewModel.restoreCursorState([x]);const le=Q.contributionsState||{},oe=Object.keys(this._contributions);for(let re=0,ae=oe.length;re<ae;re++){const he=oe[re],U=this._contributions[he];typeof U.restoreViewState=="function"&&U.restoreViewState(le[he])}const K=this._modelData.viewModel.reduceRestoreState(Q.viewState);this._modelData.view.restoreState(K)}}getContribution(z){return this._contributions[z]||null}getActions(){const z=[],Q=Object.keys(this._actions);for(let x=0,le=Q.length;x<le;x++){const oe=Q[x];z.push(this._actions[oe])}return z}getSupportedActions(){let z=this.getActions();return z=z.filter(Q=>Q.isSupported()),z}getAction(z){return this._actions[z]||null}trigger(z,Q,x){switch(x=x||{},Q){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(z);return;case"type":{const oe=x;this._type(z,oe.text||"");return}case"replacePreviousChar":{const oe=x;this._compositionType(z,oe.text||"",oe.replaceCharCnt||0,0,0);return}case"compositionType":{const oe=x;this._compositionType(z,oe.text||"",oe.replacePrevCharCnt||0,oe.replaceNextCharCnt||0,oe.positionDelta||0);return}case"paste":{const oe=x;this._paste(z,oe.text||"",oe.pasteOnNewLine||!1,oe.multicursorText||null,oe.mode||null);return}case"cut":this._cut(z);return}const le=this.getAction(Q);if(le){Promise.resolve(le.run()).then(void 0,T.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(z,Q,x)||this._triggerCommand(Q,x)}_triggerCommand(z,Q){this._commandService.executeCommand(z,Q)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(z){!this._modelData||(this._modelData.viewModel.endComposition(z),this._onDidCompositionEnd.fire())}_type(z,Q){!this._modelData||Q.length===0||(z==="keyboard"&&this._onWillType.fire(Q),this._modelData.viewModel.type(Q,z),z==="keyboard"&&this._onDidType.fire(Q))}_compositionType(z,Q,x,le,oe){!this._modelData||this._modelData.viewModel.compositionType(Q,x,le,oe,z)}_paste(z,Q,x,le,oe){if(!this._modelData||Q.length===0)return;const K=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(Q,x,le,z);const re=this._modelData.viewModel.getSelection().getStartPosition();z==="keyboard"&&this._onDidPaste.fire({range:new n.Range(K.lineNumber,K.column,re.lineNumber,re.column),mode:oe})}_cut(z){!this._modelData||this._modelData.viewModel.cut(z)}_triggerEditorCommand(z,Q,x){const le=i.EditorExtensionsRegistry.getEditorCommand(Q);return le?(x=x||{},x.source=z,this._instantiationService.invokeFunction(oe=>{Promise.resolve(le.runEditorCommand(oe,this,x)).then(void 0,T.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(79)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(79)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(z,Q,x){if(!this._modelData||this._configuration.options.get(79))return!1;let le;return x?Array.isArray(x)?le=()=>x:le=x:le=()=>null,this._modelData.viewModel.executeEdits(z,Q,le),!0}executeCommand(z,Q){!this._modelData||this._modelData.viewModel.executeCommand(Q,z)}executeCommands(z,Q){!this._modelData||this._modelData.viewModel.executeCommands(Q,z)}changeDecorations(z){return this._modelData?this._modelData.model.changeDecorations(z,this._id):null}getLineDecorations(z){return this._modelData?this._modelData.model.getLineDecorations(z,this._id,(0,l.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(z,Q){return this._modelData?z.length===0&&Q.length===0?z:this._modelData.model.deltaDecorations(z,Q,this._id):[]}removeDecorations(z){const Q=this._decorationTypeKeysToIds[z];Q&&this.deltaDecorations(Q,[]),this._decorationTypeKeysToIds.hasOwnProperty(z)&&delete this._decorationTypeKeysToIds[z],this._decorationTypeSubtypes.hasOwnProperty(z)&&delete this._decorationTypeSubtypes[z]}getLayoutInfo(){return this._configuration.options.get(129)}createOverviewRuler(z){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(z)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(z)}layout(z){this._configuration.observeReferenceElement(z),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(z){const Q={widget:z,position:z.getPosition()};this._contentWidgets.hasOwnProperty(z.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[z.getId()]=Q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(Q)}layoutContentWidget(z){const Q=z.getId();if(this._contentWidgets.hasOwnProperty(Q)){const x=this._contentWidgets[Q];x.position=z.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(x)}}removeContentWidget(z){const Q=z.getId();if(this._contentWidgets.hasOwnProperty(Q)){const x=this._contentWidgets[Q];delete this._contentWidgets[Q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(x)}}addOverlayWidget(z){const Q={widget:z,position:z.getPosition()};this._overlayWidgets.hasOwnProperty(z.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[z.getId()]=Q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(Q)}layoutOverlayWidget(z){const Q=z.getId();if(this._overlayWidgets.hasOwnProperty(Q)){const x=this._overlayWidgets[Q];x.position=z.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(x)}}removeOverlayWidget(z){const Q=z.getId();if(this._overlayWidgets.hasOwnProperty(Q)){const x=this._overlayWidgets[Q];delete this._overlayWidgets[Q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(x)}}changeViewZones(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(z)}getTargetAtClientPoint(z,Q){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(z,Q)}getScrolledVisiblePosition(z){if(!this._modelData||!this._modelData.hasRealView)return null;const Q=this._modelData.model.validatePosition(z),x=this._configuration.options,le=x.get(129),oe=ht._getVerticalOffsetForPosition(this._modelData,Q.lineNumber,Q.column)-this.getScrollTop(),K=this._modelData.view.getOffsetForColumn(Q.lineNumber,Q.column)+le.glyphMarginWidth+le.lineNumbersWidth+le.decorationsWidth-this.getScrollLeft();return{top:oe,left:K,height:x.get(57)}}getOffsetForColumn(z,Q){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(z,Q)}render(z=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,z)}setAriaOptions(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(z)}applyFontInfo(z){C.Configuration.applyFontInfoSlow(z,this._configuration.options.get(41))}_attachModel(z){if(!z){this._modelData=null;return}const Q=[];this._domElement.setAttribute("data-mode-id",z.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(z.isDominatedByLongLines()),this._configuration.setMaxLineNumber(z.getLineCount()),z.onBeforeAttached();const x=new g.ViewModel(this._id,this._configuration,z,A.DOMLineBreaksComputerFactory.create(),P.MonospaceLineBreaksComputerFactory.create(this._configuration.options),K=>k.scheduleAtNextAnimationFrame(K));Q.push(z.onDidChangeDecorations(K=>this._onDidChangeModelDecorations.fire(K))),Q.push(z.onDidChangeLanguage(K=>{this._domElement.setAttribute("data-mode-id",z.getLanguageIdentifier().language),this._onDidChangeModelLanguage.fire(K)})),Q.push(z.onDidChangeLanguageConfiguration(K=>this._onDidChangeModelLanguageConfiguration.fire(K))),Q.push(z.onDidChangeContent(K=>this._onDidChangeModelContent.fire(K))),Q.push(z.onDidChangeOptions(K=>this._onDidChangeModelOptions.fire(K))),Q.push(z.onWillDispose(()=>this.setModel(null))),Q.push(x.onEvent(K=>{switch(K.kind){case 0:this._onDidContentSizeChange.fire(K);break;case 1:this._editorTextFocus.setValue(K.hasFocus);break;case 2:this._onDidScrollChange.fire(K);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidAttemptReadOnlyEdit.fire();break;case 5:{K.reachedMaxCursorCount&&this._notificationService.warn(b.localize(0,null,c.CursorsController.MAX_CURSOR_COUNT));const re=[];for(let U=0,se=K.selections.length;U<se;U++)re[U]=K.selections[U].getPosition();const ae={position:re[0],secondaryPositions:re.slice(1),reason:K.reason,source:K.source};this._onDidChangeCursorPosition.fire(ae);const he={selection:K.selections[0],secondarySelections:K.selections.slice(1),modelVersionId:K.modelVersionId,oldSelections:K.oldSelections,oldModelVersionId:K.oldModelVersionId,source:K.source,reason:K.reason};this._onDidChangeCursorSelection.fire(he);break}}}));const[le,oe]=this._createView(x);if(oe){this._domElement.appendChild(le.domNode.domNode);let K=Object.keys(this._contentWidgets);for(let re=0,ae=K.length;re<ae;re++){const he=K[re];le.addContentWidget(this._contentWidgets[he])}K=Object.keys(this._overlayWidgets);for(let re=0,ae=K.length;re<ae;re++){const he=K[re];le.addOverlayWidget(this._overlayWidgets[he])}le.render(!1,!0),le.domNode.domNode.setAttribute("data-uri",z.uri.toString())}this._modelData=new W(z,x,le,oe,Q)}_createView(z){let Q;this.isSimpleWidget?Q={paste:(oe,K,re,ae)=>{this._paste("keyboard",oe,K,re,ae)},type:oe=>{this._type("keyboard",oe)},compositionType:(oe,K,re,ae)=>{this._compositionType("keyboard",oe,K,re,ae)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:Q={paste:(oe,K,re,ae)=>{const he={text:oe,pasteOnNewLine:K,multicursorText:re,mode:ae};this._commandService.executeCommand("paste",he)},type:oe=>{const K={text:oe};this._commandService.executeCommand("type",K)},compositionType:(oe,K,re,ae)=>{if(re||ae){const he={text:oe,replacePrevCharCnt:K,replaceNextCharCnt:re,positionDelta:ae};this._commandService.executeCommand("compositionType",he)}else{const he={text:oe,replaceCharCnt:K};this._commandService.executeCommand("replacePreviousChar",he)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const x=new a.ViewUserInputEvents(z.coordinatesConverter);return x.onKeyDown=oe=>this._onKeyDown.fire(oe),x.onKeyUp=oe=>this._onKeyUp.fire(oe),x.onContextMenu=oe=>this._onContextMenu.fire(oe),x.onMouseMove=oe=>this._onMouseMove.fire(oe),x.onMouseLeave=oe=>this._onMouseLeave.fire(oe),x.onMouseDown=oe=>this._onMouseDown.fire(oe),x.onMouseUp=oe=>this._onMouseUp.fire(oe),x.onMouseDrag=oe=>this._onMouseDrag.fire(oe),x.onMouseDrop=oe=>this._onMouseDrop.fire(oe),x.onMouseDropCanceled=oe=>this._onMouseDropCanceled.fire(oe),x.onMouseWheel=oe=>this._onMouseWheel.fire(oe),[new r.View(Q,this._configuration,this._themeService,z,x,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(z){z&&z.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const z=this._modelData.model,Q=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),Q&&this._domElement.contains(Q)&&this._domElement.removeChild(Q),z}_removeDecorationType(z){this._codeEditorService.removeDecorationType(z)}hasModel(){return this._modelData!==null}};V=Re([Ce(3,D.IInstantiationService),Ce(4,v.ICodeEditorService),Ce(5,f.ICommandService),Ce(6,_.IContextKeyService),Ce(7,M.IThemeService),Ce(8,I.INotificationService),Ce(9,O.IAccessibilityService)],V),e.CodeEditorWidget=V;class $ extends S.Disposable{constructor(){super();this._onDidChangeToTrue=this._register(new L.Emitter),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new L.Emitter),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(z){const Q=z?2:1;this._value!==Q&&(this._value=Q,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=$;class Z extends S.Disposable{constructor(z,Q){super();this._editor=z,Q.createKey("editorId",z.getId()),this._editorSimpleInput=h.EditorContextKeys.editorSimpleInput.bindTo(Q),this._editorFocus=h.EditorContextKeys.focus.bindTo(Q),this._textInputFocus=h.EditorContextKeys.textInputFocus.bindTo(Q),this._editorTextFocus=h.EditorContextKeys.editorTextFocus.bindTo(Q),this._editorTabMovesFocus=h.EditorContextKeys.tabMovesFocus.bindTo(Q),this._editorReadonly=h.EditorContextKeys.readOnly.bindTo(Q),this._inDiffEditor=h.EditorContextKeys.inDiffEditor.bindTo(Q),this._editorColumnSelection=h.EditorContextKeys.columnSelection.bindTo(Q),this._hasMultipleSelections=h.EditorContextKeys.hasMultipleSelections.bindTo(Q),this._hasNonEmptySelection=h.EditorContextKeys.hasNonEmptySelection.bindTo(Q),this._canUndo=h.EditorContextKeys.canUndo.bindTo(Q),this._canRedo=h.EditorContextKeys.canRedo.bindTo(Q),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const z=this._editor.getOptions();this._editorTabMovesFocus.set(z.get(128)),this._editorReadonly.set(z.get(79)),this._inDiffEditor.set(z.get(52)),this._editorColumnSelection.set(z.get(16))}_updateFromSelection(){const z=this._editor.getSelections();z?(this._hasMultipleSelections.set(z.length>1),this._hasNonEmptySelection.set(z.some(Q=>!Q.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const z=this._editor.getModel();this._canUndo.set(Boolean(z&&z.canUndo())),this._canRedo.set(Boolean(z&&z.canRedo()))}}class X extends S.Disposable{constructor(z,Q){super();this._editor=z,this._contextKeyService=Q,this._langId=h.EditorContextKeys.languageId.bindTo(Q),this._hasCompletionItemProvider=h.EditorContextKeys.hasCompletionItemProvider.bindTo(Q),this._hasCodeActionsProvider=h.EditorContextKeys.hasCodeActionsProvider.bindTo(Q),this._hasCodeLensProvider=h.EditorContextKeys.hasCodeLensProvider.bindTo(Q),this._hasDefinitionProvider=h.EditorContextKeys.hasDefinitionProvider.bindTo(Q),this._hasDeclarationProvider=h.EditorContextKeys.hasDeclarationProvider.bindTo(Q),this._hasImplementationProvider=h.EditorContextKeys.hasImplementationProvider.bindTo(Q),this._hasTypeDefinitionProvider=h.EditorContextKeys.hasTypeDefinitionProvider.bindTo(Q),this._hasHoverProvider=h.EditorContextKeys.hasHoverProvider.bindTo(Q),this._hasDocumentHighlightProvider=h.EditorContextKeys.hasDocumentHighlightProvider.bindTo(Q),this._hasDocumentSymbolProvider=h.EditorContextKeys.hasDocumentSymbolProvider.bindTo(Q),this._hasReferenceProvider=h.EditorContextKeys.hasReferenceProvider.bindTo(Q),this._hasRenameProvider=h.EditorContextKeys.hasRenameProvider.bindTo(Q),this._hasSignatureHelpProvider=h.EditorContextKeys.hasSignatureHelpProvider.bindTo(Q),this._hasInlayHintsProvider=h.EditorContextKeys.hasInlayHintsProvider.bindTo(Q),this._hasDocumentFormattingProvider=h.EditorContextKeys.hasDocumentFormattingProvider.bindTo(Q),this._hasDocumentSelectionFormattingProvider=h.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(Q),this._hasMultipleDocumentFormattingProvider=h.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(Q),this._hasMultipleDocumentSelectionFormattingProvider=h.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(Q),this._isInWalkThrough=h.EditorContextKeys.isInWalkThroughSnippet.bindTo(Q);const x=()=>this._update();this._register(z.onDidChangeModel(x)),this._register(z.onDidChangeModelLanguage(x)),this._register(m.CompletionProviderRegistry.onDidChange(x)),this._register(m.CodeActionProviderRegistry.onDidChange(x)),this._register(m.CodeLensProviderRegistry.onDidChange(x)),this._register(m.DefinitionProviderRegistry.onDidChange(x)),this._register(m.DeclarationProviderRegistry.onDidChange(x)),this._register(m.ImplementationProviderRegistry.onDidChange(x)),this._register(m.TypeDefinitionProviderRegistry.onDidChange(x)),this._register(m.HoverProviderRegistry.onDidChange(x)),this._register(m.DocumentHighlightProviderRegistry.onDidChange(x)),this._register(m.DocumentSymbolProviderRegistry.onDidChange(x)),this._register(m.ReferenceProviderRegistry.onDidChange(x)),this._register(m.RenameProviderRegistry.onDidChange(x)),this._register(m.DocumentFormattingEditProviderRegistry.onDidChange(x)),this._register(m.DocumentRangeFormattingEditProviderRegistry.onDidChange(x)),this._register(m.SignatureHelpProviderRegistry.onDidChange(x)),this._register(m.InlayHintsProviderRegistry.onDidChange(x)),x()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const z=this._editor.getModel();if(!z){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(z.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(m.CompletionProviderRegistry.has(z)),this._hasCodeActionsProvider.set(m.CodeActionProviderRegistry.has(z)),this._hasCodeLensProvider.set(m.CodeLensProviderRegistry.has(z)),this._hasDefinitionProvider.set(m.DefinitionProviderRegistry.has(z)),this._hasDeclarationProvider.set(m.DeclarationProviderRegistry.has(z)),this._hasImplementationProvider.set(m.ImplementationProviderRegistry.has(z)),this._hasTypeDefinitionProvider.set(m.TypeDefinitionProviderRegistry.has(z)),this._hasHoverProvider.set(m.HoverProviderRegistry.has(z)),this._hasDocumentHighlightProvider.set(m.DocumentHighlightProviderRegistry.has(z)),this._hasDocumentSymbolProvider.set(m.DocumentSymbolProviderRegistry.has(z)),this._hasReferenceProvider.set(m.ReferenceProviderRegistry.has(z)),this._hasRenameProvider.set(m.RenameProviderRegistry.has(z)),this._hasSignatureHelpProvider.set(m.SignatureHelpProviderRegistry.has(z)),this._hasInlayHintsProvider.set(m.InlayHintsProviderRegistry.has(z)),this._hasDocumentFormattingProvider.set(m.DocumentFormattingEditProviderRegistry.has(z)||m.DocumentRangeFormattingEditProviderRegistry.has(z)),this._hasDocumentSelectionFormattingProvider.set(m.DocumentRangeFormattingEditProviderRegistry.has(z)),this._hasMultipleDocumentFormattingProvider.set(m.DocumentFormattingEditProviderRegistry.all(z).length+m.DocumentRangeFormattingEditProviderRegistry.all(z).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(m.DocumentRangeFormattingEditProviderRegistry.all(z).length>1),this._isInWalkThrough.set(z.uri.scheme===p.Schemas.walkThroughSnippet)})}}e.EditorModeContext=X;class J extends S.Disposable{constructor(z){super();this._onChange=this._register(new L.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(k.trackFocus(z)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const ie=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),de=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function ue(H){return ie+encodeURIComponent(H.toString())+de}const q=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),B=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function j(H){return q+encodeURIComponent(H.toString())+B}(0,M.registerThemingParticipant)((H,z)=>{const Q=H.getColor(w.editorErrorBorder);Q&&z.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${Q}; }`);const x=H.getColor(w.editorErrorForeground);x&&z.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${ue(x)}") repeat-x bottom left; }`);const le=H.getColor(w.editorErrorBackground);le&&z.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${le}; }`);const oe=H.getColor(w.editorWarningBorder);oe&&z.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${oe}; }`);const K=H.getColor(w.editorWarningForeground);K&&z.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${ue(K)}") repeat-x bottom left; }`);const re=H.getColor(w.editorWarningBackground);re&&z.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${re}; }`);const ae=H.getColor(w.editorInfoBorder);ae&&z.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${ae}; }`);const he=H.getColor(w.editorInfoForeground);he&&z.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${ue(he)}") repeat-x bottom left; }`);const U=H.getColor(w.editorInfoBackground);U&&z.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${U}; }`);const se=H.getColor(w.editorHintBorder);se&&z.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${se}; }`);const Y=H.getColor(w.editorHintForeground);Y&&z.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${j(Y)}") no-repeat bottom left; }`);const ne=H.getColor(y.editorUnnecessaryCodeOpacity);ne&&z.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${ne.rgba.a}; }`);const ce=H.getColor(y.editorUnnecessaryCodeBorder);ce&&z.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${ce}; }`);const pe=H.getColor(w.editorForeground)||"inherit";z.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${pe}}`)})}),define(ee[150],te([0,1,42,28,149,26,16,9,34,11,64]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let r=class extends T.CodeEditorWidget{constructor(l,c,u,s,n,d,t,o,h,m){super(l,Object.assign(Object.assign({},u.getRawOptions()),{overflowWidgetsDomNode:u.getOverflowWidgetsDomNode()}),{},s,n,d,t,o,h,m);this._parentEditor=u,this._overwriteOptions=c,super.updateOptions(this._overwriteOptions),this._register(u.onDidChangeConfiguration(y=>this._onParentConfigurationChanged(y)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(l){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(l){b.mixin(this._overwriteOptions,l,!0),super.updateOptions(this._overwriteOptions)}};r=Re([Ce(3,p.IInstantiationService),Ce(4,k.ICodeEditorService),Ce(5,L.ICommandService),Ce(6,S.IContextKeyService),Ce(7,i.IThemeService),Ce(8,C.INotificationService),Ce(9,v.IAccessibilityService)],r),e.EmbeddedCodeEditorWidget=r}),define(ee[625],te([0,1,14,471,25,21,41,16,82,44,343]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new p.RawContextKey("selectionAnchorSet",!1);let v=class Wt{constructor(s,n){this.editor=s,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(n),this.modelChangeListener=s.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(s){return s.getContribution(Wt.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const s=this.editor.getPosition(),n=this.decorationId?[this.decorationId]:[],d=this.editor.deltaDecorations(n,[{range:L.Selection.fromPositions(s,s),options:{description:"selection-anchor",stickiness:1,hoverMessage:new C.MarkdownString().appendText((0,k.localize)(0,null)),className:"selection-anchor"}}]);this.decorationId=d[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,i.alert)((0,k.localize)(1,null,s.lineNumber,s.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const s=this.editor.getModel().getDecorationRange(this.decorationId);s&&this.editor.setPosition(s.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const s=this.editor.getModel().getDecorationRange(this.decorationId);if(s){const n=this.editor.getPosition();this.editor.setSelection(L.Selection.fromPositions(s.getStartPosition(),n)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};v.ID="editor.contrib.selectionAnchorController",v=Re([Ce(1,p.IContextKeyService)],v);class r extends b.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,k.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:T.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|32),weight:100}})}run(s,n){return Ie(this,void 0,void 0,function*(){v.get(n).setSelectionAnchor()})}}class a extends b.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,k.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(s,n){return Ie(this,void 0,void 0,function*(){v.get(n).goToSelectionAnchor()})}}class l extends b.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,k.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:T.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|41),weight:100}})}run(s,n){return Ie(this,void 0,void 0,function*(){v.get(n).selectFromAnchorToCursor()})}}class c extends b.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,k.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:T.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(s,n){return Ie(this,void 0,void 0,function*(){v.get(n).cancelSelectionAnchor()})}}(0,b.registerEditorContribution)(v.ID,v),(0,b.registerEditorAction)(r),(0,b.registerEditorAction)(a),(0,b.registerEditorAction)(l),(0,b.registerEditorAction)(c)}),define(ee[626],te([0,1,472,15,2,14,13,3,21,25,53,31,48,22,11,33,344]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const s=(0,l.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},b.localize(0,null));class n extends L.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:b.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|1024|88,weight:100}})}run(m,y){let w=o.get(y);!w||w.jumpToBracket()}}class d extends L.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:b.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(m,y,w){const g=o.get(y);if(!g)return;let f=!0;w&&w.selectBrackets===!1&&(f=!1),g.selectToBracket(f)}}class t{constructor(m,y,w){this.position=m,this.brackets=y,this.options=w}}class o extends T.Disposable{constructor(m){super();this._editor=m,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new k.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(62),this._updateBracketsSoon.schedule(),this._register(m.onDidChangeCursorPosition(y=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModelContent(y=>{this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModel(y=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeModelLanguageConfiguration(y=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(m.onDidChangeConfiguration(y=>{y.hasChanged(62)&&(this._matchBrackets=this._editor.getOption(62),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))}static get(m){return m.getContribution(o.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const m=this._editor.getModel(),y=this._editor.getSelections().map(w=>{const g=w.getStartPosition(),f=m.matchBracket(g);let _=null;if(f)f[0].containsPosition(g)?_=f[1].getStartPosition():f[1].containsPosition(g)&&(_=f[0].getStartPosition());else{const D=m.findEnclosingBrackets(g);if(D)_=D[0].getStartPosition();else{const N=m.findNextBracket(g);N&&N.range&&(_=N.range.getStartPosition())}}return _?new C.Selection(_.lineNumber,_.column,_.lineNumber,_.column):new C.Selection(g.lineNumber,g.column,g.lineNumber,g.column)});this._editor.setSelections(y),this._editor.revealRange(y[0])}selectToBracket(m){if(!this._editor.hasModel())return;const y=this._editor.getModel(),w=[];this._editor.getSelections().forEach(g=>{const f=g.getStartPosition();let _=y.matchBracket(f);if(!_&&(_=y.findEnclosingBrackets(f),!_)){const I=y.findNextBracket(f);I&&I.range&&(_=y.matchBracket(I.range.getStartPosition()))}let D=null,N=null;if(_){_.sort(p.Range.compareRangesUsingStarts);const[I,M]=_;D=m?I.getStartPosition():I.getEndPosition(),N=m?M.getEndPosition():M.getStartPosition()}D&&N&&w.push(new C.Selection(D.lineNumber,D.column,N.lineNumber,N.column))}),w.length>0&&(this._editor.setSelections(w),this._editor.revealRange(w[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let m=[],y=0;for(const w of this._lastBracketsData){let g=w.brackets;g&&(m[y++]={range:g[0],options:w.options},m[y++]={range:g[1],options:w.options})}this._decorations=this._editor.deltaDecorations(this._decorations,m)}_recomputeBrackets(){if(!this._editor.hasModel()){this._lastBracketsData=[],this._lastVersionId=0;return}const m=this._editor.getSelections();if(m.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const y=this._editor.getModel(),w=y.getVersionId();let g=[];this._lastVersionId===w&&(g=this._lastBracketsData);let f=[],_=0;for(let O=0,R=m.length;O<R;O++){let P=m[O];P.isEmpty()&&(f[_++]=P.getStartPosition())}f.length>1&&f.sort(S.Position.compare);let D=[],N=0,I=0,M=g.length;for(let O=0,R=f.length;O<R;O++){let P=f[O];for(;I<M&&g[I].position.isBefore(P);)I++;if(I<M&&g[I].position.equals(P))D[N++]=g[I];else{let A=y.matchBracket(P),F=o._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!A&&this._matchBrackets==="always"&&(A=y.findEnclosingBrackets(P,20),F=o._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),D[N++]=new t(P,A,F)}}this._lastBracketsData=D,this._lastVersionId=w}}e.BracketMatchingController=o,o.ID="editor.contrib.bracketMatchingController",o._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=r.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,c.themeColorFromId)(s),position:v.OverviewRulerLane.Center}}),o._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=r.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,L.registerEditorContribution)(o.ID,o),(0,L.registerEditorAction)(d),(0,L.registerEditorAction)(n),(0,c.registerThemingParticipant)((h,m)=>{const y=h.getColor(a.editorBracketMatchBackground);y&&m.addRule(`.monaco-editor .bracket-match { background-color: ${y}; }`);const w=h.getColor(a.editorBracketMatchBorder);w&&m.addRule(`.monaco-editor .bracket-match { border: 1px solid ${w}; }`)}),u.MenuRegistry.appendMenuItem(u.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:b.localize(3,null)},order:2})}),define(ee[627],te([0,1,473,14,25,407]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class S extends k.EditorAction{constructor(v,r){super(r);this.left=v}run(v,r){if(!r.hasModel())return;let a=[],l=r.getSelections();for(const c of l)a.push(new L.MoveCaretCommand(c,this.left));r.pushUndoStop(),r.executeCommands(this.id,a),r.pushUndoStop()}}class p extends S{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:b.localize(0,null),alias:"Move Selected Text Left",precondition:T.EditorContextKeys.writable})}}class C extends S{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:b.localize(1,null),alias:"Move Selected Text Right",precondition:T.EditorContextKeys.writable})}}(0,k.registerEditorAction)(p),(0,k.registerEditorAction)(C)}),define(ee[628],te([0,1,474,14,95,3,25,185]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class C extends k.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:b.localize(0,null),alias:"Transpose Letters",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(v,r){if(!r.hasModel())return;let a=r.getModel(),l=[],c=r.getSelections();for(let u of c){if(!u.isEmpty())continue;let s=u.startLineNumber,n=u.startColumn,d=a.getLineMaxColumn(s);if(s===1&&(n===1||n===2&&d===2))continue;let t=n===d?u.getPosition():p.MoveOperations.rightPosition(a,u.getPosition().lineNumber,u.getPosition().column),o=p.MoveOperations.leftPosition(a,t),h=p.MoveOperations.leftPosition(a,o),m=a.getValueInRange(L.Range.fromPositions(h,o)),y=a.getValueInRange(L.Range.fromPositions(o,t)),w=L.Range.fromPositions(h,t);l.push(new T.ReplaceCommand(w,y+m))}l.length>0&&(r.pushUndoStop(),r.executeCommands(this.id,l),r.pushUndoStop())}}(0,k.registerEditorAction)(C)}),define(ee[629],te([0,1,475,39,17,169,14,28,25,33,86]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const r="9_cutcopypaste",a=T.isNative||document.queryCommandSupported("cut"),l=T.isNative||document.queryCommandSupported("copy"),c=typeof navigator.clipboard=="undefined"||k.isFirefox?document.queryCommandSupported("paste"):!0;function u(d){return d.register(),d}e.CutAction=a?u(new S.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:T.isNative?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:b.localize(0,null),order:1},{menuId:i.MenuId.EditorContext,group:r,title:b.localize(1,null),when:C.EditorContextKeys.writable,order:1},{menuId:i.MenuId.CommandPalette,group:"",title:b.localize(2,null),order:1},{menuId:i.MenuId.SimpleEditorContext,group:r,title:b.localize(3,null),when:C.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=l?u(new S.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:T.isNative?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:b.localize(4,null),order:2},{menuId:i.MenuId.EditorContext,group:r,title:b.localize(5,null),order:2},{menuId:i.MenuId.CommandPalette,group:"",title:b.localize(6,null),order:1},{menuId:i.MenuId.SimpleEditorContext,group:r,title:b.localize(7,null),order:2}]})):void 0,i.MenuRegistry.appendMenuItem(i.MenuId.MenubarEditMenu,{submenu:i.MenuId.MenubarCopy,title:{value:b.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),i.MenuRegistry.appendMenuItem(i.MenuId.EditorContext,{submenu:i.MenuId.EditorContextCopy,title:{value:b.localize(9,null),original:"Copy As"},group:r,order:3}),e.PasteAction=c?u(new S.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:T.isNative?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:b.localize(10,null),order:4},{menuId:i.MenuId.EditorContext,group:r,title:b.localize(11,null),when:C.EditorContextKeys.writable,order:4},{menuId:i.MenuId.CommandPalette,group:"",title:b.localize(12,null),order:1},{menuId:i.MenuId.SimpleEditorContext,group:r,title:b.localize(13,null),when:C.EditorContextKeys.writable,order:4}]})):void 0;class s extends S.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:b.localize(14,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(t,o){!o.hasModel()||!o.getOption(30)&&o.getSelection().isEmpty()||(L.CopyOptions.forceCopyWithSyntaxHighlighting=!0,o.focus(),document.execCommand("copy"),L.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function n(d,t){!d||(d.addImplementation(1e4,"code-editor",(o,h)=>{const m=o.get(p.ICodeEditorService).getFocusedCodeEditor();if(m&&m.hasTextFocus()){const y=m.getOption(30),w=m.getSelection();return w&&w.isEmpty()&&!y||document.execCommand(t),!0}return!1}),d.addImplementation(0,"generic-dom",(o,h)=>(document.execCommand(t),!0)))}n(e.CutAction,"cut"),n(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(d,t)=>{const o=d.get(p.ICodeEditorService),h=d.get(v.IClipboardService),m=o.getFocusedCodeEditor();return m&&m.hasTextFocus()?(!document.execCommand("paste")&&T.isWeb&&(()=>Ie(void 0,void 0,void 0,function*(){const w=yield h.readText();if(w!==""){const g=L.InMemoryClipboardMetadataManager.INSTANCE.get(w);let f=!1,_=null,D=null;g&&(f=m.getOption(30)&&!!g.isFromEmptySelection,_=typeof g.multicursorText!="undefined"?g.multicursorText:null,D=g.mode),m.trigger("keyboard","paste",{text:w,pasteOnNewLine:f,multicursorText:_,mode:D})}}))(),!0):!1}),e.PasteAction.addImplementation(0,"generic-dom",(d,t)=>(document.execCommand("paste"),!0))),l&&(0,S.registerEditorAction)(s)}),define(ee[151],te([0,1,19,23,12,2,24,66,3,21,18,36,137,59,26]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=e.CodeActionItem=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class u{constructor(m,y){this.action=m,this.provider=y}resolve(m){var y;return Ie(this,void 0,void 0,function*(){if(((y=this.provider)===null||y===void 0?void 0:y.resolveCodeAction)&&!this.action.edit){let w;try{w=yield this.provider.resolveCodeAction(this.action,m)}catch(g){(0,T.onUnexpectedExternalError)(g)}w&&(this.action.edit=w.edit)}return this})}}e.CodeActionItem=u;class s extends L.Disposable{constructor(m,y,w){super();this.documentation=y,this._register(w),this.allActions=[...m].sort(s.codeActionsComparator),this.validActions=this.allActions.filter(({action:g})=>!g.disabled)}static codeActionsComparator({action:m},{action:y}){return m.isPreferred&&!y.isPreferred?-1:!m.isPreferred&&y.isPreferred?1:(0,b.isNonEmptyArray)(m.diagnostics)?(0,b.isNonEmptyArray)(y.diagnostics)?m.diagnostics[0].message.localeCompare(y.diagnostics[0].message):-1:(0,b.isNonEmptyArray)(y.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:m})=>!!m.kind&&a.CodeActionKind.QuickFix.contains(new a.CodeActionKind(m.kind))&&!!m.isPreferred)}}const n={actions:[],documentation:void 0};function d(h,m,y,w,g){var f;const _=y.filter||{},D={only:(f=_.include)===null||f===void 0?void 0:f.value,trigger:y.type},N=new p.TextModelCancellationTokenSource(h,g),I=t(h,_),M=new L.DisposableStore,O=I.map(P=>Ie(this,void 0,void 0,function*(){try{w.report(P);const A=yield P.provideCodeActions(h,m,D,N.token);if(A&&M.add(A),N.token.isCancellationRequested)return n;const F=((A==null?void 0:A.actions)||[]).filter(W=>W&&(0,a.filtersAction)(_,W)),E=o(P,F,_.include);return{actions:F.map(W=>new u(W,P)),documentation:E}}catch(A){if((0,T.isPromiseCanceledError)(A))throw A;return(0,T.onUnexpectedExternalError)(A),n}})),R=v.CodeActionProviderRegistry.onDidChange(()=>{const P=v.CodeActionProviderRegistry.all(h);(0,b.equals)(P,I)||N.cancel()});return Promise.all(O).then(P=>{const A=(0,b.flatten)(P.map(E=>E.actions)),F=(0,b.coalesce)(P.map(E=>E.documentation));return new s(A,F,M)}).finally(()=>{R.dispose(),N.dispose()})}e.getCodeActions=d;function t(h,m){return v.CodeActionProviderRegistry.all(h).filter(y=>y.providedCodeActionKinds?y.providedCodeActionKinds.some(w=>(0,a.mayIncludeActionsOfKind)(m,new a.CodeActionKind(w))):!0)}function o(h,m,y){if(!h.documentation)return;const w=h.documentation.map(g=>({kind:new a.CodeActionKind(g.kind),command:g.command}));if(y){let g;for(const f of w)f.kind.contains(y)&&(g?g.kind.contains(f.kind)&&(g=f):g=f);if(g)return g==null?void 0:g.command}for(const g of m)if(!!g.kind){for(const f of w)if(f.kind.contains(new a.CodeActionKind(g.kind)))return f.command}}c.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(h,m,y,w,g){return Ie(this,void 0,void 0,function*(){if(!(m instanceof S.URI))throw(0,T.illegalArgument)();const f=h.get(r.IModelService).getModel(m);if(!f)throw(0,T.illegalArgument)();const _=i.Selection.isISelection(y)?i.Selection.liftSelection(y):C.Range.isIRange(y)?f.validateRange(y):void 0;if(!_)throw(0,T.illegalArgument)();const D=typeof w=="string"?new a.CodeActionKind(w):void 0,N=yield d(f,_,{type:1,filter:{includeSourceActions:!0,include:D}},l.Progress.None,k.CancellationToken.None),I=[],M=Math.min(N.validActions.length,typeof g=="number"?g:0);for(let O=0;O<M;O++)I.push(N.validActions[O].resolve(k.CancellationToken.None));try{return yield Promise.all(I),N.validActions.map(O=>O.action)}finally{setTimeout(()=>N.dispose(),100)}})})}),define(ee[630],te([0,1,7,50,12,155,2,13,18,151,137,69,37]),function(G,e,b,k,T,L,S,p,C,i,v,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=e.CodeActionMenu=void 0;class l extends k.Action{constructor(d,t){super(d.command?d.command.id:d.title,c(d.title),void 0,!d.disabled,t);this.action=d}}function c(n){return n.replace(/\r\n|\r|\n/g," ")}let u=class extends S.Disposable{constructor(d,t,o,h){super();this._editor=d,this._delegate=t,this._contextMenuService=o,this._visible=!1,this._showingActions=this._register(new S.MutableDisposable),this._keybindingResolver=new s({getKeybindings:()=>h.getKeybindings()})}get isVisible(){return this._visible}show(d,t,o,h){return Ie(this,void 0,void 0,function*(){const m=h.includeDisabledActions?t.allActions:t.validActions;if(!m.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,T.canceled)();this._visible=!0,this._showingActions.value=t;const y=this.getMenuActions(d,m,t.documentation),w=p.Position.isIPosition(o)?this._toCoords(o):o||{x:0,y:0},g=this._keybindingResolver.getResolver(),f=this._editor.getOption(113);this._contextMenuService.showContextMenu({domForShadowRoot:f?this._editor.getDomNode():void 0,getAnchor:()=>w,getActions:()=>y,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:_=>_ instanceof l?g(_.action):void 0})})}getMenuActions(d,t,o){var h,m;const y=_=>new l(_.action,()=>this._delegate.onSelectCodeAction(_)),w=t.map(y),g=[...o],f=this._editor.getModel();if(f&&w.length)for(const _ of C.CodeActionProviderRegistry.all(f))_._getAdditionalMenuItems&&g.push(..._._getAdditionalMenuItems({trigger:d.type,only:(m=(h=d.filter)===null||h===void 0?void 0:h.include)===null||m===void 0?void 0:m.value},t.map(D=>D.action)));return g.length&&w.push(new k.Separator,...g.map(_=>y(new i.CodeActionItem({title:_.title,command:_},void 0)))),w}_toCoords(d){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(d,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(d),o=(0,b.getDomNodePagePosition)(this._editor.getDomNode()),h=o.left+t.left,m=o.top+t.top+t.height;return{x:h,y:m}}};u=Re([Ce(2,r.IContextMenuService),Ce(3,a.IKeybindingService)],u),e.CodeActionMenu=u;class s{constructor(d){this._keybindingProvider=d}getResolver(){const d=new L.Lazy(()=>this._keybindingProvider.getKeybindings().filter(t=>s.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let o=t.commandArgs;return t.command===i.organizeImportsCommandId?o={kind:v.CodeActionKind.SourceOrganizeImports.value}:t.command===i.fixAllCommandId&&(o={kind:v.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},v.CodeActionCommandArgs.fromUser(o,{kind:v.CodeActionKind.None,apply:"never"}))}));return t=>{if(t.kind){const o=this.bestKeybindingForCodeAction(t,d.getValue());return o==null?void 0:o.resolvedKeybinding}}}bestKeybindingForCodeAction(d,t){if(!d.kind)return;const o=new v.CodeActionKind(d.kind);return t.filter(h=>h.kind.contains(o)).filter(h=>h.preferred?d.isPreferred:!0).reduceRight((h,m)=>h?h.kind.contains(m.kind)?m:h:m,void 0)}}e.CodeActionKeybindingResolver=s,s.codeActionCommands=[i.refactorCommandId,i.codeActionCommandId,i.sourceActionCommandId,i.organizeImportsCommandId,i.fixAllCommandId]});var it=this&&this.__classPrivateFieldGet||function(G,e,b,k){if(b==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?G!==e||!k:!e.has(G))throw new TypeError("Cannot read private member from an object whose class did not declare it");return b==="m"?k:b==="a"?k.call(G):k?k.value:e.get(G)},vt=this&&this.__classPrivateFieldSet||function(G,e,b,k,T){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!T)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?G!==e||!T:!e.has(G))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?T.call(G,b):T?T.value=b:e.set(G,b),b};define(ee[631],te([0,1,15,12,6,2,43,3,18,16,59,151]),function(G,e,b,k,T,L,S,p,C,i,v,r){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new i.RawContextKey("supportedCodeAction","");class l extends L.Disposable{constructor(d,t,o,h=250){super();this._editor=d,this._markerService=t,this._signalChange=o,this._delay=h,this._autoTriggerTimer=this._register(new b.TimeoutTimer),this._register(this._markerService.onMarkerChanged(m=>this._onMarkerChanges(m))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(d){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(d);return this._createEventAndSignalChange(d,t)}_onMarkerChanges(d){const t=this._editor.getModel();!t||d.some(o=>(0,S.isEqual)(o,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(d){const t=this._editor.getModel();if(!!t)for(const o of this._markerService.read({resource:t.uri})){const h=t.validateRange(o);if(p.Range.intersectRanges(h,d))return p.Range.lift(h)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(d){if(!this._editor.hasModel())return;const t=this._editor.getModel(),o=this._editor.getSelection();if(o.isEmpty()&&d.type===2){const{lineNumber:h,column:m}=o.getPosition(),y=t.getLineContent(h);if(y.length===0)return;if(m===1){if(/\s/.test(y[0]))return}else if(m===t.getLineMaxColumn(h)){if(/\s/.test(y[y.length-1]))return}else if(/\s/.test(y[m-2])&&/\s/.test(y[m-1]))return}return o}_createEventAndSignalChange(d,t){const o=this._editor.getModel();if(!t||!o){this._signalChange(void 0);return}const h=this._getRangeOfMarker(t),m=h?h.getStartPosition():t.getStartPosition(),y={trigger:d,selection:t,position:m};return this._signalChange(y),y}}var c;(function(n){n.Empty={type:0};class d{constructor(o,h,m,y){this.trigger=o,this.rangeOrSelection=h,this.position=m,this._cancellablePromise=y,this.type=1,this.actions=y.catch(w=>{if((0,k.isPromiseCanceledError)(w))return u;throw w})}cancel(){this._cancellablePromise.cancel()}}n.Triggered=d})(c=e.CodeActionsState||(e.CodeActionsState={}));const u={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class s extends L.Disposable{constructor(d,t,o,h){super();this._editor=d,this._markerService=t,this._progressService=h,this._codeActionOracle=this._register(new L.MutableDisposable),this._state=c.Empty,this._onDidChangeState=this._register(new T.Emitter),this.onDidChangeState=this._onDidChangeState.event,a.set(this,!1),this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(o),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(C.CodeActionProviderRegistry.onDidChange(()=>this._update())),this._update()}dispose(){it(this,a,"f")||(vt(this,a,!0,"f"),super.dispose(),this.setState(c.Empty,!0))}_update(){if(it(this,a,"f"))return;this._codeActionOracle.value=void 0,this.setState(c.Empty);const d=this._editor.getModel();if(d&&C.CodeActionProviderRegistry.has(d)&&!this._editor.getOption(79)){const t=[];for(const o of C.CodeActionProviderRegistry.all(d))Array.isArray(o.providedCodeActionKinds)&&t.push(...o.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new l(this._editor,this._markerService,o=>{var h;if(!o){this.setState(c.Empty);return}const m=(0,b.createCancelablePromise)(y=>(0,r.getCodeActions)(d,o.selection,o.trigger,v.Progress.None,y));o.trigger.type===1&&((h=this._progressService)===null||h===void 0||h.showWhile(m,250)),this.setState(new c.Triggered(o.trigger,o.selection,o.position,m))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(d){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(d)}setState(d,t){d!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=d,!t&&!it(this,a,"f")&&this._onDidChangeState.fire(d))}}e.CodeActionModel=s,a=new WeakMap}),define(ee[632],te([0,1,15,12,2,66,14,18,251,610,26,34,589,7,92,78,478,25,139]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let t=class{constructor(h,m,y,w){this._editor=h,this._commandService=m,this._notificationService=y,this._codeLensCache=w,this._disposables=new T.DisposableStore,this._localToDispose=new T.DisposableStore,this._lenses=[],this._getCodeLensModelDelays=new d.LanguageFeatureRequestDelays(p.CodeLensProviderRegistry,250,2500),this._oldCodeLensModels=new T.DisposableStore,this._resolveCodeLensesDelays=new d.LanguageFeatureRequestDelays(p.CodeLensProviderRegistry,250,2500),this._resolveCodeLensesScheduler=new b.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(g=>{(g.hasChanged(41)||g.hasChanged(14)||g.hasChanged(13))&&this._updateLensStyle(),g.hasChanged(12)&&this._onModelChange()})),this._disposables.add(p.CodeLensProviderRegistry.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,c.hash)(this._editor.getId()).toString(16),this._styleElement=l.createStyleSheet(l.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var h;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(h=this._currentCodeLensModel)===null||h===void 0||h.dispose(),this._styleElement.remove()}_getLayoutInfo(){let h=this._editor.getOption(14),m;return!h||h<5?(h=this._editor.getOption(43)*.9|0,m=this._editor.getOption(57)):m=h*Math.max(1.3,this._editor.getOption(57)/this._editor.getOption(43))|0,{codeLensHeight:m,fontSize:h}}_updateLensStyle(){const{codeLensHeight:h,fontSize:m}=this._getLayoutInfo(),y=this._editor.getOption(13),w=this._editor.getOption(41),g=`--codelens-font-family${this._styleClassName}`,f=`--codelens-font-features${this._styleClassName}`;let _=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${h}px; font-size: ${m}px; padding-right: ${Math.round(m*.5)}px; font-feature-settings: var(${f}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${h}px; font-size: ${m}px; }
		`;y&&(_+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${g})}`),this._styleElement.textContent=_,this._editor.getContainerDomNode().style.setProperty(g,y??"inherit"),this._editor.getContainerDomNode().style.setProperty(f,w.fontFeatureSettings),this._editor.changeViewZones(D=>{for(let N of this._lenses)N.updateHeight(h,D)})}_localDispose(){var h,m,y;(h=this._getCodeLensModelPromise)===null||h===void 0||h.cancel(),this._getCodeLensModelPromise=void 0,(m=this._resolveCodeLensesPromise)===null||m===void 0||m.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(y=this._currentCodeLensModel)===null||y===void 0||y.dispose()}_onModelChange(){this._localDispose();const h=this._editor.getModel();if(!h||!this._editor.getOption(12))return;const m=this._codeLensCache.get(h);if(m&&this._renderCodeLensSymbols(m),!p.CodeLensProviderRegistry.has(h)){m&&this._localToDispose.add((0,b.disposableTimeout)(()=>{const w=this._codeLensCache.get(h);m===w&&(this._codeLensCache.delete(h),this._onModelChange())},30*1e3));return}for(const w of p.CodeLensProviderRegistry.all(h))if(typeof w.onDidChange=="function"){let g=w.onDidChange(()=>y.schedule());this._localToDispose.add(g)}const y=new b.RunOnceScheduler(()=>{var w;const g=Date.now();(w=this._getCodeLensModelPromise)===null||w===void 0||w.cancel(),this._getCodeLensModelPromise=(0,b.createCancelablePromise)(f=>(0,C.getCodeLensModel)(h,f)),this._getCodeLensModelPromise.then(f=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=f,this._codeLensCache.put(h,f);const _=this._getCodeLensModelDelays.update(h,Date.now()-g);y.delay=_,this._renderCodeLensSymbols(f),this._resolveCodeLensesInViewport()},k.onUnexpectedError)},this._getCodeLensModelDelays.get(h));this._localToDispose.add(y),this._localToDispose.add((0,T.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(w=>{this._editor.changeViewZones(g=>{let f=[],_=-1;this._lenses.forEach(N=>{!N.isValid()||_===N.getLineNumber()?f.push(N):(N.update(g),_=N.getLineNumber())});let D=new i.CodeLensHelper;f.forEach(N=>{N.dispose(D,g),this._lenses.splice(this._lenses.indexOf(N),1)}),D.commit(w)})}),y.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{y.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(w=>{w.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,T.toDisposable)(()=>{if(this._editor.getModel()){const w=L.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(g=>{this._editor.changeViewZones(f=>{this._disposeAllLenses(g,f)})}),w.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(w=>{if(w.target.type!==9)return;let g=w.target.element;if((g==null?void 0:g.tagName)==="SPAN"&&(g=g.parentElement),(g==null?void 0:g.tagName)==="A")for(const f of this._lenses){let _=f.getCommand(g);if(_){this._commandService.executeCommand(_.id,..._.arguments||[]).catch(D=>this._notificationService.error(D));break}}})),y.schedule()}_disposeAllLenses(h,m){const y=new i.CodeLensHelper;for(const w of this._lenses)w.dispose(y,m);h&&y.commit(h),this._lenses.length=0}_renderCodeLensSymbols(h){if(!this._editor.hasModel())return;let m=this._editor.getModel().getLineCount(),y=[],w;for(let _ of h.lenses){let D=_.symbol.range.startLineNumber;D<1||D>m||(w&&w[w.length-1].symbol.range.startLineNumber===D?w.push(_):(w=[_],y.push(w)))}const g=L.StableEditorScrollState.capture(this._editor),f=this._getLayoutInfo();this._editor.changeDecorations(_=>{this._editor.changeViewZones(D=>{const N=new i.CodeLensHelper;let I=0,M=0;for(;M<y.length&&I<this._lenses.length;){let O=y[M][0].symbol.range.startLineNumber,R=this._lenses[I].getLineNumber();R<O?(this._lenses[I].dispose(N,D),this._lenses.splice(I,1)):R===O?(this._lenses[I].updateCodeLensSymbols(y[M],N),M++,I++):(this._lenses.splice(I,0,new i.CodeLensWidget(y[M],this._editor,this._styleClassName,N,D,f.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),I++,M++)}for(;I<this._lenses.length;)this._lenses[I].dispose(N,D),this._lenses.splice(I,1);for(;M<y.length;)this._lenses.push(new i.CodeLensWidget(y[M],this._editor,this._styleClassName,N,D,f.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),M++;N.commit(_)})}),g.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var h;(h=this._resolveCodeLensesPromise)===null||h===void 0||h.cancel(),this._resolveCodeLensesPromise=void 0;const m=this._editor.getModel();if(!m)return;const y=[],w=[];if(this._lenses.forEach(_=>{const D=_.computeIfNecessary(m);D&&(y.push(D),w.push(_))}),y.length===0)return;const g=Date.now(),f=(0,b.createCancelablePromise)(_=>{const D=y.map((N,I)=>{const M=new Array(N.length),O=N.map((R,P)=>!R.symbol.command&&typeof R.provider.resolveCodeLens=="function"?Promise.resolve(R.provider.resolveCodeLens(m,R.symbol,_)).then(A=>{M[P]=A},k.onUnexpectedExternalError):(M[P]=R.symbol,Promise.resolve(void 0)));return Promise.all(O).then(()=>{!_.isCancellationRequested&&!w[I].isDisposed()&&w[I].updateCommands(M)})});return Promise.all(D)});this._resolveCodeLensesPromise=f,this._resolveCodeLensesPromise.then(()=>{const _=this._resolveCodeLensesDelays.update(m,Date.now()-g);this._resolveCodeLensesScheduler.delay=_,this._currentCodeLensModel&&this._codeLensCache.put(m,this._currentCodeLensModel),this._oldCodeLensModels.clear(),f===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},_=>{(0,k.onUnexpectedError)(_),f===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getLenses(){return this._lenses}};t.ID="css.editor.codeLens",t=Re([Ce(1,v.ICommandService),Ce(2,r.INotificationService),Ce(3,a.ICodeLensCache)],t),e.CodeLensContribution=t,(0,S.registerEditorContribution)(t.ID,t),(0,S.registerEditorAction)(class extends S.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:n.EditorContextKeys.hasCodeLensProvider,label:(0,s.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(h,m){return Ie(this,void 0,void 0,function*(){if(!m.hasModel())return;const y=h.get(u.IQuickInputService),w=h.get(v.ICommandService),g=h.get(r.INotificationService),f=m.getSelection().positionLineNumber,_=m.getContribution(t.ID),D=[];for(let I of _.getLenses())if(I.getLineNumber()===f)for(let M of I.getItems()){const{command:O}=M.symbol;O&&D.push({label:O.title,command:O})}if(D.length===0)return;const N=yield y.pick(D,{canPickMany:!1});if(!!N)try{yield w.executeCommand(N.command.id,...N.command.arguments||[])}catch(I){g.error(I)}})}})}),define(ee[264],te([0,1,15,29,12,92,2,14,28,3,31,18,252,38]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=void 0;const c=500;let u=class xt extends S.Disposable{constructor(n,d,t){super();this._editor=n,this._codeEditorService=d,this._configurationService=t,this._localToDispose=this._register(new S.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(n.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(n.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(r.ColorProviderRegistry.onDidChange(()=>this.onModelChanged())),this._register(n.onDidChangeConfiguration(()=>{let o=this._isEnabled;this._isEnabled=this.isEnabled(),o!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const n=this._editor.getModel();if(!n)return!1;const d=n.getLanguageIdentifier(),t=this._configurationService.getValue(d.language);if(t&&typeof t=="object"){const o=t.colorDecorators;if(o&&o.enable!==void 0&&!o.enable)return o.enable}return this._editor.getOption(15)}static get(n){return n.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const n=this._editor.getModel();!n||!r.ColorProviderRegistry.has(n)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new b.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},xt.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=(0,b.createCancelablePromise)(n=>{const d=this._editor.getModel();return d?(0,a.getColors)(d,n):Promise.resolve([])}),this._computePromise.then(n=>{this.updateDecorations(n),this.updateColorDecorators(n),this._computePromise=null},T.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(n){const d=n.map(t=>({range:{startLineNumber:t.colorInfo.range.startLineNumber,startColumn:t.colorInfo.range.startColumn,endLineNumber:t.colorInfo.range.endLineNumber,endColumn:t.colorInfo.range.endColumn},options:v.ModelDecorationOptions.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,d),this._colorDatas=new Map,this._decorationsIds.forEach((t,o)=>this._colorDatas.set(t,n[o]))}updateColorDecorators(n){let d=[],t={};for(let o=0;o<n.length&&d.length<c;o++){const{red:h,green:m,blue:y,alpha:w}=n[o].colorInfo.color,g=new k.RGBA(Math.round(h*255),Math.round(m*255),Math.round(y*255),w);let f=(0,L.hash)(`rgba(${g.r},${g.g},${g.b},${g.a})`).toString(16),_=`rgba(${g.r}, ${g.g}, ${g.b}, ${g.a})`,D="colorBox-"+f;!this._decorationsTypes.has(D)&&!t[D]&&this._codeEditorService.registerDecorationType("color-detector-color",D,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:_},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),t[D]=!0,d.push({range:{startLineNumber:n[o].colorInfo.range.startLineNumber,startColumn:n[o].colorInfo.range.startColumn,endLineNumber:n[o].colorInfo.range.endLineNumber,endColumn:n[o].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(D,!0)})}this._decorationsTypes.forEach(o=>{t[o]||this._codeEditorService.removeDecorationType(o)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,d)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(n=>{this._codeEditorService.removeDecorationType(n)})}getColorData(n){const d=this._editor.getModel();if(!d)return null;const t=d.getDecorationsInRange(i.Range.fromPositions(n,n)).filter(o=>this._colorDatas.has(o.id));return t.length===0?null:this._colorDatas.get(t[0].id)}};u.ID="editor.contrib.colorDetector",u.RECOMPUTE_TIME=1e3,u=Re([Ce(1,C.ICodeEditorService),Ce(2,l.IConfigurationService)],u),e.ColorDetector=u,(0,p.registerEditorContribution)(u.ID,u)}),define(ee[633],te([0,1,479,41,14,3,25,226,409,33]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class v extends T.EditorAction{constructor(s,n){super(n);this._type=s}run(s,n){if(!n.hasModel())return;const d=n.getModel(),t=[],o=d.getOptions(),h=n.getOption(17),m=n.getSelections().map((w,g)=>({selection:w,index:g,ignoreFirstLine:!1}));m.sort((w,g)=>L.Range.compareRangesUsingStarts(w.selection,g.selection));let y=m[0];for(let w=1;w<m.length;w++){const g=m[w];y.selection.endLineNumber===g.selection.startLineNumber&&(y.index<g.index?g.ignoreFirstLine=!0:(y.ignoreFirstLine=!0,y=g))}for(const w of m)t.push(new C.LineCommentCommand(w.selection,o.tabSize,this._type,h.insertSpace,h.ignoreEmptyLines,w.ignoreFirstLine));n.pushUndoStop(),n.executeCommands(this.id,t),n.pushUndoStop()}}class r extends v{constructor(){super(0,{id:"editor.action.commentLine",label:b.localize(0,null),alias:"Toggle Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"5_insert",title:b.localize(1,null),order:1}})}}class a extends v{constructor(){super(1,{id:"editor.action.addCommentLine",label:b.localize(2,null),alias:"Add Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|33),weight:100}})}}class l extends v{constructor(){super(2,{id:"editor.action.removeCommentLine",label:b.localize(3,null),alias:"Remove Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|51),weight:100}})}}class c extends T.EditorAction{constructor(){super({id:"editor.action.blockComment",label:b.localize(4,null),alias:"Toggle Block Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"5_insert",title:b.localize(5,null),order:2}})}run(s,n){if(!n.hasModel())return;const d=n.getOption(17),t=[],o=n.getSelections();for(const h of o)t.push(new p.BlockCommentCommand(h,d.insertSpace));n.pushUndoStop(),n.executeCommands(this.id,t),n.pushUndoStop()}}(0,T.registerEditorAction)(r),(0,T.registerEditorAction)(a),(0,T.registerEditorAction)(l),(0,T.registerEditorAction)(c)}),define(ee[634],te([0,1,480,7,50,2,14,25,33,16,69,37,117,17]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let c=class Vt{constructor(n,d,t,o,h,m){this._contextMenuService=d,this._contextViewService=t,this._contextKeyService=o,this._keybindingService=h,this._menuService=m,this._toDispose=new L.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=n,this._toDispose.add(this._editor.onContextMenu(y=>this._onContextMenu(y))),this._toDispose.add(this._editor.onMouseWheel(y=>{if(this._contextMenuIsBeingShownCount>0){const w=this._contextViewService.getContextViewElement(),g=y.srcElement;g.shadowRoot&&k.getShadowRoot(w)===g.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(y=>{y.keyCode===58&&(y.preventDefault(),y.stopPropagation(),this.showContextMenu())}))}static get(n){return n.getContribution(Vt.ID)}_onContextMenu(n){if(!this._editor.hasModel())return;if(!this._editor.getOption(18)){this._editor.focus(),n.target.position&&!this._editor.getSelection().containsPosition(n.target.position)&&this._editor.setPosition(n.target.position);return}if(n.target.type===12||(n.event.preventDefault(),n.target.type!==6&&n.target.type!==7&&n.target.type!==1))return;if(this._editor.focus(),n.target.position){let t=!1;for(const o of this._editor.getSelections())if(o.containsPosition(n.target.position)){t=!0;break}t||this._editor.setPosition(n.target.position)}let d=null;n.target.type!==1&&(d={x:n.event.posx-1,width:2,y:n.event.posy-1,height:2}),this.showContextMenu(d)}showContextMenu(n){if(!this._editor.getOption(18)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}const d=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?C.MenuId.SimpleEditorContext:C.MenuId.EditorContext);d.length>0&&this._doShowContextMenu(d,n)}_getMenuActions(n,d){const t=[],o=this._menuService.createMenu(d,this._contextKeyService),h=o.getActions({arg:n.uri});o.dispose();for(let m of h){const[,y]=m;let w=0;for(const g of y)if(g instanceof C.SubmenuItemAction){const f=this._getMenuActions(n,g.item.submenu);f.length>0&&(t.push(new T.SubmenuAction(g.id,g.label,f)),w++)}else t.push(g),w++;w&&t.push(new T.Separator)}return t.length&&t.pop(),t}_doShowContextMenu(n,d=null){if(!this._editor.hasModel())return;const t=this._editor.getOption(51);if(this._editor.updateOptions({hover:{enabled:!1}}),!d){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const h=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),m=k.getDomNodePagePosition(this._editor.getDomNode()),y=m.left+h.left,w=m.top+h.top+h.height;d={x:y,y:w}}const o=this._editor.getOption(113)&&!l.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:o?this._editor.getDomNode():void 0,getAnchor:()=>d,getActions:()=>n,getActionViewItem:h=>{const m=this._keybindingFor(h);if(m)return new a.ActionViewItem(h,h,{label:!0,keybinding:m.getLabel(),isMenu:!0});const y=h;return typeof y.getActionViewItem=="function"?y.getActionViewItem():new a.ActionViewItem(h,h,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:h=>this._keybindingFor(h),onHide:h=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:t})}})}_keybindingFor(n){return this._keybindingService.lookupKeybinding(n.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};c.ID="editor.contrib.contextmenu",c=Re([Ce(1,v.IContextMenuService),Ce(2,v.IContextViewService),Ce(3,i.IContextKeyService),Ce(4,r.IKeybindingService),Ce(5,C.IMenuService)],c),e.ContextMenuController=c;class u extends S.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:b.localize(0,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.textInputFocus,primary:1024|68,weight:100}})}run(n,d){c.get(d).showContextMenu()}}(0,S.registerEditorContribution)(c.ID,c),(0,S.registerEditorAction)(u)}),define(ee[635],te([0,1,481,2,14,25]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class S{constructor(a){this.selections=a}equals(a){const l=this.selections.length,c=a.selections.length;if(l!==c)return!1;for(let u=0;u<l;u++)if(!this.selections[u].equalsSelection(a.selections[u]))return!1;return!0}}class p{constructor(a,l,c){this.cursorState=a,this.scrollTop=l,this.scrollLeft=c}}class C extends k.Disposable{constructor(a){super();this._editor=a,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(a.onDidChangeModel(l=>{this._undoStack=[],this._redoStack=[]})),this._register(a.onDidChangeModelContent(l=>{this._undoStack=[],this._redoStack=[]})),this._register(a.onDidChangeCursorSelection(l=>{if(this._isCursorUndoRedo||!l.oldSelections||l.oldModelVersionId!==l.modelVersionId)return;const c=new S(l.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(c)||(this._undoStack.push(new p(c,a.getScrollTop(),a.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(a){return a.getContribution(C.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new p(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new p(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(a){this._isCursorUndoRedo=!0,this._editor.setSelections(a.cursorState.selections),this._editor.setScrollPosition({scrollTop:a.scrollTop,scrollLeft:a.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=C,C.ID="editor.contrib.cursorUndoRedoController";class i extends T.EditorAction{constructor(){super({id:"cursorUndo",label:b.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:2048|51,weight:100}})}run(a,l,c){C.get(l).cursorUndo()}}e.CursorUndo=i;class v extends T.EditorAction{constructor(){super({id:"cursorRedo",label:b.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(a,l,c){C.get(l).cursorRedo()}}e.CursorRedo=v,(0,T.registerEditorContribution)(C.ID,C),(0,T.registerEditorAction)(i),(0,T.registerEditorAction)(v)}),define(ee[636],te([0,1,2,17,14,13,3,21,410,31,348]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function v(a){return k.isMacintosh?a.altKey:a.ctrlKey}class r extends b.Disposable{constructor(l){super();this._editor=l,this._register(this._editor.onMouseDown(c=>this._onEditorMouseDown(c))),this._register(this._editor.onMouseUp(c=>this._onEditorMouseUp(c))),this._register(this._editor.onMouseDrag(c=>this._onEditorMouseDrag(c))),this._register(this._editor.onMouseDrop(c=>this._onEditorMouseDrop(c))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(c=>this.onEditorKeyDown(c))),this._register(this._editor.onKeyUp(c=>this.onEditorKeyUp(c))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(l){!this._editor.getOption(29)||this._editor.getOption(16)||(v(l)&&(this._modifierPressed=!0),this._mouseDown&&v(l)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(l){!this._editor.getOption(29)||this._editor.getOption(16)||(v(l)&&(this._modifierPressed=!1),this._mouseDown&&l.keyCode===r.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(l){this._mouseDown=!0}_onEditorMouseUp(l){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(l){let c=l.target;if(this._dragSelection===null){let s=(this._editor.getSelections()||[]).filter(n=>c.position&&n.containsPosition(c.position));if(s.length===1)this._dragSelection=s[0];else return}v(l.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),c.position&&(this._dragSelection.containsPosition(c.position)?this._removeDecoration():this.showAt(c.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(l){if(l.target&&(this._hitContent(l.target)||this._hitMargin(l.target))&&l.target.position){let c=new L.Position(l.target.position.lineNumber,l.target.position.column);if(this._dragSelection===null){let u=null;if(l.event.shiftKey){let s=this._editor.getSelection();if(s){const{selectionStartLineNumber:n,selectionStartColumn:d}=s;u=[new p.Selection(n,d,c.lineNumber,c.column)]}}else u=(this._editor.getSelections()||[]).map(s=>s.containsPosition(c)?new p.Selection(c.lineNumber,c.column,c.lineNumber,c.column):s);this._editor.setSelections(u||[],"mouse",3)}else(!this._dragSelection.containsPosition(c)||(v(l.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(c)||this._dragSelection.getStartPosition().equals(c)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(r.ID,new C.DragAndDropCommand(this._dragSelection,c,v(l.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(l){let c=[{range:new S.Range(l.lineNumber,l.column,l.lineNumber,l.column),options:r._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,c),this._editor.revealPosition(l,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(l){return l.type===6||l.type===7}_hitMargin(l){return l.type===2||l.type===3||l.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=r,r.ID="editor.contrib.dragAndDrop",r.TRIGGER_KEY_VALUE=k.isMacintosh?6:5,r._DECORATION_OPTIONS=i.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,T.registerEditorContribution)(r.ID,r)}),define(ee[637],te([0,1,486,14,133]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends k.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:b.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(i,v){T.EditorZoom.setZoomLevel(T.EditorZoom.getZoomLevel()+1)}}class S extends k.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:b.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(i,v){T.EditorZoom.setZoomLevel(T.EditorZoom.getZoomLevel()-1)}}class p extends k.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:b.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(i,v){T.EditorZoom.setZoomLevel(0)}}(0,k.registerEditorAction)(L),(0,k.registerEditorAction)(S),(0,k.registerEditorAction)(p)}),define(ee[265],te([0,1,44,19,23,12,24,66,111,13,3,21,18,76,36,228,487,546,9,72,26,20,54]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function y(R){if(R=R.filter(E=>E.range),!R.length)return;let{range:P}=R[0];for(let E=1;E<R.length;E++)P=v.Range.plusRange(P,R[E].range);const{startLineNumber:A,endLineNumber:F}=P;A===F?R.length===1?(0,b.alert)(s.localize(0,null,A)):(0,b.alert)(s.localize(1,null,R.length,A)):R.length===1?(0,b.alert)(s.localize(2,null,A,F)):(0,b.alert)(s.localize(3,null,R.length,A,F))}e.alertFormattingEdits=y;function w(R){const P=[],A=new Set,F=a.DocumentFormattingEditProviderRegistry.ordered(R);for(const W of F)P.push(W),W.extensionId&&A.add(n.ExtensionIdentifier.toKey(W.extensionId));const E=a.DocumentRangeFormattingEditProviderRegistry.ordered(R);for(const W of E){if(W.extensionId){if(A.has(n.ExtensionIdentifier.toKey(W.extensionId)))continue;A.add(n.ExtensionIdentifier.toKey(W.extensionId))}P.push({displayName:W.displayName,extensionId:W.extensionId,provideDocumentFormattingEdits(V,$,Z){return W.provideDocumentRangeFormattingEdits(V,V.getFullModelRange(),$,Z)}})}return P}e.getRealAndSyntheticDocumentFormattersOrdered=w;class g{static setFormatterSelector(P){return{dispose:g._selectors.unshift(P)}}static select(P,A,F){return Ie(this,void 0,void 0,function*(){if(P.length===0)return;const E=m.Iterable.first(g._selectors);if(E)return yield E(P,A,F)})}}e.FormattingConflicts=g,g._selectors=new t.LinkedList;function f(R,P,A,F,E,W){return Ie(this,void 0,void 0,function*(){const V=R.get(d.IInstantiationService),$=(0,C.isCodeEditor)(P)?P.getModel():P,Z=a.DocumentRangeFormattingEditProviderRegistry.ordered($),X=yield g.select(Z,$,F);X&&(E.report(X),yield V.invokeFunction(_,X,P,A,W))})}e.formatDocumentRangesWithSelectedProvider=f;function _(R,P,A,F,E){return Ie(this,void 0,void 0,function*(){const W=R.get(l.IEditorWorkerService);let V,$;(0,C.isCodeEditor)(A)?(V=A.getModel(),$=new p.EditorStateCancellationTokenSource(A,1|4,void 0,E)):(V=A,$=new p.TextModelCancellationTokenSource(A,E));let Z=[],X=0;for(let q of(0,k.asArray)(F).sort(v.Range.compareRangesUsingStarts))X>0&&v.Range.areIntersectingOrTouching(Z[X-1],q)?Z[X-1]=v.Range.fromPositions(Z[X-1].getStartPosition(),q.getEndPosition()):X=Z.push(q);const J=q=>Ie(this,void 0,void 0,function*(){return(yield P.provideDocumentRangeFormattingEdits(V,q,V.getFormattingOptions(),$.token))||[]}),ie=(q,B)=>{if(!q.length||!B.length)return!1;const j=q.reduce((H,z)=>v.Range.plusRange(H,z.range),q[0].range);if(!B.some(H=>v.Range.intersectRanges(j,H.range)))return!1;for(let H of q)for(let z of B)if(v.Range.intersectRanges(H.range,z.range))return!0;return!1},de=[],ue=[];try{for(let q of Z){if($.token.isCancellationRequested)return!0;ue.push(yield J(q))}for(let q=0;q<Z.length;++q)for(let B=q+1;B<Z.length;++B){if($.token.isCancellationRequested)return!0;if(ie(ue[q],ue[B])){const j=v.Range.plusRange(Z[q],Z[B]),H=yield J(j);Z.splice(B,1),Z.splice(q,1),Z.push(j),ue.splice(B,1),ue.splice(q,1),ue.push(H),q=0,B=0}}for(let q of ue){if($.token.isCancellationRequested)return!0;const B=yield W.computeMoreMinimalEdits(V.uri,q);B&&de.push(...B)}}finally{$.dispose()}if(de.length===0)return!1;if((0,C.isCodeEditor)(A))u.FormattingEdit.execute(A,de,!0),y(de),A.revealPositionInCenterIfOutsideViewport(A.getPosition(),1);else{const[{range:q}]=de,B=new r.Selection(q.startLineNumber,q.startColumn,q.endLineNumber,q.endColumn);V.pushEditOperations([B],de.map(j=>({text:j.text,range:v.Range.lift(j.range),forceMoveMarkers:!0})),j=>{for(const{range:H}of j)if(v.Range.areIntersectingOrTouching(H,B))return[new r.Selection(H.startLineNumber,H.startColumn,H.endLineNumber,H.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=_;function D(R,P,A,F,E){return Ie(this,void 0,void 0,function*(){const W=R.get(d.IInstantiationService),V=(0,C.isCodeEditor)(P)?P.getModel():P,$=w(V),Z=yield g.select($,V,A);Z&&(F.report(Z),yield W.invokeFunction(N,Z,P,A,E))})}e.formatDocumentWithSelectedProvider=D;function N(R,P,A,F,E){return Ie(this,void 0,void 0,function*(){const W=R.get(l.IEditorWorkerService);let V,$;(0,C.isCodeEditor)(A)?(V=A.getModel(),$=new p.EditorStateCancellationTokenSource(A,1|4,void 0,E)):(V=A,$=new p.TextModelCancellationTokenSource(A,E));let Z;try{const X=yield P.provideDocumentFormattingEdits(V,V.getFormattingOptions(),$.token);if(Z=yield W.computeMoreMinimalEdits(V.uri,X),$.token.isCancellationRequested)return!0}finally{$.dispose()}if(!Z||Z.length===0)return!1;if((0,C.isCodeEditor)(A))u.FormattingEdit.execute(A,Z,F!==2),F!==2&&(y(Z),A.revealPositionInCenterIfOutsideViewport(A.getPosition(),1));else{const[{range:X}]=Z,J=new r.Selection(X.startLineNumber,X.startColumn,X.endLineNumber,X.endColumn);V.pushEditOperations([J],Z.map(ie=>({text:ie.text,range:v.Range.lift(ie.range),forceMoveMarkers:!0})),ie=>{for(const{range:de}of ie)if(v.Range.areIntersectingOrTouching(de,J))return[new r.Selection(de.startLineNumber,de.startColumn,de.endLineNumber,de.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=N;function I(R,P,A,F,E){return Ie(this,void 0,void 0,function*(){const W=a.DocumentRangeFormattingEditProviderRegistry.ordered(P);for(const V of W){let $=yield Promise.resolve(V.provideDocumentRangeFormattingEdits(P,A,F,E)).catch(L.onUnexpectedExternalError);if((0,k.isNonEmptyArray)($))return yield R.computeMoreMinimalEdits(P.uri,$)}})}e.getDocumentRangeFormattingEditsUntilResult=I;function M(R,P,A,F){return Ie(this,void 0,void 0,function*(){const E=w(P);for(const W of E){let V=yield Promise.resolve(W.provideDocumentFormattingEdits(P,A,F)).catch(L.onUnexpectedExternalError);if((0,k.isNonEmptyArray)(V))return yield R.computeMoreMinimalEdits(P.uri,V)}})}e.getDocumentFormattingEditsUntilResult=M;function O(R,P,A,F,E){const W=a.OnTypeFormattingEditProviderRegistry.ordered(P);return W.length===0||W[0].autoFormatTriggerCharacters.indexOf(F)<0?Promise.resolve(void 0):Promise.resolve(W[0].provideOnTypeFormattingEdits(P,A,F,E,T.CancellationToken.None)).catch(L.onUnexpectedExternalError).then(V=>R.computeMoreMinimalEdits(P.uri,V))}e.getOnTypeFormattingEdits=O,o.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(R,...P){const[A,F,E]=P;(0,h.assertType)(S.URI.isUri(A)),(0,h.assertType)(v.Range.isIRange(F));const W=R.get(c.IModelService).getModel(A);if(!W)throw(0,L.illegalArgument)("resource");return I(R.get(l.IEditorWorkerService),W,v.Range.lift(F),E,T.CancellationToken.None)}),o.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(R,...P){const[A,F]=P;(0,h.assertType)(S.URI.isUri(A));const E=R.get(c.IModelService).getModel(A);if(!E)throw(0,L.illegalArgument)("resource");return M(R.get(l.IEditorWorkerService),E,F,T.CancellationToken.None)}),o.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(R,...P){const[A,F,E,W]=P;(0,h.assertType)(S.URI.isUri(A)),(0,h.assertType)(i.Position.isIPosition(F)),(0,h.assertType)(typeof E=="string");const V=R.get(c.IModelService).getModel(A);if(!V)throw(0,L.illegalArgument)("resource");return O(R.get(l.IEditorWorkerService),V,i.Position.lift(F),E,W)})}),define(ee[638],te([0,1,19,23,41,2,14,28,94,3,25,18,76,265,228,488,26,16,9,12,59]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let h=class{constructor(f,_){this._workerService=_,this._callOnDispose=new L.DisposableStore,this._callOnModel=new L.DisposableStore,this._editor=f,this._callOnDispose.add(f.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(f.onDidChangeModel(()=>this._update())),this._callOnDispose.add(f.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(r.OnTypeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(46)||!this._editor.hasModel())return;const f=this._editor.getModel(),[_]=r.OnTypeFormattingEditProviderRegistry.ordered(f);if(!_||!_.autoFormatTriggerCharacters)return;let D=new C.CharacterSet;for(let N of _.autoFormatTriggerCharacters)D.add(N.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(N=>{let I=N.charCodeAt(N.length-1);D.has(I)&&this._trigger(String.fromCharCode(I))}))}_trigger(f){if(!this._editor.hasModel()||this._editor.getSelections().length>1)return;const _=this._editor.getModel(),D=this._editor.getPosition();let N=!1;const I=this._editor.onDidChangeModelContent(M=>{if(M.isFlush){N=!0,I.dispose();return}for(let O=0,R=M.changes.length;O<R;O++)if(M.changes[O].range.endLineNumber<=D.lineNumber){N=!0,I.dispose();return}});(0,l.getOnTypeFormattingEdits)(this._workerService,_,D,f,_.getFormattingOptions()).then(M=>{I.dispose(),!N&&(0,b.isNonEmptyArray)(M)&&(c.FormattingEdit.execute(this._editor,M,!0),(0,l.alertFormattingEdits)(M))},M=>{throw I.dispose(),M})}};h.ID="editor.contrib.autoFormat",h=Re([Ce(1,a.IEditorWorkerService)],h);let m=class{constructor(f,_){this.editor=f,this._instantiationService=_,this._callOnDispose=new L.DisposableStore,this._callOnModel=new L.DisposableStore,this._callOnDispose.add(f.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(f.onDidChangeModel(()=>this._update())),this._callOnDispose.add(f.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(r.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(45)&&(!this.editor.hasModel()||!r.DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:f})=>this._trigger(f))))}_trigger(f){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(l.formatDocumentRangesWithSelectedProvider,this.editor,f,2,o.Progress.None,k.CancellationToken.None).catch(t.onUnexpectedError)}};m.ID="editor.contrib.formatOnPaste",m=Re([Ce(1,d.IInstantiationService)],m);class y extends S.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:u.localize(0,null),alias:"Format Document",precondition:n.ContextKeyExpr.and(v.EditorContextKeys.notInCompositeEditor,v.EditorContextKeys.writable,v.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(f,_){return Ie(this,void 0,void 0,function*(){if(_.hasModel()){const D=f.get(d.IInstantiationService);yield f.get(o.IEditorProgressService).showWhile(D.invokeFunction(l.formatDocumentWithSelectedProvider,_,1,o.Progress.None,k.CancellationToken.None),250)}})}}class w extends S.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:u.localize(1,null),alias:"Format Selection",precondition:n.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,2048|36),weight:100},contextMenuOpts:{when:v.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(f,_){return Ie(this,void 0,void 0,function*(){if(!_.hasModel())return;const D=f.get(d.IInstantiationService),N=_.getModel(),I=_.getSelections().map(O=>O.isEmpty()?new i.Range(O.startLineNumber,1,O.startLineNumber,N.getLineMaxColumn(O.startLineNumber)):O);yield f.get(o.IEditorProgressService).showWhile(D.invokeFunction(l.formatDocumentRangesWithSelectedProvider,_,I,1,o.Progress.None,k.CancellationToken.None),250)})}}(0,S.registerEditorContribution)(h.ID,h),(0,S.registerEditorContribution)(m.ID,m),(0,S.registerEditorAction)(y),(0,S.registerEditorAction)(w),s.CommandsRegistry.registerCommand("editor.action.format",g=>Ie(void 0,void 0,void 0,function*(){const f=g.get(p.ICodeEditorService).getFocusedCodeEditor();if(!f||!f.hasModel())return;const _=g.get(s.ICommandService);f.getSelection().isEmpty()?yield _.executeCommand("editor.action.formatDocument"):yield _.executeCommand("editor.action.formatSelection")}))}),define(ee[266],te([0,1,23,12,14,18,118]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function p(c,u,s,n){const t=s.ordered(c).map(o=>Promise.resolve(n(o,c,u)).then(void 0,h=>{(0,k.onUnexpectedExternalError)(h)}));return Promise.all(t).then(o=>{const h=[];for(let m of o)Array.isArray(m)?h.push(...m):m&&h.push(m);return h})}function C(c,u,s){return p(c,u,L.DefinitionProviderRegistry,(n,d,t)=>n.provideDefinition(d,t,s))}e.getDefinitionsAtPosition=C;function i(c,u,s){return p(c,u,L.DeclarationProviderRegistry,(n,d,t)=>n.provideDeclaration(d,t,s))}e.getDeclarationsAtPosition=i;function v(c,u,s){return p(c,u,L.ImplementationProviderRegistry,(n,d,t)=>n.provideImplementation(d,t,s))}e.getImplementationsAtPosition=v;function r(c,u,s){return p(c,u,L.TypeDefinitionProviderRegistry,(n,d,t)=>n.provideTypeDefinition(d,t,s))}e.getTypeDefinitionsAtPosition=r;function a(c,u,s,n){return p(c,u,L.ReferenceProviderRegistry,(d,t,o)=>Ie(this,void 0,void 0,function*(){const h=yield d.provideReferences(t,o,{includeDeclaration:!0},n);if(!s||!h||h.length!==2)return h;const m=yield d.provideReferences(t,o,{includeDeclaration:!1},n);return m&&m.length===1?m:h}))}e.getReferencesAtPosition=a;function l(c){return Ie(this,void 0,void 0,function*(){const u=yield c(),s=new S.ReferencesModel(u,""),n=s.references.map(d=>d.link);return s.dispose(),n})}(0,T.registerModelAndPositionCommand)("_executeDefinitionProvider",(c,u)=>l(()=>C(c,u,b.CancellationToken.None))),(0,T.registerModelAndPositionCommand)("_executeDeclarationProvider",(c,u)=>l(()=>i(c,u,b.CancellationToken.None))),(0,T.registerModelAndPositionCommand)("_executeImplementationProvider",(c,u)=>l(()=>v(c,u,b.CancellationToken.None))),(0,T.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(c,u)=>l(()=>r(c,u,b.CancellationToken.None))),(0,T.registerModelAndPositionCommand)("_executeReferenceProvider",(c,u)=>l(()=>a(c,u,!1,b.CancellationToken.None)))}),define(ee[639],te([0,1,16,9,75,88,14,28,3,2,6,497,37,34,43]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new b.RawContextKey("hasSymbols",!1,(0,r.localize)(0,null)),e.ISymbolNavigationService=(0,k.createDecorator)("ISymbolNavigationService");let u=class{constructor(d,t,o,h){this._editorService=t,this._notificationService=o,this._keybindingService=h,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(d)}reset(){var d,t;this._ctxHasSymbols.reset(),(d=this._currentState)===null||d===void 0||d.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(d){const t=d.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(d),this._ctxHasSymbols.set(!0),this._showMessage();const o=new s(this._editorService),h=o.onDidChange(m=>{if(this._ignoreEditorChange)return;const y=this._editorService.getActiveCodeEditor();if(!y)return;const w=y.getModel(),g=y.getPosition();if(!w||!g)return;let f=!1,_=!1;for(const D of t.references)if((0,c.isEqual)(D.uri,w.uri))f=!0,_=_||C.Range.containsPosition(D.range,g);else if(f)break;(!f||!_)&&this.reset()});this._currentState=(0,i.combinedDisposable)(o,h)}revealNext(d){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:C.Range.collapseToStart(t.range),selectionRevealType:3}},d).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var d;(d=this._currentMessage)===null||d===void 0||d.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),o=t?(0,r.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,t.getLabel()):(0,r.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(o)}};u=Re([Ce(0,b.IContextKeyService),Ce(1,p.ICodeEditorService),Ce(2,l.INotificationService),Ce(3,a.IKeybindingService)],u),(0,T.registerSingleton)(e.ISymbolNavigationService,u,!0),(0,S.registerEditorCommand)(new class extends S.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(n,d){return n.get(e.ISymbolNavigationService).revealNext(d)}}),L.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(n){n.get(e.ISymbolNavigationService).reset()}});let s=class{constructor(d){this._listener=new Map,this._disposables=new i.DisposableStore,this._onDidChange=new v.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(d.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(d.onCodeEditorAdd(this._onDidAddEditor,this)),d.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,i.dispose)(this._listener.values())}_onDidAddEditor(d){this._listener.set(d,(0,i.combinedDisposable)(d.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:d})),d.onDidChangeModelContent(t=>this._onDidChange.fire({editor:d}))))}_onDidRemoveEditor(d){var t;(t=this._listener.get(d))===null||t===void 0||t.dispose(),this._listener.delete(d)}};s=Re([Ce(0,p.ICodeEditorService)],s)}),define(ee[640],te([0,1,2,3,23,252,264,29,408,611,11]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorHoverParticipant=e.ColorHover=void 0;class r{constructor(c,u,s,n){this.owner=c,this.range=u,this.model=s,this.provider=n,this.forceShowAtRange=!0}isValidForHoverAnchor(c){return c.type===1&&this.range.startColumn<=c.range.startColumn&&this.range.endColumn>=c.range.endColumn}}e.ColorHover=r;let a=class{constructor(c,u,s){this._editor=c,this._hover=u,this._themeService=s}computeSync(c,u){return[]}computeAsync(c,u,s){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const n=S.ColorDetector.get(this._editor);for(const d of u){const t=n.getColorData(d.range.getStartPosition());if(t)return[yield this._createColorHover(this._editor.getModel(),t.colorInfo,t.provider)]}return[]})}_createColorHover(c,u,s){return Ie(this,void 0,void 0,function*(){const n=c.getValueInRange(u.range),{red:d,green:t,blue:o,alpha:h}=u.color,m=new p.RGBA(Math.round(d*255),Math.round(t*255),Math.round(o*255),h),y=new p.Color(m),w=yield(0,L.getColorPresentations)(c,u,s,T.CancellationToken.None),g=new C.ColorPickerModel(y,[],0);return g.colorPresentations=w||[],g.guessColorPresentation(y,n),new r(this,k.Range.lift(u.range),g,s)})}renderHoverParts(c,u,s){if(c.length===0||!this._editor.hasModel())return b.Disposable.None;const n=new b.DisposableStore,d=c[0],t=this._editor.getModel(),o=d.model,h=n.add(new i.ColorPickerWidget(u,o,this._editor.getOption(127),this._themeService));let m=new k.Range(d.range.startLineNumber,d.range.startColumn,d.range.endLineNumber,d.range.endColumn);const y=()=>{let g,f;if(o.presentation.textEdit){g=[o.presentation.textEdit],f=new k.Range(o.presentation.textEdit.range.startLineNumber,o.presentation.textEdit.range.startColumn,o.presentation.textEdit.range.endLineNumber,o.presentation.textEdit.range.endColumn);const _=this._editor.getModel()._setTrackedRange(null,f,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",g),f=this._editor.getModel()._getTrackedRange(_)||f}else g=[{identifier:null,range:m,text:o.presentation.label,forceMoveMarkers:!1}],f=m.setEndPosition(m.endLineNumber,m.startColumn+o.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",g);o.presentation.additionalTextEdits&&(g=[...o.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",g),this._hover.hide()),this._editor.pushUndoStop(),m=f},w=g=>(0,L.getColorPresentations)(t,{range:m,color:{red:g.rgba.r/255,green:g.rgba.g/255,blue:g.rgba.b/255,alpha:g.rgba.a}},d.provider,T.CancellationToken.None).then(f=>{o.colorPresentations=f||[]});return n.add(o.onColorFlushed(g=>{w(g).then(y)})),n.add(o.onDidChangeColor(w)),this._hover.setColorPicker(h),n}};a=Re([Ce(2,v.IThemeService)],a),e.ColorHoverParticipant=a}),define(ee[641],te([0,1,19,23,12,14,18]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHover=void 0;function p(i,v,r){const l=S.HoverProviderRegistry.ordered(i).map(c=>Promise.resolve(c.provideHover(i,v,r)).then(u=>u&&C(u)?u:void 0,u=>{(0,T.onUnexpectedExternalError)(u)}));return Promise.all(l).then(b.coalesce)}e.getHover=p,(0,L.registerModelAndPositionCommand)("_executeHoverProvider",(i,v)=>p(i,v,k.CancellationToken.None));function C(i){const v=typeof i.range!="undefined",r=typeof i.contents!="undefined"&&i.contents&&i.contents.length>0;return v&&r}}),define(ee[642],te([0,1,499,7,82,2,3,145,19,58,57,18,641,13,38]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const u=k.$;class s{constructor(t,o,h){this.owner=t,this.range=o,this.contents=h}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}}e.MarkdownHover=s;let n=class{constructor(t,o,h,m,y){this._editor=t,this._hover=o,this._modeService=h,this._openerService=m,this._configurationService=y}createLoadingMessage(t){return new s(this,t.range,[new T.MarkdownString().appendText(b.localize(0,null))])}computeSync(t,o){if(!this._editor.hasModel()||t.type!==1)return[];const h=this._editor.getModel(),m=t.range.startLineNumber,y=h.getLineMaxColumn(m),w=[];for(const _ of o){const D=_.range.startLineNumber===m?_.range.startColumn:1,N=_.range.endLineNumber===m?_.range.endColumn:y,I=_.options.hoverMessage;if(!I||(0,T.isEmptyMarkdownString)(I))continue;const M=new S.Range(t.range.startLineNumber,D,t.range.startLineNumber,N);w.push(new s(this,M,(0,C.asArray)(I)))}const g=this._editor.getModel().getLineLength(m),f=this._configurationService.getValue("editor.maxTokenizationLineLength");return typeof f=="number"&&g>=f&&w.push(new s(this,new S.Range(m,1,m,g+1),[{value:b.localize(1,null)}])),w}computeAsync(t,o,h){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel()||t.type!==1)return Promise.resolve([]);const m=this._editor.getModel();if(!r.HoverProviderRegistry.has(m))return Promise.resolve([]);const y=yield(0,a.getHover)(m,new l.Position(t.range.startLineNumber,t.range.startColumn),h),w=[];for(const g of y){if((0,T.isEmptyMarkdownString)(g.contents))continue;const f=g.range?S.Range.lift(g.range):t.range;w.push(new s(this,f,g.contents))}return w})}renderHoverParts(t,o,h){const m=new L.DisposableStore;for(const y of t)for(const w of y.contents){if((0,T.isEmptyMarkdownString)(w))continue;const g=u("div.hover-row.markdown-hover"),f=k.append(g,u("div.hover-contents")),_=m.add(new p.MarkdownRenderer({editor:this._editor},this._modeService,this._openerService));m.add(_.onDidRenderAsync(()=>{f.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const D=m.add(_.render(w));f.appendChild(D.element),o.appendChild(g)}return m}};n=Re([Ce(2,v.IModeService),Ce(3,i.IOpenerService),Ce(4,c.IConfigurationService)],n),e.MarkdownHoverParticipant=n}),define(ee[643],te([0,1,501,3,21,25,14,76,417,66,11,48,31,15,12]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let u=class bt{constructor(t,o){this.decorationIds=[],this.editor=t,this.editorWorkerService=o}static get(t){return t.getContribution(bt.ID)}dispose(){}run(t,o){this.currentRequest&&this.currentRequest.cancel();const h=this.editor.getSelection(),m=this.editor.getModel();if(!m||!h)return;let y=h;if(y.startLineNumber!==y.endLineNumber)return;const w=new i.EditorState(this.editor,1|4),g=m.uri;return this.editorWorkerService.canNavigateValueSet(g)?(this.currentRequest=(0,l.createCancelablePromise)(f=>this.editorWorkerService.navigateValueSet(g,y,o)),this.currentRequest.then(f=>{if(!f||!f.range||!f.value||!w.validate(this.editor))return;let _=k.Range.lift(f.range),D=f.range,N=f.value.length-(y.endColumn-y.startColumn);D={startLineNumber:D.startLineNumber,startColumn:D.startColumn,endLineNumber:D.endLineNumber,endColumn:D.startColumn+f.value.length},N>1&&(y=new T.Selection(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn+N-1));const I=new C.InPlaceReplaceCommand(_,y,f.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,I),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:D,options:bt.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,l.timeout)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(c.onUnexpectedError)}).catch(c.onUnexpectedError)):Promise.resolve(void 0)}};u.ID="editor.contrib.inPlaceReplaceController",u.DECORATION=a.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),u=Re([Ce(1,p.IEditorWorkerService)],u);class s extends S.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:b.localize(0,null),alias:"Replace with Previous Value",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:2048|1024|82,weight:100}})}run(t,o){const h=u.get(o);return h?h.run(this.id,!0):Promise.resolve(void 0)}}class n extends S.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:b.localize(1,null),alias:"Replace with Next Value",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:2048|1024|84,weight:100}})}run(t,o){const h=u.get(o);return h?h.run(this.id,!1):Promise.resolve(void 0)}}(0,S.registerEditorContribution)(u.ID,u),(0,S.registerEditorAction)(s),(0,S.registerEditorAction)(n),(0,v.registerThemingParticipant)((d,t)=>{const o=d.getColor(r.editorBracketMatchBorder);o&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${o}; }`)})}),define(ee[644],te([0,1,502,2,8,14,184,56,3,21,25,31,45,36,232,78]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function s(I,M,O,R){if(I.getLineCount()===1&&I.getLineMaxColumn(1)===1)return[];let P=a.LanguageConfigurationRegistry.getIndentationRules(I.getLanguageIdentifier().id);if(!P)return[];for(O=Math.min(O,I.getLineCount());M<=O&&P.unIndentedLinePattern;){let de=I.getLineContent(M);if(!P.unIndentedLinePattern.test(de))break;M++}if(M>O-1)return[];const{tabSize:A,indentSize:F,insertSpaces:E}=I.getOptions(),W=(de,ue)=>(ue=ue||1,S.ShiftCommand.shiftIndent(de,de.length+ue,A,F,E)),V=(de,ue)=>(ue=ue||1,S.ShiftCommand.unshiftIndent(de,de.length+ue,A,F,E));let $=[],Z,X=I.getLineContent(M),J=X;if(R!=null){Z=R;let de=T.getLeadingWhitespace(X);J=Z+X.substring(de.length),P.decreaseIndentPattern&&P.decreaseIndentPattern.test(J)&&(Z=V(Z),J=Z+X.substring(de.length)),X!==J&&$.push(p.EditOperation.replaceMove(new i.Selection(M,1,M,de.length+1),r.TextModel.normalizeIndentation(Z,F,E)))}else Z=T.getLeadingWhitespace(X);let ie=Z;P.increaseIndentPattern&&P.increaseIndentPattern.test(J)?(ie=W(ie),Z=W(Z)):P.indentNextLinePattern&&P.indentNextLinePattern.test(J)&&(ie=W(ie)),M++;for(let de=M;de<=O;de++){let ue=I.getLineContent(de),q=T.getLeadingWhitespace(ue),B=ie+ue.substring(q.length);P.decreaseIndentPattern&&P.decreaseIndentPattern.test(B)&&(ie=V(ie),Z=V(Z)),q!==ie&&$.push(p.EditOperation.replaceMove(new i.Selection(de,1,de,q.length+1),r.TextModel.normalizeIndentation(ie,F,E))),!(P.unIndentedLinePattern&&P.unIndentedLinePattern.test(ue))&&(P.increaseIndentPattern&&P.increaseIndentPattern.test(B)?(Z=W(Z),ie=Z):P.indentNextLinePattern&&P.indentNextLinePattern.test(B)?ie=W(ie):ie=Z)}return $}e.getReindentEditOperations=s;class n extends L.EditorAction{constructor(){super({id:n.ID,label:b.localize(0,null),alias:"Convert Indentation to Spaces",precondition:v.EditorContextKeys.writable})}run(M,O){let R=O.getModel();if(!R)return;let P=R.getOptions(),A=O.getSelection();if(!A)return;const F=new D(A,P.tabSize);O.pushUndoStop(),O.executeCommands(this.id,[F]),O.pushUndoStop(),R.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=n,n.ID="editor.action.indentationToSpaces";class d extends L.EditorAction{constructor(){super({id:d.ID,label:b.localize(1,null),alias:"Convert Indentation to Tabs",precondition:v.EditorContextKeys.writable})}run(M,O){let R=O.getModel();if(!R)return;let P=R.getOptions(),A=O.getSelection();if(!A)return;const F=new N(A,P.tabSize);O.pushUndoStop(),O.executeCommands(this.id,[F]),O.pushUndoStop(),R.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=d,d.ID="editor.action.indentationToTabs";class t extends L.EditorAction{constructor(M,O){super(O);this.insertSpaces=M}run(M,O){const R=M.get(u.IQuickInputService),P=M.get(l.IModelService);let A=O.getModel();if(!A)return;let F=P.getCreationOptions(A.getLanguageIdentifier().language,A.uri,A.isForSimpleWidget);const E=[1,2,3,4,5,6,7,8].map(V=>({id:V.toString(),label:V.toString(),description:V===F.tabSize?b.localize(2,null):void 0})),W=Math.min(A.getOptions().tabSize-1,7);setTimeout(()=>{R.pick(E,{placeHolder:b.localize(3,null),activeItem:E[W]}).then(V=>{V&&A&&!A.isDisposed()&&A.updateOptions({tabSize:parseInt(V.label,10),insertSpaces:this.insertSpaces})})},50)}}e.ChangeIndentationSizeAction=t;class o extends t{constructor(){super(!1,{id:o.ID,label:b.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=o,o.ID="editor.action.indentUsingTabs";class h extends t{constructor(){super(!0,{id:h.ID,label:b.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=h,h.ID="editor.action.indentUsingSpaces";class m extends L.EditorAction{constructor(){super({id:m.ID,label:b.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(M,O){const R=M.get(l.IModelService);let P=O.getModel();if(!P)return;let A=R.getCreationOptions(P.getLanguageIdentifier().language,P.uri,P.isForSimpleWidget);P.detectIndentation(A.insertSpaces,A.tabSize)}}e.DetectIndentation=m,m.ID="editor.action.detectIndentation";class y extends L.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:b.localize(7,null),alias:"Reindent Lines",precondition:v.EditorContextKeys.writable})}run(M,O){let R=O.getModel();if(!R)return;let P=s(R,1,R.getLineCount());P.length>0&&(O.pushUndoStop(),O.executeEdits(this.id,P),O.pushUndoStop())}}e.ReindentLinesAction=y;class w extends L.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:b.localize(8,null),alias:"Reindent Selected Lines",precondition:v.EditorContextKeys.writable})}run(M,O){let R=O.getModel();if(!R)return;let P=O.getSelections();if(P===null)return;let A=[];for(let F of P){let E=F.startLineNumber,W=F.endLineNumber;if(E!==W&&F.endColumn===1&&W--,E===1){if(E===W)continue}else E--;let V=s(R,E,W);A.push(...V)}A.length>0&&(O.pushUndoStop(),O.executeEdits(this.id,A),O.pushUndoStop())}}e.ReindentSelectedLinesAction=w;class g{constructor(M,O){this._initialSelection=O,this._edits=[],this._selectionId=null;for(let R of M)R.range&&typeof R.text=="string"&&this._edits.push(R)}getEditOperations(M,O){for(let P of this._edits)O.addEditOperation(C.Range.lift(P.range),P.text);let R=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(R=!0,this._selectionId=O.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(R=!0,this._selectionId=O.trackSelection(this._initialSelection,!1))),R||(this._selectionId=O.trackSelection(this._initialSelection))}computeCursorState(M,O){return O.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=g;class f{constructor(M){this.callOnDispose=new k.DisposableStore,this.callOnModel=new k.DisposableStore,this.editor=M,this.callOnDispose.add(M.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(M.onDidChangeModel(()=>this.update())),this.callOnDispose.add(M.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(45))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:M})=>{this.trigger(M)})))}trigger(M){let O=this.editor.getSelections();if(O===null||O.length>1)return;const R=this.editor.getModel();if(!R||!R.isCheapToTokenize(M.getStartPosition().lineNumber))return;const P=this.editor.getOption(9),{tabSize:A,indentSize:F,insertSpaces:E}=R.getOptions();let W=[],V={shiftIndent:J=>S.ShiftCommand.shiftIndent(J,J.length+1,A,F,E),unshiftIndent:J=>S.ShiftCommand.unshiftIndent(J,J.length+1,A,F,E)},$=M.startLineNumber;for(;$<=M.endLineNumber;){if(this.shouldIgnoreLine(R,$)){$++;continue}break}if($>M.endLineNumber)return;let Z=R.getLineContent($);if(!/\S/.test(Z.substring(0,M.startColumn-1))){let J=a.LanguageConfigurationRegistry.getGoodIndentForLine(P,R,R.getLanguageIdentifier().id,$,V);if(J!==null){let ie=T.getLeadingWhitespace(Z),de=c.getSpaceCnt(J,A),ue=c.getSpaceCnt(ie,A);if(de!==ue){let q=c.generateIndent(de,A,E);W.push({range:new C.Range($,1,$,ie.length+1),text:q}),Z=q+Z.substr(ie.length)}else{let q=a.LanguageConfigurationRegistry.getIndentMetadata(R,$);if(q===0||q===8)return}}}const X=$;for(;$<M.endLineNumber;){if(!/\S/.test(R.getLineContent($+1))){$++;continue}break}if($!==M.endLineNumber){let J={getLineTokens:de=>R.getLineTokens(de),getLanguageIdentifier:()=>R.getLanguageIdentifier(),getLanguageIdAtPosition:(de,ue)=>R.getLanguageIdAtPosition(de,ue),getLineContent:de=>de===X?Z:R.getLineContent(de)},ie=a.LanguageConfigurationRegistry.getGoodIndentForLine(P,J,R.getLanguageIdentifier().id,$+1,V);if(ie!==null){let de=c.getSpaceCnt(ie,A),ue=c.getSpaceCnt(T.getLeadingWhitespace(R.getLineContent($+1)),A);if(de!==ue){let q=de-ue;for(let B=$+1;B<=M.endLineNumber;B++){let j=R.getLineContent(B),H=T.getLeadingWhitespace(j),Q=c.getSpaceCnt(H,A)+q,x=c.generateIndent(Q,A,E);x!==H&&W.push({range:new C.Range(B,1,B,H.length+1),text:x})}}}}if(W.length>0){this.editor.pushUndoStop();let J=new g(W,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",J),this.editor.pushUndoStop()}}shouldIgnoreLine(M,O){M.forceTokenization(O);let R=M.getLineFirstNonWhitespaceColumn(O);if(R===0)return!0;let P=M.getLineTokens(O);if(P.getCount()>0){let A=P.findTokenIndexAtOffset(R);if(A>=0&&P.getStandardTokenType(A)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}e.AutoIndentOnPaste=f,f.ID="editor.contrib.autoIndentOnPaste";function _(I,M,O,R){if(I.getLineCount()===1&&I.getLineMaxColumn(1)===1)return;let P="";for(let F=0;F<O;F++)P+=" ";let A=new RegExp(P,"gi");for(let F=1,E=I.getLineCount();F<=E;F++){let W=I.getLineFirstNonWhitespaceColumn(F);if(W===0&&(W=I.getLineMaxColumn(F)),W===1)continue;const V=new C.Range(F,1,F,W),$=I.getValueInRange(V),Z=R?$.replace(/\t/ig,P):$.replace(A,"	");M.addEditOperation(V,Z)}}class D{constructor(M,O){this.selection=M,this.tabSize=O,this.selectionId=null}getEditOperations(M,O){this.selectionId=O.trackSelection(this.selection),_(M,O,this.tabSize,!0)}computeCursorState(M,O){return O.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=D;class N{constructor(M,O){this.selection=M,this.tabSize=O,this.selectionId=null}getEditOperations(M,O){this.selectionId=O.trackSelection(this.selection),_(M,O,this.tabSize,!1)}computeCursorState(M,O){return O.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=N,(0,L.registerEditorContribution)(f.ID,f),(0,L.registerEditorAction)(n),(0,L.registerEditorAction)(d),(0,L.registerEditorAction)(o),(0,L.registerEditorAction)(h),(0,L.registerEditorAction)(m),(0,L.registerEditorAction)(y),(0,L.registerEditorAction)(w)}),define(ee[645],te([0,1,15,12,92,2,14,28,18,19,22,23,11,3,139,26,24,20,68,13,38]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.getInlayHints=void 0;const h=500;function m(g,f,_){return Ie(this,void 0,void 0,function*(){const D=[],N=C.InlayHintsProviderRegistry.ordered(g).reverse(),I=(0,i.flatten)(N.map(M=>f.map(O=>Promise.resolve(M.provideInlayHints(g,O,_)).then(R=>{R&&D.push({list:R,provider:M})},R=>{(0,k.onUnexpectedExternalError)(R)}))));return yield Promise.all(I),D})}e.getInlayHints=m;let y=class{constructor(f,_,D,N){this._editor=f,this._codeEditorService=_,this._themeService=D,this._configurationService=N,this._disposables=new L.DisposableStore,this._sessionDisposables=new L.DisposableStore,this._getInlayHintsDelays=new c.LanguageFeatureRequestDelays(C.InlayHintsProviderRegistry,25,2500),this._decorationsTypeIds=[],this._decorationIds=[],this._disposables.add(C.InlayHintsProviderRegistry.onDidChange(()=>this._update())),this._disposables.add(D.onDidColorThemeChange(()=>this._update())),this._disposables.add(f.onDidChangeModel(()=>this._update())),this._disposables.add(f.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(f.onDidChangeConfiguration(I=>{I.hasChanged(125)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(125).enabled){this._removeAllDecorations();return}const f=this._editor.getModel();if(!f||!C.InlayHintsProviderRegistry.has(f)){this._removeAllDecorations();return}const _=new b.RunOnceScheduler(()=>Ie(this,void 0,void 0,function*(){const N=Date.now(),I=new r.CancellationTokenSource;this._sessionDisposables.add((0,L.toDisposable)(()=>I.dispose(!0)));const M=this._editor.getVisibleRangesPlusViewportAboveBelow(),O=yield m(f,M,I.token),R=this._getInlayHintsDelays.update(f,Date.now()-N);_.delay=R,this._updateHintsDecorators(O)}),this._getInlayHintsDelays.get(f));this._sessionDisposables.add(_),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>_.schedule())),this._disposables.add(this._editor.onDidScrollChange(()=>_.schedule())),_.schedule();const D=new L.DisposableStore;this._sessionDisposables.add(D);for(const N of C.InlayHintsProviderRegistry.all(f))typeof N.onDidChangeInlayHints=="function"&&D.add(N.onDidChangeInlayHints(()=>_.schedule()))}_updateHintsDecorators(f){const{fontSize:_,fontFamily:D}=this._getLayoutInfo(),N=this._themeService.getColorTheme().getColor(v.editorInlayHintBackground),I=this._themeService.getColorTheme().getColor(v.editorInlayHintForeground),M=[],O=[],R="--inlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(R,D);const P=this._configurationService.getValue("editor.useInjectedText"),A=P===void 0?!0:!!P;for(const{list:F}of f)for(let E=0;E<F.length&&O.length<h;E++){const{text:W,position:V,whitespaceBefore:$,whitespaceAfter:Z}=F[E],X=$?_/3|0:0,J=Z?_/3|0:0,de={contentText:w(W),backgroundColor:`${N}`,color:`${I}`,margin:`0px ${J}px 0px ${X}px`,fontSize:`${_}px`,fontFamily:`var(${R})`,padding:`0px ${_/4|0}px`,borderRadius:`${_/4|0}px`},ue="inlayHints-"+(0,T.hash)(de).toString(16);this._codeEditorService.registerDecorationType("inlay-hints-controller",ue,A?{beforeInjectedText:Object.assign(Object.assign({},de),{affectsLetterSpacing:!0})}:{before:de},void 0,this._editor),M.push(ue);const q=this._codeEditorService.resolveDecorationOptions(ue,!0);O.push({range:l.Range.fromPositions(V),options:q})}this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=M,this._decorationIds=this._editor.deltaDecorations(this._decorationIds,O)}_getLayoutInfo(){const f=this._editor.getOption(125),_=this._editor.getOption(43);let D=f.fontSize;(!D||D<5||D>_)&&(D=_*.9|0);const N=f.fontFamily||this._editor.getOption(40);return{fontSize:D,fontFamily:N}}_removeAllDecorations(){this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[]),this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=[]}};y.ID="editor.contrib.InlayHints",y=Re([Ce(1,p.ICodeEditorService),Ce(2,a.IThemeService),Ce(3,o.IConfigurationService)],y),e.InlayHintsController=y;function w(g){const f="\xA0";return g.replace(/[ \t]/g,f)}(0,S.registerEditorContribution)(y.ID,y),u.CommandsRegistry.registerCommand("_executeInlayHintProvider",(g,...f)=>Ie(void 0,void 0,void 0,function*(){const[_,D]=f;(0,n.assertType)(s.URI.isUri(_)),(0,n.assertType)(l.Range.isIRange(D));const N=yield g.get(d.ITextModelService).createModelReference(_);try{const I=yield m(N.object.textEditorModel,[l.Range.lift(D)],r.CancellationToken.None);return(0,i.flatten)(I.map(M=>M.list)).sort((M,O)=>t.Position.compare(M.position,O.position))}finally{N.dispose()}}))}),define(ee[267],te([0,1,15,23,12,6,2,8,3,18,56,26,14,148,128,233]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineCompletionToGhostText=e.InlineCompletionsSession=e.InlineCompletionsModel=void 0;let s=class extends S.Disposable{constructor(D,N){super();this.editor=D,this.commandService=N,this.onDidChangeEmitter=new L.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new S.MutableDisposable),this.active=!1,this._register(N.onDidExecuteCommand(I=>{new Set([a.UndoCommand.id,a.RedoCommand.id,l.CoreEditingCommands.Tab.id,l.CoreEditingCommands.DeleteLeft.id,l.CoreEditingCommands.DeleteRight.id]).has(I.commandId)&&D.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(I=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(I=>{this.session&&!this.session.isValid&&this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var D;return(D=this.session)===null||D===void 0?void 0:D.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}get expanded(){return this.session?this.session.expanded:!1}setExpanded(D){var N;(N=this.session)===null||N===void 0||N.setExpanded(D)}setActive(D){var N;this.active=D,D&&((N=this.session)===null||N===void 0||N.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(53).enabled||this.session&&this.session.isValid||this.trigger()}trigger(){this.completionSession.value||(this.completionSession.value=new n(this.editor,this.editor.getPosition(),()=>this.active,this.commandService),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var D;(D=this.session)===null||D===void 0||D.commitCurrentCompletion()}showNext(){var D;(D=this.session)===null||D===void 0||D.showNextInlineCompletion()}showPrevious(){var D;(D=this.session)===null||D===void 0||D.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var D;return Ie(this,void 0,void 0,function*(){const N=yield(D=this.session)===null||D===void 0?void 0:D.hasMultipleInlineCompletions();return N!==void 0?N:!1})}};s=Re([Ce(1,r.ICommandService)],s),e.InlineCompletionsModel=s;class n extends u.BaseGhostTextWidgetModel{constructor(D,N,I,M){super(D);this.triggerPosition=N,this.shouldUpdate=I,this.commandService=M,this.minReservedLineCount=0,this.updateOperation=this._register(new S.MutableDisposable),this.cache=this._register(new S.MutableDisposable),this.updateSoon=this._register(new b.RunOnceScheduler(()=>this.update(i.InlineCompletionTriggerKind.Automatic),50)),this.textModel=this.editor.getModel(),this.currentlySelectedCompletionId=void 0;let O;this._register(this.onDidChange(()=>{const R=this.currentCompletion;if(R&&R.sourceInlineCompletion!==O){O=R.sourceInlineCompletion;const P=R.sourceProvider;P.handleItemDidShow&&P.handleItemDidShow(R.sourceInlineCompletions,O)}})),this._register(this.editor.onDidChangeCursorPosition(R=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(R=>{if(this.cache.value){let P=!1;for(const A of this.cache.value.completions){const F=this.textModel.getDecorationRange(A.decorationId);if(!F){(0,T.onUnexpectedError)(new Error("Decoration has no range"));continue}A.synchronizedRange.equalsRange(F)||(P=!0,A.synchronizedRange=F)}P&&this.onDidChangeEmitter.fire()}this.scheduleAutomaticUpdate()})),this._register(i.InlineCompletionsProviderRegistry.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const D=this.cache.value.completions.findIndex(N=>N.semanticId===this.currentlySelectedCompletionId);return D===-1?(this.currentlySelectedCompletionId=void 0,0):D}get currentCachedCompletion(){if(!!this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var D;return Ie(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const N=((D=this.cache.value)===null||D===void 0?void 0:D.completions)||[];if(N.length>0){const I=(this.fixAndGetIndexOfCurrentSelection()+1)%N.length;this.currentlySelectedCompletionId=N[I].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var D;return Ie(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const N=((D=this.cache.value)===null||D===void 0?void 0:D.completions)||[];if(N.length>0){const I=(this.fixAndGetIndexOfCurrentSelection()+N.length-1)%N.length;this.currentlySelectedCompletionId=N[I].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var D;return Ie(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===i.InlineCompletionTriggerKind.Explicit?yield this.updateOperation.value.promise:yield this.update(i.InlineCompletionTriggerKind.Explicit):((D=this.cache.value)===null||D===void 0?void 0:D.triggerKind)!==i.InlineCompletionTriggerKind.Explicit&&(yield this.update(i.InlineCompletionTriggerKind.Explicit))})}hasMultipleInlineCompletions(){var D;return Ie(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((D=this.cache.value)===null||D===void 0?void 0:D.completions.length)||0)>1})}get ghostText(){const D=this.currentCompletion,N=this.editor.getOptions().get(53).mode;return D?h(D,this.editor.getModel(),N,this.editor.getPosition()):void 0}get currentCompletion(){const D=this.currentCachedCompletion;if(!!D)return{text:D.inlineCompletion.text,range:D.synchronizedRange,command:D.inlineCompletion.command,sourceProvider:D.inlineCompletion.sourceProvider,sourceInlineCompletions:D.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:D.inlineCompletion.sourceInlineCompletion}}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(D){return Ie(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const N=this.editor.getPosition(),I=(0,b.createCancelablePromise)(O=>Ie(this,void 0,void 0,function*(){let R;try{R=yield f(N,this.editor.getModel(),{triggerKind:D},O)}catch(P){(0,T.onUnexpectedError)(P);return}O.isCancellationRequested||(this.cache.value=new t(this.editor,R,()=>this.onDidChangeEmitter.fire(),D),this.onDidChangeEmitter.fire())})),M=new d(I,D);this.updateOperation.value=M,yield I,this.updateOperation.value===M&&this.updateOperation.clear()})}takeOwnership(D){this._register(D)}commitCurrentCompletion(){if(!this.ghostText)return;const D=this.currentCompletion;D&&this.commit(D)}commit(D){const N=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[v.EditOperation.replaceMove(D.range,D.text)]),D.command?this.commandService.executeCommand(D.command.id,...D.command.arguments||[]).finally(()=>{N==null||N.dispose()}).then(void 0,T.onUnexpectedExternalError):N==null||N.dispose(),this.onDidChangeEmitter.fire()}}e.InlineCompletionsSession=n;class d{constructor(D,N){this.promise=D,this.triggerKind=N}dispose(){this.promise.cancel()}}class t extends S.Disposable{constructor(D,N,I,M){super();this.triggerKind=M;const O=D.deltaDecorations([],N.items.map(R=>({range:R.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,S.toDisposable)(()=>{D.deltaDecorations(O,[])})),this.completions=N.items.map((R,P)=>new o(R,O[P])),this._register(D.onDidChangeModelContent(()=>{let R=!1;const P=D.getModel();for(const A of this.completions){const F=P.getDecorationRange(A.decorationId);if(!F){(0,T.onUnexpectedError)(new Error("Decoration has no range"));continue}A.synchronizedRange.equalsRange(F)||(R=!0,A.synchronizedRange=F)}R&&I()})),this._register(N)}}class o{constructor(D,N){this.inlineCompletion=D,this.decorationId=N,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=D.range}}function h(_,D,N,I){if(_.range.startLineNumber!==_.range.endLineNumber)return;const M=D.getValueInRange(_.range),O=y(M,_.text),R=_.range.startLineNumber,P=new Array;if(N==="prefix"){const A=O.filter(F=>F.originalLength===0);if(A.length>1||A.length===1&&A[0].originalStart!==M.length)return}for(const A of O){const F=_.range.startColumn+A.originalStart+A.originalLength;if(N==="subwordSmart"&&I&&I.lineNumber===_.range.startLineNumber&&F<I.column)return;if(A.originalLength>0){const V=M.substr(A.originalStart,A.originalLength),$=D.getLineFirstNonWhitespaceColumn(R);if(!(/^(\t| )*$/.test(V)&&($===0||F<=$)))return}if(A.modifiedLength===0)continue;const E=_.text.substr(A.modifiedStart,A.modifiedLength),W=p.splitLines(E);P.push(new u.GhostTextPart(F,W))}return new u.GhostText(R,P,0)}e.inlineCompletionToGhostText=h;let m;function y(_,D){if((m==null?void 0:m.originalValue)===_&&(m==null?void 0:m.newValue)===D)return m==null?void 0:m.changes;{const N=w(_,D);return m={originalValue:_,newValue:D,changes:N},N}}function w(_,D){function N(A){let F=0;for(let E=0,W=A.length;E<W;E++){const V=A.charCodeAt(E);V>F&&(F=V)}return F}const I=Math.max(N(_),N(D));function M(A){if(A<0)throw new Error("unexpected");return I+A+1}function O(A){let F=0,E=0;const W=new Int32Array(A.length);for(let V=0,$=A.length;V<$;V++){const Z=E*100+F;A[V]==="("?(W[V]=M(2*Z),F++):A[V]===")"?(W[V]=M(2*Z+1),F===1&&E++,F=Math.max(F-1,0)):W[V]=A.charCodeAt(V)}return W}const R=O(_),P=O(D);return new c.LcsDiff({getElements:()=>R},{getElements:()=>P}).ComputeDiff(!1).changes}function g(_,D){const N=D.getWordAtPosition(_),I=D.getLineMaxColumn(_.lineNumber);return N?new C.Range(_.lineNumber,N.startColumn,_.lineNumber,I):C.Range.fromPositions(_,_.with(void 0,I))}function f(_,D,N,I=k.CancellationToken.None){return Ie(this,void 0,void 0,function*(){const M=g(_,D),O=i.InlineCompletionsProviderRegistry.all(D),R=yield Promise.all(O.map(A=>Ie(this,void 0,void 0,function*(){const F=yield A.provideInlineCompletions(D,_,N,I);return{completions:F,provider:A,dispose:()=>{F&&A.freeInlineCompletions(F)}}}))),P=new Map;for(const A of R){const F=A.completions;if(F)for(const E of F.items.map(W=>({text:W.text,range:W.range?C.Range.lift(W.range):M,command:W.command,sourceProvider:A.provider,sourceInlineCompletions:F,sourceInlineCompletion:W})))E.range.startLineNumber===E.range.endLineNumber&&P.set(JSON.stringify({text:E.text,range:E.range}),E)}return{items:[...P.values()],dispose:()=>{for(const A of R)A.dispose()}}})}}),define(ee[646],te([0,1,505,41,148,14,95,375,187,56,13,3,21,25,419,556,420,33]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class d extends L.EditorAction{constructor(ue,q){super(q);this.down=ue}run(ue,q){if(!q.hasModel())return;const B=q.getSelections().map((z,Q)=>({selection:z,index:Q,ignore:!1}));B.sort((z,Q)=>r.Range.compareRangesUsingStarts(z.selection,Q.selection));let j=B[0];for(let z=1;z<B.length;z++){const Q=B[z];j.selection.endLineNumber===Q.selection.startLineNumber&&(j.index<Q.index?Q.ignore=!0:(j.ignore=!0,j=Q))}const H=[];for(const z of B)H.push(new c.CopyLinesCommand(z.selection,this.down,z.ignore));q.pushUndoStop(),q.executeCommands(this.id,H),q.pushUndoStop()}}class t extends d{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:b.localize(0,null),alias:"Copy Line Up",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:b.localize(1,null),order:1}})}}class o extends d{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:b.localize(2,null),alias:"Copy Line Down",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:b.localize(3,null),order:2}})}}class h extends L.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:b.localize(4,null),alias:"Duplicate Selection",precondition:l.EditorContextKeys.writable,menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:b.localize(5,null),order:5}})}run(ue,q,B){if(!q.hasModel())return;const j=[],H=q.getSelections(),z=q.getModel();for(const Q of H)if(Q.isEmpty())j.push(new c.CopyLinesCommand(Q,!0));else{const x=new a.Selection(Q.endLineNumber,Q.endColumn,Q.endLineNumber,Q.endColumn);j.push(new S.ReplaceCommandThatSelectsText(x,z.getValueInRange(Q)))}q.pushUndoStop(),q.executeCommands(this.id,j),q.pushUndoStop()}}e.DuplicateSelectionAction=h;class m extends L.EditorAction{constructor(ue,q){super(q);this.down=ue}run(ue,q){let B=[],j=q.getSelections()||[];const H=q.getOption(9);for(const z of j)B.push(new u.MoveLinesCommand(z,this.down,H));q.pushUndoStop(),q.executeCommands(this.id,B),q.pushUndoStop()}}class y extends m{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:b.localize(6,null),alias:"Move Line Up",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:b.localize(7,null),order:3}})}}class w extends m{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:b.localize(8,null),alias:"Move Line Down",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:b.localize(9,null),order:4}})}}class g extends L.EditorAction{constructor(ue,q){super(q);this.descending=ue}run(ue,q){const B=q.getSelections()||[];for(const H of B)if(!s.SortLinesCommand.canRun(q.getModel(),H,this.descending))return;let j=[];for(let H=0,z=B.length;H<z;H++)j[H]=new s.SortLinesCommand(B[H],this.descending);q.pushUndoStop(),q.executeCommands(this.id,j),q.pushUndoStop()}}e.AbstractSortLinesAction=g;class f extends g{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:b.localize(10,null),alias:"Sort Lines Ascending",precondition:l.EditorContextKeys.writable})}}e.SortLinesAscendingAction=f;class _ extends g{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:b.localize(11,null),alias:"Sort Lines Descending",precondition:l.EditorContextKeys.writable})}}e.SortLinesDescendingAction=_;class D extends L.EditorAction{constructor(){super({id:D.ID,label:b.localize(12,null),alias:"Trim Trailing Whitespace",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|54),weight:100}})}run(ue,q,B){let j=[];B.reason==="auto-save"&&(j=(q.getSelections()||[]).map(Q=>new v.Position(Q.positionLineNumber,Q.positionColumn)));let H=q.getSelection();if(H===null)return;let z=new p.TrimTrailingWhitespaceCommand(H,j);q.pushUndoStop(),q.executeCommands(this.id,[z]),q.pushUndoStop()}}e.TrimTrailingWhitespaceAction=D,D.ID="editor.action.trimTrailingWhitespace";class N extends L.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:b.localize(13,null),alias:"Delete Line",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|41,weight:100}})}run(ue,q){if(!q.hasModel())return;let B=this._getLinesToRemove(q),j=q.getModel();if(j.getLineCount()===1&&j.getLineMaxColumn(1)===1)return;let H=0,z=[],Q=[];for(let x=0,le=B.length;x<le;x++){const oe=B[x];let K=oe.startLineNumber,re=oe.endLineNumber,ae=1,he=j.getLineMaxColumn(re);re<j.getLineCount()?(re+=1,he=1):K>1&&(K-=1,ae=j.getLineMaxColumn(K)),z.push(i.EditOperation.replace(new a.Selection(K,ae,re,he),"")),Q.push(new a.Selection(K-H,oe.positionColumn,K-H,oe.positionColumn)),H+=oe.endLineNumber-oe.startLineNumber+1}q.pushUndoStop(),q.executeEdits(this.id,z,Q),q.pushUndoStop()}_getLinesToRemove(ue){let q=ue.getSelections().map(H=>{let z=H.endLineNumber;return H.startLineNumber<H.endLineNumber&&H.endColumn===1&&(z-=1),{startLineNumber:H.startLineNumber,selectionStartColumn:H.selectionStartColumn,endLineNumber:z,positionColumn:H.positionColumn}});q.sort((H,z)=>H.startLineNumber===z.startLineNumber?H.endLineNumber-z.endLineNumber:H.startLineNumber-z.startLineNumber);let B=[],j=q[0];for(let H=1;H<q.length;H++)j.endLineNumber+1>=q[H].startLineNumber?j.endLineNumber=q[H].endLineNumber:(B.push(j),j=q[H]);return B.push(j),B}}e.DeleteLinesAction=N;class I extends L.EditorAction{constructor(){super({id:"editor.action.indentLines",label:b.localize(14,null),alias:"Indent Line",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|89,weight:100}})}run(ue,q){const B=q._getViewModel();!B||(q.pushUndoStop(),q.executeCommands(this.id,C.TypeOperations.indent(B.cursorConfig,q.getModel(),q.getSelections())),q.pushUndoStop())}}e.IndentLinesAction=I;class M extends L.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:b.localize(15,null),alias:"Outdent Line",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|87,weight:100}})}run(ue,q){T.CoreEditingCommands.Outdent.runEditorCommand(ue,q,null)}}class O extends L.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:b.localize(16,null),alias:"Insert Line Above",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|1024|3,weight:100}})}run(ue,q){const B=q._getViewModel();!B||(q.pushUndoStop(),q.executeCommands(this.id,C.TypeOperations.lineInsertBefore(B.cursorConfig,q.getModel(),q.getSelections())))}}e.InsertLineBeforeAction=O;class R extends L.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:b.localize(17,null),alias:"Insert Line Below",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|3,weight:100}})}run(ue,q){const B=q._getViewModel();!B||(q.pushUndoStop(),q.executeCommands(this.id,C.TypeOperations.lineInsertAfter(B.cursorConfig,q.getModel(),q.getSelections())))}}e.InsertLineAfterAction=R;class P extends L.EditorAction{run(ue,q){if(!q.hasModel())return;const B=q.getSelection();let j=this._getRangesToDelete(q),H=[];for(let x=0,le=j.length-1;x<le;x++){let oe=j[x],K=j[x+1];r.Range.intersectRanges(oe,K)===null?H.push(oe):j[x+1]=r.Range.plusRange(oe,K)}H.push(j[j.length-1]);let z=this._getEndCursorState(B,H),Q=H.map(x=>i.EditOperation.replace(x,""));q.pushUndoStop(),q.executeEdits(this.id,Q,z),q.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=P;class A extends P{constructor(){super({id:"deleteAllLeft",label:b.localize(18,null),alias:"Delete All Left",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(ue,q){let B=null,j=[],H=0;return q.forEach(z=>{let Q;if(z.endColumn===1&&H>0){let x=z.startLineNumber-H;Q=new a.Selection(x,z.startColumn,x,z.startColumn)}else Q=new a.Selection(z.startLineNumber,z.startColumn,z.startLineNumber,z.startColumn);H+=z.endLineNumber-z.startLineNumber,z.intersectRanges(ue)?B=Q:j.push(Q)}),B&&j.unshift(B),j}_getRangesToDelete(ue){let q=ue.getSelections();if(q===null)return[];let B=q,j=ue.getModel();return j===null?[]:(B.sort(r.Range.compareRangesUsingStarts),B=B.map(H=>{if(H.isEmpty())if(H.startColumn===1){let z=Math.max(1,H.startLineNumber-1),Q=H.startLineNumber===1?1:j.getLineContent(z).length+1;return new r.Range(z,Q,H.startLineNumber,1)}else return new r.Range(H.startLineNumber,1,H.startLineNumber,H.startColumn);else return new r.Range(H.startLineNumber,1,H.endLineNumber,H.endColumn)}),B)}}e.DeleteAllLeftAction=A;class F extends P{constructor(){super({id:"deleteAllRight",label:b.localize(19,null),alias:"Delete All Right",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(ue,q){let B=null,j=[];for(let H=0,z=q.length,Q=0;H<z;H++){let x=q[H],le=new a.Selection(x.startLineNumber-Q,x.startColumn,x.startLineNumber-Q,x.startColumn);x.intersectRanges(ue)?B=le:j.push(le)}return B&&j.unshift(B),j}_getRangesToDelete(ue){let q=ue.getModel();if(q===null)return[];let B=ue.getSelections();if(B===null)return[];let j=B.map(H=>{if(H.isEmpty()){const z=q.getLineMaxColumn(H.startLineNumber);return H.startColumn===z?new r.Range(H.startLineNumber,H.startColumn,H.startLineNumber+1,1):new r.Range(H.startLineNumber,H.startColumn,H.startLineNumber,z)}return H});return j.sort(r.Range.compareRangesUsingStarts),j}}e.DeleteAllRightAction=F;class E extends L.EditorAction{constructor(){super({id:"editor.action.joinLines",label:b.localize(20,null),alias:"Join Lines",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(ue,q){let B=q.getSelections();if(B===null)return;let j=q.getSelection();if(j===null)return;B.sort(r.Range.compareRangesUsingStarts);let H=[],z=B.reduce((re,ae)=>re.isEmpty()?re.endLineNumber===ae.startLineNumber?(j.equalsSelection(re)&&(j=ae),ae):ae.startLineNumber>re.endLineNumber+1?(H.push(re),ae):new a.Selection(re.startLineNumber,re.startColumn,ae.endLineNumber,ae.endColumn):ae.startLineNumber>re.endLineNumber?(H.push(re),ae):new a.Selection(re.startLineNumber,re.startColumn,ae.endLineNumber,ae.endColumn));H.push(z);let Q=q.getModel();if(Q===null)return;let x=[],le=[],oe=j,K=0;for(let re=0,ae=H.length;re<ae;re++){let he=H[re],U=he.startLineNumber,se=1,Y=0,ne,ce,pe=Q.getLineContent(he.endLineNumber).length-he.endColumn;if(he.isEmpty()||he.startLineNumber===he.endLineNumber){let Le=he.getStartPosition();Le.lineNumber<Q.getLineCount()?(ne=U+1,ce=Q.getLineMaxColumn(ne)):(ne=Le.lineNumber,ce=Q.getLineMaxColumn(Le.lineNumber))}else ne=he.endLineNumber,ce=Q.getLineMaxColumn(ne);let be=Q.getLineContent(U);for(let Le=U+1;Le<=ne;Le++){let Te=Q.getLineContent(Le),De=Q.getLineFirstNonWhitespaceColumn(Le);if(De>=1){let Me=!0;be===""&&(Me=!1),Me&&(be.charAt(be.length-1)===" "||be.charAt(be.length-1)==="	")&&(Me=!1,be=be.replace(/[\s\uFEFF\xA0]+$/g," "));let Se=Te.substr(De-1);be+=(Me?" ":"")+Se,Me?Y=Se.length+1:Y=Se.length}else Y=0}let Ee=new r.Range(U,se,ne,ce);if(!Ee.isEmpty()){let Le;he.isEmpty()?(x.push(i.EditOperation.replace(Ee,be)),Le=new a.Selection(Ee.startLineNumber-K,be.length-Y+1,U-K,be.length-Y+1)):he.startLineNumber===he.endLineNumber?(x.push(i.EditOperation.replace(Ee,be)),Le=new a.Selection(he.startLineNumber-K,he.startColumn,he.endLineNumber-K,he.endColumn)):(x.push(i.EditOperation.replace(Ee,be)),Le=new a.Selection(he.startLineNumber-K,he.startColumn,he.startLineNumber-K,be.length-pe)),r.Range.intersectRanges(Ee,j)!==null?oe=Le:le.push(Le)}K+=Ee.endLineNumber-Ee.startLineNumber}le.unshift(oe),q.pushUndoStop(),q.executeEdits(this.id,x,le),q.pushUndoStop()}}e.JoinLinesAction=E;class W extends L.EditorAction{constructor(){super({id:"editor.action.transpose",label:b.localize(21,null),alias:"Transpose characters around the cursor",precondition:l.EditorContextKeys.writable})}run(ue,q){let B=q.getSelections();if(B===null)return;let j=q.getModel();if(j===null)return;let H=[];for(let z=0,Q=B.length;z<Q;z++){let x=B[z];if(!x.isEmpty())continue;let le=x.getStartPosition(),oe=j.getLineMaxColumn(le.lineNumber);if(le.column>=oe){if(le.lineNumber===j.getLineCount())continue;let K=new r.Range(le.lineNumber,Math.max(1,le.column-1),le.lineNumber+1,1),re=j.getValueInRange(K).split("").reverse().join("");H.push(new S.ReplaceCommand(new a.Selection(le.lineNumber,Math.max(1,le.column-1),le.lineNumber+1,1),re))}else{let K=new r.Range(le.lineNumber,Math.max(1,le.column-1),le.lineNumber,le.column+1),re=j.getValueInRange(K).split("").reverse().join("");H.push(new S.ReplaceCommandThatPreservesSelection(K,re,new a.Selection(le.lineNumber,le.column+1,le.lineNumber,le.column+1)))}}q.pushUndoStop(),q.executeCommands(this.id,H),q.pushUndoStop()}}e.TransposeAction=W;class V extends L.EditorAction{run(ue,q){const B=q.getSelections();if(B===null)return;const j=q.getModel();if(j===null)return;const H=q.getOption(115),z=[];for(const Q of B)if(Q.isEmpty()){const x=Q.getStartPosition(),le=q.getConfiguredWordAtPosition(x);if(!le)continue;const oe=new r.Range(x.lineNumber,le.startColumn,x.lineNumber,le.endColumn),K=j.getValueInRange(oe);z.push(i.EditOperation.replace(oe,this._modifyText(K,H)))}else{const x=j.getValueInRange(Q);z.push(i.EditOperation.replace(Q,this._modifyText(x,H)))}q.pushUndoStop(),q.executeEdits(this.id,z),q.pushUndoStop()}}e.AbstractCaseAction=V;class $ extends V{constructor(){super({id:"editor.action.transformToUppercase",label:b.localize(22,null),alias:"Transform to Uppercase",precondition:l.EditorContextKeys.writable})}_modifyText(ue,q){return ue.toLocaleUpperCase()}}e.UpperCaseAction=$;class Z extends V{constructor(){super({id:"editor.action.transformToLowercase",label:b.localize(23,null),alias:"Transform to Lowercase",precondition:l.EditorContextKeys.writable})}_modifyText(ue,q){return ue.toLocaleLowerCase()}}e.LowerCaseAction=Z;class X extends V{constructor(){super({id:"editor.action.transformToTitlecase",label:b.localize(24,null),alias:"Transform to Title Case",precondition:l.EditorContextKeys.writable})}_modifyText(ue,q){const j=(`\r
	 `+q).split("");let H="",z=!0;for(let Q=0;Q<ue.length;Q++){let x=ue[Q];j.indexOf(x)>=0?(z=!0,H+=x):z?(z=!1,H+=x.toLocaleUpperCase()):H+=x.toLocaleLowerCase()}return H}}e.TitleCaseAction=X;class J{constructor(ue,q){this._pattern=ue,this._flags=q,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(ue){}}return this._actual}isSupported(){return this.get()!==null}}class ie extends V{constructor(){super({id:"editor.action.transformToSnakecase",label:b.localize(25,null),alias:"Transform to Snake Case",precondition:l.EditorContextKeys.writable})}_modifyText(ue,q){const B=ie.regExp1.get(),j=ie.regExp2.get();return!B||!j?ue:ue.replace(B,"$1_$2").replace(j,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=ie,ie.regExp1=new J("(\\p{Ll})(\\p{Lu})","gmu"),ie.regExp2=new J("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,L.registerEditorAction)(t),(0,L.registerEditorAction)(o),(0,L.registerEditorAction)(h),(0,L.registerEditorAction)(y),(0,L.registerEditorAction)(w),(0,L.registerEditorAction)(f),(0,L.registerEditorAction)(_),(0,L.registerEditorAction)(D),(0,L.registerEditorAction)(N),(0,L.registerEditorAction)(I),(0,L.registerEditorAction)(M),(0,L.registerEditorAction)(O),(0,L.registerEditorAction)(R),(0,L.registerEditorAction)(A),(0,L.registerEditorAction)(F),(0,L.registerEditorAction)(E),(0,L.registerEditorAction)(W),(0,L.registerEditorAction)($),(0,L.registerEditorAction)(Z),(0,L.registerEditorAction)(X),ie.regExp1.isSupported()&&ie.regExp2.isSupported()&&(0,L.registerEditorAction)(ie)}),define(ee[647],te([0,1,506,14,19,2,13,23,3,18,15,31,16,25,24,28,12,8,22,11,29,45]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new a.RawContextKey("LinkedEditingInputVisible",!1);const m="linked-editing-decoration";let y=class _t extends L.Disposable{constructor(D,N){super();this._debounceDuration=200,this._localToDispose=this._register(new L.DisposableStore),this._editor=D,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(N),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new L.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(I=>{(I.hasChanged(60)||I.hasChanged(80))&&this.reinitialize(!1)})),this._register(i.LinkedEditingRangeProviderRegistry.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(D){return D.getContribution(_t.ID)}reinitialize(D){const N=this._editor.getModel(),I=N!==null&&(this._editor.getOption(60)||this._editor.getOption(80))&&i.LinkedEditingRangeProviderRegistry.has(N);if(I===this._enabled&&!D||(this._enabled=I,this.clearRanges(),this._localToDispose.clear(),!I||N===null))return;this._languageWordPattern=h.LanguageConfigurationRegistry.getWordDefinition(N.getLanguageIdentifier().id),this._localToDispose.add(N.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=h.LanguageConfigurationRegistry.getWordDefinition(N.getLanguageIdentifier().id)}));const M=new v.Delayer(this._debounceDuration),O=()=>{this._rangeUpdateTriggerPromise=M.trigger(()=>this.updateRanges(),this._debounceDuration)},R=new v.Delayer(0),P=A=>{this._rangeSyncTriggerPromise=R.trigger(()=>this._syncRanges(A))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{O()})),this._localToDispose.add(this._editor.onDidChangeModelContent(A=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const F=N.getDecorationRange(this._currentDecorations[0]);if(F&&A.changes.every(E=>F.intersectRanges(E.range))){P(this._currentDecorations);return}}O()})),this._localToDispose.add({dispose:()=>{M.cancel(),R.cancel()}}),this.updateRanges()}_syncRanges(D){if(!this._editor.hasModel()||D!==this._currentDecorations||D.length===0)return;const N=this._editor.getModel(),I=N.getDecorationRange(D[0]);if(!I||I.startLineNumber!==I.endLineNumber)return this.clearRanges();const M=N.getValueInRange(I);if(this._currentWordPattern){const R=M.match(this._currentWordPattern);if((R?R[0].length:0)!==M.length)return this.clearRanges()}let O=[];for(let R=1,P=D.length;R<P;R++){const A=N.getDecorationRange(D[R]);if(!!A)if(A.startLineNumber!==A.endLineNumber)O.push({range:A,text:M});else{let F=N.getValueInRange(A),E=M,W=A.startColumn,V=A.endColumn;const $=n.commonPrefixLength(F,E);W+=$,F=F.substr($),E=E.substr($);const Z=n.commonSuffixLength(F,E);V-=Z,F=F.substr(0,F.length-Z),E=E.substr(0,E.length-Z),(W!==V||E.length!==0)&&O.push({range:new C.Range(A.startLineNumber,W,A.endLineNumber,V),text:E})}}if(O.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const R=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",O),this._editor._getViewModel().setPrevEditOperationType(R)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(D=!1){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const N=this._editor.getPosition();if(!this._enabled&&!D||this._editor.getSelections().length>1){this.clearRanges();return}const I=this._editor.getModel(),M=I.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===M){if(N.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const R=I.getDecorationRange(this._currentDecorations[0]);if(R&&R.containsPosition(N))return}}this._currentRequestPosition=N,this._currentRequestModelVersion=M;const O=(0,v.createCancelablePromise)(R=>Ie(this,void 0,void 0,function*(){try{const P=yield f(I,N,R);if(O!==this._currentRequest||(this._currentRequest=null,M!==I.getVersionId()))return;let A=[];(P==null?void 0:P.ranges)&&(A=P.ranges),this._currentWordPattern=(P==null?void 0:P.wordPattern)||this._languageWordPattern;let F=!1;for(let W=0,V=A.length;W<V;W++)if(C.Range.containsPosition(A[W],N)){if(F=!0,W!==0){const $=A[W];A.splice(W,1),A.unshift($)}break}if(!F){this.clearRanges();return}const E=A.map(W=>({range:W,options:_t.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,E)}catch(P){(0,s.isPromiseCanceledError)(P)||(0,s.onUnexpectedError)(P),(this._currentRequest===O||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=O,O})}};y.ID="editor.contrib.linkedEditing",y.DECORATION=r.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:m}),y=Re([Ce(1,a.IContextKeyService)],y),e.LinkedEditingContribution=y;class w extends k.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:b.localize(0,null),alias:"Start Linked Editing",precondition:a.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(D,N){const I=D.get(u.ICodeEditorService),[M,O]=Array.isArray(N)&&N||[void 0,void 0];return c.URI.isUri(M)&&S.Position.isIPosition(O)?I.openCodeEditor({resource:M},I.getActiveCodeEditor()).then(R=>{!R||(R.setPosition(O),R.invokeWithinContext(P=>(this.reportTelemetry(P,R),this.run(P,R))))},s.onUnexpectedError):super.runCommand(D,N)}run(D,N){const I=y.get(N);return I?Promise.resolve(I.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=w;const g=k.EditorCommand.bindToContribution(y.get);(0,k.registerEditorCommand)(new g({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:_=>_.clearRanges(),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function f(_,D,N){const I=i.LinkedEditingRangeProviderRegistry.ordered(_);return(0,v.first)(I.map(M=>()=>Ie(this,void 0,void 0,function*(){try{return yield M.provideLinkedEditingRanges(_,D,N)}catch(O){(0,s.onUnexpectedExternalError)(O);return}})),M=>!!M&&T.isNonEmptyArray(M==null?void 0:M.ranges))}e.editorLinkedEditingBackground=(0,d.registerColor)("editor.linkedEditingBackground",{dark:o.Color.fromHex("#f00").transparent(.3),light:o.Color.fromHex("#f00").transparent(.3),hc:o.Color.fromHex("#f00").transparent(.3)},b.localize(1,null)),(0,t.registerThemingParticipant)((_,D)=>{const N=_.getColor(e.editorLinkedEditingBackground);N&&D.addRule(`.monaco-editor .${m} { background: ${N}; border-left-color: ${N}; }`)}),(0,k.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(_,D)=>f(_,D,p.CancellationToken.None)),(0,k.registerEditorContribution)(y.ID,y),(0,k.registerEditorAction)(w)}),define(ee[648],te([0,1,507,15,23,12,82,2,17,14,31,18,229,560,34,58,22,11,24,46,43,355]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;function h(f,_){const D=f.url&&/^command:/i.test(f.url.toString()),N=f.tooltip?f.tooltip:D?b.localize(0,null):b.localize(1,null),I=_?C.isMacintosh?b.localize(2,null):b.localize(3,null):C.isMacintosh?b.localize(4,null):b.localize(5,null);if(f.url){let M="";if(/^command:/i.test(f.url.toString())){const R=f.url.toString().match(/^command:([^?#]+)/);if(R){const P=R[1];M=` "${b.localize(6,null,P)}"`}}return new S.MarkdownString("",!0).appendMarkdown(`[${N}](${f.url.toString(!0)}${M}) (${I})`)}else return new S.MarkdownString().appendText(`${N} (${I})`)}const m={general:v.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:v.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class y{constructor(_,D){this.link=_,this.decorationId=D}static decoration(_,D){return{range:_.range,options:y._getOptions(_,D,!1)}}static _getOptions(_,D,N){const I=Object.assign({},N?m.active:m.general);return I.hoverMessage=h(_,D),I}activate(_,D){_.changeDecorationOptions(this.decorationId,y._getOptions(this.link,D,!0))}deactivate(_,D){_.changeDecorationOptions(this.decorationId,y._getOptions(this.link,D,!1))}}let w=class St{constructor(_,D,N){this.listenersToRemove=new p.DisposableStore,this.editor=_,this.openerService=D,this.notificationService=N;let I=new a.ClickLinkGesture(_);this.listenersToRemove.add(I),this.listenersToRemove.add(I.onMouseMoveOrRelevantKeyDown(([M,O])=>{this._onEditorMouseMove(M,O)})),this.listenersToRemove.add(I.onExecute(M=>{this.onEditorMouseUp(M)})),this.listenersToRemove.add(I.onCancel(M=>{this.cleanUpActiveLinkDecoration()})),this.enabled=_.getOption(61),this.listenersToRemove.add(_.onDidChangeConfiguration(M=>{const O=_.getOption(61);this.enabled!==O&&(this.enabled=O,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(_.onDidChangeModelContent(M=>this.onChange())),this.listenersToRemove.add(_.onDidChangeModel(M=>this.onModelChanged())),this.listenersToRemove.add(_.onDidChangeModelLanguage(M=>this.onModelModeChanged())),this.listenersToRemove.add(r.LinkProviderRegistry.onDidChange(M=>this.onModelModeChanged())),this.timeout=new k.TimeoutTimer,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(_){return _.getContribution(St.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),St.RECOMPUTE_TIME)}beginCompute(){return Ie(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.enabled)return;const _=this.editor.getModel();if(!!r.LinkProviderRegistry.has(_)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=k.createCancelablePromise(D=>(0,l.getLinks)(_,D));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(D){(0,L.onUnexpectedError)(D)}finally{this.computePromise=null}}})}updateDecorations(_){const D=this.editor.getOption(68)==="altKey";let N=[],I=Object.keys(this.currentOccurrences);for(let R=0,P=I.length;R<P;R++){let A=I[R],F=this.currentOccurrences[A];N.push(F.decorationId)}let M=[];if(_)for(const R of _)M.push(y.decoration(R,D));let O=this.editor.deltaDecorations(N,M);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let R=0,P=O.length;R<P;R++){let A=new y(_[R],O[R]);this.currentOccurrences[A.decorationId]=A}}_onEditorMouseMove(_,D){const N=this.editor.getOption(68)==="altKey";if(this.isEnabled(_,D)){this.cleanUpActiveLinkDecoration();const I=this.getLinkOccurrence(_.target.position);I&&this.editor.changeDecorations(M=>{I.activate(M,N),this.activeLinkDecorationId=I.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const _=this.editor.getOption(68)==="altKey";if(this.activeLinkDecorationId){const D=this.currentOccurrences[this.activeLinkDecorationId];D&&this.editor.changeDecorations(N=>{D.deactivate(N,_)}),this.activeLinkDecorationId=null}}onEditorMouseUp(_){if(!this.isEnabled(_))return;const D=this.getLinkOccurrence(_.target.position);!D||this.openLinkOccurrence(D,_.hasSideBySideModifier,!0)}openLinkOccurrence(_,D,N=!1){if(!this.openerService)return;const{link:I}=_;I.resolve(T.CancellationToken.None).then(M=>{if(typeof M=="string"&&this.editor.hasModel()){const O=this.editor.getModel().uri;if(O.scheme===t.Schemas.file&&M.startsWith(`${t.Schemas.file}:`)){const R=d.URI.parse(M);if(R.scheme===t.Schemas.file){const P=o.originalFSPath(R);let A=null;P.startsWith("/./")?A=`.${P.substr(1)}`:P.startsWith("//./")&&(A=`.${P.substr(2)}`),A&&(M=o.joinPath(O,A))}}}return this.openerService.open(M,{openToSide:D,fromUserGesture:N,allowContributedOpeners:!0,allowCommands:!0})},M=>{const O=M instanceof Error?M.message:M;O==="invalid"?this.notificationService.warn(b.localize(7,null,I.url.toString())):O==="missing"?this.notificationService.warn(b.localize(8,null)):(0,L.onUnexpectedError)(M)})}getLinkOccurrence(_){if(!this.editor.hasModel()||!_)return null;const D=this.editor.getModel().getDecorationsInRange({startLineNumber:_.lineNumber,startColumn:_.column,endLineNumber:_.lineNumber,endColumn:_.column},0,!0);for(const N of D){const I=this.currentOccurrences[N.id];if(I)return I}return null}isEnabled(_,D){return Boolean(_.target.type===6&&(_.hasTriggerModifier||D&&D.keyCodeIsTriggerKey))}stop(){var _;this.timeout.cancel(),this.activeLinksList&&((_=this.activeLinksList)===null||_===void 0||_.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};w.ID="editor.linkDetector",w.RECOMPUTE_TIME=1e3,w=Re([Ce(1,u.IOpenerService),Ce(2,c.INotificationService)],w),e.LinkDetector=w;class g extends i.EditorAction{constructor(){super({id:"editor.action.openLink",label:b.localize(9,null),alias:"Open Link",precondition:void 0})}run(_,D){let N=w.get(D);if(!N||!D.hasModel())return;let I=D.getSelections();for(let M of I){let O=N.getLinkOccurrence(M.getEndPosition());O&&N.openLinkOccurrence(O,!1)}}}(0,i.registerEditorContribution)(w.ID,w),(0,i.registerEditorAction)(g),(0,n.registerThemingParticipant)((f,_)=>{const D=f.getColor(s.editorActiveLinkForeground);D&&_.addRule(`.monaco-editor .detected-link-active { color: ${D} !important; }`)})}),define(ee[152],te([0,1,508,15,2,44,3,14,16,11,22,100,356]),function(G,e,b,k,T,L,S,p,C,i,v,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let a=class wt{constructor(s,n){this._messageWidget=new T.MutableDisposable,this._messageListeners=new T.DisposableStore,this._editor=s,this._visible=wt.MESSAGE_VISIBLE.bindTo(n),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(s){return s.getContribution(wt.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(s,n){(0,L.alert)(s),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new c(this._editor,n,s),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new k.TimeoutTimer(()=>this.closeMessage(),3e3));let d;this._messageListeners.add(this._editor.onMouseMove(t=>{!t.target.position||(d?d.containsPosition(t.target.position)||this.closeMessage():d=new S.Range(n.lineNumber-3,1,t.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(c.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(b.localize(1,null),this._editor.getPosition())}};a.ID="editor.contrib.messageController",a.MESSAGE_VISIBLE=new C.RawContextKey("messageVisible",!1,b.localize(0,null)),a=Re([Ce(1,C.IContextKeyService)],a),e.MessageController=a;const l=p.EditorCommand.bindToContribution(a.get);(0,p.registerEditorCommand)(new l({id:"leaveEditorMessage",precondition:a.MESSAGE_VISIBLE,handler:u=>u.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class c{constructor(s,{lineNumber:n,column:d},t){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=s,this._editor.revealLinesInCenterIfOutsideViewport(n,n,0),this._position={lineNumber:n,column:d-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const h=document.createElement("div");h.classList.add("message"),h.textContent=t,this._domNode.appendChild(h);const m=document.createElement("div");m.classList.add("anchor","below"),this._domNode.appendChild(m),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(s){let n;const d=()=>{s.dispose(),clearTimeout(n),s.getDomNode().removeEventListener("animationend",d)};return n=setTimeout(d,110),s.getDomNode().addEventListener("animationend",d),s.getDomNode().classList.add("fadeOut"),{dispose:d}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(s){this._domNode.classList.toggle("below",s===2)}}(0,p.registerEditorContribution)(a.ID,a),(0,i.registerThemingParticipant)((u,s)=>{const n=u.getColor(v.inputValidationInfoBorder);if(n){let o=u.type===r.ColorScheme.HIGH_CONTRAST?2:1;s.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${n}; }`),s.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${n}; }`),s.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${o}px solid ${n}; }`)}const d=u.getColor(v.inputValidationInfoBackground);d&&s.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${d}; }`);const t=u.getColor(v.inputValidationInfoForeground);t&&s.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${t}; }`)})});var vt=this&&this.__classPrivateFieldSet||function(G,e,b,k,T){if(k==="m")throw new TypeError("Private method is not writable");if(k==="a"&&!T)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?G!==e||!T:!e.has(G))throw new TypeError("Cannot write private member to an object whose class did not declare it");return k==="a"?T.call(G,b):T?T.value=b:e.set(G,b),b},it=this&&this.__classPrivateFieldGet||function(G,e,b,k){if(b==="a"&&!k)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?G!==e||!k:!e.has(G))throw new TypeError("Cannot read private member from an object whose class did not declare it");return b==="m"?k:b==="a"?k.call(G):k?k.value:e.get(G)};define(ee[649],te([0,1,12,155,2,152,9,630,609]),function(G,e,b,k,T,L,S,p,C){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let v=class extends T.Disposable{constructor(a,l,c,u,s){super();this._editor=a,this.delegate=u,this._activeCodeActions=this._register(new T.MutableDisposable),i.set(this,!1),this._codeActionWidget=new k.Lazy(()=>this._register(s.createInstance(p.CodeActionMenu,this._editor,{onSelectCodeAction:n=>Ie(this,void 0,void 0,function*(){this.delegate.applyCodeAction(n,!0)})}))),this._lightBulbWidget=new k.Lazy(()=>{const n=this._register(s.createInstance(C.LightBulbWidget,this._editor,l,c));return this._register(n.onClick(d=>this.showCodeActionList(d.trigger,d.actions,d,{includeDisabledActions:!1}))),n})}dispose(){vt(this,i,!0,"f"),super.dispose()}update(a){var l,c,u;return Ie(this,void 0,void 0,function*(){if(a.type!==1){(l=this._lightBulbWidget.rawValue)===null||l===void 0||l.hide();return}let s;try{s=yield a.actions}catch(n){(0,b.onUnexpectedError)(n);return}if(!it(this,i,"f"))if(this._lightBulbWidget.getValue().update(s,a.trigger,a.position),a.trigger.type===1){if((c=a.trigger.filter)===null||c===void 0?void 0:c.include){const d=this.tryGetValidActionToApply(a.trigger,s);if(d){try{yield this.delegate.applyCodeAction(d,!1)}finally{s.dispose()}return}if(a.trigger.context){const t=this.getInvalidActionThatWouldHaveBeenApplied(a.trigger,s);if(t&&t.action.disabled){L.MessageController.get(this._editor).showMessage(t.action.disabled,a.trigger.context.position),s.dispose();return}}}const n=!!((u=a.trigger.filter)===null||u===void 0?void 0:u.include);if(a.trigger.context&&(!s.allActions.length||!n&&!s.validActions.length)){L.MessageController.get(this._editor).showMessage(a.trigger.context.notAvailableMessage,a.trigger.context.position),this._activeCodeActions.value=s,s.dispose();return}this._activeCodeActions.value=s,this._codeActionWidget.getValue().show(a.trigger,s,a.position,{includeDisabledActions:n})}else this._codeActionWidget.getValue().isVisible?s.dispose():this._activeCodeActions.value=s})}getInvalidActionThatWouldHaveBeenApplied(a,l){if(!!l.allActions.length&&(a.autoApply==="first"&&l.validActions.length===0||a.autoApply==="ifSingle"&&l.allActions.length===1))return l.allActions.find(({action:c})=>c.disabled)}tryGetValidActionToApply(a,l){if(!!l.validActions.length&&(a.autoApply==="first"&&l.validActions.length>0||a.autoApply==="ifSingle"&&l.validActions.length===1))return l.validActions[0]}showCodeActionList(a,l,c,u){return Ie(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(a,l,c,u)})}};i=new WeakMap,v=Re([Ce(4,S.IInstantiationService)],v),e.CodeActionUi=v}),define(ee[268],te([0,1,23,155,2,8,14,138,25,151,649,152,476,26,16,9,87,34,59,89,631,137]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.applyCodeAction=e.QuickFixController=void 0;function m(A){return c.ContextKeyExpr.regex(o.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,L.escapeRegExpCharacters)(A.value)+"\\b"))}const y={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:a.localize(0,null)},apply:{type:"string",description:a.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[a.localize(2,null),a.localize(3,null),a.localize(4,null)]},preferred:{type:"boolean",default:!1,description:a.localize(5,null)}}};let w=class zt extends T.Disposable{constructor(F,E,W,V,$){super();this._instantiationService=$,this._editor=F,this._model=this._register(new o.CodeActionModel(this._editor,E,W,V)),this._register(this._model.onDidChangeState(Z=>this.update(Z))),this._ui=new k.Lazy(()=>this._register(new v.CodeActionUi(F,D.Id,P.Id,{applyCodeAction:(Z,X)=>Ie(this,void 0,void 0,function*(){try{yield this._applyCodeAction(Z)}finally{X&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(F){return F.getContribution(zt.ID)}update(F){this._ui.getValue().update(F)}showCodeActions(F,E,W){return this._ui.getValue().showCodeActionList(F,E,W,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(F,E,W){if(!this._editor.hasModel())return;r.MessageController.get(this._editor).closeMessage();const V=this._editor.getPosition();this._trigger({type:1,filter:E,autoApply:W,context:{notAvailableMessage:F,position:V}})}_trigger(F){return this._model.trigger(F)}_applyCodeAction(F){return this._instantiationService.invokeFunction(g,F,this._editor)}};w.ID="editor.contrib.quickFixController",w=Re([Ce(1,s.IMarkerService),Ce(2,c.IContextKeyService),Ce(3,d.IEditorProgressService),Ce(4,u.IInstantiationService)],w),e.QuickFixController=w;function g(A,F,E){return Ie(this,void 0,void 0,function*(){const W=A.get(p.IBulkEditService),V=A.get(l.ICommandService),$=A.get(t.ITelemetryService),Z=A.get(n.INotificationService);if($.publicLog2("codeAction.applyCodeAction",{codeActionTitle:F.action.title,codeActionKind:F.action.kind,codeActionIsPreferred:!!F.action.isPreferred}),yield F.resolve(b.CancellationToken.None),F.action.edit&&(yield W.apply(p.ResourceEdit.convert(F.action.edit),{editor:E,label:F.action.title})),F.action.command)try{yield V.executeCommand(F.action.command.id,...F.action.command.arguments||[])}catch(X){const J=f(X);Z.error(typeof J=="string"?J:a.localize(6,null))}})}e.applyCodeAction=g;function f(A){return typeof A=="string"?A:A instanceof Error&&typeof A.message=="string"?A.message:void 0}function _(A,F,E,W){if(A.hasModel()){const V=w.get(A);V&&V.manualTriggerAtCurrentPosition(F,E,W)}}class D extends S.EditorAction{constructor(){super({id:D.Id,label:a.localize(7,null),alias:"Quick Fix...",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2048|84,weight:100}})}run(F,E){return _(E,a.localize(8,null),void 0,void 0)}}e.QuickFixAction=D,D.Id="editor.action.quickFix";class N extends S.EditorCommand{constructor(){super({id:i.codeActionCommandId,precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:y}]}})}runEditorCommand(F,E,W){const V=h.CodeActionCommandArgs.fromUser(W,{kind:h.CodeActionKind.Empty,apply:"ifSingle"});return _(E,typeof(W==null?void 0:W.kind)=="string"?V.preferred?a.localize(9,null,W.kind):a.localize(10,null,W.kind):V.preferred?a.localize(11,null):a.localize(12,null),{include:V.kind,includeSourceActions:!0,onlyIncludePreferredActions:V.preferred},V.apply)}}e.CodeActionCommand=N;class I extends S.EditorAction{constructor(){super({id:i.refactorCommandId,label:a.localize(13,null),alias:"Refactor...",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:c.ContextKeyExpr.and(C.EditorContextKeys.writable,m(h.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:y}]}})}run(F,E,W){const V=h.CodeActionCommandArgs.fromUser(W,{kind:h.CodeActionKind.Refactor,apply:"never"});return _(E,typeof(W==null?void 0:W.kind)=="string"?V.preferred?a.localize(14,null,W.kind):a.localize(15,null,W.kind):V.preferred?a.localize(16,null):a.localize(17,null),{include:h.CodeActionKind.Refactor.contains(V.kind)?V.kind:h.CodeActionKind.None,onlyIncludePreferredActions:V.preferred},V.apply)}}e.RefactorAction=I;class M extends S.EditorAction{constructor(){super({id:i.sourceActionCommandId,label:a.localize(18,null),alias:"Source Action...",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:c.ContextKeyExpr.and(C.EditorContextKeys.writable,m(h.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:y}]}})}run(F,E,W){const V=h.CodeActionCommandArgs.fromUser(W,{kind:h.CodeActionKind.Source,apply:"never"});return _(E,typeof(W==null?void 0:W.kind)=="string"?V.preferred?a.localize(19,null,W.kind):a.localize(20,null,W.kind):V.preferred?a.localize(21,null):a.localize(22,null),{include:h.CodeActionKind.Source.contains(V.kind)?V.kind:h.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:V.preferred},V.apply)}}e.SourceAction=M;class O extends S.EditorAction{constructor(){super({id:i.organizeImportsCommandId,label:a.localize(23,null),alias:"Organize Imports",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,m(h.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1024|512|45,weight:100}})}run(F,E){return _(E,a.localize(24,null),{include:h.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}e.OrganizeImportsAction=O;class R extends S.EditorAction{constructor(){super({id:i.fixAllCommandId,label:a.localize(25,null),alias:"Fix All",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,m(h.CodeActionKind.SourceFixAll))})}run(F,E){return _(E,a.localize(26,null),{include:h.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}e.FixAllAction=R;class P extends S.EditorAction{constructor(){super({id:P.Id,label:a.localize(27,null),alias:"Auto Fix...",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,m(h.CodeActionKind.QuickFix)),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(F,E){return _(E,a.localize(28,null),{include:h.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}e.AutoFixAction=P,P.Id="editor.action.autoFix"}),define(ee[650],te([0,1,14,268]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,b.registerEditorContribution)(k.QuickFixController.ID,k.QuickFixController),(0,b.registerEditorAction)(k.QuickFixAction),(0,b.registerEditorAction)(k.RefactorAction),(0,b.registerEditorAction)(k.SourceAction),(0,b.registerEditorAction)(k.OrganizeImportsAction),(0,b.registerEditorAction)(k.AutoFixAction),(0,b.registerEditorAction)(k.FixAllAction),(0,b.registerEditorCommand)(new k.CodeActionCommand)}),define(ee[651],te([0,1,515,12,16,59,14,25,619,18,13,44,3,152,66,34,138,24,28,23,2,15,70,9,32,98,142,20]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h,m,y,w,g,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class D{constructor(P,A){this.model=P,this.position=A,this._providerRenameIdx=0,this._providers=i.RenameProviderRegistry.ordered(P)}hasProvider(){return this._providers.length>0}resolveRenameLocation(P){return Ie(this,void 0,void 0,function*(){const A=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const E=this._providers[this._providerRenameIdx];if(!E.resolveRenameLocation)break;let W=yield E.resolveRenameLocation(this.model,this.position,P);if(!!W){if(W.rejectReason){A.push(W.rejectReason);continue}return W}}const F=this.model.getWordAtPosition(this.position);return F?{range:new a.Range(this.position.lineNumber,F.startColumn,this.position.lineNumber,F.endColumn),text:F.word,rejectReason:A.length>0?A.join(`
`):void 0}:{range:a.Range.fromPositions(this.position),text:"",rejectReason:A.length>0?A.join(`
`):void 0}})}provideRenameEdits(P,A){return Ie(this,void 0,void 0,function*(){return this._provideRenameEdits(P,this._providerRenameIdx,[],A)})}_provideRenameEdits(P,A,F,E){return Ie(this,void 0,void 0,function*(){const W=this._providers[A];if(!W)return{edits:[],rejectReason:F.join(`
`)};const V=yield W.provideRenameEdits(this.model,this.position,P,E);if(V){if(V.rejectReason)return this._provideRenameEdits(P,A+1,F.concat(V.rejectReason),E)}else return this._provideRenameEdits(P,A+1,F.concat(b.localize(0,null)),E);return V})}}function N(R,P,A){return Ie(this,void 0,void 0,function*(){const F=new D(R,P),E=yield F.resolveRenameLocation(t.CancellationToken.None);return(E==null?void 0:E.rejectReason)?{edits:[],rejectReason:E.rejectReason}:F.provideRenameEdits(A,t.CancellationToken.None)})}e.rename=N;let I=class Ht{constructor(P,A,F,E,W,V,$){this.editor=P,this._instaService=A,this._notificationService=F,this._bulkEditService=E,this._progressService=W,this._logService=V,this._configService=$,this._dispoableStore=new o.DisposableStore,this._cts=new t.CancellationTokenSource,this._renameInputField=this._dispoableStore.add(new h.IdleValue(()=>this._dispoableStore.add(this._instaService.createInstance(C.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(P){return P.getContribution(Ht.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return Ie(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const P=this.editor.getPosition(),A=new D(this.editor.getModel(),P);if(!A.hasProvider())return;this._cts=new c.EditorStateCancellationTokenSource(this.editor,4|1);let F;try{const J=A.resolveRenameLocation(this._cts.token);this._progressService.showWhile(J,250),F=yield J}catch(J){l.MessageController.get(this.editor).showMessage(J||b.localize(1,null),P);return}if(!F)return;if(F.rejectReason){l.MessageController.get(this.editor).showMessage(F.rejectReason,P);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new c.EditorStateCancellationTokenSource(this.editor,4|1,F.range);let E=this.editor.getSelection(),W=0,V=F.text.length;!a.Range.isEmpty(E)&&!a.Range.spansMultipleLines(E)&&a.Range.containsRange(F.range,E)&&(W=Math.max(0,E.startColumn-F.range.startColumn),V=Math.min(F.range.endColumn,E.endColumn)-F.range.startColumn);const $=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),Z=yield this._renameInputField.value.getInput(F.range,F.text,W,V,$,this._cts.token);if(typeof Z=="boolean"){Z&&this.editor.focus();return}this.editor.focus();const X=(0,h.raceCancellation)(A.provideRenameEdits(Z.newName,this._cts.token),this._cts.token).then(J=>Ie(this,void 0,void 0,function*(){if(!(!J||!this.editor.hasModel())){if(J.rejectReason){this._notificationService.info(J.rejectReason);return}this._bulkEditService.apply(s.ResourceEdit.convert(J),{editor:this.editor,showPreview:Z.wantsPreview,label:b.localize(2,null,F==null?void 0:F.text),quotableLabel:b.localize(3,null,F==null?void 0:F.text)}).then(ie=>{ie.ariaSummary&&(0,r.alert)(b.localize(4,null,F.text,Z.newName,ie.ariaSummary))}).catch(ie=>{this._notificationService.error(b.localize(5,null)),this._logService.error(ie)})}}),J=>{this._notificationService.error(b.localize(6,null)),this._logService.error(J)});return this._progressService.showWhile(X,250),X})}acceptRenameInput(P){this._renameInputField.value.acceptInput(P)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};I.ID="editor.contrib.renameController",I=Re([Ce(1,y.IInstantiationService),Ce(2,u.INotificationService),Ce(3,s.IBulkEditService),Ce(4,L.IEditorProgressService),Ce(5,m.ILogService),Ce(6,f.ITextResourceConfigurationService)],I);class M extends S.EditorAction{constructor(){super({id:"editor.action.rename",label:b.localize(7,null),alias:"Rename Symbol",precondition:T.ContextKeyExpr.and(p.EditorContextKeys.writable,p.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(P,A){const F=P.get(d.ICodeEditorService),[E,W]=Array.isArray(A)&&A||[void 0,void 0];return n.URI.isUri(E)&&v.Position.isIPosition(W)?F.openCodeEditor({resource:E},F.getActiveCodeEditor()).then(V=>{!V||(V.setPosition(W),V.invokeWithinContext($=>(this.reportTelemetry($,V),this.run($,V))))},k.onUnexpectedError):super.runCommand(P,A)}run(P,A){const F=I.get(A);return F?F.run():Promise.resolve()}}e.RenameAction=M,(0,S.registerEditorContribution)(I.ID,I),(0,S.registerEditorAction)(M);const O=S.EditorCommand.bindToContribution(I.get);(0,S.registerEditorCommand)(new O({id:"acceptRenameInput",precondition:C.CONTEXT_RENAME_INPUT_VISIBLE,handler:R=>R.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:p.EditorContextKeys.focus,primary:3}})),(0,S.registerEditorCommand)(new O({id:"acceptRenameInputWithPreview",precondition:T.ContextKeyExpr.and(C.CONTEXT_RENAME_INPUT_VISIBLE,T.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:R=>R.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:p.EditorContextKeys.focus,primary:1024+3}})),(0,S.registerEditorCommand)(new O({id:"cancelRenameInput",precondition:C.CONTEXT_RENAME_INPUT_VISIBLE,handler:R=>R.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:p.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,S.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(R,P,...A){const[F]=A;return(0,_.assertType)(typeof F=="string"),N(R,P,F)}),w.Registry.as(g.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:b.localize(8,null),default:!0,type:"boolean"}}})}),define(ee[652],te([0,1,19,23,14,13,3,21,25,18,517,33,421,234,26,12]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class s{constructor(y,w){this.index=y,this.ranges=w}mov(y){let w=this.index+(y?1:-1);if(w<0||w>=this.ranges.length)return this;const g=new s(w,this.ranges);return g.ranges[w].equalsRange(this.ranges[this.index])?g.mov(y):g}}class n{constructor(y){this._editor=y,this._ignoreSelection=!1}static get(y){return y.getContribution(n.ID)}dispose(){var y;(y=this._selectionListener)===null||y===void 0||y.dispose()}run(y){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const w=this._editor.getSelections(),g=this._editor.getModel();if(!i.SelectionRangeRegistry.has(g)||(this._state||(yield h(g,w.map(_=>_.getPosition()),this._editor.getOption(101),k.CancellationToken.None).then(_=>{var D;if(!(!b.isNonEmptyArray(_)||_.length!==w.length)&&!(!this._editor.hasModel()||!b.equals(this._editor.getSelections(),w,(N,I)=>N.equalsSelection(I)))){for(let N=0;N<_.length;N++)_[N]=_[N].filter(I=>I.containsPosition(w[N].getStartPosition())&&I.containsPosition(w[N].getEndPosition())),_[N].unshift(w[N]);this._state=_.map(N=>new s(0,N)),(D=this._selectionListener)===null||D===void 0||D.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var N;this._ignoreSelection||((N=this._selectionListener)===null||N===void 0||N.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(_=>_.mov(y));const f=this._state.map(_=>p.Selection.fromPositions(_.ranges[_.index].getStartPosition(),_.ranges[_.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(f)}finally{this._ignoreSelection=!1}})}}n.ID="editor.contrib.smartSelectController";class d extends T.EditorAction{constructor(y,w){super(w);this._forward=y}run(y,w){return Ie(this,void 0,void 0,function*(){let g=n.get(w);g&&(yield g.run(this._forward))})}}class t extends d{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:v.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"1_basic",title:v.localize(1,null),order:2}})}}c.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class o extends d{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:v.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"1_basic",title:v.localize(3,null),order:3}})}}(0,T.registerEditorContribution)(n.ID,n),(0,T.registerEditorAction)(t),(0,T.registerEditorAction)(o),i.SelectionRangeRegistry.register("*",new a.WordSelectionRangeProvider);function h(m,y,w,g){return Ie(this,void 0,void 0,function*(){const f=i.SelectionRangeRegistry.all(m);f.length===1&&f.unshift(new l.BracketSelectionRangeProvider);let _=[],D=[];for(const N of f)_.push(Promise.resolve(N.provideSelectionRanges(m,y,g)).then(I=>{if(b.isNonEmptyArray(I)&&I.length===y.length)for(let M=0;M<y.length;M++){D[M]||(D[M]=[]);for(const O of I[M])S.Range.isIRange(O.range)&&S.Range.containsPosition(O.range,y[M])&&D[M].push(S.Range.lift(O.range))}},u.onUnexpectedExternalError));return yield Promise.all(_),D.map(N=>{if(N.length===0)return[];N.sort((R,P)=>L.Position.isBefore(R.getStartPosition(),P.getStartPosition())?1:L.Position.isBefore(P.getStartPosition(),R.getStartPosition())||L.Position.isBefore(R.getEndPosition(),P.getEndPosition())?-1:L.Position.isBefore(P.getEndPosition(),R.getEndPosition())?1:0);let I=[],M;for(const R of N)(!M||S.Range.containsRange(R,M)&&!S.Range.equalsRange(R,M))&&(I.push(R),M=R);if(!w.selectLeadingAndTrailingWhitespace)return I;let O=[I[0]];for(let R=1;R<I.length;R++){const P=I[R-1],A=I[R];if(A.startLineNumber!==P.startLineNumber||A.endLineNumber!==P.endLineNumber){const F=new S.Range(P.startLineNumber,m.getLineFirstNonWhitespaceColumn(P.startLineNumber),P.endLineNumber,m.getLineLastNonWhitespaceColumn(P.endLineNumber));F.containsRange(P)&&!F.equalsRange(P)&&A.containsRange(F)&&!A.equalsRange(F)&&O.push(F);const E=new S.Range(P.startLineNumber,1,P.endLineNumber,m.getLineMaxColumn(P.endLineNumber));E.containsRange(P)&&!E.equalsRange(F)&&A.containsRange(E)&&!A.equalsRange(E)&&O.push(E)}O.push(A)}return O})})}e.provideSelectionRanges=h,(0,T.registerModelCommand)("_executeSelectionRangeProvider",function(m,...y){const[w]=y;return h(m,w,{selectLeadingAndTrailingWhitespace:!0},k.CancellationToken.None)})}),define(ee[123],te([0,1,12,18,13,16,23,3,67,2,33,116,81,26,20,24,68,520]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:new L.RawContextKey("suggestWidgetVisible",!1,(0,n.localize)(0,null)),DetailsVisible:new L.RawContextKey("suggestWidgetDetailsVisible",!1,(0,n.localize)(1,null)),MultipleSuggestions:new L.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,n.localize)(2,null)),MakesTextEdit:new L.RawContextKey("suggestionMakesTextEdit",!0,(0,n.localize)(3,null)),AcceptSuggestionsOnEnter:new L.RawContextKey("acceptSuggestionOnEnter",!0,(0,n.localize)(4,null)),HasInsertAndReplaceRange:new L.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,n.localize)(5,null)),InsertMode:new L.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,n.localize)(6,null)}),CanResolve:new L.RawContextKey("suggestionCanResolve",!1,(0,n.localize)(7,null))},e.suggestWidgetStatusbarMenu=new v.MenuId("suggestWidgetStatusBar");class d{constructor(O,R,P,A){this.position=O,this.completion=R,this.container=P,this.provider=A,this.isInvalid=!1,this.score=C.FuzzyScore.Default,this.distance=0,this.textLabel=typeof R.label=="string"?R.label:R.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=R.sortText&&R.sortText.toLowerCase(),this.filterTextLow=R.filterText&&R.filterText.toLowerCase(),p.Range.isIRange(R.range)?(this.editStart=new T.Position(R.range.startLineNumber,R.range.startColumn),this.editInsertEnd=new T.Position(R.range.endLineNumber,R.range.endColumn),this.editReplaceEnd=new T.Position(R.range.endLineNumber,R.range.endColumn),this.isInvalid=this.isInvalid||p.Range.spansMultipleLines(R.range)||R.range.startLineNumber!==O.lineNumber):(this.editStart=new T.Position(R.range.insert.startLineNumber,R.range.insert.startColumn),this.editInsertEnd=new T.Position(R.range.insert.endLineNumber,R.range.insert.endColumn),this.editReplaceEnd=new T.Position(R.range.replace.endLineNumber,R.range.replace.endColumn),this.isInvalid=this.isInvalid||p.Range.spansMultipleLines(R.range.insert)||p.Range.spansMultipleLines(R.range.replace)||R.range.insert.startLineNumber!==O.lineNumber||R.range.replace.startLineNumber!==O.lineNumber||R.range.insert.startColumn!==R.range.replace.startColumn),typeof A.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(O){return Ie(this,void 0,void 0,function*(){if(!this._resolveCache){const R=O.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,O)).then(P=>{Object.assign(this.completion,P),this._isResolved=!0,R.dispose()},P=>{(0,b.isPromiseCanceledError)(P)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=d;class t{constructor(O=2,R=new Set,P=new Set,A=!0){this.snippetSortOrder=O,this.kindFilter=R,this.providerFilter=P,this.showDeprecated=A}}e.CompletionOptions=t,t.default=new t;let o;function h(){return o}e.getSnippetSuggestSupport=h;class m{constructor(O,R,P,A){this.items=O,this.needsClipboard=R,this.durations=P,this.disposable=A}}e.CompletionItemModel=m;function y(M,O,R=t.default,P={triggerKind:0},A=S.CancellationToken.None){return Ie(this,void 0,void 0,function*(){const F=new a.StopWatch(!0);O=O.clone();const E=M.getWordAtPosition(O),W=E?new p.Range(O.lineNumber,E.startColumn,O.lineNumber,E.endColumn):p.Range.fromPositions(O),V={replace:W,insert:W.setEndPosition(O.lineNumber,O.column)},$=[],Z=new i.DisposableStore,X=[];let J=!1;const ie=(ue,q,B)=>{var j,H,z;if(!!q){for(let Q of q.suggestions)if(!R.kindFilter.has(Q.kind)){if(!R.showDeprecated&&((j=Q==null?void 0:Q.tags)===null||j===void 0?void 0:j.includes(1)))continue;Q.range||(Q.range=V),Q.sortText||(Q.sortText=typeof Q.label=="string"?Q.label:Q.label.label),!J&&Q.insertTextRules&&Q.insertTextRules&4&&(J=r.SnippetParser.guessNeedsClipboard(Q.insertText)),$.push(new d(O,Q,q,ue))}(0,i.isDisposable)(q)&&Z.add(q),X.push({providerName:(H=ue._debugDisplayName)!==null&&H!==void 0?H:"unkown_provider",elapsedProvider:(z=q.duration)!==null&&z!==void 0?z:-1,elapsedOverall:B.elapsed()})}},de=(()=>Ie(this,void 0,void 0,function*(){if(!o||R.kindFilter.has(27)||R.providerFilter.size>0&&!R.providerFilter.has(o))return;const ue=new a.StopWatch(!0),q=yield o.provideCompletionItems(M,O,P,A);ie(o,q,ue)}))();for(let ue of k.CompletionProviderRegistry.orderedGroups(M)){let q=$.length;if(yield Promise.all(ue.map(B=>Ie(this,void 0,void 0,function*(){if(!(R.providerFilter.size>0&&!R.providerFilter.has(B)))try{const j=new a.StopWatch(!0),H=yield B.provideCompletionItems(M,O,P,A);ie(B,H,j)}catch(j){(0,b.onUnexpectedExternalError)(j)}}))),q!==$.length||A.isCancellationRequested)break}return yield de,A.isCancellationRequested?(Z.dispose(),Promise.reject((0,b.canceled)())):new m($.sort(D(R.snippetSortOrder)),J,{entries:X,elapsed:F.elapsed()},Z)})}e.provideSuggestionItems=y;function w(M,O){if(M.sortTextLow&&O.sortTextLow){if(M.sortTextLow<O.sortTextLow)return-1;if(M.sortTextLow>O.sortTextLow)return 1}return M.completion.label<O.completion.label?-1:M.completion.label>O.completion.label?1:M.completion.kind-O.completion.kind}function g(M,O){if(M.completion.kind!==O.completion.kind){if(M.completion.kind===27)return-1;if(O.completion.kind===27)return 1}return w(M,O)}function f(M,O){if(M.completion.kind!==O.completion.kind){if(M.completion.kind===27)return 1;if(O.completion.kind===27)return-1}return w(M,O)}const _=new Map;_.set(0,g),_.set(2,f),_.set(1,w);function D(M){return _.get(M)}e.getSuggestionComparator=D,l.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(M,...O)=>Ie(void 0,void 0,void 0,function*(){const[R,P,A,F]=O;(0,c.assertType)(u.URI.isUri(R)),(0,c.assertType)(T.Position.isIPosition(P)),(0,c.assertType)(typeof A=="string"||!A),(0,c.assertType)(typeof F=="number"||!F);const E=yield M.get(s.ITextModelService).createModelReference(R);try{const W={incomplete:!1,suggestions:[]},V=[],$=yield y(E.object.textEditorModel,T.Position.lift(P),void 0,{triggerCharacter:A,triggerKind:A?1:0});for(const Z of $.items)V.length<(F??0)&&V.push(Z.resolve(S.CancellationToken.None)),W.incomplete=W.incomplete||Z.container.incomplete,W.suggestions.push(Z.completion);try{return yield Promise.all(V),W}finally{setTimeout(()=>$.disposable.dispose(),100)}}finally{E.dispose()}}));const N=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let O={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,O}};k.CompletionProviderRegistry.register("*",N);function I(M,O){setTimeout(()=>{N.onlyOnceSuggestions.push(...O),M.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(N))},0)}e.showSimpleSuggestions=I}),define(ee[269],te([0,1,527,44,14,190]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class S extends T.EditorAction{constructor(){super({id:S.ID,label:b.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(C,i){const r=!L.TabFocus.getTabFocusMode();L.TabFocus.setTabFocusMode(r),r?(0,k.alert)(b.localize(1,null)):(0,k.alert)(b.localize(2,null))}}e.ToggleTabFocusModeAction=S,S.ID="editor.action.toggleTabFocusMode",(0,T.registerEditorAction)(S)}),define(ee[653],te([0,1,528,14,81]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends k.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:b.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(p,C){if(!C.hasModel())return;const i=C.getModel();i.resetTokenization();const v=new T.StopWatch(!0);i.forceTokenization(i.getLineCount()),v.stop(),console.log(`tokenization took ${v.elapsed()}`)}}(0,k.registerEditorAction)(L)}),define(ee[654],te([0,1,529,2,14,28,120,43]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const C="ignoreUnusualLineTerminators";function i(a,l,c){a.setModelProperty(l.uri,C,c)}function v(a,l){return a.getModelProperty(l.uri,C)}let r=class extends k.Disposable{constructor(l,c,u){super();this._editor=l,this._dialogService=c,this._codeEditorService=u,this._config=this._editor.getOption(112),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(112)&&(this._config=this._editor.getOption(112),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(s=>{s.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return Ie(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const l=this._editor.getModel();if(!l.mightContainUnusualLineTerminators()||v(this._codeEditorService,l)===!0||this._editor.getOption(79))return;if(this._config==="auto"){l.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:b.localize(0,null),message:b.localize(1,null),detail:b.localize(2,null,(0,p.basename)(l.uri)),primaryButton:b.localize(3,null),secondaryButton:b.localize(4,null)})).confirmed){i(this._codeEditorService,l,!0);return}l.removeUnusualLineTerminators(this._editor.getSelections())})}};r.ID="editor.contrib.unusualLineTerminatorsDetector",r=Re([Ce(1,S.IDialogService),Ce(2,L.ICodeEditorService)],r),e.UnusualLineTerminatorsDetector=r,(0,T.registerEditorContribution)(r.ID,r)}),define(ee[655],te([0,1,530,19,15,23,12,2,14,3,25,53,31,18,16,22,11,44]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const d=(0,u.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},b.localize(0,null),!0),t=(0,u.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},b.localize(1,null),!0),o=(0,u.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hc:u.activeContrastBorder},b.localize(2,null)),h=(0,u.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:u.activeContrastBorder},b.localize(3,null)),m=(0,u.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},b.localize(4,null),!0),y=(0,u.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},b.localize(5,null),!0),w=new c.RawContextKey("hasWordHighlights",!1);function g(F,E,W){const V=l.DocumentHighlightProviderRegistry.ordered(F);return(0,T.first)(V.map($=>()=>Promise.resolve($.provideDocumentHighlights(F,E,W)).then(void 0,S.onUnexpectedExternalError)),k.isNonEmptyArray)}e.getOccurrencesAtPosition=g;class f{constructor(E,W,V){this._wordRange=this._getCurrentWordRange(E,W),this.result=(0,T.createCancelablePromise)($=>this._compute(E,W,V,$))}_getCurrentWordRange(E,W){const V=E.getWordAtPosition(W.getPosition());return V?new i.Range(W.startLineNumber,V.startColumn,W.startLineNumber,V.endColumn):null}isValid(E,W,V){const $=W.startLineNumber,Z=W.startColumn,X=W.endColumn,J=this._getCurrentWordRange(E,W);let ie=Boolean(this._wordRange&&this._wordRange.equalsRange(J));for(let de=0,ue=V.length;!ie&&de<ue;de++){let q=E.getDecorationRange(V[de]);q&&q.startLineNumber===$&&q.startColumn<=Z&&q.endColumn>=X&&(ie=!0)}return ie}cancel(){this.result.cancel()}}class _ extends f{_compute(E,W,V,$){return g(E,W.getPosition(),$).then(Z=>Z||[])}}class D extends f{constructor(E,W,V){super(E,W,V);this._selectionIsEmpty=W.isEmpty()}_compute(E,W,V,$){return(0,T.timeout)(250,$).then(()=>{if(!W.isEmpty())return[];const Z=E.getWordAtPosition(W.getPosition());return!Z||Z.word.length>1e3?[]:E.findMatches(Z.word,!0,!1,!0,V,!1).map(J=>({range:J.range,kind:l.DocumentHighlightKind.Text}))})}isValid(E,W,V){const $=W.isEmpty();return this._selectionIsEmpty!==$?!1:super.isValid(E,W,V)}}function N(F,E,W){return l.DocumentHighlightProviderRegistry.has(F)?new _(F,E,W):new D(F,E,W)}(0,C.registerModelAndPositionCommand)("_executeDocumentHighlights",(F,E)=>g(F,E,L.CancellationToken.None));class I{constructor(E,W){this.toUnhook=new p.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=E,this._hasWordHighlights=w.bindTo(W),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(70),this.model=this.editor.getModel(),this.toUnhook.add(E.onDidChangeCursorPosition(V=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(V)})),this.toUnhook.add(E.onDidChangeModelContent(V=>{this._stopAll()})),this.toUnhook.add(E.onDidChangeConfiguration(V=>{let $=this.editor.getOption(70);this.occurrencesHighlight!==$&&(this.occurrencesHighlight=$,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return k.coalesce(this._decorationIds.map(E=>this.model.getDecorationRange(E)).sort(i.Range.compareRangesUsingStarts))}moveNext(){let E=this._getSortedHighlights(),V=(E.findIndex(Z=>Z.containsPosition(this.editor.getPosition()))+1)%E.length,$=E[V];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition($.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport($);const Z=this._getWord();if(Z){const X=this.editor.getModel().getLineContent($.startLineNumber);(0,n.alert)(`${X}, ${V+1} of ${E.length} for '${Z.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let E=this._getSortedHighlights(),V=(E.findIndex(Z=>Z.containsPosition(this.editor.getPosition()))-1+E.length)%E.length,$=E[V];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition($.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport($);const Z=this._getWord();if(Z){const X=this.editor.getModel().getLineContent($.startLineNumber);(0,n.alert)(`${X}, ${V+1} of ${E.length} for '${Z.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(E){if(!this.occurrencesHighlight){this._stopAll();return}if(E.reason!==3){this._stopAll();return}this._run()}_getWord(){let E=this.editor.getSelection(),W=E.startLineNumber,V=E.startColumn;return this.model.getWordAtPosition({lineNumber:W,column:V})}_run(){let E=this.editor.getSelection();if(E.startLineNumber!==E.endLineNumber){this._stopAll();return}let W=E.startColumn,V=E.endColumn;const $=this._getWord();if(!$||$.startColumn>W||$.endColumn<V){this._stopAll();return}const Z=this.workerRequest&&this.workerRequest.isValid(this.model,E,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),Z)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let X=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=N(this.model,this.editor.getSelection(),this.editor.getOption(115)),this.workerRequest.result.then(J=>{X===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=J||[],this._beginRenderDecorations())},S.onUnexpectedError)}}_beginRenderDecorations(){let E=new Date().getTime(),W=this.lastCursorPositionChangeTime+250;E>=W?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},W-E)}renderDecorations(){this.renderDecorationsTimer=-1;let E=[];for(const W of this.workerRequestValue)W.range&&E.push({range:W.range,options:I._getDecorationOptions(W.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,E),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(E){return E===l.DocumentHighlightKind.Write?this._WRITE_OPTIONS:E===l.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}I._WRITE_OPTIONS=a.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,s.themeColorFromId)(y),position:r.OverviewRulerLane.Center}}),I._TEXT_OPTIONS=a.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,s.themeColorFromId)(u.overviewRulerSelectionHighlightForeground),position:r.OverviewRulerLane.Center}}),I._REGULAR_OPTIONS=a.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,s.themeColorFromId)(m),position:r.OverviewRulerLane.Center}});let M=class Ut extends p.Disposable{constructor(E,W){super();this.wordHighlighter=null;const V=()=>{E.hasModel()&&(this.wordHighlighter=new I(E,W))};this._register(E.onDidChangeModel($=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),V()})),V()}static get(E){return E.getContribution(Ut.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(E){this.wordHighlighter&&E&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};M.ID="editor.contrib.wordHighlighter",M=Re([Ce(1,c.IContextKeyService)],M);class O extends C.EditorAction{constructor(E,W){super(W);this._isNext=E}run(E,W){const V=M.get(W);!V||(this._isNext?V.moveNext():V.moveBack())}}class R extends O{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:b.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:w,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class P extends O{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:b.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:w,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1024|65,weight:100}})}}class A extends C.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:b.localize(8,null),alias:"Trigger Symbol Highlight",precondition:w.toNegated(),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(E,W,V){const $=M.get(W);!$||$.restoreViewState(!0)}}(0,C.registerEditorContribution)(M.ID,M),(0,C.registerEditorAction)(R),(0,C.registerEditorAction)(P),(0,C.registerEditorAction)(A),(0,s.registerThemingParticipant)((F,E)=>{const W=F.getColor(u.editorSelectionHighlight);W&&(E.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${W}; }`),E.addRule(`.monaco-editor .selectionHighlight { background-color: ${W.transparent(.5)}; }`));const V=F.getColor(d);V&&E.addRule(`.monaco-editor .wordHighlight { background-color: ${V}; }`);const $=F.getColor(t);$&&E.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${$}; }`);const Z=F.getColor(u.editorSelectionHighlightBorder);Z&&E.addRule(`.monaco-editor .selectionHighlight { border: 1px ${F.type==="hc"?"dotted":"solid"} ${Z}; box-sizing: border-box; }`);const X=F.getColor(o);X&&E.addRule(`.monaco-editor .wordHighlight { border: 1px ${F.type==="hc"?"dashed":"solid"} ${X}; box-sizing: border-box; }`);const J=F.getColor(h);J&&E.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${F.type==="hc"?"dashed":"solid"} ${J}; box-sizing: border-box; }`)})}),define(ee[270],te([0,1,531,14,95,40,141,109,13,3,21,25,64,16,35,45,253]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class n extends k.EditorCommand{constructor(q){super(q);this._inSelectionMode=q.inSelectionMode,this._wordNavigationType=q.wordNavigationType}runEditorCommand(q,B,j){if(!B.hasModel())return;const H=(0,p.getMapForWordSeparators)(B.getOption(115)),z=B.getModel(),x=B.getSelections().map(le=>{const oe=new C.Position(le.positionLineNumber,le.positionColumn),K=this._move(H,z,oe,this._wordNavigationType);return this._moveTo(le,K,this._inSelectionMode)});if(z.pushStackElement(),B._getViewModel().setCursorStates("moveWordCommand",3,x.map(le=>L.CursorState.fromModelSelection(le))),x.length===1){const le=new C.Position(x[0].positionLineNumber,x[0].positionColumn);B.revealPosition(le,0)}}_moveTo(q,B,j){return j?new v.Selection(q.selectionStartLineNumber,q.selectionStartColumn,B.lineNumber,B.column):new v.Selection(B.lineNumber,B.column,B.lineNumber,B.column)}}e.MoveWordCommand=n;class d extends n{_move(q,B,j,H){return S.WordOperations.moveWordLeft(q,B,j,H)}}e.WordLeftCommand=d;class t extends n{_move(q,B,j,H){return S.WordOperations.moveWordRight(q,B,j,H)}}e.WordRightCommand=t;class o extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=o;class h extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=h;class m extends d{constructor(){var q;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,(q=l.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,s.IsWindowsContext))===null||q===void 0?void 0:q.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}}e.CursorWordLeft=m;class y extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=y;class w extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=w;class g extends d{constructor(){var q;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,(q=l.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,s.IsWindowsContext))===null||q===void 0?void 0:q.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}}e.CursorWordLeftSelect=g;class f extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(q,B,j,H){return super._move((0,p.getMapForWordSeparators)(c.EditorOptions.wordSeparators.defaultValue),B,j,H)}}e.CursorWordAccessibilityLeft=f;class _ extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(q,B,j,H){return super._move((0,p.getMapForWordSeparators)(c.EditorOptions.wordSeparators.defaultValue),B,j,H)}}e.CursorWordAccessibilityLeftSelect=_;class D extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=D;class N extends t{constructor(){var q;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,(q=l.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,s.IsWindowsContext))===null||q===void 0?void 0:q.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}}e.CursorWordEndRight=N;class I extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=I;class M extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=M;class O extends t{constructor(){var q;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,(q=l.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,s.IsWindowsContext))===null||q===void 0?void 0:q.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}}e.CursorWordEndRightSelect=O;class R extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=R;class P extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(q,B,j,H){return super._move((0,p.getMapForWordSeparators)(c.EditorOptions.wordSeparators.defaultValue),B,j,H)}}e.CursorWordAccessibilityRight=P;class A extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(q,B,j,H){return super._move((0,p.getMapForWordSeparators)(c.EditorOptions.wordSeparators.defaultValue),B,j,H)}}e.CursorWordAccessibilityRightSelect=A;class F extends k.EditorCommand{constructor(q){super(q);this._whitespaceHeuristics=q.whitespaceHeuristics,this._wordNavigationType=q.wordNavigationType}runEditorCommand(q,B,j){if(!B.hasModel())return;const H=(0,p.getMapForWordSeparators)(B.getOption(115)),z=B.getModel(),Q=B.getSelections(),x=B.getOption(5),le=B.getOption(8),oe=u.LanguageConfigurationRegistry.getAutoClosingPairs(z.getLanguageIdentifier().id),K=B._getViewModel(),re=Q.map(ae=>{const he=this._delete({wordSeparators:H,model:z,selection:ae,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:B.getOption(6),autoClosingBrackets:x,autoClosingQuotes:le,autoClosingPairs:oe,autoClosedCharacters:K.getCursorAutoClosedCharacters()},this._wordNavigationType);return new T.ReplaceCommand(he,"")});B.pushUndoStop(),B.executeCommands(this.id,re),B.pushUndoStop()}}e.DeleteWordCommand=F;class E extends F{_delete(q,B){let j=S.WordOperations.deleteWordLeft(q,B);return j||new i.Range(1,1,1,1)}}e.DeleteWordLeftCommand=E;class W extends F{_delete(q,B){let j=S.WordOperations.deleteWordRight(q,B);if(j)return j;const H=q.model.getLineCount(),z=q.model.getLineMaxColumn(H);return new i.Range(H,z,H,z)}}e.DeleteWordRightCommand=W;class V extends E{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:r.EditorContextKeys.writable})}}e.DeleteWordStartLeft=V;class $ extends E{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:r.EditorContextKeys.writable})}}e.DeleteWordEndLeft=$;class Z extends E{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}}e.DeleteWordLeft=Z;class X extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:r.EditorContextKeys.writable})}}e.DeleteWordStartRight=X;class J extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:r.EditorContextKeys.writable})}}e.DeleteWordEndRight=J;class ie extends W{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}}e.DeleteWordRight=ie;class de extends k.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:r.EditorContextKeys.writable,label:b.localize(0,null),alias:"Delete Word"})}run(q,B,j){if(!B.hasModel())return;const H=(0,p.getMapForWordSeparators)(B.getOption(115)),z=B.getModel(),x=B.getSelections().map(le=>{const oe=S.WordOperations.deleteInsideWord(H,z,le);return new T.ReplaceCommand(oe,"")});B.pushUndoStop(),B.executeCommands(this.id,x),B.pushUndoStop()}}e.DeleteInsideWord=de,(0,k.registerEditorCommand)(new o),(0,k.registerEditorCommand)(new h),(0,k.registerEditorCommand)(new m),(0,k.registerEditorCommand)(new y),(0,k.registerEditorCommand)(new w),(0,k.registerEditorCommand)(new g),(0,k.registerEditorCommand)(new D),(0,k.registerEditorCommand)(new N),(0,k.registerEditorCommand)(new I),(0,k.registerEditorCommand)(new M),(0,k.registerEditorCommand)(new O),(0,k.registerEditorCommand)(new R),(0,k.registerEditorCommand)(new f),(0,k.registerEditorCommand)(new _),(0,k.registerEditorCommand)(new P),(0,k.registerEditorCommand)(new A),(0,k.registerEditorCommand)(new V),(0,k.registerEditorCommand)(new $),(0,k.registerEditorCommand)(new Z),(0,k.registerEditorCommand)(new X),(0,k.registerEditorCommand)(new J),(0,k.registerEditorCommand)(new ie),(0,k.registerEditorAction)(de)}),define(ee[656],te([0,1,14,141,3,25,270,26]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class C extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(n,d){let t=k.WordPartOperations.deleteWordPartLeft(n);return t||new T.Range(1,1,1,1)}}e.DeleteWordPartLeft=C;class i extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(n,d){let t=k.WordPartOperations.deleteWordPartRight(n);if(t)return t;const o=n.model.getLineCount(),h=n.model.getLineMaxColumn(o);return new T.Range(o,h,o,h)}}e.DeleteWordPartRight=i;class v extends S.MoveWordCommand{_move(n,d,t,o){return k.WordPartOperations.moveWordPartLeft(n,d,t)}}e.WordPartLeftCommand=v;class r extends v{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}}e.CursorWordPartLeft=r,p.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class a extends v{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}}e.CursorWordPartLeftSelect=a,p.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class l extends S.MoveWordCommand{_move(n,d,t,o){return k.WordPartOperations.moveWordPartRight(n,d,t)}}e.WordPartRightCommand=l;class c extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}}e.CursorWordPartRight=c;class u extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}}e.CursorWordPartRightSelect=u,(0,b.registerEditorCommand)(new C),(0,b.registerEditorCommand)(new i),(0,b.registerEditorCommand)(new r),(0,b.registerEditorCommand)(new a),(0,b.registerEditorCommand)(new c),(0,b.registerEditorCommand)(new u)}),define(ee[657],te([0,1,7,30,160,44,52,2,17,8,24,14,25,269,16,9,37,58,22,11,63,363]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const h=new c.RawContextKey("accessibilityHelpWidgetVisible",!1);let m=class Kt extends p.Disposable{constructor(D,N){super();this._editor=D,this._widget=this._register(N.createInstance(w,this._editor))}static get(D){return D.getContribution(Kt.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};m.ID="editor.contrib.accessibilityHelpController",m=Re([Ce(1,u.IInstantiationService)],m);function y(_,D){return!_||_.length===0?o.AccessibilityHelpNLS.noSelection:_.length===1?D?i.format(o.AccessibilityHelpNLS.singleSelectionRange,_[0].positionLineNumber,_[0].positionColumn,D):i.format(o.AccessibilityHelpNLS.singleSelection,_[0].positionLineNumber,_[0].positionColumn):D?i.format(o.AccessibilityHelpNLS.multiSelectionRange,_.length,D):_.length>0?i.format(o.AccessibilityHelpNLS.multiSelection,_.length):""}let w=class gt extends S.Widget{constructor(D,N,I,M){super();this._contextKeyService=N,this._keybindingService=I,this._openerService=M,this._editor=D,this._isVisibleKey=h.bindTo(this._contextKeyService),this._domNode=(0,k.createFastDomNode)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,k.createFastDomNode)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(b.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",O=>{if(!!this._isVisible&&(O.equals(2048|35)&&((0,L.alert)(o.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),b.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),O.preventDefault(),O.stopPropagation()),O.equals(2048|38))){(0,L.alert)(o.AccessibilityHelpNLS.openingDocs);let R=this._editor.getRawOptions().accessibilityHelpUrl;typeof R=="undefined"&&(R="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(v.URI.parse(R)),O.preventDefault(),O.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return gt.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(D,N,I){let M=this._keybindingService.lookupKeybinding(D);return M?i.format(N,M.getAriaLabel()):i.format(I,D)}_buildContent(){const D=this._editor.getOptions(),N=this._editor.getSelections();let I=0;if(N){const P=this._editor.getModel();P&&N.forEach(A=>{I+=P.getValueLengthInRange(A)})}let M=y(N,I);D.get(52)?D.get(79)?M+=o.AccessibilityHelpNLS.readonlyDiffEditor:M+=o.AccessibilityHelpNLS.editableDiffEditor:D.get(79)?M+=o.AccessibilityHelpNLS.readonlyEditor:M+=o.AccessibilityHelpNLS.editableEditor;const O=C.isMacintosh?o.AccessibilityHelpNLS.changeConfigToOnMac:o.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(D.get(2)){case 0:M+=`

 - `+O;break;case 2:M+=`

 - `+o.AccessibilityHelpNLS.auto_on;break;case 1:M+=`

 - `+o.AccessibilityHelpNLS.auto_off,M+=" "+O;break}D.get(128)?M+=`

 - `+this._descriptionForCommand(l.ToggleTabFocusModeAction.ID,o.AccessibilityHelpNLS.tabFocusModeOnMsg,o.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):M+=`

 - `+this._descriptionForCommand(l.ToggleTabFocusModeAction.ID,o.AccessibilityHelpNLS.tabFocusModeOffMsg,o.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const R=C.isMacintosh?o.AccessibilityHelpNLS.openDocMac:o.AccessibilityHelpNLS.openDocWinLinux;M+=`

 - `+R,M+=`

`+o.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,T.renderFormattedText)(M)),this._contentDomNode.domNode.setAttribute("aria-label",M)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,b.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){let D=this._editor.getLayoutInfo(),N=Math.max(5,Math.min(gt.WIDTH,D.width-40)),I=Math.max(5,Math.min(gt.HEIGHT,D.height-40));this._domNode.setWidth(N),this._domNode.setHeight(I);let M=Math.round((D.height-I)/2);this._domNode.setTop(M);let O=Math.round((D.width-N)/2);this._domNode.setLeft(O)}};w.ID="editor.contrib.accessibilityHelpWidget",w.WIDTH=500,w.HEIGHT=300,w=Re([Ce(1,c.IContextKeyService),Ce(2,s.IKeybindingService),Ce(3,n.IOpenerService)],w);class g extends r.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:o.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}run(D,N){let I=m.get(N);I&&I.show()}}(0,r.registerEditorContribution)(m.ID,m),(0,r.registerEditorAction)(g);const f=r.EditorCommand.bindToContribution(m.get);(0,r.registerEditorCommand)(new f({id:"closeAccessibilityHelp",precondition:h,handler:_=>_.hide(),kbOpts:{weight:100+100,kbExpr:a.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,t.registerThemingParticipant)((_,D)=>{const N=_.getColor(d.editorWidgetBackground);N&&D.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${N}; }`);const I=_.getColor(d.editorWidgetForeground);I&&D.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${I}; }`);const M=_.getColor(d.widgetShadow);M&&D.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${M}; }`);const O=_.getColor(d.contrastBorder);O&&D.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${O}; }`)})}),define(ee[658],te([0,1,7,2,14,17,364]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class S extends k.Disposable{constructor(i){super();this.editor=i,this.widget=null,L.isIOS&&(this._register(i.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const i=!this.editor.getOption(79);!this.widget&&i?this.widget=new p(this.editor):this.widget&&!i&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=S,S.ID="editor.contrib.iPadShowKeyboard";class p extends k.Disposable{constructor(i){super();this.editor=i,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(b.addDisposableListener(this._domNode,"touchstart",v=>{this.editor.focus()})),this._register(b.addDisposableListener(this._domNode,"focus",v=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return p.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}p.ID="editor.contrib.ShowKeyboardWidget",(0,T.registerEditorContribution)(S.ID,S)}),define(ee[659],te([0,1,7,29,2,14,18,77,57,119,22,11,63,100,365]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let c=class qt extends T.Disposable{constructor(o,h,m){super();this._editor=o,this._modeService=m,this._widget=null,this._register(this._editor.onDidChangeModel(y=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(y=>this.stop())),this._register(S.TokenizationRegistry.onDidChange(y=>this.stop())),this._register(this._editor.onKeyUp(y=>y.keyCode===9&&this.stop()))}static get(o){return o.getContribution(qt.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new d(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};c.ID="editor.contrib.inspectTokens",c=Re([Ce(1,i.IStandaloneThemeService),Ce(2,C.IModeService)],c);class u extends L.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:a.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(o,h){let m=c.get(h);m&&m.launch()}}function s(t){let o="";for(let h=0,m=t.length;h<m;h++){let y=t.charCodeAt(h);switch(y){case 9:o+="\u2192";break;case 32:o+="\xB7";break;default:o+=String.fromCharCode(y)}}return o}function n(t){let o=S.TokenizationRegistry.get(t.language);return o||{getInitialState:()=>p.NULL_STATE,tokenize:(h,m,y,w)=>(0,p.nullTokenize)(t.language,h,y,w),tokenize2:(h,m,y,w)=>(0,p.nullTokenize2)(t.id,h,y,w)}}class d extends T.Disposable{constructor(o,h){super();this.allowEditorOverflow=!0,this._editor=o,this._modeService=h,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=n(this._model.getLanguageIdentifier()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(m=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return d._ID}_compute(o){let h=this._getTokensAtLine(o.lineNumber),m=0;for(let _=h.tokens1.length-1;_>=0;_--){let D=h.tokens1[_];if(o.column-1>=D.offset){m=_;break}}let y=0;for(let _=h.tokens2.length>>>1;_>=0;_--)if(o.column-1>=h.tokens2[_<<1]){y=_;break}let w=this._model.getLineContent(o.lineNumber),g="";if(m<h.tokens1.length){let _=h.tokens1[m].offset,D=m+1<h.tokens1.length?h.tokens1[m+1].offset:w.length;g=w.substring(_,D)}(0,b.reset)(this._domNode,(0,b.$)("h2.tm-token",void 0,s(g),(0,b.$)("span.tm-token-length",void 0,`${g.length} ${g.length===1?"char":"chars"}`))),(0,b.append)(this._domNode,(0,b.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const f=(y<<1)+1<h.tokens2.length?this._decodeMetadata(h.tokens2[(y<<1)+1]):null;(0,b.append)(this._domNode,(0,b.$)("table.tm-metadata-table",void 0,(0,b.$)("tbody",void 0,(0,b.$)("tr",void 0,(0,b.$)("td.tm-metadata-key",void 0,"language"),(0,b.$)("td.tm-metadata-value",void 0,`${f?f.languageIdentifier.language:"-?-"}`)),(0,b.$)("tr",void 0,(0,b.$)("td.tm-metadata-key",void 0,"token type"),(0,b.$)("td.tm-metadata-value",void 0,`${f?this._tokenTypeToString(f.tokenType):"-?-"}`)),(0,b.$)("tr",void 0,(0,b.$)("td.tm-metadata-key",void 0,"font style"),(0,b.$)("td.tm-metadata-value",void 0,`${f?this._fontStyleToString(f.fontStyle):"-?-"}`)),(0,b.$)("tr",void 0,(0,b.$)("td.tm-metadata-key",void 0,"foreground"),(0,b.$)("td.tm-metadata-value",void 0,`${f?k.Color.Format.CSS.formatHex(f.foreground):"-?-"}`)),(0,b.$)("tr",void 0,(0,b.$)("td.tm-metadata-key",void 0,"background"),(0,b.$)("td.tm-metadata-value",void 0,`${f?k.Color.Format.CSS.formatHex(f.background):"-?-"}`))))),(0,b.append)(this._domNode,(0,b.$)("hr.tokens-inspect-separator")),m<h.tokens1.length&&(0,b.append)(this._domNode,(0,b.$)("span.tm-token-type",void 0,h.tokens1[m].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(o){let h=S.TokenizationRegistry.getColorMap(),m=S.TokenMetadata.getLanguageId(o),y=S.TokenMetadata.getTokenType(o),w=S.TokenMetadata.getFontStyle(o),g=S.TokenMetadata.getForeground(o),f=S.TokenMetadata.getBackground(o);return{languageIdentifier:this._modeService.getLanguageIdentifier(m),tokenType:y,fontStyle:w,foreground:h[g],background:h[f]}}_tokenTypeToString(o){switch(o){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(o){let h="";return o&1&&(h+="italic "),o&2&&(h+="bold "),o&4&&(h+="underline "),h.length===0&&(h="---"),h}_getTokensAtLine(o){let h=this._getStateBeforeLine(o),m=this._tokenizationSupport.tokenize(this._model.getLineContent(o),!0,h,0),y=this._tokenizationSupport.tokenize2(this._model.getLineContent(o),!0,h,0);return{startState:h,tokens1:m.tokens,tokens2:y.tokens,endState:m.endState}}_getStateBeforeLine(o){let h=this._tokenizationSupport.getInitialState();for(let m=1;m<o;m++)h=this._tokenizationSupport.tokenize(this._model.getLineContent(m),!0,h,0).endState;return h}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}d._ID="editor.contrib.inspectTokensWidget",(0,L.registerEditorContribution)(c.ID,c),(0,L.registerEditorAction)(u),(0,r.registerThemingParticipant)((t,o)=>{const h=t.getColor(v.editorHoverBorder);if(h){let w=t.type===l.ColorScheme.HIGH_CONTRAST?2:1;o.addRule(`.monaco-editor .tokens-inspect-widget { border: ${w}px solid ${h}; }`),o.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${h}; }`)}const m=t.getColor(v.editorHoverBackground);m&&o.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${m}; }`);const y=t.getColor(v.editorHoverForeground);y&&o.addRule(`.monaco-editor .tokens-inspect-widget { color: ${y}; }`)})}),define(ee[660],te([0,1,32,99,63,28,592,20,9,37,26,89,120,14,25,78]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let s=class extends S.AbstractEditorCommandsQuickAccessProvider{constructor(t,o,h,m,y,w){super({showAlias:!1},t,h,m,y,w);this.codeEditorService=o}get activeTextEditorControl(){return(0,p.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Ie(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};s=Re([Ce(0,C.IInstantiationService),Ce(1,L.ICodeEditorService),Ce(2,i.IKeybindingService),Ce(3,v.ICommandService),Ce(4,r.ITelemetryService),Ce(5,a.IDialogService)],s),e.StandaloneCommandsQuickAccessProvider=s,b.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:s,prefix:s.PREFIX,helpEntries:[{description:T.QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});class n extends l.EditorAction{constructor(){super({id:"editor.action.quickCommand",label:T.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:c.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(t){t.get(u.IQuickInputService).quickAccess.show(s.PREFIX)}}e.GotoLineAction=n,(0,l.registerEditorAction)(n)}),define(ee[661],te([0,1,617,32,99,28,20,63,6,14,25,78]),function(G,e,b,k,T,L,S,p,C,i,v,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let a=class extends b.AbstractGotoLineQuickAccessProvider{constructor(u){super();this.editorService=u,this.onDidActiveTextEditorControlChange=C.Event.None}get activeTextEditorControl(){return(0,S.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};a=Re([Ce(0,L.ICodeEditorService)],a),e.StandaloneGotoLineQuickAccessProvider=a,k.Registry.as(T.Extensions.Quickaccess).registerQuickAccessProvider({ctor:a,prefix:a.PREFIX,helpEntries:[{description:p.GoToLineNLS.gotoLineActionLabel,needsEditor:!0}]});class l extends i.EditorAction{constructor(){super({id:"editor.action.gotoLine",label:p.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}run(u){u.get(r.IQuickInputService).quickAccess.show(a.PREFIX)}}e.GotoLineAction=l,(0,i.registerEditorAction)(l)}),define(ee[662],te([0,1,618,32,99,28,20,63,6,14,25,78,130,262]),function(G,e,b,k,T,L,S,p,C,i,v,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let a=class extends b.AbstractGotoSymbolQuickAccessProvider{constructor(u){super();this.editorService=u,this.onDidActiveTextEditorControlChange=C.Event.None}get activeTextEditorControl(){return(0,S.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};a=Re([Ce(0,L.ICodeEditorService)],a),e.StandaloneGotoSymbolQuickAccessProvider=a,k.Registry.as(T.Extensions.Quickaccess).registerQuickAccessProvider({ctor:a,prefix:b.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:p.QuickOutlineNLS.quickOutlineActionLabel,prefix:b.AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:p.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:b.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});class l extends i.EditorAction{constructor(){super({id:"editor.action.quickOutline",label:p.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:v.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(u){u.get(r.IQuickInputService).quickAccess.show(b.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoLineAction=l,(0,i.registerEditorAction)(l)}),define(ee[663],te([0,1,14,119,63]),function(G,e,b,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends b.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:T.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(p,C){const i=p.get(k.IStandaloneThemeService);this._originalThemeName?(i.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=i.getColorTheme().themeName,i.setTheme("hc-black"))}}(0,b.registerEditorAction)(L)}),define(ee[192],te([0,1,7,50,2,532,33,69,37,182,34,11,117,441,17,9,16,51,71,368]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=void 0;function t(f,_,D,N,I,M,O){const R=f.getActions(_),P=typeof N=="string"?A=>A===N:N;return h(R,D,!1,P,I,M,O),o(R)}e.createAndFillInActionBarActions=t;function o(f){const _=new T.DisposableStore;for(const[,D]of f)for(const N of D)_.add(N);return _}function h(f,_,D,N=R=>R==="navigation",I=Number.MAX_SAFE_INTEGER,M=()=>!1,O=!1){let R,P;Array.isArray(_)?(R=_,P=_):(R=_.primary,P=_.secondary);const A=new Set;for(const[F,E]of f){let W;N(F)?(W=R,W.length>0&&O&&W.push(new k.Separator)):(W=P,W.length>0&&W.push(new k.Separator));for(let V of E){D&&(V=V instanceof S.MenuItemAction&&V.alt?V.alt:V);const $=W.push(V);V instanceof k.SubmenuAction&&A.add({group:F,action:V,index:$-1})}}for(const{group:F,action:E,index:W}of A){const V=N(F)?R:P,$=E.actions;($.length<=1||V.length+$.length-2<=I)&&M(E,F,V.length)&&V.splice(W,1,...$)}if(R!==P&&R.length>I){const F=R.splice(I,R.length-I);P.unshift(...F,new k.Separator)}}let m=class extends a.ActionViewItem{constructor(_,D,N,I,M){super(void 0,_,{icon:!!(_.class||_.item.icon),label:!_.class&&!_.item.icon,draggable:D==null?void 0:D.draggable});this._keybindingService=N,this._notificationService=I,this._contextKeyService=M,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new T.MutableDisposable),this._altKey=b.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(_){return Ie(this,void 0,void 0,function*(){_.preventDefault(),_.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(D){this._notificationService.error(D)}})}render(_){super.render(_),_.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let D=!1,N=this._altKey.keyStatus.altKey||(c.isWindows||c.isLinux)&&this._altKey.keyStatus.shiftKey;const I=()=>{const M=D&&N;M!==this._wantsAltCommand&&(this._wantsAltCommand=M,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(M=>{N=M.altKey||(c.isWindows||c.isLinux)&&M.shiftKey,I()})),this._register((0,b.addDisposableListener)(_,"mouseleave",M=>{D=!1,I()})),this._register((0,b.addDisposableListener)(_,"mouseenter",M=>{D=!0,I()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const _=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),D=_&&_.getLabel(),N=this._commandAction.tooltip||this._commandAction.label;let I=D?(0,L.localize)(0,null,N,D):N;if(!this._wantsAltCommand&&this._menuItemAction.alt){const M=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,O=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),R=O&&O.getLabel(),P=R?(0,L.localize)(1,null,M,R):M;I+=`
[${i.UILabelProvider.modifierLabels[c.OS].altKey}] ${P}`}this.label.title=I}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(_){var D;this._itemClassDispose.value=void 0;const{element:N,label:I}=this;if(!N||!I)return;const M=this._commandAction.checked&&((D=_.toggled)===null||D===void 0?void 0:D.icon)?_.toggled.icon:_.icon;if(!!M)if(r.ThemeIcon.isThemeIcon(M)){const O=r.ThemeIcon.asClassNameArray(M);I.classList.add(...O),this._itemClassDispose.value=(0,T.toDisposable)(()=>{I.classList.remove(...O)})}else M.light&&I.style.setProperty("--menu-entry-icon-light",(0,b.asCSSUrl)(M.light)),M.dark&&I.style.setProperty("--menu-entry-icon-dark",(0,b.asCSSUrl)(M.dark)),I.classList.add("icon"),this._itemClassDispose.value=(0,T.toDisposable)(()=>{I.classList.remove("icon"),I.style.removeProperty("--menu-entry-icon-light"),I.style.removeProperty("--menu-entry-icon-dark")})}};m=Re([Ce(2,C.IKeybindingService),Ce(3,v.INotificationService),Ce(4,s.IContextKeyService)],m),e.MenuEntryActionViewItem=m;let y=class extends l.DropdownMenuActionViewItem{constructor(_,D){super(_,{getActions:()=>_.actions},D,{menuAsChild:!0,classNames:r.ThemeIcon.isThemeIcon(_.item.icon)?r.ThemeIcon.asClassName(_.item.icon):void 0})}render(_){if(super.render(_),this.element){_.classList.add("menu-entry");const{icon:D}=this._action.item;D&&!r.ThemeIcon.isThemeIcon(D)&&(this.element.classList.add("icon"),D.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,b.asCSSUrl)(D.light)),D.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,b.asCSSUrl)(D.dark)))}}};y=Re([Ce(1,p.IContextMenuService)],y),e.SubmenuEntryActionViewItem=y;let w=class extends a.BaseActionViewItem{constructor(_,D,N,I,M,O,R){super(null,_);this._keybindingService=D,this._notificationService=N,this._contextMenuService=I,this._menuService=M,this._instaService=O,this._storageService=R,this._container=null,this._storageKey=`${_.item.submenu._debugName}_lastActionId`;let P,A=R.get(this._storageKey,1);A&&(P=_.actions.find(F=>A===F.id)),P||(P=_.actions[0]),this._defaultAction=this._instaService.createInstance(m,P,void 0),this._dropdown=new l.DropdownMenuActionViewItem(_,_.actions,this._contextMenuService,{menuAsChild:!0,classNames:["codicon","codicon-chevron-down"]}),this._dropdown.actionRunner.onDidRun(F=>{F.action instanceof S.MenuItemAction&&this.update(F.action)})}update(_){this._storageService.store(this._storageKey,_.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(m,_,void 0),this._defaultAction.actionRunner=new class extends k.ActionRunner{runAction(D,N){return Ie(this,void 0,void 0,function*(){yield D.run(void 0)})}},this._container&&this._defaultAction.render((0,b.prepend)(this._container,(0,b.$)(".action-container")))}setActionContext(_){super.setActionContext(_),this._defaultAction.setActionContext(_),this._dropdown.setActionContext(_)}render(_){this._container=_,super.render(this._container),this._container.classList.add("monaco-dropdown-with-primary");const D=(0,b.$)(".action-container");this._defaultAction.render((0,b.append)(this._container,D)),this._register((0,b.addDisposableListener)(D,b.EventType.KEY_DOWN,I=>{const M=new n.StandardKeyboardEvent(I);M.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),M.stopPropagation())}));const N=(0,b.$)(".dropdown-action-container");this._dropdown.render((0,b.append)(this._container,N)),this._register((0,b.addDisposableListener)(N,b.EventType.KEY_DOWN,I=>{var M;const O=new n.StandardKeyboardEvent(I);O.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(M=this._defaultAction.element)===null||M===void 0||M.focus(),O.stopPropagation())}))}focus(_){_?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(_){_?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};w=Re([Ce(1,C.IKeybindingService),Ce(2,v.INotificationService),Ce(3,p.IContextMenuService),Ce(4,S.IMenuService),Ce(5,u.IInstantiationService),Ce(6,d.IStorageService)],w);function g(f,_){if(_ instanceof S.MenuItemAction)return f.createInstance(m,_,void 0);if(_ instanceof S.SubmenuItemAction){const D=!_.actions.some(N=>N instanceof S.MenuItemAction&&N.item.icon&&!r.ThemeIcon.isThemeIcon(N.item.icon));return _.item.rememberDefaultAction&&D?f.createInstance(w,_):f.createInstance(y,_)}else return}e.createActionViewItem=g}),define(ee[124],te([0,1,7,84,50,29,6,42,28,150,557,512,16,9,75,14,22,27,192,358]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,l.createDecorator)("IPeekViewService"),(0,c.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(w,g){const f=this._widgets.get(w);f&&(f.listener.dispose(),f.widget.dispose());const _=()=>{const D=this._widgets.get(w);D&&D.widget===g&&(D.listener.dispose(),this._widgets.delete(w))};this._widgets.set(w,{widget:g,listener:g.onDidClose(_)})}});var t;(function(w){w.inPeekEditor=new a.RawContextKey("inReferenceSearchEditor",!0,r.localize(0,null)),w.notInPeekEditor=w.inPeekEditor.toNegated()})(t=e.PeekContext||(e.PeekContext={}));let o=class{constructor(g,f){g instanceof i.EmbeddedCodeEditorWidget&&t.inPeekEditor.bindTo(f)}dispose(){}};o.ID="editor.contrib.referenceController",o=Re([Ce(1,a.IContextKeyService)],o),(0,u.registerEditorContribution)(o.ID,o);function h(w){let g=w.get(C.ICodeEditorService).getFocusedCodeEditor();return g instanceof i.EmbeddedCodeEditorWidget?g.getParentEditor():g}e.getOuterEditor=h;const m={headerBackgroundColor:L.Color.white,primaryHeadingColor:L.Color.fromHex("#333333"),secondaryHeadingColor:L.Color.fromHex("#6c6c6cb3")};let y=class extends v.ZoneWidget{constructor(g,f,_){super(g,f);this.instantiationService=_,this._onDidClose=new S.Emitter,this.onDidClose=this._onDidClose.event,p.mixin(this.options,m,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(g){let f=this.options;g.headerBackgroundColor&&(f.headerBackgroundColor=g.headerBackgroundColor),g.primaryHeadingColor&&(f.primaryHeadingColor=g.primaryHeadingColor),g.secondaryHeadingColor&&(f.secondaryHeadingColor=g.secondaryHeadingColor),super.style(g)}_applyStyles(){super._applyStyles();let g=this.options;this._headElement&&g.headerBackgroundColor&&(this._headElement.style.backgroundColor=g.headerBackgroundColor.toString()),this._primaryHeading&&g.primaryHeadingColor&&(this._primaryHeading.style.color=g.primaryHeadingColor.toString()),this._secondaryHeading&&g.secondaryHeadingColor&&(this._secondaryHeading.style.color=g.secondaryHeadingColor.toString()),this._bodyElement&&g.frameColor&&(this._bodyElement.style.borderColor=g.frameColor.toString())}_fillContainer(g){this.setCssClass("peekview-widget"),this._headElement=b.$(".head"),this._bodyElement=b.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),g.appendChild(this._headElement),g.appendChild(this._bodyElement)}_fillHead(g,f){const _=b.$(".peekview-title");b.append(this._headElement,_),b.addStandardDisposableListener(_,"click",I=>this._onTitleClick(I)),this._fillTitleIcon(_),this._primaryHeading=b.$("span.filename"),this._secondaryHeading=b.$("span.dirname"),this._metaHeading=b.$("span.meta"),b.append(_,this._primaryHeading,this._secondaryHeading,this._metaHeading);const D=b.$(".peekview-actions");b.append(this._headElement,D);const N=this._getActionBarOptions();this._actionbarWidget=new k.ActionBar(D,N),this._disposables.add(this._actionbarWidget),f||this._actionbarWidget.push(new T.Action("peekview.close",r.localize(1,null),n.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(g){}_getActionBarOptions(){return{actionViewItemProvider:d.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(g){}setTitle(g,f){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=g,this._primaryHeading.setAttribute("title",g),f?this._secondaryHeading.innerText=f:b.clearNode(this._secondaryHeading))}setMetaTitle(g){this._metaHeading&&(g?(this._metaHeading.innerText=g,b.show(this._metaHeading)):b.hide(this._metaHeading))}_doLayout(g,f){if(!this._isShowing&&g<0){this.dispose();return}const _=Math.ceil(this.editor.getOption(57)*1.2),D=Math.round(g-(_+2));this._doLayoutHead(_,f),this._doLayoutBody(D,f)}_doLayoutHead(g,f){this._headElement&&(this._headElement.style.height=`${g}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(g,f){this._bodyElement&&(this._bodyElement.style.height=`${g}px`)}};y=Re([Ce(2,l.IInstantiationService)],y),e.PeekViewWidget=y,e.peekViewTitleBackground=(0,s.registerColor)("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},r.localize(2,null)),e.peekViewTitleForeground=(0,s.registerColor)("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},r.localize(3,null)),e.peekViewTitleInfoForeground=(0,s.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},r.localize(4,null)),e.peekViewBorder=(0,s.registerColor)("peekView.border",{dark:"#007acc",light:"#007acc",hc:s.contrastBorder},r.localize(5,null)),e.peekViewResultsBackground=(0,s.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:L.Color.black},r.localize(6,null)),e.peekViewResultsMatchForeground=(0,s.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:L.Color.white},r.localize(7,null)),e.peekViewResultsFileForeground=(0,s.registerColor)("peekViewResult.fileForeground",{dark:L.Color.white,light:"#1E1E1E",hc:L.Color.white},r.localize(8,null)),e.peekViewResultsSelectionBackground=(0,s.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},r.localize(9,null)),e.peekViewResultsSelectionForeground=(0,s.registerColor)("peekViewResult.selectionForeground",{dark:L.Color.white,light:"#6C6C6C",hc:L.Color.white},r.localize(10,null)),e.peekViewEditorBackground=(0,s.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:L.Color.black},r.localize(11,null)),e.peekViewEditorGutterBackground=(0,s.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hc:e.peekViewEditorBackground},r.localize(12,null)),e.peekViewResultsMatchHighlight=(0,s.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},r.localize(13,null)),e.peekViewEditorMatchHighlight=(0,s.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},r.localize(14,null)),e.peekViewEditorMatchHighlightBorder=(0,s.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:s.activeContrastBorder},r.localize(15,null))}),define(ee[664],te([0,1,7,84,2,123,525,192,33,16,9]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class r extends p.MenuEntryActionViewItem{updateLabel(){const c=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!c)return super.updateLabel();this.label&&(this.label.textContent=(0,S.localize)(0,null,this._action.label,r.symbolPrintEnter(c)))}static symbolPrintEnter(c){var u;return(u=c.getLabel())===null||u===void 0?void 0:u.replace(/\benter\b/gi,"\u23CE")}}let a=class{constructor(c,u,s,n){this._menuService=s,this._contextKeyService=n,this._menuDisposables=new T.DisposableStore,this.element=b.append(c,b.$(".suggest-status-bar"));const d=t=>t instanceof C.MenuItemAction?u.createInstance(r,t,void 0):void 0;this._leftActions=new k.ActionBar(this.element,{actionViewItemProvider:d}),this._rightActions=new k.ActionBar(this.element,{actionViewItemProvider:d}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const c=this._menuService.createMenu(L.suggestWidgetStatusbarMenu,this._contextKeyService),u=()=>{const s=[],n=[];for(let[d,t]of c.getActions())d==="left"?s.push(...t):n.push(...t);this._leftActions.clear(),this._leftActions.push(s),this._rightActions.clear(),this._rightActions.push(n)};this._menuDisposables.add(c.onDidChange(()=>u())),this._menuDisposables.add(c)}hide(){this._menuDisposables.clear()}};a=Re([Ce(1,v.IInstantiationService),Ce(2,C.IMenuService),Ce(3,i.IContextKeyService)],a),e.SuggestWidgetStatus=a}),define(ee[665],te([0,1,15,6,2,33,26,16]),function(G,e,b,k,T,L,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let C=class{constructor(r){this._commandService=r}createMenu(r,a,l=!1){return new i(r,l,this._commandService,a,this)}};C=Re([Ce(0,S.ICommandService)],C),e.MenuService=C;let i=class tt{constructor(r,a,l,c,u){this._id=r,this._fireEventsForSubmenuChanges=a,this._commandService=l,this._contextKeyService=c,this._menuService=u,this._disposables=new T.DisposableStore,this._menuGroups=[],this._contextKeys=new Set,this._build();const s=new b.RunOnceScheduler(()=>{this._build(),this._onDidChange.fire(this)},50);this._disposables.add(s),this._disposables.add(L.MenuRegistry.onDidChangeMenu(t=>{t.has(r)&&s.schedule()}));const n=this._disposables.add(new T.DisposableStore),d=()=>{const t=new b.RunOnceScheduler(()=>this._onDidChange.fire(this),50);n.add(t),n.add(c.onDidChangeContext(o=>{o.affectsSome(this._contextKeys)&&t.schedule()}))};this._onDidChange=new k.Emitter({onFirstListenerAdd:d,onLastListenerRemove:n.clear.bind(n)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const r=L.MenuRegistry.getMenuItems(this._id);let a;r.sort(tt._compareMenuItems);for(const l of r){const c=l.group||"";(!a||a[0]!==c)&&(a=[c,[]],this._menuGroups.push(a)),a[1].push(l),this._collectContextKeys(l)}}_collectContextKeys(r){if(tt._fillInKbExprKeys(r.when,this._contextKeys),(0,L.isIMenuItem)(r)){if(r.command.precondition&&tt._fillInKbExprKeys(r.command.precondition,this._contextKeys),r.command.toggled){const a=r.command.toggled.condition||r.command.toggled;tt._fillInKbExprKeys(a,this._contextKeys)}}else this._fireEventsForSubmenuChanges&&L.MenuRegistry.getMenuItems(r.submenu).forEach(this._collectContextKeys,this)}getActions(r){const a=[];for(let l of this._menuGroups){const[c,u]=l,s=[];for(const n of u)if(this._contextKeyService.contextMatchesRules(n.when)){const d=(0,L.isIMenuItem)(n)?new L.MenuItemAction(n.command,n.alt,r,this._contextKeyService,this._commandService):new L.SubmenuItemAction(n,this._menuService,this._contextKeyService,r);s.push(d)}s.length>0&&a.push([c,s])}return a}static _fillInKbExprKeys(r,a){if(r)for(let l of r.keys())a.add(l)}static _compareMenuItems(r,a){let l=r.group,c=a.group;if(l!==c){if(l){if(!c)return-1}else return 1;if(l==="navigation")return-1;if(c==="navigation")return 1;let n=l.localeCompare(c);if(n!==0)return n}let u=r.order||0,s=a.order||0;return u<s?-1:u>s?1:tt._compareTitles((0,L.isIMenuItem)(r)?r.command.title:r.title,(0,L.isIMenuItem)(a)?a.command.title:a.title)}static _compareTitles(r,a){const l=typeof r=="string"?r:r.original,c=typeof a=="string"?a:a.original;return l.localeCompare(c)}};i=Re([Ce(2,S.ICommandService),Ce(3,p.IContextKeyService),Ce(4,L.IMenuService)],i)}),define(ee[666],te([0,1,593,69,89,34,11,37,2,7]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuService=void 0;let v=class extends C.Disposable{constructor(a,l,c,u,s){super();this.contextMenuHandler=new b.ContextMenuHandler(c,a,l,u,s)}configure(a){this.contextMenuHandler.configure(a)}showContextMenu(a){this.contextMenuHandler.showContextMenu(a),i.ModifierKeyEmitter.getInstance().resetKeyStatus()}};v=Re([Ce(0,T.ITelemetryService),Ce(1,L.INotificationService),Ce(2,k.IContextViewService),Ce(3,p.IKeybindingService),Ce(4,S.IThemeService)],v),e.ContextMenuService=v}),define(ee[153],te([0,1,7,320,108,6,2,537,38,98,16,9,37,32,122,11,253,238,438,437,64,323]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchListAutomaticKeyboardNavigationKey=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,r.createDecorator)("listService");let m=class{constructor(K){this._themeService=K,this.disposables=new S.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(K,re){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const he=new T.DefaultStyleController((0,b.createStyleSheet)(),"");this.disposables.add((0,c.attachListStyler)(he,this._themeService))}if(this.lists.some(he=>he.widget===K))throw new Error("Cannot register the same widget multiple times");const ae={widget:K,extraContextKeys:re};return this.lists.push(ae),K.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=K),(0,S.combinedDisposable)(K.onDidFocus(()=>this._lastFocusedWidget=K),(0,S.toDisposable)(()=>this.lists.splice(this.lists.indexOf(ae),1)),K.onDidDispose(()=>{this.lists=this.lists.filter(he=>he!==ae),this._lastFocusedWidget===K&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};m=Re([Ce(0,u.IThemeService)],m),e.ListService=m;const y=new v.RawContextKey("listFocus",!0);e.WorkbenchListSupportsMultiSelectContextKey=new v.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=v.ContextKeyExpr.and(y,v.ContextKeyExpr.not(s.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new v.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new v.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new v.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new v.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation";function w(oe,K){const re=oe.createScoped(K.getHTMLElement());return y.bindTo(re),re}const g="workbench.list.multiSelectModifier",f="workbench.list.openMode",_="workbench.list.horizontalScrolling",D="workbench.list.keyboardNavigation",N="workbench.list.automaticKeyboardNavigation",I="workbench.tree.indent",M="workbench.tree.renderIndentGuides",O="workbench.list.smoothScrolling",R="workbench.list.mouseWheelScrollSensitivity",P="workbench.list.fastScrollSensitivity",A="workbench.tree.expandMode";function F(oe){return oe.getValue(g)==="alt"}class E extends S.Disposable{constructor(K){super();this.configurationService=K,this.useAltAsMultipleSelectionModifier=F(K),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(K=>{K.affectsConfiguration(g)&&(this.useAltAsMultipleSelectionModifier=F(this.configurationService))}))}isSelectionSingleChangeEvent(K){return this.useAltAsMultipleSelectionModifier?K.browserEvent.altKey:(0,T.isSelectionSingleChangeEvent)(K)}isSelectionRangeChangeEvent(K){return(0,T.isSelectionRangeChangeEvent)(K)}}function W(oe,K,re){var ae;const he=new S.DisposableStore;return[Object.assign(Object.assign({},oe),{keyboardNavigationDelegate:{mightProducePrintableCharacter(se){return re.mightProducePrintableCharacter(se)}},smoothScrolling:Boolean(K.getValue(O)),mouseWheelScrollSensitivity:K.getValue(R),fastScrollSensitivity:K.getValue(P),multipleSelectionController:(ae=oe.multipleSelectionController)!==null&&ae!==void 0?ae:he.add(new E(K))}),he]}let V=class extends T.List{constructor(K,re,ae,he,U,se,Y,ne,ce,pe){const be=typeof U.horizontalScrolling!="undefined"?U.horizontalScrolling:Boolean(ce.getValue(_)),[Ee,Le]=W(U,ce,pe);super(K,re,ae,he,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,c.computeStyles)(ne.getColorTheme(),c.defaultListStyles)),Ee),{horizontalScrolling:be}));this.disposables.add(Le),this.contextKeyService=w(se,this),this.themeService=ne,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(U.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(U.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=U.horizontalScrolling,this._useAltAsMultipleSelectionModifier=F(ce),this.disposables.add(this.contextKeyService),this.disposables.add(Y.register(this)),U.overrideStyles&&this.updateStyles(U.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const De=this.getSelection(),Me=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(De.length>0||Me.length>0),this.listMultiSelection.set(De.length>1),this.listDoubleSelection.set(De.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const De=this.getSelection(),Me=this.getFocus();this.listHasSelectionOrFocus.set(De.length>0||Me.length>0)})),this.disposables.add(ce.onDidChangeConfiguration(De=>{De.affectsConfiguration(g)&&(this._useAltAsMultipleSelectionModifier=F(ce));let Me={};if(De.affectsConfiguration(_)&&this.horizontalScrolling===void 0){const Se=Boolean(ce.getValue(_));Me=Object.assign(Object.assign({},Me),{horizontalScrolling:Se})}if(De.affectsConfiguration(O)){const Se=Boolean(ce.getValue(O));Me=Object.assign(Object.assign({},Me),{smoothScrolling:Se})}if(De.affectsConfiguration(R)){const Se=ce.getValue(R);Me=Object.assign(Object.assign({},Me),{mouseWheelScrollSensitivity:Se})}if(De.affectsConfiguration(P)){const Se=ce.getValue(P);Me=Object.assign(Object.assign({},Me),{fastScrollSensitivity:Se})}Object.keys(Me).length>0&&this.updateOptions(Me)})),this.navigator=new J(this,Object.assign({configurationService:ce},U)),this.disposables.add(this.navigator)}updateOptions(K){super.updateOptions(K),K.overrideStyles&&this.updateStyles(K.overrideStyles),K.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!K.multipleSelectionSupport)}updateStyles(K){var re;(re=this._styler)===null||re===void 0||re.dispose(),this._styler=(0,c.attachListStyler)(this,this.themeService,K)}dispose(){var K;(K=this._styler)===null||K===void 0||K.dispose(),super.dispose()}};V=Re([Ce(5,v.IContextKeyService),Ce(6,e.IListService),Ce(7,u.IThemeService),Ce(8,C.IConfigurationService),Ce(9,a.IKeybindingService)],V),e.WorkbenchList=V;let $=class extends k.PagedList{constructor(K,re,ae,he,U,se,Y,ne,ce,pe){const be=typeof U.horizontalScrolling!="undefined"?U.horizontalScrolling:Boolean(ce.getValue(_)),[Ee,Le]=W(U,ce,pe);super(K,re,ae,he,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,c.computeStyles)(ne.getColorTheme(),c.defaultListStyles)),Ee),{horizontalScrolling:be}));this.disposables=new S.DisposableStore,this.disposables.add(Le),this.contextKeyService=w(se,this),this.themeService=ne,this.horizontalScrolling=U.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(U.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(U.selectionNavigation)),this._useAltAsMultipleSelectionModifier=F(ce),this.disposables.add(this.contextKeyService),this.disposables.add(Y.register(this)),U.overrideStyles&&this.updateStyles(U.overrideStyles),U.overrideStyles&&this.disposables.add((0,c.attachListStyler)(this,ne,U.overrideStyles)),this.disposables.add(ce.onDidChangeConfiguration(De=>{De.affectsConfiguration(g)&&(this._useAltAsMultipleSelectionModifier=F(ce));let Me={};if(De.affectsConfiguration(_)&&this.horizontalScrolling===void 0){const Se=Boolean(ce.getValue(_));Me=Object.assign(Object.assign({},Me),{horizontalScrolling:Se})}if(De.affectsConfiguration(O)){const Se=Boolean(ce.getValue(O));Me=Object.assign(Object.assign({},Me),{smoothScrolling:Se})}if(De.affectsConfiguration(R)){const Se=ce.getValue(R);Me=Object.assign(Object.assign({},Me),{mouseWheelScrollSensitivity:Se})}if(De.affectsConfiguration(P)){const Se=ce.getValue(P);Me=Object.assign(Object.assign({},Me),{fastScrollSensitivity:Se})}Object.keys(Me).length>0&&this.updateOptions(Me)})),this.navigator=new J(this,Object.assign({configurationService:ce},U)),this.disposables.add(this.navigator)}updateOptions(K){super.updateOptions(K),K.overrideStyles&&this.updateStyles(K.overrideStyles),K.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!K.multipleSelectionSupport)}updateStyles(K){var re;(re=this._styler)===null||re===void 0||re.dispose(),this._styler=(0,c.attachListStyler)(this,this.themeService,K)}dispose(){var K;(K=this._styler)===null||K===void 0||K.dispose(),this.disposables.dispose(),super.dispose()}};$=Re([Ce(5,v.IContextKeyService),Ce(6,e.IListService),Ce(7,u.IThemeService),Ce(8,C.IConfigurationService),Ce(9,a.IKeybindingService)],$),e.WorkbenchPagedList=$;let Z=class extends h.Table{constructor(K,re,ae,he,U,se,Y,ne,ce,pe,be){const Ee=typeof se.horizontalScrolling!="undefined"?se.horizontalScrolling:Boolean(pe.getValue(_)),[Le,Te]=W(se,pe,be);super(K,re,ae,he,U,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,c.computeStyles)(ce.getColorTheme(),c.defaultListStyles)),Le),{horizontalScrolling:Ee}));this.disposables=new S.DisposableStore,this.disposables.add(Te),this.contextKeyService=w(Y,this),this.themeService=ce,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(se.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(se.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=se.horizontalScrolling,this._useAltAsMultipleSelectionModifier=F(pe),this.disposables.add(this.contextKeyService),this.disposables.add(ne.register(this)),se.overrideStyles&&this.updateStyles(se.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Me=this.getSelection(),Se=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Me.length>0||Se.length>0),this.listMultiSelection.set(Me.length>1),this.listDoubleSelection.set(Me.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Me=this.getSelection(),Se=this.getFocus();this.listHasSelectionOrFocus.set(Me.length>0||Se.length>0)})),this.disposables.add(pe.onDidChangeConfiguration(Me=>{Me.affectsConfiguration(g)&&(this._useAltAsMultipleSelectionModifier=F(pe));let Se={};if(Me.affectsConfiguration(_)&&this.horizontalScrolling===void 0){const we=Boolean(pe.getValue(_));Se=Object.assign(Object.assign({},Se),{horizontalScrolling:we})}if(Me.affectsConfiguration(O)){const we=Boolean(pe.getValue(O));Se=Object.assign(Object.assign({},Se),{smoothScrolling:we})}if(Me.affectsConfiguration(R)){const we=pe.getValue(R);Se=Object.assign(Object.assign({},Se),{mouseWheelScrollSensitivity:we})}if(Me.affectsConfiguration(P)){const we=pe.getValue(P);Se=Object.assign(Object.assign({},Se),{fastScrollSensitivity:we})}Object.keys(Se).length>0&&this.updateOptions(Se)})),this.navigator=new ie(this,Object.assign({configurationService:pe},se)),this.disposables.add(this.navigator)}updateOptions(K){super.updateOptions(K),K.overrideStyles&&this.updateStyles(K.overrideStyles),K.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!K.multipleSelectionSupport)}updateStyles(K){var re;(re=this._styler)===null||re===void 0||re.dispose(),this._styler=(0,c.attachListStyler)(this,this.themeService,K)}dispose(){var K;(K=this._styler)===null||K===void 0||K.dispose(),this.disposables.dispose(),super.dispose()}};Z=Re([Ce(6,v.IContextKeyService),Ce(7,e.IListService),Ce(8,u.IThemeService),Ce(9,C.IConfigurationService),Ce(10,a.IKeybindingService)],Z),e.WorkbenchTable=Z;class X extends S.Disposable{constructor(K,re){var ae;super();this.widget=K,this._onDidOpen=this._register(new L.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(L.Event.filter(this.widget.onDidChangeSelection,he=>he.browserEvent instanceof KeyboardEvent)(he=>this.onSelectionFromKeyboard(he))),this._register(this.widget.onPointer(he=>this.onPointer(he.element,he.browserEvent))),this._register(this.widget.onMouseDblClick(he=>this.onMouseDblClick(he.element,he.browserEvent))),typeof(re==null?void 0:re.openOnSingleClick)!="boolean"&&(re==null?void 0:re.configurationService)?(this.openOnSingleClick=(re==null?void 0:re.configurationService.getValue(f))!=="doubleClick",this._register(re==null?void 0:re.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(re==null?void 0:re.configurationService.getValue(f))!=="doubleClick"}))):this.openOnSingleClick=(ae=re==null?void 0:re.openOnSingleClick)!==null&&ae!==void 0?ae:!0}onSelectionFromKeyboard(K){if(K.elements.length!==1)return;const re=K.browserEvent,ae=typeof re.preserveFocus=="boolean"?re.preserveFocus:!0,he=typeof re.pinned=="boolean"?re.pinned:!ae,U=!1;this._open(this.getSelectedElement(),ae,he,U,K.browserEvent)}onPointer(K,re){if(!this.openOnSingleClick||re.detail===2)return;const he=re.button===1,U=!0,se=he,Y=re.ctrlKey||re.metaKey||re.altKey;this._open(K,U,se,Y,re)}onMouseDblClick(K,re){if(!re)return;const ae=re.target;if(ae.classList.contains("monaco-tl-twistie")||ae.classList.contains("monaco-icon-label")&&ae.classList.contains("folder-icon")&&re.offsetX<16)return;const U=!1,se=!0,Y=re.ctrlKey||re.metaKey||re.altKey;this._open(K,U,se,Y,re)}_open(K,re,ae,he,U){!K||this._onDidOpen.fire({editorOptions:{preserveFocus:re,pinned:ae,revealIfVisible:!0},sideBySide:he,element:K,browserEvent:U})}}class J extends X{constructor(K,re){super(K,re);this.widget=K}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ie extends X{constructor(K,re){super(K,re)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class de extends X{constructor(K,re){super(K,re)}getSelectedElement(){var K;return(K=this.widget.getSelection()[0])!==null&&K!==void 0?K:void 0}}function ue(oe,K){let re=!1;return ae=>{if(re)return re=!1,!1;const he=K.softDispatch(ae,oe);return he&&he.enterChord?(re=!0,!1):(re=!1,!0)}}let q=class extends n.ObjectTree{constructor(K,re,ae,he,U,se,Y,ne,ce,pe,be){const{options:Ee,getAutomaticKeyboardNavigation:Le,disposable:Te}=Q(re,U,se,ce,pe,be);super(K,re,ae,he,Ee);this.disposables.add(Te),this.internals=new x(this,U,Le,U.overrideStyles,se,Y,ne,ce,be),this.disposables.add(this.internals)}updateOptions(K){super.updateOptions(K),this.internals.updateOptions(K)}};q=Re([Ce(5,v.IContextKeyService),Ce(6,e.IListService),Ce(7,u.IThemeService),Ce(8,C.IConfigurationService),Ce(9,a.IKeybindingService),Ce(10,o.IAccessibilityService)],q),e.WorkbenchObjectTree=q;let B=class extends n.CompressibleObjectTree{constructor(K,re,ae,he,U,se,Y,ne,ce,pe,be){const{options:Ee,getAutomaticKeyboardNavigation:Le,disposable:Te}=Q(re,U,se,ce,pe,be);super(K,re,ae,he,Ee);this.disposables.add(Te),this.internals=new x(this,U,Le,U.overrideStyles,se,Y,ne,ce,be),this.disposables.add(this.internals)}updateOptions(K={}){super.updateOptions(K),K.overrideStyles&&this.internals.updateStyleOverrides(K.overrideStyles),this.internals.updateOptions(K)}};B=Re([Ce(5,v.IContextKeyService),Ce(6,e.IListService),Ce(7,u.IThemeService),Ce(8,C.IConfigurationService),Ce(9,a.IKeybindingService),Ce(10,o.IAccessibilityService)],B),e.WorkbenchCompressibleObjectTree=B;let j=class extends t.DataTree{constructor(K,re,ae,he,U,se,Y,ne,ce,pe,be,Ee){const{options:Le,getAutomaticKeyboardNavigation:Te,disposable:De}=Q(re,se,Y,pe,be,Ee);super(K,re,ae,he,U,Le);this.disposables.add(De),this.internals=new x(this,se,Te,se.overrideStyles,Y,ne,ce,pe,Ee),this.disposables.add(this.internals)}updateOptions(K={}){super.updateOptions(K),K.overrideStyles&&this.internals.updateStyleOverrides(K.overrideStyles),this.internals.updateOptions(K)}};j=Re([Ce(6,v.IContextKeyService),Ce(7,e.IListService),Ce(8,u.IThemeService),Ce(9,C.IConfigurationService),Ce(10,a.IKeybindingService),Ce(11,o.IAccessibilityService)],j),e.WorkbenchDataTree=j;let H=class extends d.AsyncDataTree{constructor(K,re,ae,he,U,se,Y,ne,ce,pe,be,Ee){const{options:Le,getAutomaticKeyboardNavigation:Te,disposable:De}=Q(re,se,Y,pe,be,Ee);super(K,re,ae,he,U,Le);this.disposables.add(De),this.internals=new x(this,se,Te,se.overrideStyles,Y,ne,ce,pe,Ee),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(K={}){super.updateOptions(K),K.overrideStyles&&this.internals.updateStyleOverrides(K.overrideStyles),this.internals.updateOptions(K)}};H=Re([Ce(6,v.IContextKeyService),Ce(7,e.IListService),Ce(8,u.IThemeService),Ce(9,C.IConfigurationService),Ce(10,a.IKeybindingService),Ce(11,o.IAccessibilityService)],H),e.WorkbenchAsyncDataTree=H;let z=class extends d.CompressibleAsyncDataTree{constructor(K,re,ae,he,U,se,Y,ne,ce,pe,be,Ee,Le){const{options:Te,getAutomaticKeyboardNavigation:De,disposable:Me}=Q(re,Y,ne,be,Ee,Le);super(K,re,ae,he,U,se,Te);this.disposables.add(Me),this.internals=new x(this,Y,De,Y.overrideStyles,ne,ce,pe,be,Le),this.disposables.add(this.internals)}updateOptions(K){super.updateOptions(K),this.internals.updateOptions(K)}};z=Re([Ce(7,v.IContextKeyService),Ce(8,e.IListService),Ce(9,u.IThemeService),Ce(10,C.IConfigurationService),Ce(11,a.IKeybindingService),Ce(12,o.IAccessibilityService)],z),e.WorkbenchCompressibleAsyncDataTree=z;function Q(oe,K,re,ae,he,U){var se;const Y=()=>{let Te=Boolean(re.getContextKeyValue(e.WorkbenchListAutomaticKeyboardNavigationKey));return Te&&(Te=Boolean(ae.getValue(N))),Te},ne=U.isScreenReaderOptimized(),ce=K.simpleKeyboardNavigation||ne?"simple":ae.getValue(D),pe=K.horizontalScrolling!==void 0?K.horizontalScrolling:Boolean(ae.getValue(_)),[be,Ee]=W(K,ae,he),Le=K.additionalScrollHeight;return{getAutomaticKeyboardNavigation:Y,disposable:Ee,options:Object.assign(Object.assign({keyboardSupport:!1},be),{indent:typeof ae.getValue(I)=="number"?ae.getValue(I):void 0,renderIndentGuides:ae.getValue(M),smoothScrolling:Boolean(ae.getValue(O)),automaticKeyboardNavigation:Y(),simpleKeyboardNavigation:ce==="simple",filterOnType:ce==="filter",horizontalScrolling:pe,keyboardNavigationEventFilter:ue(oe,he),additionalScrollHeight:Le,hideTwistiesOfChildlessElements:K.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(se=K.expandOnlyOnTwistieClick)!==null&&se!==void 0?se:ae.getValue(A)==="doubleClick"})}}let x=class{constructor(K,re,ae,he,U,se,Y,ne,ce){this.tree=K,this.themeService=Y,this.disposables=[],this.contextKeyService=w(U,K),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(re.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(re.selectionNavigation)),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=F(ne);const be=new Set;be.add(e.WorkbenchListAutomaticKeyboardNavigationKey);const Ee=()=>{const Te=ce.isScreenReaderOptimized()?"simple":ne.getValue(D);K.updateOptions({simpleKeyboardNavigation:Te==="simple",filterOnType:Te==="filter"})};this.updateStyleOverrides(he),this.disposables.push(this.contextKeyService,se.register(K),K.onDidChangeSelection(()=>{const Le=K.getSelection(),Te=K.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Le.length>0||Te.length>0),this.hasMultiSelection.set(Le.length>1),this.hasDoubleSelection.set(Le.length===2)})}),K.onDidChangeFocus(()=>{const Le=K.getSelection(),Te=K.getFocus();this.hasSelectionOrFocus.set(Le.length>0||Te.length>0)}),ne.onDidChangeConfiguration(Le=>{let Te={};if(Le.affectsConfiguration(g)&&(this._useAltAsMultipleSelectionModifier=F(ne)),Le.affectsConfiguration(I)){const De=ne.getValue(I);Te=Object.assign(Object.assign({},Te),{indent:De})}if(Le.affectsConfiguration(M)){const De=ne.getValue(M);Te=Object.assign(Object.assign({},Te),{renderIndentGuides:De})}if(Le.affectsConfiguration(O)){const De=Boolean(!!ne.getValue(O));Te=Object.assign(Object.assign({},Te),{smoothScrolling:De})}if(Le.affectsConfiguration(D)&&Ee(),Le.affectsConfiguration(N)&&(Te=Object.assign(Object.assign({},Te),{automaticKeyboardNavigation:ae()})),Le.affectsConfiguration(_)&&re.horizontalScrolling===void 0){const De=Boolean(!!ne.getValue(_));Te=Object.assign(Object.assign({},Te),{horizontalScrolling:De})}if(Le.affectsConfiguration(A)&&re.expandOnlyOnTwistieClick===void 0&&(Te=Object.assign(Object.assign({},Te),{expandOnlyOnTwistieClick:ne.getValue(A)==="doubleClick"})),Le.affectsConfiguration(R)){const De=ne.getValue(R);Te=Object.assign(Object.assign({},Te),{mouseWheelScrollSensitivity:De})}if(Le.affectsConfiguration(P)){const De=ne.getValue(P);Te=Object.assign(Object.assign({},Te),{fastScrollSensitivity:De})}Object.keys(Te).length>0&&K.updateOptions(Te)}),this.contextKeyService.onDidChangeContext(Le=>{Le.affectsSome(be)&&K.updateOptions({automaticKeyboardNavigation:ae()})}),ce.onDidChangeScreenReaderOptimized(()=>Ee())),this.navigator=new de(K,Object.assign({configurationService:ne},re)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(K){K.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!K.multipleSelectionSupport)}updateStyleOverrides(K){(0,S.dispose)(this.styler),this.styler=K?(0,c.attachListStyler)(this.tree,this.themeService,K):S.Disposable.None}dispose(){this.disposables=(0,S.dispose)(this.disposables),(0,S.dispose)(this.styler),this.styler=void 0}};x=Re([Ce(4,v.IContextKeyService),Ce(5,e.IListService),Ce(6,u.IThemeService),Ce(7,C.IConfigurationService),Ce(8,o.IAccessibilityService)],x),l.Registry.as(i.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,p.localize)(0,null),type:"object",properties:{[g]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,p.localize)(1,null),(0,p.localize)(2,null)],default:"ctrlCmd",description:(0,p.localize)(3,null)},[f]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,p.localize)(4,null)},[_]:{type:"boolean",default:!1,description:(0,p.localize)(5,null)},[I]:{type:"number",default:8,minimum:0,maximum:40,description:(0,p.localize)(6,null)},[M]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,p.localize)(7,null)},[O]:{type:"boolean",default:!1,description:(0,p.localize)(8,null)},[R]:{type:"number",default:1,description:(0,p.localize)(9,null)},[P]:{type:"number",default:5,description:(0,p.localize)(10,null)},[D]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,p.localize)(11,null),(0,p.localize)(12,null),(0,p.localize)(13,null)],default:"highlight",description:(0,p.localize)(14,null)},[N]:{type:"boolean",default:!0,markdownDescription:(0,p.localize)(15,null)},[A]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,p.localize)(16,null)}}})}),define(ee[667],te([0,1,144,9,11,22,23,122,16,64,453,153,588]),function(G,e,b,k,T,L,S,p,C,i,v,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let l=class extends T.Themable{constructor(u,s,n,d,t){super(n);this.instantiationService=u,this.contextKeyService=s,this.accessibilityService=d,this.layoutService=t,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(a.QuickAccessController))),this._quickAccess}createController(u=this.layoutService,s){var n,d;const t={idPrefix:"quickInput_",container:u.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:h=>this.setContextKey(h),returnFocus:()=>u.focus(),createList:(h,m,y,w,g)=>this.instantiationService.createInstance(r.WorkbenchList,h,m,y,w,g),styles:this.computeStyles()},o=this._register(new v.QuickInputController(Object.assign(Object.assign({},t),s)));return o.layout(u.dimension,(d=(n=u.offset)===null||n===void 0?void 0:n.top)!==null&&d!==void 0?d:0),this._register(u.onDidLayout(h=>{var m,y;return o.layout(h,(y=(m=u.offset)===null||m===void 0?void 0:m.top)!==null&&y!==void 0?y:0)})),this._register(o.onShow(()=>this.resetContextKeys())),this._register(o.onHide(()=>this.resetContextKeys())),o}setContextKey(u){let s;u&&(s=this.contexts.get(u),s||(s=new C.RawContextKey(u,!1).bindTo(this.contextKeyService),this.contexts.set(u,s))),!(s&&s.get())&&(this.resetContextKeys(),s&&s.set(!0))}resetContextKeys(){this.contexts.forEach(u=>{u.get()&&u.reset()})}pick(u,s={},n=S.CancellationToken.None){return this.controller.pick(u,s,n)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,p.computeStyles)(this.theme,{quickInputBackground:L.quickInputBackground,quickInputForeground:L.quickInputForeground,quickInputTitleBackground:L.quickInputTitleBackground,contrastBorder:L.contrastBorder,widgetShadow:L.widgetShadow})),inputBox:(0,p.computeStyles)(this.theme,{inputForeground:L.inputForeground,inputBackground:L.inputBackground,inputBorder:L.inputBorder,inputValidationInfoBackground:L.inputValidationInfoBackground,inputValidationInfoForeground:L.inputValidationInfoForeground,inputValidationInfoBorder:L.inputValidationInfoBorder,inputValidationWarningBackground:L.inputValidationWarningBackground,inputValidationWarningForeground:L.inputValidationWarningForeground,inputValidationWarningBorder:L.inputValidationWarningBorder,inputValidationErrorBackground:L.inputValidationErrorBackground,inputValidationErrorForeground:L.inputValidationErrorForeground,inputValidationErrorBorder:L.inputValidationErrorBorder}),countBadge:(0,p.computeStyles)(this.theme,{badgeBackground:L.badgeBackground,badgeForeground:L.badgeForeground,badgeBorder:L.contrastBorder}),button:(0,p.computeStyles)(this.theme,{buttonForeground:L.buttonForeground,buttonBackground:L.buttonBackground,buttonHoverBackground:L.buttonHoverBackground,buttonBorder:L.contrastBorder}),progressBar:(0,p.computeStyles)(this.theme,{progressBarBackground:L.progressBarBackground}),keybindingLabel:(0,p.computeStyles)(this.theme,{keybindingLabelBackground:L.keybindingLabelBackground,keybindingLabelForeground:L.keybindingLabelForeground,keybindingLabelBorder:L.keybindingLabelBorder,keybindingLabelBottomBorder:L.keybindingLabelBottomBorder,keybindingLabelShadow:L.widgetShadow}),list:(0,p.computeStyles)(this.theme,{listBackground:L.quickInputBackground,listInactiveFocusForeground:L.quickInputListFocusForeground,listInactiveSelectionIconForeground:L.quickInputListFocusIconForeground,listInactiveFocusBackground:L.quickInputListFocusBackground,listFocusOutline:L.activeContrastBorder,listInactiveFocusOutline:L.activeContrastBorder,pickerGroupBorder:L.pickerGroupBorder,pickerGroupForeground:L.pickerGroupForeground})}}};l=Re([Ce(0,k.IInstantiationService),Ce(1,C.IContextKeyService),Ce(2,T.IThemeService),Ce(3,i.IAccessibilityService),Ce(4,b.ILayoutService)],l),e.QuickInputService=l}),define(ee[668],te([0,1,14,11,23,9,16,64,144,28,667,80,366]),function(G,e,b,k,T,L,S,p,C,i,v,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputServiceImpl=e.EditorScopedQuickInputServiceImpl=void 0;let a=class extends v.QuickInputService{constructor(n,d,t,o,h,m){super(d,t,o,h,m);this.host=void 0;const y=c.get(n);this.host={_serviceBrand:void 0,get container(){return y.widget.getDomNode()},get dimension(){return n.getLayoutInfo()},get onDidLayout(){return n.onDidLayoutChange},focus:()=>n.focus()}}createController(){return super.createController(this.host)}};a=Re([Ce(1,L.IInstantiationService),Ce(2,S.IContextKeyService),Ce(3,k.IThemeService),Ce(4,p.IAccessibilityService),Ce(5,C.ILayoutService)],a),e.EditorScopedQuickInputServiceImpl=a;let l=class{constructor(n,d){this.instantiationService=n,this.codeEditorService=d,this.mapEditorToService=new Map}get activeService(){const n=this.codeEditorService.getFocusedCodeEditor();if(!n)throw new Error("Quick input service needs a focused editor to work.");let d=this.mapEditorToService.get(n);if(!d){const t=d=this.instantiationService.createInstance(a,n);this.mapEditorToService.set(n,d),(0,r.once)(n.onDidDispose)(()=>{t.dispose(),this.mapEditorToService.delete(n)})}return d}get quickAccess(){return this.activeService.quickAccess}pick(n,d={},t=T.CancellationToken.None){return this.activeService.pick(n,d,t)}createQuickPick(){return this.activeService.createQuickPick()}};l=Re([Ce(0,L.IInstantiationService),Ce(1,i.ICodeEditorService)],l),e.StandaloneQuickInputServiceImpl=l;class c{constructor(n){this.editor=n,this.widget=new u(this.editor)}static get(n){return n.getContribution(c.ID)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=c,c.ID="editor.controller.quickInput";class u{constructor(n){this.codeEditor=n,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return u.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=u,u.ID="editor.contrib.quickInputWidget",(0,b.registerEditorContribution)(c.ID,c)}),define(ee[669],te([0,1,74,11,22,27]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var S;(function(p){function C(i){switch(i){case b.default.Ignore:return"severity-ignore "+L.Codicon.info.classNames;case b.default.Info:return L.Codicon.info.classNames;case b.default.Warning:return L.Codicon.warning.classNames;case b.default.Error:return L.Codicon.error.classNames;default:return""}}p.className=C})(S=e.SeverityIcon||(e.SeverityIcon={})),(0,k.registerThemingParticipant)((p,C)=>{const i=p.getColor(T.problemsErrorIconForeground);if(i){const a=L.Codicon.error.cssSelector;C.addRule(`
			.monaco-editor .zone-widget ${a},
			.markers-panel .marker-icon${a},
			.text-search-provider-messages .providerMessage ${a},
			.extensions-viewlet > .extensions ${a} {
				color: ${i};
			}
		`)}const v=p.getColor(T.problemsWarningIconForeground);if(v){const a=L.Codicon.warning.cssSelector;C.addRule(`
			.monaco-editor .zone-widget ${a},
			.markers-panel .marker-icon${a},
			.extensions-viewlet > .extensions ${a},
			.extension-editor ${a},
			.text-search-provider-messages .providerMessage ${a},
			.preferences-editor ${a} {
				color: ${v};
			}
		`)}const r=p.getColor(T.problemsInfoIconForeground);if(r){const a=L.Codicon.info.cssSelector;C.addRule(`
			.monaco-editor .zone-widget ${a},
			.markers-panel .marker-icon${a},
			.extensions-viewlet > .extensions ${a},
			.text-search-provider-messages .providerMessage ${a},
			.extension-editor ${a} {
				color: ${r};
			}
		`)}})}),define(ee[670],te([0,1,490,7,2,87,3,22,11,29,61,163,19,6,124,43,669,58,33,16,192,9,8,121,351]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h,m,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarning=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class w{constructor(I,M,O,R,P){this._openerService=R,this._labelService=P,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new T.DisposableStore,this._editor=M;const A=document.createElement("div");A.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),A.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),A.appendChild(this._relatedBlock),this._disposables.add(k.addStandardDisposableListener(this._relatedBlock,"click",F=>{F.preventDefault();const E=this._relatedDiagnostics.get(F.target);E&&O(E)})),this._scrollable=new v.ScrollableElement(A,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),I.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(F=>{A.style.left=`-${F.scrollLeft}px`,A.style.top=`-${F.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,T.dispose)(this._disposables)}update(I){const{source:M,message:O,relatedInformation:R,code:P}=I;let A=((M==null?void 0:M.length)||0)+"()".length;P&&(typeof P=="string"?A+=P.length:A+=P.value.length);const F=(0,m.splitLines)(O);this._lines=F.length,this._longestLineLength=0;for(const Z of F)this._longestLineLength=Math.max(Z.length+A,this._longestLineLength);k.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(I)),this._editor.applyFontInfo(this._messageBlock);let E=this._messageBlock;for(const Z of F)E=document.createElement("div"),E.innerText=Z,Z===""&&(E.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(E);if(M||P){const Z=document.createElement("span");if(Z.classList.add("details"),E.appendChild(Z),M){const X=document.createElement("span");X.innerText=M,X.classList.add("source"),Z.appendChild(X)}if(P)if(typeof P=="string"){const X=document.createElement("span");X.innerText=`(${P})`,X.classList.add("code"),Z.appendChild(X)}else{this._codeLink=k.$("a.code-link"),this._codeLink.setAttribute("href",`${P.target.toString()}`),this._codeLink.onclick=J=>{this._openerService.open(P.target,{allowCommands:!0}),J.preventDefault(),J.stopPropagation()};const X=k.append(this._codeLink,k.$("span"));X.innerText=P.value,Z.appendChild(this._codeLink)}}if(k.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,a.isNonEmptyArray)(R)){const Z=this._relatedBlock.appendChild(document.createElement("div"));Z.style.paddingTop=`${Math.floor(this._editor.getOption(57)*.66)}px`,this._lines+=1;for(const X of R){let J=document.createElement("div"),ie=document.createElement("a");ie.classList.add("filename"),ie.innerText=`${(0,r.getBaseLabel)(X.resource)}(${X.startLineNumber}, ${X.startColumn}): `,ie.title=this._labelService.getUriLabel(X.resource),this._relatedDiagnostics.set(ie,X);let de=document.createElement("span");de.innerText=X.message,J.appendChild(ie),J.appendChild(de),this._lines+=1,Z.appendChild(J)}}const W=this._editor.getOption(41),V=Math.ceil(W.typicalFullwidthCharacterWidth*this._longestLineLength*.75),$=W.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:V,scrollHeight:$})}layout(I,M){this._scrollable.getDomNode().style.height=`${I}px`,this._scrollable.getDomNode().style.width=`${M}px`,this._scrollable.setScrollDimensions({width:M,height:I})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(I){let M="";switch(I.severity){case L.MarkerSeverity.Error:M=b.localize(0,null);break;case L.MarkerSeverity.Warning:M=b.localize(1,null);break;case L.MarkerSeverity.Info:M=b.localize(2,null);break;case L.MarkerSeverity.Hint:M=b.localize(3,null);break}let O=b.localize(4,null,M,I.startLineNumber+":"+I.startColumn);const R=this._editor.getModel();return R&&I.startLineNumber<=R.getLineCount()&&I.startLineNumber>=1&&(O=`${R.getLineContent(I.startLineNumber)}, ${O}`),O}}let g=class $t extends c.PeekViewWidget{constructor(I,M,O,R,P,A,F){super(I,{showArrow:!0,showFrame:!0,isAccessible:!0},P);this._themeService=M,this._openerService=O,this._menuService=R,this._contextKeyService=A,this._labelService=F,this._callOnDispose=new T.DisposableStore,this._onDidSelectRelatedInformation=new l.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=L.MarkerSeverity.Warning,this._backgroundColor=i.Color.white,this._applyTheme(M.getColorTheme()),this._callOnDispose.add(M.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(I){this._backgroundColor=I.getColor(e.editorMarkerNavigationBackground);let M=e.editorMarkerNavigationError;this._severity===L.MarkerSeverity.Warning?M=e.editorMarkerNavigationWarning:this._severity===L.MarkerSeverity.Info&&(M=e.editorMarkerNavigationInfo);const O=I.getColor(M);this.style({arrowColor:O,frameColor:O,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:I.getColor(c.peekViewTitleForeground),secondaryHeadingColor:I.getColor(c.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(I){super._fillHead(I),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(R=>this.editor.focus()));const M=[],O=this._menuService.createMenu($t.TitleMenu,this._contextKeyService);(0,o.createAndFillInActionBarActions)(O,void 0,M),this._actionbarWidget.push(M,{label:!1,icon:!0,index:0}),O.dispose()}_fillTitleIcon(I){this._icon=k.append(I,k.$(""))}_fillBody(I){this._parentContainer=I,I.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),I.appendChild(this._container),this._message=new w(this._container,this.editor,M=>this._onDidSelectRelatedInformation.fire(M),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(I,M,O){this._container.classList.remove("stale"),this._message.update(I),this._severity=I.severity,this._applyTheme(this._themeService.getColorTheme());let R=S.Range.lift(I);const P=this.editor.getPosition();let A=P&&R.containsPosition(P)?P:R.getStartPosition();super.show(A,this.computeRequiredHeight());const F=this.editor.getModel();if(F){const E=O>1?b.localize(5,null,M,O):b.localize(6,null,M,O);this.setTitle((0,u.basename)(F.uri),E)}this._icon.className=`codicon ${s.SeverityIcon.className(L.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(A,0),this.editor.focus()}updateMarker(I){this._container.classList.remove("stale"),this._message.update(I)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(I,M){super._doLayoutBody(I,M),this._heightInPixel=I,this._message.layout(I,M),this._container.style.height=`${I}px`}_onWidth(I){this._message.layout(this._heightInPixel,I)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};g.TitleMenu=new d.MenuId("gotoErrorTitleMenu"),g=Re([Ce(1,C.IThemeService),Ce(2,n.IOpenerService),Ce(3,d.IMenuService),Ce(4,h.IInstantiationService),Ce(5,t.IContextKeyService),Ce(6,y.ILabelService)],g),e.MarkerNavigationWidget=g;let f=(0,p.oneOf)(p.editorErrorForeground,p.editorErrorBorder),_=(0,p.oneOf)(p.editorWarningForeground,p.editorWarningBorder),D=(0,p.oneOf)(p.editorInfoForeground,p.editorInfoBorder);e.editorMarkerNavigationError=(0,p.registerColor)("editorMarkerNavigationError.background",{dark:f,light:f,hc:f},b.localize(7,null)),e.editorMarkerNavigationWarning=(0,p.registerColor)("editorMarkerNavigationWarning.background",{dark:_,light:_,hc:_},b.localize(8,null)),e.editorMarkerNavigationInfo=(0,p.registerColor)("editorMarkerNavigationInfo.background",{dark:D,light:D,hc:D},b.localize(9,null)),e.editorMarkerNavigationBackground=(0,p.registerColor)("editorMarkerNavigation.background",{dark:"#2D2D30",light:i.Color.white,hc:"#0C141F"},b.localize(10,null)),(0,C.registerThemingParticipant)((N,I)=>{const M=N.getColor(p.textLinkForeground);M&&I.addRule(`.monaco-editor .marker-widget a.code-link span { color: ${M}; }`);const O=N.getColor(p.textLinkActiveForeground);O&&I.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${O}; }`)})}),define(ee[79],te([0,1,32,11,6,542,189,15,27]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};class i{constructor(){this._onDidChange=new T.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,L.localize)(0,null)},fontCharacter:{type:"string",description:(0,L.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${C.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(n,d,t,o){const h=this.iconsById[n];if(h){if(t&&!h.description){h.description=t,this.iconSchema.properties[n].markdownDescription=`${t} $(${n})`;const w=this.iconReferenceSchema.enum.indexOf(n);w!==-1&&(this.iconReferenceSchema.enumDescriptions[w]=t),this._onDidChange.fire()}return h}let m={id:n,description:t,defaults:d,deprecationMessage:o};this.iconsById[n]=m;let y={$ref:"#/definitions/icons"};return o&&(y.deprecationMessage=o),t&&(y.markdownDescription=`${t}: $(${n})`),this.iconSchema.properties[n]=y,this.iconReferenceSchema.enum.push(n),this.iconReferenceSchema.enumDescriptions.push(t||""),this._onDidChange.fire(),{id:n}}getIcons(){return Object.keys(this.iconsById).map(n=>this.iconsById[n])}getIcon(n){return this.iconsById[n]}getIconSchema(){return this.iconSchema}getIconFont(n){return this.iconFontsById[n]}toString(){const n=(h,m)=>h.id.localeCompare(m.id),d=h=>{for(;k.ThemeIcon.isThemeIcon(h.defaults);)h=this.iconsById[h.defaults.id];return`codicon codicon-${h?h.id:""}`};let t=[];t.push("| preview     | identifier                        | default codicon ID                | description"),t.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const o=Object.keys(this.iconsById).map(h=>this.iconsById[h]);for(const h of o.filter(m=>!!m.description).sort(n))t.push(`|<i class="${d(h)}"></i>|${h.id}|${k.ThemeIcon.isThemeIcon(h.defaults)?h.defaults.id:h.id}|${h.description||""}|`);t.push("| preview     | identifier                        "),t.push("| ----------- | --------------------------------- |");for(const h of o.filter(m=>!k.ThemeIcon.isThemeIcon(m.defaults)).sort(n))t.push(`|<i class="${d(h)}"></i>|${h.id}|`);return t.join(`
`)}}const v=new i;b.Registry.add(e.Extensions.IconContribution,v);function r(s,n,d,t){return v.registerIcon(s,n,d,t)}e.registerIcon=r;function a(){return v}e.getIconRegistry=a;function l(){for(const s of C.iconRegistry.all)v.registerIcon(s.id,s.definition,s.description);C.iconRegistry.onDidRegister(s=>v.registerIcon(s.id,s.definition,s.description))}l(),e.iconsSchemaId="vscode://schemas/icons";let c=b.Registry.as(S.Extensions.JSONContribution);c.registerSchema(e.iconsSchemaId,v.getIconSchema());const u=new p.RunOnceScheduler(()=>c.notifySchemaChanged(e.iconsSchemaId),200);v.onDidChange(()=>{u.isScheduled()||u.schedule()}),e.widgetClose=r("widget-close",C.Codicon.close,(0,L.localize)(2,null))}),define(ee[671],te([0,1,460,7,30,84,61,50,2,65,14,28,35,85,13,48,114,62,16,22,11,27,79,341]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h,m){"use strict";var y;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const w=3;class g{constructor(A,F,E,W){this.originalLineStart=A,this.originalLineEnd=F,this.modifiedLineStart=E,this.modifiedLineEnd=W}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class f{constructor(A){this.entries=A}}const _=(0,m.registerIcon)("diff-review-insert",h.Codicon.add,b.localize(0,null)),D=(0,m.registerIcon)("diff-review-remove",h.Codicon.remove,b.localize(1,null)),N=(0,m.registerIcon)("diff-review-close",h.Codicon.close,b.localize(2,null));class I extends C.Disposable{constructor(A){super();this._width=0,this._diffEditor=A,this._isVisible=!1,this.shadow=(0,T.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,T.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new L.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new p.Action("diffreview.close",b.localize(3,null),"close-diff-review "+o.ThemeIcon.asClassName(N),!0,()=>Ie(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,T.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,T.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new S.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(A.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(A.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(k.addStandardDisposableListener(this.domNode.domNode,"click",F=>{F.preventDefault();let E=k.findParentWithClass(F.target,"diff-review-row");E&&this._goToRow(E)})),this._register(k.addStandardDisposableListener(this.domNode.domNode,"keydown",F=>{(F.equals(18)||F.equals(2048|18)||F.equals(512|18))&&(F.preventDefault(),this._goToRow(this._getNextRow())),(F.equals(16)||F.equals(2048|16)||F.equals(512|16))&&(F.preventDefault(),this._goToRow(this._getPrevRow())),(F.equals(9)||F.equals(2048|9)||F.equals(512|9)||F.equals(1024|9))&&(F.preventDefault(),this.hide()),(F.equals(10)||F.equals(3))&&(F.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let A=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let E=-1;for(let W=0,V=this._diffs.length;W<V;W++)if(this._diffs[W]===this._currentDiff){E=W;break}A=this._diffs.length+E-1}else A=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;A=A%this._diffs.length;const F=this._diffs[A].entries;this._diffEditor.setPosition(new c.Position(F[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:F[0].modifiedLineStart,endColumn:1073741824,endLineNumber:F[F.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let A=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let E=-1;for(let W=0,V=this._diffs.length;W<V;W++)if(this._diffs[W]===this._currentDiff){E=W;break}A=E+1}else A=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;A=A%this._diffs.length;const F=this._diffs[A].entries;this._diffEditor.setPosition(new c.Position(F[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:F[0].modifiedLineStart,endColumn:1073741824,endLineNumber:F[F.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let A=-1,F=this._getCurrentFocusedRow();if(F){let E=parseInt(F.getAttribute("data-line"),10);isNaN(E)||(A=E)}this.hide(),A!==-1&&(this._diffEditor.setPosition(new c.Position(A,1)),this._diffEditor.revealPosition(new c.Position(A,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let A=this._getCurrentFocusedRow();return A?A.previousElementSibling?A.previousElementSibling:A:this._getFirstRow()}_getNextRow(){let A=this._getCurrentFocusedRow();return A?A.nextElementSibling?A.nextElementSibling:A:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let A=document.activeElement;return A&&/diff-review-row/.test(A.className)?A:null}_goToRow(A){let F=this._getCurrentFocusedRow();A.tabIndex=0,A.focus(),F&&F!==A&&(F.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(A,F,E){this._width=F,this.shadow.setTop(A-6),this.shadow.setWidth(F),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(A),this.domNode.setWidth(F),this.domNode.setHeight(E),this._content.setHeight(E),this._content.setWidth(F),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const A=this._diffEditor.getLineChanges();if(!A||A.length===0)return[];const F=this._diffEditor.getOriginalEditor().getModel(),E=this._diffEditor.getModifiedEditor().getModel();return!F||!E?[]:I._mergeAdjacent(A,F.getLineCount(),E.getLineCount())}static _mergeAdjacent(A,F,E){if(!A||A.length===0)return[];let W=[],V=0;for(let J=0,ie=A.length;J<ie;J++){const de=A[J],ue=de.originalStartLineNumber,q=de.originalEndLineNumber,B=de.modifiedStartLineNumber,j=de.modifiedEndLineNumber;let H=[],z=0;{const Q=q===0?ue:ue-1,x=j===0?B:B-1;let le=1,oe=1;if(J>0){const ae=A[J-1];ae.originalEndLineNumber===0?le=ae.originalStartLineNumber+1:le=ae.originalEndLineNumber+1,ae.modifiedEndLineNumber===0?oe=ae.modifiedStartLineNumber+1:oe=ae.modifiedEndLineNumber+1}let K=Q-w+1,re=x-w+1;if(K<le){const ae=le-K;K=K+ae,re=re+ae}if(re<oe){const ae=oe-re;K=K+ae,re=re+ae}H[z++]=new g(K,Q,re,x)}q!==0&&(H[z++]=new g(ue,q,0,0)),j!==0&&(H[z++]=new g(0,0,B,j));{const Q=q===0?ue+1:q+1,x=j===0?B+1:j+1;let le=F,oe=E;if(J+1<ie){const ae=A[J+1];ae.originalEndLineNumber===0?le=ae.originalStartLineNumber:le=ae.originalStartLineNumber-1,ae.modifiedEndLineNumber===0?oe=ae.modifiedStartLineNumber:oe=ae.modifiedStartLineNumber-1}let K=Q+w-1,re=x+w-1;if(K>le){const ae=le-K;K=K+ae,re=re+ae}if(re>oe){const ae=oe-re;K=K+ae,re=re+ae}H[z++]=new g(Q,K,x,re)}W[V++]=new f(H)}let $=W[0].entries,Z=[],X=0;for(let J=1,ie=W.length;J<ie;J++){const de=W[J].entries,ue=$[$.length-1],q=de[0];if(ue.getType()===0&&q.getType()===0&&q.originalLineStart<=ue.originalLineEnd){$[$.length-1]=new g(ue.originalLineStart,q.originalLineEnd,ue.modifiedLineStart,q.modifiedLineEnd),$=$.concat(de.slice(1));continue}Z[X++]=new f($),$=de}return Z[X++]=new f($),Z}_findDiffIndex(A){const F=A.lineNumber;for(let E=0,W=this._diffs.length;E<W;E++){const V=this._diffs[E].entries,$=V[V.length-1].modifiedLineEnd;if(F<=$)return E}return 0}_render(){const A=this._diffEditor.getOriginalEditor().getOptions(),F=this._diffEditor.getModifiedEditor().getOptions(),E=this._diffEditor.getOriginalEditor().getModel(),W=this._diffEditor.getModifiedEditor().getModel(),V=E.getOptions(),$=W.getOptions();if(!this._isVisible||!E||!W){k.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const Z=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[Z]===this._currentDiff)return;this._currentDiff=this._diffs[Z];const X=this._diffs[Z].entries;let J=document.createElement("div");J.className="diff-review-table",J.setAttribute("role","list"),J.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),i.Configuration.applyFontInfoSlow(J,F.get(41));let ie=0,de=0,ue=0,q=0;for(let re=0,ae=X.length;re<ae;re++){const he=X[re],U=he.originalLineStart,se=he.originalLineEnd,Y=he.modifiedLineStart,ne=he.modifiedLineEnd;U!==0&&(ie===0||U<ie)&&(ie=U),se!==0&&(de===0||se>de)&&(de=se),Y!==0&&(ue===0||Y<ue)&&(ue=Y),ne!==0&&(q===0||ne>q)&&(q=ne)}let B=document.createElement("div");B.className="diff-review-row";let j=document.createElement("div");j.className="diff-review-cell diff-review-summary";const H=de-ie+1,z=q-ue+1;j.appendChild(document.createTextNode(`${Z+1}/${this._diffs.length}: @@ -${ie},${H} +${ue},${z} @@`)),B.setAttribute("data-line",String(ue));const Q=re=>re===0?b.localize(4,null):re===1?b.localize(5,null):b.localize(6,null,re),x=Q(H),le=Q(z);B.setAttribute("aria-label",b.localize(7,null,Z+1,this._diffs.length,ie,x,ue,le)),B.appendChild(j),B.setAttribute("role","listitem"),J.appendChild(B);const oe=F.get(57);let K=ue;for(let re=0,ae=X.length;re<ae;re++){const he=X[re];I._renderSection(J,he,K,oe,this._width,A,E,V,F,W,$),he.modifiedLineStart!==0&&(K=he.modifiedLineEnd)}k.clearNode(this._content.domNode),this._content.domNode.appendChild(J),this.scrollbar.scanDomNode()}static _renderSection(A,F,E,W,V,$,Z,X,J,ie,de){const ue=F.getType();let q="diff-review-row",B="";const j="diff-review-spacer";let H=null;switch(ue){case 1:q="diff-review-row line-insert",B=" char-insert",H=_;break;case 2:q="diff-review-row line-delete",B=" char-delete",H=D;break}const z=F.originalLineStart,Q=F.originalLineEnd,x=F.modifiedLineStart,le=F.modifiedLineEnd,oe=Math.max(le-x,Q-z),K=$.get(129),re=K.glyphMarginWidth+K.lineNumbersWidth,ae=J.get(129),he=10+ae.glyphMarginWidth+ae.lineNumbersWidth;for(let U=0;U<=oe;U++){const se=z===0?0:z+U,Y=x===0?0:x+U,ne=document.createElement("div");ne.style.minWidth=V+"px",ne.className=q,ne.setAttribute("role","listitem"),Y!==0&&(E=Y),ne.setAttribute("data-line",String(E));let ce=document.createElement("div");ce.className="diff-review-cell",ce.style.height=`${W}px`,ne.appendChild(ce);const pe=document.createElement("span");pe.style.width=re+"px",pe.style.minWidth=re+"px",pe.className="diff-review-line-number"+B,se!==0?pe.appendChild(document.createTextNode(String(se))):pe.innerText="\xA0",ce.appendChild(pe);const be=document.createElement("span");be.style.width=he+"px",be.style.minWidth=he+"px",be.style.paddingRight="10px",be.className="diff-review-line-number"+B,Y!==0?be.appendChild(document.createTextNode(String(Y))):be.innerText="\xA0",ce.appendChild(be);const Ee=document.createElement("span");if(Ee.className=j,H){const De=document.createElement("span");De.className=o.ThemeIcon.asClassName(H),De.innerText="\xA0\xA0",Ee.appendChild(De)}else Ee.innerText="\xA0\xA0";ce.appendChild(Ee);let Le;if(Y!==0){let De=this._renderLine(ie,J,de.tabSize,Y);I._ttPolicy&&(De=I._ttPolicy.createHTML(De)),ce.insertAdjacentHTML("beforeend",De),Le=ie.getLineContent(Y)}else{let De=this._renderLine(Z,$,X.tabSize,se);I._ttPolicy&&(De=I._ttPolicy.createHTML(De)),ce.insertAdjacentHTML("beforeend",De),Le=Z.getLineContent(se)}Le.length===0&&(Le=b.localize(8,null));let Te="";switch(ue){case 0:se===Y?Te=b.localize(9,null,Le,se):Te=b.localize(10,null,Le,se,Y);break;case 1:Te=b.localize(11,null,Le,Y);break;case 2:Te=b.localize(12,null,Le,se);break}ne.setAttribute("aria-label",Te),A.appendChild(ne)}}static _renderLine(A,F,E,W){const V=A.getLineContent(W),$=F.get(41),Z=l.LineTokens.createEmpty(V),X=n.ViewLineRenderingData.isBasicASCII(V,A.mightContainNonBasicASCII()),J=n.ViewLineRenderingData.containsRTL(V,X,A.mightContainRTL());return(0,s.renderViewLine2)(new s.RenderLineInput($.isMonospace&&!F.get(27),$.canUseHalfwidthRightwardsArrow,V,!1,X,J,0,Z,[],E,0,$.spaceWidth,$.middotWidth,$.wsmiddotWidth,F.get(104),F.get(87),F.get(81),F.get(42)!==a.EditorFontLigatures.OFF,null)).html}}e.DiffReview=I,I._ttPolicy=(y=window.trustedTypes)===null||y===void 0?void 0:y.createPolicy("diffReview",{createHTML:P=>P}),(0,o.registerThemingParticipant)((P,A)=>{const F=P.getColor(u.editorLineNumbers);F&&A.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${F}; }`);const E=P.getColor(t.scrollbarShadow);E&&A.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${E} 0 -6px 6px -6px inset; }`)});class M extends v.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:b.localize(13,null),alias:"Go to Next Difference",precondition:d.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(A,F){const E=R(A);E&&E.diffReviewNext()}}class O extends v.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:b.localize(14,null),alias:"Go to Previous Difference",precondition:d.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(A,F){const E=R(A);E&&E.diffReviewPrev()}}function R(P){const A=P.get(r.ICodeEditorService),F=A.listDiffEditors(),E=A.getActiveCodeEditor();if(!E)return null;for(let W=0,V=F.length;W<V;W++){const $=F[W];if($.getModifiedEditor().getId()===E.getId()||$.getOriginalEditor().getId()===E.getId())return $}return null}(0,v.registerEditorAction)(M),(0,v.registerEditorAction)(O)}),define(ee[271],te([0,1,459,7,30,107,15,6,2,65,66,28,149,671,35,3,83,110,31,76,223,136,114,62,16,9,143,34,22,11,69,462,86,14,12,59,214,27,131,79,340]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h,m,y,w,g,f,_,D,N,I,M,O,R,P,A,F,E,W,V){"use strict";var $;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class Z{constructor(Y,ne){this._contextMenuService=Y,this._clipboardService=ne,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(Y){return Y.filter(ne=>!this._zonesMap[String(ne.id)])}clean(Y){this._zones.length>0&&Y.changeViewZones(ne=>{for(const ce of this._zones)ne.removeZone(ce)}),this._zones=[],this._zonesMap={},this._decorations=Y.deltaDecorations(this._decorations,[])}apply(Y,ne,ce,pe){const be=pe?v.StableEditorScrollState.capture(Y):null;Y.changeViewZones(Ee=>{for(const Le of this._zones)Ee.removeZone(Le);for(const Le of this._inlineDiffMargins)Le.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Le=0,Te=ce.zones.length;Le<Te;Le++){const De=ce.zones[Le];De.suppressMouseDown=!0;const Me=Ee.addZone(De);this._zones.push(Me),this._zonesMap[String(Me)]=!0,ce.zones[Le].diff&&De.marginDomNode&&(De.suppressMouseDown=!1,this._inlineDiffMargins.push(new M.InlineDiffMargin(Me,De.marginDomNode,Y,ce.zones[Le].diff,this._contextMenuService,this._clipboardService)))}}),be&&be.restore(Y),this._decorations=Y.deltaDecorations(this._decorations,ce.decorations),ne&&ne.setZones(ce.overviewZones)}}let X=0;const J=(0,V.registerIcon)("diff-insert",E.Codicon.add,b.localize(0,null)),ie=(0,V.registerIcon)("diff-remove",E.Codicon.remove,b.localize(1,null)),de=($=window.trustedTypes)===null||$===void 0?void 0:$.createPolicy("diffEditorWidget",{createHTML:se=>se});let ue=class je extends C.Disposable{constructor(Y,ne,ce,pe,be,Ee,Le,Te,De,Me,Se,we){super();this._editorProgressService=we,this._onDidDispose=this._register(new p.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new p.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new p.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=be,this._codeEditorService=Te,this._contextKeyService=this._register(Ee.createScoped(Y)),this._instantiationService=Le.createChild(new f.ServiceCollection([w.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=De,this._notificationService=Me,this._id=++X,this._state=0,this._updatingDiffProgress=null,this._domElement=Y,ne=ne||{},this._renderSideBySide=!0,typeof ne.renderSideBySide!="undefined"&&(this._renderSideBySide=ne.renderSideBySide),this._maxComputationTime=5e3,typeof ne.maxComputationTime!="undefined"&&(this._maxComputationTime=ne.maxComputationTime),this._ignoreTrimWhitespace=!0,typeof ne.ignoreTrimWhitespace!="undefined"&&(this._ignoreTrimWhitespace=ne.ignoreTrimWhitespace),this._renderIndicators=!0,typeof ne.renderIndicators!="undefined"&&(this._renderIndicators=ne.renderIndicators),this._originalIsEditable=(0,c.boolean)(ne.originalEditable,!1),this._diffCodeLens=(0,c.boolean)(ne.diffCodeLens,!1),this._diffWordWrap=K(ne.diffWordWrap,"inherit"),typeof ne.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",ne.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._renderOverviewRuler=!0,typeof ne.renderOverviewRuler!="undefined"&&(this._renderOverviewRuler=Boolean(ne.renderOverviewRuler)),this._updateDecorationsRunner=this._register(new S.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=je._getClassName(this._themeService.getColorTheme(),this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,T.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(k.addStandardDisposableListener(this._overviewDomElement,"mousedown",me=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(me)})),this._renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new Z(Se,pe),this._modifiedEditorState=new Z(Se,pe),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new F.ElementSizeObserver(this._containerDomElement,ne.dimension,()=>this._onDidContainerSizeChanged())),ne.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(ne,ce.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(ne,ce.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=new l.DiffReview(this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._enableSplitViewResizing=!0,typeof ne.enableSplitViewResizing!="undefined"&&(this._enableSplitViewResizing=ne.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new Q(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new le(this._createDataSource(),this._enableSplitViewResizing)),this._register(De.onDidColorThemeChange(me=>{this._strategy&&this._strategy.applyColors(me)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=je._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)}));const ye=R.EditorExtensionsRegistry.getDiffEditorContributions();for(const me of ye)try{this._register(Le.createInstance(me.ctor,this))}catch(ve){(0,P.onUnexpectedError)(ve)}this._codeEditorService.addDiffEditor(this)}_setState(Y){this._state!==Y&&(this._state=Y,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(Y,ne){let ce="monaco-diff-editor monaco-editor-background ";return ne&&(ce+="side-by-side "),ce+=(0,N.getThemeTypeSelector)(Y.type),ce}_recreateOverviewRulers(){!this._renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(Y,ne){const ce=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(Y),ne);this._register(ce.onDidScrollChange(be=>{this._isHandlingScrollEvent||!be.scrollTopChanged&&!be.scrollLeftChanged&&!be.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:be.scrollLeft,scrollTop:be.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(ce.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(ce.onDidChangeConfiguration(be=>{!ce.getModel()||(be.hasChanged(41)&&this._updateDecorationsRunner.schedule(),be.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(ce.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const pe=this._contextKeyService.createKey("isInDiffLeftEditor",ce.hasWidgetFocus());return this._register(ce.onDidFocusEditorWidget(()=>pe.set(!0))),this._register(ce.onDidBlurEditorWidget(()=>pe.set(!1))),this._register(ce.onDidContentSizeChange(be=>{const Ee=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+je.ONE_OVERVIEW_WIDTH,Le=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Le,contentWidth:Ee,contentHeightChanged:be.contentHeightChanged,contentWidthChanged:be.contentWidthChanged})})),ce}_createRightHandSideEditor(Y,ne){const ce=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(Y),ne);this._register(ce.onDidScrollChange(be=>{this._isHandlingScrollEvent||!be.scrollTopChanged&&!be.scrollLeftChanged&&!be.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:be.scrollLeft,scrollTop:be.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(ce.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(ce.onDidChangeConfiguration(be=>{!ce.getModel()||(be.hasChanged(41)&&this._updateDecorationsRunner.schedule(),be.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(ce.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(ce.onDidChangeModelOptions(be=>{be.tabSize&&this._updateDecorationsRunner.schedule()}));const pe=this._contextKeyService.createKey("isInDiffRightEditor",ce.hasWidgetFocus());return this._register(ce.onDidFocusEditorWidget(()=>pe.set(!0))),this._register(ce.onDidBlurEditorWidget(()=>pe.set(!1))),this._register(ce.onDidContentSizeChange(be=>{const Ee=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+je.ONE_OVERVIEW_WIDTH,Le=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Le,contentWidth:Ee,contentHeightChanged:be.contentHeightChanged,contentWidthChanged:be.contentWidthChanged})})),ce}_createInnerEditor(Y,ne,ce,pe){return Y.createInstance(a.CodeEditorWidget,ne,ce,pe)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return n.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(Y){let ne=!1;typeof Y.renderSideBySide!="undefined"&&this._renderSideBySide!==Y.renderSideBySide&&(this._renderSideBySide=Y.renderSideBySide,ne=!0),typeof Y.maxComputationTime!="undefined"&&(this._maxComputationTime=Y.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());let ce=!1;typeof Y.ignoreTrimWhitespace!="undefined"&&this._ignoreTrimWhitespace!==Y.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=Y.ignoreTrimWhitespace,ce=!0),typeof Y.renderIndicators!="undefined"&&this._renderIndicators!==Y.renderIndicators&&(this._renderIndicators=Y.renderIndicators,ce=!0),ce&&this._beginUpdateDecorations(),this._originalIsEditable=(0,c.boolean)(Y.originalEditable,this._originalIsEditable),this._diffCodeLens=(0,c.boolean)(Y.diffCodeLens,this._diffCodeLens),this._diffWordWrap=K(Y.diffWordWrap,this._diffWordWrap),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(Y)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(Y)),typeof Y.enableSplitViewResizing!="undefined"&&(this._enableSplitViewResizing=Y.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),ne&&(this._renderSideBySide?this._setStrategy(new Q(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new le(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=je._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)),typeof Y.renderOverviewRuler!="undefined"&&this._renderOverviewRuler!==Y.renderOverviewRuler&&(this._renderOverviewRuler=Y.renderOverviewRuler,this._renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(Y){if(Y&&(!Y.original||!Y.modified))throw new Error(Y.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(Y?Y.original:null),this._modifiedEditor.setModel(Y?Y.modified:null),this._updateDecorationsRunner.cancel(),Y&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),Y&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(Y){return this._modifiedEditor.getVisibleColumnFromPosition(Y)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(Y){this._modifiedEditor.setPosition(Y)}revealLine(Y,ne=0){this._modifiedEditor.revealLine(Y,ne)}revealLineInCenter(Y,ne=0){this._modifiedEditor.revealLineInCenter(Y,ne)}revealLineInCenterIfOutsideViewport(Y,ne=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(Y,ne)}revealLineNearTop(Y,ne=0){this._modifiedEditor.revealLineNearTop(Y,ne)}revealPosition(Y,ne=0){this._modifiedEditor.revealPosition(Y,ne)}revealPositionInCenter(Y,ne=0){this._modifiedEditor.revealPositionInCenter(Y,ne)}revealPositionInCenterIfOutsideViewport(Y,ne=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(Y,ne)}revealPositionNearTop(Y,ne=0){this._modifiedEditor.revealPositionNearTop(Y,ne)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(Y){this._modifiedEditor.setSelection(Y)}setSelections(Y){this._modifiedEditor.setSelections(Y)}revealLines(Y,ne,ce=0){this._modifiedEditor.revealLines(Y,ne,ce)}revealLinesInCenter(Y,ne,ce=0){this._modifiedEditor.revealLinesInCenter(Y,ne,ce)}revealLinesInCenterIfOutsideViewport(Y,ne,ce=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(Y,ne,ce)}revealLinesNearTop(Y,ne,ce=0){this._modifiedEditor.revealLinesNearTop(Y,ne,ce)}revealRange(Y,ne=0,ce=!1,pe=!0){this._modifiedEditor.revealRange(Y,ne,ce,pe)}revealRangeInCenter(Y,ne=0){this._modifiedEditor.revealRangeInCenter(Y,ne)}revealRangeInCenterIfOutsideViewport(Y,ne=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(Y,ne)}revealRangeNearTop(Y,ne=0){this._modifiedEditor.revealRangeNearTop(Y,ne)}revealRangeNearTopIfOutsideViewport(Y,ne=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(Y,ne)}revealRangeAtTop(Y,ne=0){this._modifiedEditor.revealRangeAtTop(Y,ne)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const Y=this._originalEditor.saveViewState(),ne=this._modifiedEditor.saveViewState();return{original:Y,modified:ne}}restoreViewState(Y){if(Y&&Y.original&&Y.modified){const ne=Y;this._originalEditor.restoreViewState(ne.original),this._modifiedEditor.restoreViewState(ne.modified)}}layout(Y){this._elementSizeObserver.observe(Y)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(Y,ne,ce){this._modifiedEditor.trigger(Y,ne,ce)}changeDecorations(Y){return this._modifiedEditor.changeDecorations(Y)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const Y=this._elementSizeObserver.getHeight(),ne=this._getReviewHeight(),ce=je.ENTIRE_DIFF_OVERVIEW_WIDTH-2*je.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:je.ONE_OVERVIEW_WIDTH,right:ce+je.ONE_OVERVIEW_WIDTH,height:Y-ne}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:je.ONE_OVERVIEW_WIDTH,height:Y-ne}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),je.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(Y,ne){return!Y&&!ne?!0:!Y||!ne?!1:Y.toString()===ne.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const Y=this._originalEditor.getModel(),ne=this._modifiedEditor.getModel();if(!Y||!ne)return;this._diffComputationToken++;const ce=this._diffComputationToken;if(this._setState(1),!this._editorWorkerService.canComputeDiff(Y.uri,ne.uri)){(!je._equals(Y.uri,this._lastOriginalWarning)||!je._equals(ne.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=Y.uri,this._lastModifiedWarning=ne.uri,this._notificationService.warn(b.localize(2,null)));return}this._editorWorkerService.computeDiff(Y.uri,ne.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then(pe=>{ce===this._diffComputationToken&&Y===this._originalEditor.getModel()&&ne===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=pe,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},pe=>{ce===this._diffComputationToken&&Y===this._originalEditor.getModel()&&ne===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const Y=this._diffComputationResult?this._diffComputationResult.changes:[],ne=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),ce=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),pe=this._strategy.getEditorsDiffDecorations(Y,this._ignoreTrimWhitespace,this._renderIndicators,ne,ce);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,pe.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,pe.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(Y){const ne=Object.assign({},Y);return ne.inDiffEditor=!0,ne.automaticLayout=!1,ne.scrollbar=Object.assign({},ne.scrollbar||{}),ne.scrollbar.vertical="visible",ne.folding=!1,ne.codeLens=this._diffCodeLens,ne.fixedOverflowWidgets=!0,ne.minimap=Object.assign({},ne.minimap||{}),ne.minimap.enabled=!1,ne}_adjustOptionsForLeftHandSide(Y){const ne=this._adjustOptionsForSubEditor(Y);return this._renderSideBySide?ne.wordWrapOverride1=this._diffWordWrap:ne.wordWrapOverride1="off",Y.originalAriaLabel&&(ne.ariaLabel=Y.originalAriaLabel),ne.readOnly=!this._originalIsEditable,ne.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},ne),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(Y){const ne=this._adjustOptionsForSubEditor(Y);return Y.modifiedAriaLabel&&(ne.ariaLabel=Y.modifiedAriaLabel),ne.wordWrapOverride1=this._diffWordWrap,ne.revealHorizontalRightPadding=c.EditorOptions.revealHorizontalRightPadding.defaultValue+je.ENTIRE_DIFF_OVERVIEW_WIDTH,ne.scrollbar.verticalHasArrows=!1,ne.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},ne),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const Y=this._elementSizeObserver.getWidth(),ne=this._elementSizeObserver.getHeight(),ce=this._getReviewHeight(),pe=this._strategy.layout();this._originalDomNode.style.width=pe+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=Y-pe+"px",this._modifiedDomNode.style.left=pe+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=ne-ce+"px",this._overviewDomElement.style.width=je.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=Y-je.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(je.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:pe,height:ne-ce}),this._modifiedEditor.layout({width:Y-pe-(this._renderOverviewRuler?je.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:ne-ce}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(ne-ce,Y,ce),this._layoutOverviewViewport()}_layoutOverviewViewport(){const Y=this._computeOverviewViewport();Y?(this._overviewViewportDomElement.setTop(Y.top),this._overviewViewportDomElement.setHeight(Y.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const Y=this._modifiedEditor.getLayoutInfo();if(!Y)return null;const ne=this._modifiedEditor.getScrollTop(),ce=this._modifiedEditor.getScrollHeight(),pe=Math.max(0,Y.height),be=Math.max(0,pe-2*0),Ee=ce>0?be/ce:0,Le=Math.max(0,Math.floor(Y.height*Ee)),Te=Math.floor(ne*Ee);return{height:Le,top:Te}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(Y){this._strategy&&this._strategy.dispose(),this._strategy=Y,Y.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(Y,ne){const ce=this._diffComputationResult?this._diffComputationResult.changes:[];if(ce.length===0||Y<ne(ce[0]))return null;let pe=0,be=ce.length-1;for(;pe<be;){const Ee=Math.floor((pe+be)/2),Le=ne(ce[Ee]),Te=Ee+1<=be?ne(ce[Ee+1]):1073741824;Y<Le?be=Ee-1:Y>=Te?pe=Ee+1:(pe=Ee,be=Ee)}return ce[pe]}_getEquivalentLineForOriginalLineNumber(Y){const ne=this._getLineChangeAtOrBeforeLineNumber(Y,Te=>Te.originalStartLineNumber);if(!ne)return Y;const ce=ne.originalStartLineNumber+(ne.originalEndLineNumber>0?-1:0),pe=ne.modifiedStartLineNumber+(ne.modifiedEndLineNumber>0?-1:0),be=ne.originalEndLineNumber>0?ne.originalEndLineNumber-ne.originalStartLineNumber+1:0,Ee=ne.modifiedEndLineNumber>0?ne.modifiedEndLineNumber-ne.modifiedStartLineNumber+1:0,Le=Y-ce;return Le<=be?pe+Math.min(Le,Ee):pe+Ee-be+Le}_getEquivalentLineForModifiedLineNumber(Y){const ne=this._getLineChangeAtOrBeforeLineNumber(Y,Te=>Te.modifiedStartLineNumber);if(!ne)return Y;const ce=ne.originalStartLineNumber+(ne.originalEndLineNumber>0?-1:0),pe=ne.modifiedStartLineNumber+(ne.modifiedEndLineNumber>0?-1:0),be=ne.originalEndLineNumber>0?ne.originalEndLineNumber-ne.originalStartLineNumber+1:0,Ee=ne.modifiedEndLineNumber>0?ne.modifiedEndLineNumber-ne.modifiedStartLineNumber+1:0,Le=Y-pe;return Le<=Ee?ce+Math.min(Le,be):ce+be-Ee+Le}getDiffLineInformationForOriginal(Y){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(Y)}:null}getDiffLineInformationForModified(Y){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(Y)}:null}};ue.ONE_OVERVIEW_WIDTH=15,ue.ENTIRE_DIFF_OVERVIEW_WIDTH=30,ue.UPDATE_DIFF_DECORATIONS_DELAY=200,ue=Re([Ce(3,O.IClipboardService),Ce(4,t.IEditorWorkerService),Ce(5,w.IContextKeyService),Ce(6,g.IInstantiationService),Ce(7,r.ICodeEditorService),Ce(8,N.IThemeService),Ce(9,_.INotificationService),Ce(10,I.IContextMenuService),Ce(11,A.IEditorProgressService)],ue),e.DiffEditorWidget=ue;class q extends C.Disposable{constructor(Y){super();this._dataSource=Y,this._insertColor=null,this._removeColor=null}applyColors(Y){const ne=(Y.getColor(D.diffInserted)||D.defaultInsertColor).transparent(2),ce=(Y.getColor(D.diffRemoved)||D.defaultRemoveColor).transparent(2),pe=!ne.equals(this._insertColor)||!ce.equals(this._removeColor);return this._insertColor=ne,this._removeColor=ce,pe}getEditorsDiffDecorations(Y,ne,ce,pe,be){be=be.sort((De,Me)=>De.afterLineNumber-Me.afterLineNumber),pe=pe.sort((De,Me)=>De.afterLineNumber-Me.afterLineNumber);const Ee=this._getViewZones(Y,pe,be,ce),Le=this._getOriginalEditorDecorations(Y,ne,ce),Te=this._getModifiedEditorDecorations(Y,ne,ce);return{original:{decorations:Le.decorations,overviewZones:Le.overviewZones,zones:Ee.original},modified:{decorations:Te.decorations,overviewZones:Te.overviewZones,zones:Ee.modified}}}}class B{constructor(Y){this._source=Y,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class j{constructor(Y,ne,ce,pe,be){this._lineChanges=Y,this._originalForeignVZ=ne,this._modifiedForeignVZ=ce,this._originalEditor=pe,this._modifiedEditor=be}static _getViewLineCount(Y,ne,ce){const pe=Y.getModel(),be=Y._getViewModel();if(pe&&be){const Ee=U(pe,be,ne,ce);return Ee.endLineNumber-Ee.startLineNumber+1}return ce-ne+1}getViewZones(){const Y=this._originalEditor.getOption(57),ne=this._modifiedEditor.getOption(57),ce=this._originalEditor.getOption(130).wrappingColumn!==-1,pe=this._modifiedEditor.getOption(130).wrappingColumn!==-1,be=ce||pe,Ee=this._originalEditor.getModel(),Le=this._originalEditor._getViewModel().coordinatesConverter,Te=this._modifiedEditor._getViewModel().coordinatesConverter,De={original:[],modified:[]};let Me=0,Se=0,we=0,ye=0,me=0,ve=0;const ge=(Oe,Fe)=>Oe.afterLineNumber-Fe.afterLineNumber,fe=(Oe,Fe)=>{if(Fe.domNode===null&&Oe.length>0){const Pe=Oe[Oe.length-1];if(Pe.afterLineNumber===Fe.afterLineNumber&&Pe.domNode===null){Pe.heightInLines+=Fe.heightInLines;return}}Oe.push(Fe)},_e=new B(this._modifiedForeignVZ),ke=new B(this._originalForeignVZ);let Ne=1,Ae=1;for(let Oe=0,Fe=this._lineChanges.length;Oe<=Fe;Oe++){const Pe=Oe<Fe?this._lineChanges[Oe]:null;Pe!==null?(we=Pe.originalStartLineNumber+(Pe.originalEndLineNumber>0?-1:0),ye=Pe.modifiedStartLineNumber+(Pe.modifiedEndLineNumber>0?-1:0),Se=Pe.originalEndLineNumber>0?j._getViewLineCount(this._originalEditor,Pe.originalStartLineNumber,Pe.originalEndLineNumber):0,Me=Pe.modifiedEndLineNumber>0?j._getViewLineCount(this._modifiedEditor,Pe.modifiedStartLineNumber,Pe.modifiedEndLineNumber):0,me=Math.max(Pe.originalStartLineNumber,Pe.originalEndLineNumber),ve=Math.max(Pe.modifiedStartLineNumber,Pe.modifiedEndLineNumber)):(we+=1e7+Se,ye+=1e7+Me,me=we,ve=ye);let xe=[],Be=[];if(be){let We;Pe?Pe.originalEndLineNumber>0?We=Pe.originalStartLineNumber-Ne:We=Pe.modifiedStartLineNumber-Ae:We=Ee.getLineCount()-Ne;for(let He=0;He<We;He++){const Ve=Ne+He,Ue=Ae+He,Ze=Le.getModelLineViewLineCount(Ve),$e=Te.getModelLineViewLineCount(Ue);Ze<$e?xe.push({afterLineNumber:Ve,heightInLines:$e-Ze,domNode:null,marginDomNode:null}):Ze>$e&&Be.push({afterLineNumber:Ue,heightInLines:Ze-$e,domNode:null,marginDomNode:null})}Pe&&(Ne=(Pe.originalEndLineNumber>0?Pe.originalEndLineNumber:Pe.originalStartLineNumber)+1,Ae=(Pe.modifiedEndLineNumber>0?Pe.modifiedEndLineNumber:Pe.modifiedStartLineNumber)+1)}for(;_e.current&&_e.current.afterLineNumber<=ve;){let We;_e.current.afterLineNumber<=ye?We=we-ye+_e.current.afterLineNumber:We=me;let He=null;Pe&&Pe.modifiedStartLineNumber<=_e.current.afterLineNumber&&_e.current.afterLineNumber<=Pe.modifiedEndLineNumber&&(He=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),xe.push({afterLineNumber:We,heightInLines:_e.current.height/ne,domNode:null,marginDomNode:He}),_e.advance()}for(;ke.current&&ke.current.afterLineNumber<=me;){let We;ke.current.afterLineNumber<=we?We=ye-we+ke.current.afterLineNumber:We=ve,Be.push({afterLineNumber:We,heightInLines:ke.current.height/Y,domNode:null}),ke.advance()}if(Pe!==null&&re(Pe)){const We=this._produceOriginalFromDiff(Pe,Se,Me);We&&xe.push(We)}if(Pe!==null&&ae(Pe)){const We=this._produceModifiedFromDiff(Pe,Se,Me);We&&Be.push(We)}let ze=0,Ke=0;for(xe=xe.sort(ge),Be=Be.sort(ge);ze<xe.length&&Ke<Be.length;){const We=xe[ze],He=Be[Ke],Ve=We.afterLineNumber-we,Ue=He.afterLineNumber-ye;Ve<Ue?(fe(De.original,We),ze++):Ue<Ve?(fe(De.modified,He),Ke++):We.shouldNotShrink?(fe(De.original,We),ze++):He.shouldNotShrink?(fe(De.modified,He),Ke++):We.heightInLines>=He.heightInLines?(We.heightInLines-=He.heightInLines,Ke++):(He.heightInLines-=We.heightInLines,ze++)}for(;ze<xe.length;)fe(De.original,xe[ze]),ze++;for(;Ke<Be.length;)fe(De.modified,Be[Ke]),Ke++}return{original:j._ensureDomNodes(De.original),modified:j._ensureDomNodes(De.modified)}}static _ensureDomNodes(Y){return Y.map(ne=>(ne.domNode||(ne.domNode=he()),ne))}}function H(se,Y,ne,ce,pe){return{range:new u.Range(se,Y,ne,ce),options:pe}}const z={charDelete:d.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:d.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:d.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:d.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:d.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:d.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+N.ThemeIcon.asClassName(J),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:d.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:d.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+N.ThemeIcon.asClassName(ie),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:d.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class Q extends q{constructor(Y,ne){super(Y);this._disableSash=ne===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new L.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(ce=>this._onSashDrag(ce)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(Y){const ne=Y===!1;this._disableSash!==ne&&(this._disableSash=ne,this._sash.state=this._disableSash?0:3)}layout(Y=this._sashRatio){const ce=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ue.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let pe=Math.floor((Y||.5)*ce);const be=Math.floor(.5*ce);return pe=this._disableSash?be:pe||be,ce>Q.MINIMUM_EDITOR_WIDTH*2?(pe<Q.MINIMUM_EDITOR_WIDTH&&(pe=Q.MINIMUM_EDITOR_WIDTH),pe>ce-Q.MINIMUM_EDITOR_WIDTH&&(pe=ce-Q.MINIMUM_EDITOR_WIDTH)):pe=be,this._sashPosition!==pe&&(this._sashPosition=pe,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(Y){const ce=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ue.ENTIRE_DIFF_OVERVIEW_WIDTH:0),pe=this.layout((this._startSashPosition+(Y.currentX-Y.startX))/ce);this._sashRatio=pe/ce,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(Y){return 0}getVerticalSashLeft(Y){return this._sashPosition}getVerticalSashHeight(Y){return this._dataSource.getHeight()}_getViewZones(Y,ne,ce){const pe=this._dataSource.getOriginalEditor(),be=this._dataSource.getModifiedEditor();return new x(Y,ne,ce,pe,be).getViewZones()}_getOriginalEditorDecorations(Y,ne,ce){const pe=this._dataSource.getOriginalEditor(),be=String(this._removeColor),Ee={decorations:[],overviewZones:[]},Le=pe.getModel(),Te=pe._getViewModel();for(const De of Y)if(ae(De)){Ee.decorations.push({range:new u.Range(De.originalStartLineNumber,1,De.originalEndLineNumber,1073741824),options:ce?z.lineDeleteWithSign:z.lineDelete}),(!re(De)||!De.charChanges)&&Ee.decorations.push(H(De.originalStartLineNumber,1,De.originalEndLineNumber,1073741824,z.charDeleteWholeLine));const Me=U(Le,Te,De.originalStartLineNumber,De.originalEndLineNumber);if(Ee.overviewZones.push(new o.OverviewRulerZone(Me.startLineNumber,Me.endLineNumber,be)),De.charChanges){for(const Se of De.charChanges)if(ae(Se))if(ne)for(let we=Se.originalStartLineNumber;we<=Se.originalEndLineNumber;we++){let ye,me;we===Se.originalStartLineNumber?ye=Se.originalStartColumn:ye=Le.getLineFirstNonWhitespaceColumn(we),we===Se.originalEndLineNumber?me=Se.originalEndColumn:me=Le.getLineLastNonWhitespaceColumn(we),Ee.decorations.push(H(we,ye,we,me,z.charDelete))}else Ee.decorations.push(H(Se.originalStartLineNumber,Se.originalStartColumn,Se.originalEndLineNumber,Se.originalEndColumn,z.charDelete))}}return Ee}_getModifiedEditorDecorations(Y,ne,ce){const pe=this._dataSource.getModifiedEditor(),be=String(this._insertColor),Ee={decorations:[],overviewZones:[]},Le=pe.getModel(),Te=pe._getViewModel();for(const De of Y)if(re(De)){Ee.decorations.push({range:new u.Range(De.modifiedStartLineNumber,1,De.modifiedEndLineNumber,1073741824),options:ce?z.lineInsertWithSign:z.lineInsert}),(!ae(De)||!De.charChanges)&&Ee.decorations.push(H(De.modifiedStartLineNumber,1,De.modifiedEndLineNumber,1073741824,z.charInsertWholeLine));const Me=U(Le,Te,De.modifiedStartLineNumber,De.modifiedEndLineNumber);if(Ee.overviewZones.push(new o.OverviewRulerZone(Me.startLineNumber,Me.endLineNumber,be)),De.charChanges){for(const Se of De.charChanges)if(re(Se))if(ne)for(let we=Se.modifiedStartLineNumber;we<=Se.modifiedEndLineNumber;we++){let ye,me;we===Se.modifiedStartLineNumber?ye=Se.modifiedStartColumn:ye=Le.getLineFirstNonWhitespaceColumn(we),we===Se.modifiedEndLineNumber?me=Se.modifiedEndColumn:me=Le.getLineLastNonWhitespaceColumn(we),Ee.decorations.push(H(we,ye,we,me,z.charInsert))}else Ee.decorations.push(H(Se.modifiedStartLineNumber,Se.modifiedStartColumn,Se.modifiedEndLineNumber,Se.modifiedEndColumn,z.charInsert))}}return Ee}}Q.MINIMUM_EDITOR_WIDTH=100;class x extends j{constructor(Y,ne,ce,pe,be){super(Y,ne,ce,pe,be)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(Y,ne,ce){return ce>ne?{afterLineNumber:Math.max(Y.originalStartLineNumber,Y.originalEndLineNumber),heightInLines:ce-ne,domNode:null}:null}_produceModifiedFromDiff(Y,ne,ce){return ne>ce?{afterLineNumber:Math.max(Y.modifiedStartLineNumber,Y.modifiedEndLineNumber),heightInLines:ne-ce,domNode:null}:null}}class le extends q{constructor(Y,ne){super(Y);this._decorationsLeft=Y.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(Y.getOriginalEditor().onDidLayoutChange(ce=>{this._decorationsLeft!==ce.decorationsLeft&&(this._decorationsLeft=ce.decorationsLeft,Y.relayoutEditors())}))}setEnableSplitViewResizing(Y){}_getViewZones(Y,ne,ce,pe){const be=this._dataSource.getOriginalEditor(),Ee=this._dataSource.getModifiedEditor();return new oe(Y,ne,ce,be,Ee,pe).getViewZones()}_getOriginalEditorDecorations(Y,ne,ce){const pe=String(this._removeColor),be={decorations:[],overviewZones:[]},Ee=this._dataSource.getOriginalEditor(),Le=Ee.getModel(),Te=Ee._getViewModel();for(const De of Y)if(ae(De)){be.decorations.push({range:new u.Range(De.originalStartLineNumber,1,De.originalEndLineNumber,1073741824),options:z.lineDeleteMargin});const Me=U(Le,Te,De.originalStartLineNumber,De.originalEndLineNumber);be.overviewZones.push(new o.OverviewRulerZone(Me.startLineNumber,Me.endLineNumber,pe))}return be}_getModifiedEditorDecorations(Y,ne,ce){const pe=this._dataSource.getModifiedEditor(),be=String(this._insertColor),Ee={decorations:[],overviewZones:[]},Le=pe.getModel(),Te=pe._getViewModel();for(const De of Y)if(re(De)){Ee.decorations.push({range:new u.Range(De.modifiedStartLineNumber,1,De.modifiedEndLineNumber,1073741824),options:ce?z.lineInsertWithSign:z.lineInsert});const Me=U(Le,Te,De.modifiedStartLineNumber,De.modifiedEndLineNumber);if(Ee.overviewZones.push(new o.OverviewRulerZone(Me.startLineNumber,Me.endLineNumber,be)),De.charChanges){for(const Se of De.charChanges)if(re(Se))if(ne)for(let we=Se.modifiedStartLineNumber;we<=Se.modifiedEndLineNumber;we++){let ye,me;we===Se.modifiedStartLineNumber?ye=Se.modifiedStartColumn:ye=Le.getLineFirstNonWhitespaceColumn(we),we===Se.modifiedEndLineNumber?me=Se.modifiedEndColumn:me=Le.getLineLastNonWhitespaceColumn(we),Ee.decorations.push(H(we,ye,we,me,z.charInsert))}else Ee.decorations.push(H(Se.modifiedStartLineNumber,Se.modifiedStartColumn,Se.modifiedEndLineNumber,Se.modifiedEndColumn,z.charInsert))}else Ee.decorations.push(H(De.modifiedStartLineNumber,1,De.modifiedEndLineNumber,1073741824,z.charInsertWholeLine))}return Ee}layout(){return Math.max(5,this._decorationsLeft)}}class oe extends j{constructor(Y,ne,ce,pe,be,Ee){super(Y,ne,ce,pe,be);this._originalModel=pe.getModel(),this._renderIndicators=Ee,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const Y=super.getViewZones();return this._finalize(Y),Y}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const Y=document.createElement("div");return Y.className="inline-added-margin-view-zone",Y}_produceOriginalFromDiff(Y,ne,ce){const pe=document.createElement("div");return pe.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(Y.originalStartLineNumber,Y.originalEndLineNumber),heightInLines:ce,domNode:document.createElement("div"),marginDomNode:pe}}_produceModifiedFromDiff(Y,ne,ce){const pe=document.createElement("div");pe.className=`view-lines line-delete ${W.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const be=document.createElement("div");be.className="inline-deleted-margin-view-zone";const Ee={shouldNotShrink:!0,afterLineNumber:Y.modifiedEndLineNumber===0?Y.modifiedStartLineNumber:Y.modifiedStartLineNumber-1,heightInLines:ne,minWidthInPx:0,domNode:pe,marginDomNode:be,diff:{originalStartLineNumber:Y.originalStartLineNumber,originalEndLineNumber:Y.originalEndLineNumber,modifiedStartLineNumber:Y.modifiedStartLineNumber,modifiedEndLineNumber:Y.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let Le=Y.originalStartLineNumber;Le<=Y.originalEndLineNumber;Le++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(Le),null,null);return this._pendingLineChange.push(Y),this._pendingViewZones.push(Ee),Ee}_finalize(Y){const ne=this._modifiedEditor.getOptions(),ce=this._modifiedEditor.getModel().getOptions().tabSize,pe=ne.get(41),be=ne.get(27),Ee=pe.typicalHalfwidthCharacterWidth,Le=ne.get(92),Te=this._originalModel.mightContainNonBasicASCII(),De=this._originalModel.mightContainRTL(),Me=ne.get(57),we=ne.get(129).decorationsWidth,ye=ne.get(104),me=ne.get(87),ve=ne.get(81),ge=ne.get(42),fe=this._lineBreaksComputer.finalize();let _e=0;for(let ke=0;ke<this._pendingLineChange.length;ke++){const Ne=this._pendingLineChange[ke],Ae=this._pendingViewZones[ke],Oe=Ae.domNode;i.Configuration.applyFontInfoSlow(Oe,pe);const Fe=Ae.marginDomNode;i.Configuration.applyFontInfoSlow(Fe,pe);const Pe=[];if(Ne.charChanges)for(const Ue of Ne.charChanges)ae(Ue)&&Pe.push(new y.InlineDecoration(new u.Range(Ue.originalStartLineNumber,Ue.originalStartColumn,Ue.originalEndLineNumber,Ue.originalEndColumn),"char-delete",0));const xe=Pe.length>0,Be=(0,s.createStringBuilder)(1e4);let ze=0,Ke=0,We=null;for(let Ue=Ne.originalStartLineNumber;Ue<=Ne.originalEndLineNumber;Ue++){const Ze=Ue-Ne.originalStartLineNumber,$e=this._originalModel.getLineTokens(Ue),Qe=$e.getLineContent(),Ye=fe[_e++],Xe=h.LineDecoration.filter(Pe,Ue,1,Qe.length+1);if(Ye){let Ge=0;for(const et of Ye.breakOffsets){const at=$e.sliceAndInflate(Ge,et,0),nt=Qe.substring(Ge,et);ze=Math.max(ze,this._renderOriginalLine(Ke++,nt,at,h.LineDecoration.extractWrapped(Xe,Ge,et),xe,Te,De,pe,be,Me,we,ye,me,ve,ge,ce,Be,Fe)),Ge=et}for(We||(We=[]);We.length<Ze;)We[We.length]=1;We[Ze]=Ye.breakOffsets.length,Ae.heightInLines+=Ye.breakOffsets.length-1;const Je=document.createElement("div");Je.className="line-delete",Y.original.push({afterLineNumber:Ue,afterColumn:0,heightInLines:Ye.breakOffsets.length-1,domNode:he(),marginDomNode:Je})}else ze=Math.max(ze,this._renderOriginalLine(Ke++,Qe,$e,Xe,xe,Te,De,pe,be,Me,we,ye,me,ve,ge,ce,Be,Fe))}ze+=Le;const He=Be.build(),Ve=de?de.createHTML(He):He;if(Oe.innerHTML=Ve,Ae.minWidthInPx=ze*Ee,We){const Ue=Ne.originalEndLineNumber-Ne.originalStartLineNumber;for(;We.length<=Ue;)We[We.length]=1}Ae.diff.viewLineCounts=We}Y.original.sort((ke,Ne)=>ke.afterLineNumber-Ne.afterLineNumber)}_renderOriginalLine(Y,ne,ce,pe,be,Ee,Le,Te,De,Me,Se,we,ye,me,ve,ge,fe,_e){fe.appendASCIIString('<div class="view-line'),be||fe.appendASCIIString(" char-delete"),fe.appendASCIIString('" style="top:'),fe.appendASCIIString(String(Y*Me)),fe.appendASCIIString('px;width:1000000px;">');const ke=y.ViewLineRenderingData.isBasicASCII(ne,Ee),Ne=y.ViewLineRenderingData.containsRTL(ne,ke,Le),Ae=(0,m.renderViewLine)(new m.RenderLineInput(Te.isMonospace&&!De,Te.canUseHalfwidthRightwardsArrow,ne,!1,ke,Ne,0,ce,pe,ge,0,Te.spaceWidth,Te.middotWidth,Te.wsmiddotWidth,we,ye,me,ve!==c.EditorFontLigatures.OFF,null),fe);if(fe.appendASCIIString("</div>"),this._renderIndicators){const Oe=document.createElement("div");Oe.className=`delete-sign ${N.ThemeIcon.asClassName(ie)}`,Oe.setAttribute("style",`position:absolute;top:${Y*Me}px;width:${Se}px;height:${Me}px;right:0;`),_e.appendChild(Oe)}return Ae.characterMapping.getAbsoluteOffset(Ae.characterMapping.length)}}function K(se,Y){return(0,c.stringSet)(se,Y,["off","on","inherit"])}function re(se){return se.modifiedEndLineNumber>0}function ae(se){return se.originalEndLineNumber>0}function he(){const se=document.createElement("div");return se.className="diagonal-fill",se}function U(se,Y,ne,ce){const pe=se.getLineCount();return ne=Math.min(pe,Math.max(1,ne)),ce=Math.min(pe,Math.max(1,ce)),Y.coordinatesConverter.convertModelRangeToViewRange(new u.Range(ne,se.getLineMinColumn(ne),ce,se.getLineMaxColumn(ce)))}(0,N.registerThemingParticipant)((se,Y)=>{const ne=se.getColor(D.diffInserted);ne&&(Y.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${ne}; }`),Y.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${ne}; }`),Y.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${ne}; }`));const ce=se.getColor(D.diffRemoved);ce&&(Y.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${ce}; }`),Y.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${ce}; }`),Y.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${ce}; }`));const pe=se.getColor(D.diffInsertedOutline);pe&&Y.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${se.type==="hc"?"dashed":"solid"} ${pe}; }`);const be=se.getColor(D.diffRemovedOutline);be&&Y.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${se.type==="hc"?"dashed":"solid"} ${be}; }`);const Ee=se.getColor(D.scrollbarShadow);Ee&&Y.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${Ee}; }`);const Le=se.getColor(D.diffBorder);Le&&Y.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Le}; }`);const Te=se.getColor(D.scrollbarSliderBackground);Te&&Y.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Te};
			}
		`);const De=se.getColor(D.scrollbarSliderHoverBackground);De&&Y.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${De};
			}
		`);const Me=se.getColor(D.scrollbarSliderActiveBackground);Me&&Y.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${Me};
			}
		`);const Se=se.getColor(D.diffDiagonalFill);Y.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${Se} 12.5%,
			#0000 12.5%, #0000 50%,
			${Se} 50%, ${Se} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(ee[672],te([0,1,483,7,44,165,107,52,15,12,2,17,8,3,147,22,11,585,27,79,349]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const o=(0,t.registerIcon)("find-selection",d.Codicon.selection,b.localize(0,null)),h=(0,t.registerIcon)("find-collapsed",d.Codicon.chevronRight,b.localize(1,null)),m=(0,t.registerIcon)("find-expanded",d.Codicon.chevronDown,b.localize(2,null));e.findReplaceIcon=(0,t.registerIcon)("find-replace",d.Codicon.replace,b.localize(3,null)),e.findReplaceAllIcon=(0,t.registerIcon)("find-replace-all",d.Codicon.replaceAll,b.localize(4,null)),e.findPreviousMatchIcon=(0,t.registerIcon)("find-previous-match",d.Codicon.arrowUp,b.localize(5,null)),e.findNextMatchIcon=(0,t.registerIcon)("find-next-match",d.Codicon.arrowDown,b.localize(6,null));const y=b.localize(7,null),w=b.localize(8,null),g=b.localize(9,null),f=b.localize(10,null),_=b.localize(11,null),D=b.localize(12,null),N=b.localize(13,null),I=b.localize(14,null),M=b.localize(15,null),O=b.localize(16,null),R=b.localize(17,null),P=b.localize(18,null,c.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=b.localize(19,null),e.NLS_NO_RESULTS=b.localize(20,null);const A=419,E=275-54;let W=69;const V=33,$="ctrlEnterReplaceAll.windows.donotask",Z=r.isMacintosh?256:2048;class X{constructor(B){this.afterLineNumber=B,this.heightInPx=V,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=X;function J(q,B,j){const H=!!B.match(/\n/);if(j&&H&&j.selectionStart>0){q.stopPropagation();return}}function ie(q,B,j){const H=!!B.match(/\n/);if(j&&H&&j.selectionEnd<j.value.length){q.stopPropagation();return}}class de extends p.Widget{constructor(B,j,H,z,Q,x,le,oe,K){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=B,this._controller=j,this._state=H,this._contextViewProvider=z,this._keybindingService=Q,this._contextKeyService=x,this._storageService=oe,this._notificationService=K,this._ctrlEnterReplaceAllWarningPrompted=!!oe.getBoolean($,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new C.Delayer(500),this._register((0,v.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(re=>this._onStateChanged(re))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(re=>{if(re.hasChanged(79)&&(this._codeEditor.getOption(79)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),re.hasChanged(129)&&this._tryUpdateWidgetWidth(),re.hasChanged(2)&&this.updateAccessibilitySupport(),re.hasChanged(33)){const ae=this._codeEditor.getOption(33).addExtraSpaceOnTop;ae&&!this._viewZone&&(this._viewZone=new X(0),this._showViewZone()),!ae&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Ie(this,void 0,void 0,function*(){if(this._isVisible){let re=yield this._controller.getGlobalBufferTerm();re&&re!==this._state.searchString&&(this._state.change({searchString:re},!1),this._findInput.select())}}))),this._findInputFocused=c.CONTEXT_FIND_INPUT_FOCUSED.bindTo(x),this._findFocusTracker=this._register(k.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=c.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(x),this._replaceFocusTracker=this._register(k.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(33).addExtraSpaceOnTop&&(this._viewZone=new X(0)),this._applyTheme(le.getColorTheme()),this._register(le.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(re=>{if(re.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return de.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(B){if(B.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(B.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),B.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),B.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(79)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=k.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(B.isRevealed||B.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),B.isRegex&&this._findInput.setRegex(this._state.isRegex),B.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),B.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),B.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),B.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),B.searchString||B.matchesCount||B.matchesPosition){let j=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",j),this._updateMatchesCount(),this._updateButtons()}(B.searchString||B.currentMatch)&&this._layoutViewZone(),B.updateHistory&&this._delayedUpdateHistory(),B.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,i.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=W+"px",this._state.matchesCount>=c.MATCHES_LIMIT?this._matchesCount.title=P:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let B;if(this._state.matchesCount>0){let j=String(this._state.matchesCount);this._state.matchesCount>=c.MATCHES_LIMIT&&(j+="+");let H=String(this._state.matchesPosition);H==="0"&&(H="?"),B=a.format(e.NLS_MATCHES_LOCATION,H,j)}else B=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(B)),(0,T.alert)(this._getAriaLabel(B,this._state.currentMatch,this._state.searchString)),W=Math.max(W,this._matchesCount.clientWidth)}_getAriaLabel(B,j,H){if(B===e.NLS_NO_RESULTS)return H===""?b.localize(21,null,B):b.localize(22,null,B,H);if(j){const z=b.localize(23,null,B,H,j.startLineNumber+":"+j.startColumn),Q=this._codeEditor.getModel();return Q&&j.startLineNumber<=Q.getLineCount()&&j.startLineNumber>=1?`${Q.getLineContent(j.startLineNumber)}, ${z}`:z}return b.localize(24,null,B,H)}_updateToggleSelectionFindButton(){let B=this._codeEditor.getSelection(),j=B?B.startLineNumber!==B.endLineNumber||B.startColumn!==B.endColumn:!1,H=this._toggleSelectionFind.checked;this._isVisible&&(H||j)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let B=this._state.searchString.length>0,j=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&B&&j&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&B&&j&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&B),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&B),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let H=!this._codeEditor.getOption(79);this._toggleReplaceBtn.setEnabled(this._isVisible&&H)}_reveal(){if(this._revealTimeouts.forEach(B=>{clearTimeout(B)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const B=this._codeEditor.getSelection();switch(this._codeEditor.getOption(33).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const H=!!B&&B.startLineNumber!==B.endLineNumber;this._toggleSelectionFind.checked=H;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let j=!0;if(this._codeEditor.getOption(33).seedSearchStringFromSelection&&B){const H=this._codeEditor.getDomNode();if(H){const z=k.getDomNodePagePosition(H),Q=this._codeEditor.getScrolledVisiblePosition(B.getStartPosition()),x=z.left+(Q?Q.left:0),le=Q?Q.top:0;if(this._viewZone&&le<this._viewZone.heightInPx){B.endLineNumber>B.startLineNumber&&(j=!1);const oe=k.getTopLeftOffset(this._domNode).left;x>oe&&(j=!1);const K=this._codeEditor.getScrolledVisiblePosition(B.getEndPosition());z.left+(K?K.left:0)>oe&&(j=!1)}}}this._showViewZone(j)}}_hide(B){this._revealTimeouts.forEach(j=>{clearTimeout(j)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),B&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(B){if(!this._codeEditor.getOption(33).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const H=this._viewZone;this._viewZoneId!==void 0||!H||this._codeEditor.changeViewZones(z=>{H.heightInPx=this._getHeight(),this._viewZoneId=z.addZone(H),this._codeEditor.setScrollTop(B||this._codeEditor.getScrollTop()+H.heightInPx)})}_showViewZone(B=!0){if(!this._isVisible||!this._codeEditor.getOption(33).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new X(0));const H=this._viewZone;this._codeEditor.changeViewZones(z=>{if(this._viewZoneId!==void 0){const Q=this._getHeight();if(Q===H.heightInPx)return;let x=Q-H.heightInPx;H.heightInPx=Q,z.layoutZone(this._viewZoneId),B&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+x);return}else{let Q=this._getHeight();if(Q-=this._codeEditor.getOption(73).top,Q<=0)return;H.heightInPx=Q,this._viewZoneId=z.addZone(H),B&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+Q)}})}_removeViewZone(){this._codeEditor.changeViewZones(B=>{this._viewZoneId!==void 0&&(B.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(B){let j={inputActiveOptionBorder:B.getColor(u.inputActiveOptionBorder),inputActiveOptionBackground:B.getColor(u.inputActiveOptionBackground),inputActiveOptionForeground:B.getColor(u.inputActiveOptionForeground),inputBackground:B.getColor(u.inputBackground),inputForeground:B.getColor(u.inputForeground),inputBorder:B.getColor(u.inputBorder),inputValidationInfoBackground:B.getColor(u.inputValidationInfoBackground),inputValidationInfoForeground:B.getColor(u.inputValidationInfoForeground),inputValidationInfoBorder:B.getColor(u.inputValidationInfoBorder),inputValidationWarningBackground:B.getColor(u.inputValidationWarningBackground),inputValidationWarningForeground:B.getColor(u.inputValidationWarningForeground),inputValidationWarningBorder:B.getColor(u.inputValidationWarningBorder),inputValidationErrorBackground:B.getColor(u.inputValidationErrorBackground),inputValidationErrorForeground:B.getColor(u.inputValidationErrorForeground),inputValidationErrorBorder:B.getColor(u.inputValidationErrorBorder)};this._findInput.style(j),this._replaceInput.style(j),this._toggleSelectionFind.style(j)}_tryUpdateWidgetWidth(){if(!this._isVisible||!k.isInDOM(this._domNode))return;const B=this._codeEditor.getLayoutInfo();if(B.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const H=B.width,z=B.minimap.minimapWidth;let Q=!1,x=!1,le=!1;if(this._resized&&k.getTotalWidth(this._domNode)>A){this._domNode.style.maxWidth=`${H-28-z-15}px`,this._replaceInput.width=k.getTotalWidth(this._findInput.domNode);return}if(A+28+z>=H&&(x=!0),A+28+z-W>=H&&(le=!0),A+28+z-W>=H+50&&(Q=!0),this._domNode.classList.toggle("collapsed-find-widget",Q),this._domNode.classList.toggle("narrow-find-widget",le),this._domNode.classList.toggle("reduced-find-widget",x),!le&&!Q&&(this._domNode.style.maxWidth=`${H-28-z-15}px`),this._resized){this._findInput.inputBox.layout();let oe=this._findInput.inputBox.element.clientWidth;oe>0&&(this._replaceInput.width=oe)}else this._isReplaceVisible&&(this._replaceInput.width=k.getTotalWidth(this._findInput.domNode))}_getHeight(){let B=0;return B+=4,B+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(B+=4,B+=this._replaceInput.inputBox.height+2),B+=4,B}_tryUpdateHeight(){const B=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===B?!1:(this._cachedHeight=B,this._domNode.style.height=`${B}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let B=this._codeEditor.getSelections();B.map(j=>{j.endColumn===1&&j.endLineNumber>j.startLineNumber&&(j=j.setEndPosition(j.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(j.endLineNumber-1)));const H=this._state.currentMatch;return j.startLineNumber!==j.endLineNumber&&!l.Range.equalsRange(j,H)?j:null}).filter(j=>!!j),B.length&&this._state.change({searchScope:B},!0)}}_onFindInputMouseDown(B){B.middleButton&&B.stopPropagation()}_onFindInputKeyDown(B){if(B.equals(Z|3)){this._findInput.inputBox.insertAtCursor(`
`),B.preventDefault();return}if(B.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),B.preventDefault();return}if(B.equals(2048|18)){this._codeEditor.focus(),B.preventDefault();return}if(B.equals(16))return J(B,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(B.equals(18))return ie(B,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(B){if(B.equals(Z|3)){r.isWindows&&r.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(b.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store($,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),B.preventDefault();return}if(B.equals(2)){this._findInput.focusOnCaseSensitive(),B.preventDefault();return}if(B.equals(1024|2)){this._findInput.focus(),B.preventDefault();return}if(B.equals(2048|18)){this._codeEditor.focus(),B.preventDefault();return}if(B.equals(16))return J(B,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(B.equals(18))return ie(B,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(B){return 0}_keybindingLabelFor(B){let j=this._keybindingService.lookupKeybinding(B);return j?` (${j.getLabel()})`:""}_buildDomNode(){const B=!0,j=!0;this._findInput=this._register(new n.ContextScopedFindInput(null,this._contextViewProvider,{width:E,label:y,placeholder:w,appendCaseSensitiveLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleRegexCommand),validation:oe=>{if(oe.length===0||!this._findInput.getRegex())return null;try{return new RegExp(oe,"gu"),null}catch(K){return{content:K.message}}},flexibleHeight:B,flexibleWidth:j,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(oe=>this._onFindInputKeyDown(oe))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(oe=>{oe.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),oe.preventDefault())})),this._register(this._findInput.onRegexKeyDown(oe=>{oe.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),oe.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(oe=>{this._tryUpdateHeight()&&this._showViewZone()})),r.isLinux&&this._register(this._findInput.onMouseDown(oe=>this._onFindInputMouseDown(oe))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new ue({label:g+this._keybindingLabelFor(c.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(c.FIND_IDS.PreviousMatchFindAction).run().then(void 0,i.onUnexpectedError)}})),this._nextBtn=this._register(new ue({label:f+this._keybindingLabelFor(c.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(c.FIND_IDS.NextMatchFindAction).run().then(void 0,i.onUnexpectedError)}}));let H=document.createElement("div");H.className="find-part",H.appendChild(this._findInput.domNode);const z=document.createElement("div");z.className="find-actions",H.appendChild(z),z.appendChild(this._matchesCount),z.appendChild(this._prevBtn.domNode),z.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new L.Checkbox({icon:o,title:_+this._keybindingLabelFor(c.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let oe=this._codeEditor.getSelections();oe.map(K=>(K.endColumn===1&&K.endLineNumber>K.startLineNumber&&(K=K.setEndPosition(K.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(K.endLineNumber-1))),K.isEmpty()?null:K)).filter(K=>!!K),oe.length&&this._state.change({searchScope:oe},!0)}}else this._state.change({searchScope:null},!0)})),z.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new ue({label:D+this._keybindingLabelFor(c.FIND_IDS.CloseFindWidgetCommand),icon:t.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:oe=>{oe.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),oe.preventDefault())}})),z.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new n.ContextScopedReplaceInput(null,void 0,{label:N,placeholder:I,appendPreserveCaseLabel:this._keybindingLabelFor(c.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:B,flexibleWidth:j,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(oe=>this._onReplaceInputKeyDown(oe))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(oe=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(oe=>{oe.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),oe.preventDefault())})),this._replaceBtn=this._register(new ue({label:M+this._keybindingLabelFor(c.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:oe=>{oe.equals(1024|2)&&(this._closeBtn.focus(),oe.preventDefault())}})),this._replaceAllBtn=this._register(new ue({label:O+this._keybindingLabelFor(c.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));let Q=document.createElement("div");Q.className="replace-part",Q.appendChild(this._replaceInput.domNode);const x=document.createElement("div");x.className="replace-actions",Q.appendChild(x),x.appendChild(this._replaceBtn.domNode),x.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new ue({label:R,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=k.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${A}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(H),this._domNode.appendChild(Q),this._resizeSash=new S.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let le=A;this._register(this._resizeSash.onDidStart(()=>{le=k.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(oe=>{this._resized=!0;let K=le+oe.startX-oe.currentX;if(K<A)return;const re=parseFloat(k.getComputedStyle(this._domNode).maxWidth)||0;K>re||(this._domNode.style.width=`${K}px`,this._isReplaceVisible&&(this._replaceInput.width=k.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const oe=k.getTotalWidth(this._domNode);if(oe<A)return;let K=A;if(!this._resized||oe===A){const re=this._codeEditor.getLayoutInfo();K=re.width-28-re.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${K}px`,this._isReplaceVisible&&(this._replaceInput.width=k.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const B=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(B!==2)}}e.FindWidget=de,de.ID="editor.contrib.findWidget";class ue extends p.Widget{constructor(B){super();this._opts=B;let j="button";this._opts.className&&(j=j+" "+this._opts.className),this._opts.icon&&(j=j+" "+s.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=j,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,H=>{this._opts.onTrigger(),H.preventDefault()}),this.onkeydown(this._domNode,H=>{if(H.equals(10)||H.equals(3)){this._opts.onTrigger(),H.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(H)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(B){this._domNode.classList.toggle("disabled",!B),this._domNode.setAttribute("aria-disabled",String(!B)),this._domNode.tabIndex=B?0:-1}setExpanded(B){this._domNode.setAttribute("aria-expanded",String(!!B)),B?(this._domNode.classList.remove(...s.ThemeIcon.asClassNameArray(h)),this._domNode.classList.add(...s.ThemeIcon.asClassNameArray(m))):(this._domNode.classList.remove(...s.ThemeIcon.asClassNameArray(m)),this._domNode.classList.add(...s.ThemeIcon.asClassNameArray(h)))}}e.SimpleButton=ue,(0,s.registerThemingParticipant)((q,B)=>{const j=(U,se)=>{se&&B.addRule(`.monaco-editor ${U} { background-color: ${se}; }`)};j(".findMatch",q.getColor(u.editorFindMatchHighlight)),j(".currentFindMatch",q.getColor(u.editorFindMatch)),j(".findScope",q.getColor(u.editorFindRangeHighlight));const H=q.getColor(u.editorWidgetBackground);j(".find-widget",H);const z=q.getColor(u.widgetShadow);z&&B.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${z}; }`);const Q=q.getColor(u.editorFindMatchHighlightBorder);Q&&B.addRule(`.monaco-editor .findMatch { border: 1px ${q.type==="hc"?"dotted":"solid"} ${Q}; box-sizing: border-box; }`);const x=q.getColor(u.editorFindMatchBorder);x&&B.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${x}; padding: 1px; box-sizing: border-box; }`);const le=q.getColor(u.editorFindRangeHighlightBorder);le&&B.addRule(`.monaco-editor .findScope { border: 1px ${q.type==="hc"?"dashed":"solid"} ${le}; }`);const oe=q.getColor(u.contrastBorder);oe&&B.addRule(`.monaco-editor .find-widget { border: 1px solid ${oe}; }`);const K=q.getColor(u.editorWidgetForeground);K&&B.addRule(`.monaco-editor .find-widget { color: ${K}; }`);const re=q.getColor(u.errorForeground);re&&B.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${re}; }`);const ae=q.getColor(u.editorWidgetResizeBorder);if(ae)B.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ae}; }`);else{const U=q.getColor(u.editorWidgetBorder);U&&B.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${U}; }`)}const he=q.getColor(u.focusBorder);he&&B.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${he}; }`)})}),define(ee[272],te([0,1,482,15,2,8,14,25,147,613,614,672,33,86,16,69,37,71,11,34]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const o=524288;function h(O,R="single",P=!1){if(!O.hasModel())return null;const A=O.getSelection();if(R==="single"&&A.startLineNumber===A.endLineNumber||R==="multiple"){if(A.isEmpty()){const F=O.getConfiguredWordAtPosition(A.getStartPosition());if(F&&P===!1)return F.word}else if(O.getModel().getValueLengthInRange(A)<o)return O.getModel().getValueInRange(A)}return null}e.getSelectionSearchString=h;let m=class jt extends T.Disposable{constructor(R,P,A,F){super();this._editor=R,this._findWidgetVisible=C.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(P),this._contextKeyService=P,this._storageService=A,this._clipboardService=F,this._updateHistoryDelayer=new k.Delayer(500),this._state=this._register(new v.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(E=>this._onStateChanged(E))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let E=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),E&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(33).loop})}))}get editor(){return this._editor}static get(R){return R.getContribution(jt.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(R){this.saveQueryState(R),R.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),R.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(R){R.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),R.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),R.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),R.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!C.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let R=this._editor.getSelections();R.map(P=>(P.endColumn===1&&P.endLineNumber>P.startLineNumber&&(P=P.setEndPosition(P.endLineNumber-1,this._editor.getModel().getLineMaxColumn(P.endLineNumber-1))),P.isEmpty()?null:P)).filter(P=>!!P),R.length&&this._state.change({searchScope:R},!0)}}setSearchString(R){this._state.isRegex&&(R=L.escapeRegExpCharacters(R)),this._state.change({searchString:R},!1)}highlightFindOptions(R=!1){}_start(R){return Ie(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let P={isRevealed:!0};if(R.seedSearchStringFromSelection==="single"){let A=h(this._editor,R.seedSearchStringFromSelection,R.seedSearchStringFromNonEmptySelection);A&&(this._state.isRegex?P.searchString=L.escapeRegExpCharacters(A):P.searchString=A)}else if(R.seedSearchStringFromSelection==="multiple"&&!R.updateSearchScope){let A=h(this._editor,R.seedSearchStringFromSelection);A&&(P.searchString=A)}if(!P.searchString&&R.seedSearchStringFromGlobalClipboard){let A=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;A&&(P.searchString=A)}if(R.forceRevealReplace?P.isReplaceRevealed=!0:this._findWidgetVisible.get()||(P.isReplaceRevealed=!1),R.updateSearchScope){let A=this._editor.getSelections();A.some(F=>!F.isEmpty())&&(P.searchScope=A)}P.loop=R.loop,this._state.change(P,!1),this._model||(this._model=new C.FindModelBoundToEditorModel(this._editor,this._state))})}start(R){return this._start(R)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Ie(this,void 0,void 0,function*(){return this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(R){this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(R)}};m.ID="editor.contrib.findController",m=Re([Ce(1,c.IContextKeyService),Ce(2,n.IStorageService),Ce(3,l.IClipboardService)],m),e.CommonFindController=m;let y=class extends m{constructor(R,P,A,F,E,W,V,$){super(R,A,V,$);this._contextViewService=P,this._keybindingService=F,this._themeService=E,this._notificationService=W,this._widget=null,this._findOptionsWidget=null}_start(R){const P=Object.create(null,{_start:{get:()=>super._start}});return Ie(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const A=this._editor.getSelection();let F=!1;switch(this._editor.getOption(33).autoFindInSelection){case"always":F=!0;break;case"never":F=!1;break;case"multiline":F=!!A&&A.startLineNumber!==A.endLineNumber;break;default:break}R.updateSearchScope=F,yield P._start.call(this,R),this._widget&&(R.shouldFocus===2?this._widget.focusReplaceInput():R.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(R=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!R?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new r.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new i.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};y=Re([Ce(1,u.IContextViewService),Ce(2,c.IContextKeyService),Ce(3,s.IKeybindingService),Ce(4,d.IThemeService),Ce(5,t.INotificationService),Ce(6,n.IStorageService),Ce(7,l.IClipboardService)],y),e.FindController=y,e.StartFindAction=(0,S.registerMultiEditorAction)(new S.MultiEditorAction({id:C.FIND_IDS.StartFindAction,label:b.localize(0,null),alias:"Find",precondition:c.ContextKeyExpr.or(p.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:a.MenuId.MenubarEditMenu,group:"3_find",title:b.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(O,R,P)=>{const A=m.get(R);return A?A.start({forceRevealReplace:!1,seedSearchStringFromSelection:R.getOption(33).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:R.getOption(33).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:R.getOption(33).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:R.getOption(33).loop}):!1});class w extends S.EditorAction{constructor(){super({id:C.FIND_IDS.StartFindWithSelection,label:b.localize(2,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(R,P){return Ie(this,void 0,void 0,function*(){let A=m.get(P);A&&(yield A.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:P.getOption(33).loop}),A.setGlobalBufferTerm(A.getState().searchString))})}}e.StartFindWithSelectionAction=w;class g extends S.EditorAction{run(R,P){return Ie(this,void 0,void 0,function*(){let A=m.get(P);A&&!this._run(A)&&(yield A.start({forceRevealReplace:!1,seedSearchStringFromSelection:A.getState().searchString.length===0&&P.getOption(33).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:P.getOption(33).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:P.getOption(33).loop}),this._run(A))})}}e.MatchFindAction=g;class f extends g{constructor(){super({id:C.FIND_IDS.NextMatchFindAction,label:b.localize(3,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:p.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100},{kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,C.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(R){return R.moveToNextMatch()?(R.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=f;class _ extends g{constructor(){super({id:C.FIND_IDS.PreviousMatchFindAction,label:b.localize(4,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:p.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100},{kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,C.CONTEXT_FIND_INPUT_FOCUSED),primary:1024|3,weight:100}]})}_run(R){return R.moveToPrevMatch()}}e.PreviousMatchFindAction=_;class D extends S.EditorAction{run(R,P){return Ie(this,void 0,void 0,function*(){let A=m.get(P);if(!A)return;const F=P.getOption(33).seedSearchStringFromSelection==="selection";let E=null;P.getOption(33).seedSearchStringFromSelection!=="never"&&(E=h(P,"single",F)),E&&A.setSearchString(E),this._run(A)||(yield A.start({forceRevealReplace:!1,seedSearchStringFromSelection:P.getOption(33).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:F,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:P.getOption(33).loop}),this._run(A))})}}e.SelectionMatchFindAction=D;class N extends D{constructor(){super({id:C.FIND_IDS.NextSelectionMatchFindAction,label:b.localize(5,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2048|61,weight:100}})}_run(R){return R.moveToNextMatch()}}e.NextSelectionMatchFindAction=N;class I extends D{constructor(){super({id:C.FIND_IDS.PreviousSelectionMatchFindAction,label:b.localize(6,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2048|1024|61,weight:100}})}_run(R){return R.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=I,e.StartFindReplaceAction=(0,S.registerMultiEditorAction)(new S.MultiEditorAction({id:C.FIND_IDS.StartFindReplaceAction,label:b.localize(7,null),alias:"Replace",precondition:c.ContextKeyExpr.or(p.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:a.MenuId.MenubarEditMenu,group:"3_find",title:b.localize(8,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(O,R,P)=>{if(!R.hasModel()||R.getOption(79))return!1;const A=m.get(R);if(!A)return!1;const F=R.getSelection(),E=A.isFindInputFocused(),W=!F.isEmpty()&&F.startLineNumber===F.endLineNumber&&R.getOption(33).seedSearchStringFromSelection!=="never"&&!E,V=E||W?2:1;return A.start({forceRevealReplace:!0,seedSearchStringFromSelection:W?"single":"none",seedSearchStringFromNonEmptySelection:R.getOption(33).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:R.getOption(33).seedSearchStringFromSelection!=="never",shouldFocus:V,shouldAnimate:!0,updateSearchScope:!1,loop:R.getOption(33).loop})}),(0,S.registerEditorContribution)(m.ID,y),(0,S.registerEditorAction)(w),(0,S.registerEditorAction)(f),(0,S.registerEditorAction)(_),(0,S.registerEditorAction)(N),(0,S.registerEditorAction)(I);const M=S.EditorCommand.bindToContribution(m.get);(0,S.registerEditorCommand)(new M({id:C.FIND_IDS.CloseFindWidgetCommand,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:O=>O.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,c.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1024|9]}})),(0,S.registerEditorCommand)(new M({id:C.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:O=>O.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:C.ToggleCaseSensitiveKeybinding.primary,mac:C.ToggleCaseSensitiveKeybinding.mac,win:C.ToggleCaseSensitiveKeybinding.win,linux:C.ToggleCaseSensitiveKeybinding.linux}})),(0,S.registerEditorCommand)(new M({id:C.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:O=>O.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:C.ToggleWholeWordKeybinding.primary,mac:C.ToggleWholeWordKeybinding.mac,win:C.ToggleWholeWordKeybinding.win,linux:C.ToggleWholeWordKeybinding.linux}})),(0,S.registerEditorCommand)(new M({id:C.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:O=>O.toggleRegex(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:C.ToggleRegexKeybinding.primary,mac:C.ToggleRegexKeybinding.mac,win:C.ToggleRegexKeybinding.win,linux:C.ToggleRegexKeybinding.linux}})),(0,S.registerEditorCommand)(new M({id:C.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:O=>O.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:C.ToggleSearchScopeKeybinding.primary,mac:C.ToggleSearchScopeKeybinding.mac,win:C.ToggleSearchScopeKeybinding.win,linux:C.ToggleSearchScopeKeybinding.linux}})),(0,S.registerEditorCommand)(new M({id:C.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:O=>O.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:C.TogglePreserveCaseKeybinding.primary,mac:C.TogglePreserveCaseKeybinding.mac,win:C.TogglePreserveCaseKeybinding.win,linux:C.TogglePreserveCaseKeybinding.linux}})),(0,S.registerEditorCommand)(new M({id:C.FIND_IDS.ReplaceOneAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:O=>O.replace(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:2048|1024|22}})),(0,S.registerEditorCommand)(new M({id:C.FIND_IDS.ReplaceOneAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:O=>O.replace(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,C.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,S.registerEditorCommand)(new M({id:C.FIND_IDS.ReplaceAllAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:O=>O.replaceAll(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:2048|512|3}})),(0,S.registerEditorCommand)(new M({id:C.FIND_IDS.ReplaceAllAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:O=>O.replaceAll(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,C.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2048|3}}})),(0,S.registerEditorCommand)(new M({id:C.FIND_IDS.SelectAllMatchesAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:O=>O.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:p.EditorContextKeys.focus,primary:512|3}}))}),define(ee[673],te([0,1,31,27,485,79,11]),function(G,e,b,k,T,L,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=(0,L.registerIcon)("folding-expanded",k.Codicon.chevronDown,(0,T.localize)(0,null)),e.foldingCollapsedIcon=(0,L.registerIcon)("folding-collapsed",k.Codicon.chevronRight,(0,T.localize)(1,null));class p{constructor(i){this.editor=i,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(i,v){return v?p.HIDDEN_RANGE_DECORATION:i?this.showFoldingHighlights?p.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:p.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?p.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:p.EXPANDED_VISUAL_DECORATION}deltaDecorations(i,v){return this.editor.deltaDecorations(i,v)}changeDecorations(i){return this.editor.changeDecorations(i)}}e.FoldingDecorationProvider=p,p.COLLAPSED_VISUAL_DECORATION=b.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),p.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=b.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),p.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=b.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),p.EXPANDED_VISUAL_DECORATION=b.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),p.HIDDEN_RANGE_DECORATION=b.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(ee[674],te([0,1,484,20,8,15,41,2,14,413,673,25,414,45,555,18,227,415,12,16,11,22,66,350]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const y=new t.RawContextKey("foldingEnabled",!1);let w=class Gt extends p.Disposable{constructor(ie,de){super();this.contextKeyService=de,this.localToDispose=this._register(new p.DisposableStore),this.editor=ie;const ue=this.editor.getOptions();this._isEnabled=ue.get(35),this._useFoldingProviders=ue.get(36)!=="indentation",this._unfoldOnClickAfterEndOfLine=ue.get(39),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=ue.get(38),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new v.FoldingDecorationProvider(ie),this.foldingDecorationProvider.autoHideFoldingControls=ue.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=ue.get(37),this.foldingEnabled=y.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(q=>{if(q.hasChanged(35)&&(this._isEnabled=this.editor.getOptions().get(35),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),q.hasChanged(98)||q.hasChanged(37)){const B=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=B.get(98)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=B.get(37),this.onModelContentChanged()}q.hasChanged(36)&&(this._useFoldingProviders=this.editor.getOptions().get(36)!=="indentation",this.onFoldingStrategyChanged()),q.hasChanged(39)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(39)),q.hasChanged(38)&&(this._foldingImportsByDefault=this.editor.getOptions().get(38))})),this.onModelChanged()}static get(ie){return ie.getContribution(Gt.ID)}saveViewState(){let ie=this.editor.getModel();if(!ie||!this._isEnabled||ie.isTooLargeForTokenization())return{};if(this.foldingModel){let de=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),ue=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:de,lineCount:ie.getLineCount(),provider:ue,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(ie){let de=this.editor.getModel();if(!de||!this._isEnabled||de.isTooLargeForTokenization()||!this.hiddenRangeModel||!ie||ie.lineCount!==de.getLineCount()||(this._currentModelHasFoldedImports=!!ie.foldedImports,!ie.collapsedRegions))return;(ie.provider===s.ID_SYNTAX_PROVIDER||ie.provider===n.ID_INIT_PROVIDER)&&(this.foldingStateMemento=ie);const ue=ie.collapsedRegions;if(this.hiddenRangeModel.applyMemento(ue)){const q=this.getFoldingModel();q&&q.then(B=>{if(B){this._restoringViewState=!0;try{B.applyMemento(ue)}finally{this._restoringViewState=!1}}}).then(void 0,d.onUnexpectedError)}}onModelChanged(){this.localToDispose.clear();let ie=this.editor.getModel();!this._isEnabled||!ie||ie.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new i.FoldingModel(ie,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new a.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(de=>this.onHiddenRangesChanges(de))),this.updateScheduler=new L.Delayer(200),this.cursorChangedScheduler=new L.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(u.FoldingRangeProviderRegistry.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(de=>this.onEditorMouseDown(de))),this.localToDispose.add(this.editor.onMouseUp(de=>this.onEditorMouseUp(de))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(ie){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new c.IndentRangeProvider(ie),this._useFoldingProviders&&this.foldingModel){let de=u.FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);if(de.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new n.InitializingRangeProvider(ie,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);de.length>0&&(this.rangeProvider=new s.SyntaxRangeProvider(ie,de,()=>this.onModelContentChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const ie=this.foldingModel;if(!ie)return null;const de=this.getRangeProvider(ie.textModel);let ue=this.foldingRegionPromise=(0,L.createCancelablePromise)(q=>de.compute(q));return ue.then(q=>{if(q&&ue===this.foldingRegionPromise){let B;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const z=q.setCollapsedAllOfType(u.FoldingRangeKind.Imports.value,!0);z&&(B=m.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=z)}let j=this.editor.getSelections(),H=j?j.map(z=>z.startLineNumber):[];ie.update(q,H),B&&B.restore(this.editor)}return ie})}).then(void 0,ie=>((0,d.onUnexpectedError)(ie),null)))}onHiddenRangesChanges(ie){if(this.hiddenRangeModel&&ie.length&&!this._restoringViewState){let de=this.editor.getSelections();de&&this.hiddenRangeModel.adjustSelections(de)&&this.editor.setSelections(de)}this.editor.setHiddenAreas(ie)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const ie=this.getFoldingModel();!ie||ie.then(de=>{if(de){let ue=this.editor.getSelections();if(ue&&ue.length>0){let q=[];for(let B of ue){let j=B.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(j)&&q.push(...de.getAllRegionsAtLine(j,H=>H.isCollapsed&&j>H.startLineNumber))}q.length&&(de.toggleCollapseState(q),this.reveal(ue[0].getPosition()))}}}).then(void 0,d.onUnexpectedError)}onEditorMouseDown(ie){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!ie.target||!ie.target.range||!ie.event.leftButton&&!ie.event.middleButton)return;const de=ie.target.range;let ue=!1;switch(ie.target.type){case 4:const q=ie.target.detail,B=ie.target.element.offsetLeft;if(q.offsetX-B<5)return;ue=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!ie.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let H=this.editor.getModel();if(H&&de.startColumn===H.getLineMaxColumn(de.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:de.startLineNumber,iconClicked:ue}}onEditorMouseUp(ie){const de=this.getFoldingModel();if(!de||!this.mouseDownInfo||!ie.target)return;let ue=this.mouseDownInfo.lineNumber,q=this.mouseDownInfo.iconClicked,B=ie.target.range;if(!(!B||B.startLineNumber!==ue)){if(q){if(ie.target.type!==4)return}else{let j=this.editor.getModel();if(!j||B.startColumn!==j.getLineMaxColumn(ue))return}de.then(j=>{if(j){let H=j.getRegionAtLine(ue);if(H&&H.startLineNumber===ue){let z=H.isCollapsed;if(q||z){let Q=ie.event.altKey,x=[];if(Q){let le=K=>!K.containedBy(H)&&!H.containedBy(K),oe=j.getRegionsInside(null,le);for(const K of oe)K.isCollapsed&&x.push(K);x.length===0&&(x=oe)}else{let le=ie.event.middleButton||ie.event.shiftKey;if(le)for(const oe of j.getRegionsInside(H))oe.isCollapsed===z&&x.push(oe);(z||!le||x.length===0)&&x.push(H)}j.toggleCollapseState(x),this.reveal({lineNumber:ue,column:1})}}}}).then(void 0,d.onUnexpectedError)}}reveal(ie){this.editor.revealPositionInCenterIfOutsideViewport(ie,0)}};w.ID="editor.contrib.folding",w=Re([Ce(1,t.IContextKeyService)],w),e.FoldingController=w;class g extends C.EditorAction{runEditorCommand(ie,de,ue){let q=w.get(de);if(!q)return;let B=q.getFoldingModel();if(B)return this.reportTelemetry(ie,de),B.then(j=>{if(j){this.invoke(q,j,de,ue);const H=de.getSelection();H&&q.reveal(H.getStartPosition())}})}getSelectedLines(ie){let de=ie.getSelections();return de?de.map(ue=>ue.startLineNumber):[]}getLineNumbers(ie,de){return ie&&ie.selectionLines?ie.selectionLines.map(ue=>ue+1):this.getSelectedLines(de)}run(ie,de){}}function f(J){if(!k.isUndefined(J)){if(!k.isObject(J))return!1;const ie=J;if(!k.isUndefined(ie.levels)&&!k.isNumber(ie.levels)||!k.isUndefined(ie.direction)&&!k.isString(ie.direction)||!k.isUndefined(ie.selectionLines)&&(!k.isArray(ie.selectionLines)||!ie.selectionLines.every(k.isNumber)))return!1}return!0}class _ extends g{constructor(){super({id:"editor.unfold",label:b.localize(0,null),alias:"Unfold",precondition:y,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:f,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ie,de,ue,q){let B=q&&q.levels||1,j=this.getLineNumbers(q,ue);q&&q.direction==="up"?(0,i.setCollapseStateLevelsUp)(de,!1,B,j):(0,i.setCollapseStateLevelsDown)(de,!1,B,j)}}class D extends g{constructor(){super({id:"editor.unfoldRecursively",label:b.localize(1,null),alias:"Unfold Recursively",precondition:y,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|89),weight:100}})}invoke(ie,de,ue,q){(0,i.setCollapseStateLevelsDown)(de,!1,Number.MAX_VALUE,this.getSelectedLines(ue))}}class N extends g{constructor(){super({id:"editor.fold",label:b.localize(2,null),alias:"Fold",precondition:y,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:f,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ie,de,ue,q){let B=this.getLineNumbers(q,ue);const j=q&&q.levels,H=q&&q.direction;typeof j!="number"&&typeof H!="string"?(0,i.setCollapseStateUp)(de,!0,B):H==="up"?(0,i.setCollapseStateLevelsUp)(de,!0,j||1,B):(0,i.setCollapseStateLevelsDown)(de,!0,j||1,B)}}class I extends g{constructor(){super({id:"editor.toggleFold",label:b.localize(3,null),alias:"Toggle Fold",precondition:y,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|42),weight:100}})}invoke(ie,de,ue){let q=this.getSelectedLines(ue);(0,i.toggleCollapseState)(de,1,q)}}class M extends g{constructor(){super({id:"editor.foldRecursively",label:b.localize(4,null),alias:"Fold Recursively",precondition:y,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|87),weight:100}})}invoke(ie,de,ue){let q=this.getSelectedLines(ue);(0,i.setCollapseStateLevelsDown)(de,!0,Number.MAX_VALUE,q)}}class O extends g{constructor(){super({id:"editor.foldAllBlockComments",label:b.localize(5,null),alias:"Fold All Block Comments",precondition:y,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|85),weight:100}})}invoke(ie,de,ue){if(de.regions.hasTypes())(0,i.setCollapseStateForType)(de,u.FoldingRangeKind.Comment.value,!0);else{const q=ue.getModel();if(!q)return;let B=l.LanguageConfigurationRegistry.getComments(q.getLanguageIdentifier().id);if(B&&B.blockCommentStartToken){let j=new RegExp("^\\s*"+(0,T.escapeRegExpCharacters)(B.blockCommentStartToken));(0,i.setCollapseStateForMatchingLines)(de,j,!0)}}}}class R extends g{constructor(){super({id:"editor.foldAllMarkerRegions",label:b.localize(6,null),alias:"Fold All Regions",precondition:y,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|29),weight:100}})}invoke(ie,de,ue){if(de.regions.hasTypes())(0,i.setCollapseStateForType)(de,u.FoldingRangeKind.Region.value,!0);else{const q=ue.getModel();if(!q)return;let B=l.LanguageConfigurationRegistry.getFoldingRules(q.getLanguageIdentifier().id);if(B&&B.markers&&B.markers.start){let j=new RegExp(B.markers.start);(0,i.setCollapseStateForMatchingLines)(de,j,!0)}}}}class P extends g{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:b.localize(7,null),alias:"Unfold All Regions",precondition:y,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|30),weight:100}})}invoke(ie,de,ue){if(de.regions.hasTypes())(0,i.setCollapseStateForType)(de,u.FoldingRangeKind.Region.value,!1);else{const q=ue.getModel();if(!q)return;let B=l.LanguageConfigurationRegistry.getFoldingRules(q.getLanguageIdentifier().id);if(B&&B.markers&&B.markers.start){let j=new RegExp(B.markers.start);(0,i.setCollapseStateForMatchingLines)(de,j,!1)}}}}class A extends g{constructor(){super({id:"editor.foldAllExcept",label:b.localize(8,null),alias:"Fold All Regions Except Selected",precondition:y,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|83),weight:100}})}invoke(ie,de,ue){let q=this.getSelectedLines(ue);(0,i.setCollapseStateForRest)(de,!0,q)}}class F extends g{constructor(){super({id:"editor.unfoldAllExcept",label:b.localize(9,null),alias:"Unfold All Regions Except Selected",precondition:y,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|81),weight:100}})}invoke(ie,de,ue){let q=this.getSelectedLines(ue);(0,i.setCollapseStateForRest)(de,!1,q)}}class E extends g{constructor(){super({id:"editor.foldAll",label:b.localize(10,null),alias:"Fold All",precondition:y,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|21),weight:100}})}invoke(ie,de,ue){(0,i.setCollapseStateLevelsDown)(de,!0)}}class W extends g{constructor(){super({id:"editor.unfoldAll",label:b.localize(11,null),alias:"Unfold All",precondition:y,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|40),weight:100}})}invoke(ie,de,ue){(0,i.setCollapseStateLevelsDown)(de,!1)}}class V extends g{getFoldingLevel(){return parseInt(this.id.substr(V.ID_PREFIX.length))}invoke(ie,de,ue){(0,i.setCollapseStateAtLevel)(de,this.getFoldingLevel(),!0,this.getSelectedLines(ue))}}V.ID_PREFIX="editor.foldLevel",V.ID=J=>V.ID_PREFIX+J;class $ extends g{constructor(){super({id:"editor.gotoParentFold",label:b.localize(12,null),alias:"Go to Parent Fold",precondition:y,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ie,de,ue){let q=this.getSelectedLines(ue);if(q.length>0){let B=(0,i.getParentFoldLine)(q[0],de);B!==null&&ue.setSelection({startLineNumber:B,startColumn:1,endLineNumber:B,endColumn:1})}}}class Z extends g{constructor(){super({id:"editor.gotoPreviousFold",label:b.localize(13,null),alias:"Go to Previous Fold",precondition:y,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ie,de,ue){let q=this.getSelectedLines(ue);if(q.length>0){let B=(0,i.getPreviousFoldLine)(q[0],de);B!==null&&ue.setSelection({startLineNumber:B,startColumn:1,endLineNumber:B,endColumn:1})}}}class X extends g{constructor(){super({id:"editor.gotoNextFold",label:b.localize(14,null),alias:"Go to Next Fold",precondition:y,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ie,de,ue){let q=this.getSelectedLines(ue);if(q.length>0){let B=(0,i.getNextFoldLine)(q[0],de);B!==null&&ue.setSelection({startLineNumber:B,startColumn:1,endLineNumber:B,endColumn:1})}}}(0,C.registerEditorContribution)(w.ID,w),(0,C.registerEditorAction)(_),(0,C.registerEditorAction)(D),(0,C.registerEditorAction)(N),(0,C.registerEditorAction)(M),(0,C.registerEditorAction)(E),(0,C.registerEditorAction)(W),(0,C.registerEditorAction)(O),(0,C.registerEditorAction)(R),(0,C.registerEditorAction)(P),(0,C.registerEditorAction)(A),(0,C.registerEditorAction)(F),(0,C.registerEditorAction)(I),(0,C.registerEditorAction)($),(0,C.registerEditorAction)(Z),(0,C.registerEditorAction)(X);for(let J=1;J<=7;J++)(0,C.registerInstantiatedEditorAction)(new V({id:V.ID(J),label:b.localize(15,null,J),alias:`Fold Level ${J}`,precondition:y,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|21+J),weight:100}}));e.foldBackgroundBackground=(0,h.registerColor)("editor.foldBackground",{light:(0,h.transparent)(h.editorSelectionBackground,.3),dark:(0,h.transparent)(h.editorSelectionBackground,.3),hc:null},b.localize(16,null),!0),e.editorFoldForeground=(0,h.registerColor)("editorGutter.foldingControlForeground",{dark:h.iconForeground,light:h.iconForeground,hc:h.iconForeground},b.localize(17,null)),(0,o.registerThemingParticipant)((J,ie)=>{const de=J.getColor(e.foldBackgroundBackground);de&&ie.addRule(`.monaco-editor .folded-background { background-color: ${de}; }`);const ue=J.getColor(e.editorFoldForeground);ue&&ie.addRule(`
		.monaco-editor .cldr${o.ThemeIcon.asCSSSelector(v.foldingExpandedIcon)},
		.monaco-editor .cldr${o.ThemeIcon.asCSSSelector(v.foldingCollapsedIcon)} {
			color: ${ue} !important;
		}
		`)})}),define(ee[273],te([0,1,489,2,16,13,3,14,25,670,28,33,27,9,571,79]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let s=class ft{constructor(g,f,_,D,N){this._markerNavigationService=f,this._contextKeyService=_,this._editorService=D,this._instantiationService=N,this._sessionDispoables=new k.DisposableStore,this._editor=g,this._widgetVisible=m.bindTo(this._contextKeyService)}static get(g){return g.getContribution(ft.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(g){if(this._model&&this._model.matches(g))return this._model;let f=!1;return this._model&&(f=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(g),f&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(i.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(_=>{var D,N,I;(!((D=this._model)===null||D===void 0?void 0:D.selected)||!S.Range.containsPosition((N=this._model)===null||N===void 0?void 0:N.selected.marker,_.position))&&((I=this._model)===null||I===void 0||I.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const _=this._model.find(this._editor.getModel().uri,this._widget.position);_?this._widget.updateMarker(_.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(_=>{this._editorService.openCodeEditor({resource:_.resource,options:{pinned:!0,revealIfOpened:!0,selection:S.Range.lift(_).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(g=!0){this._cleanUp(),g&&this._editor.focus()}showAtMarker(g){if(this._editor.hasModel()){const f=this._getOrCreateModel(this._editor.getModel().uri);f.resetIndex(),f.move(!0,this._editor.getModel(),new L.Position(g.startLineNumber,g.startColumn)),f.selected&&this._widget.showAtMarker(f.selected.marker,f.selected.index,f.selected.total)}}nagivate(g,f){return Ie(this,void 0,void 0,function*(){if(this._editor.hasModel()){const _=this._getOrCreateModel(f?void 0:this._editor.getModel().uri);if(_.move(g,this._editor.getModel(),this._editor.getPosition()),!_.selected)return;if(_.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const D=yield this._editorService.openCodeEditor({resource:_.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:_.selected.marker}},this._editor);D&&(ft.get(D).close(),ft.get(D).nagivate(g,f))}else this._widget.showAtMarker(_.selected.marker,_.selected.index,_.selected.total)}})}};s.ID="editor.contrib.markerController",s=Re([Ce(1,c.IMarkerNavigationService),Ce(2,T.IContextKeyService),Ce(3,v.ICodeEditorService),Ce(4,l.IInstantiationService)],s),e.MarkerController=s;class n extends p.EditorAction{constructor(g,f,_){super(_);this._next=g,this._multiFile=f}run(g,f){return Ie(this,void 0,void 0,function*(){f.hasModel()&&s.get(f).nagivate(this._next,this._multiFile)})}}class d extends n{constructor(){super(!0,!1,{id:d.ID,label:d.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:512|66,weight:100},menuOpts:{menuId:i.MarkerNavigationWidget.TitleMenu,title:d.LABEL,icon:(0,u.registerIcon)("marker-navigation-next",a.Codicon.chevronDown,b.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=d,d.ID="editor.action.marker.next",d.LABEL=b.localize(0,null);class t extends n{constructor(){super(!1,!1,{id:t.ID,label:t.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:i.MarkerNavigationWidget.TitleMenu,title:d.LABEL,icon:(0,u.registerIcon)("marker-navigation-previous",a.Codicon.chevronUp,b.localize(3,null)),group:"navigation",order:2}})}}t.ID="editor.action.marker.prev",t.LABEL=b.localize(2,null);class o extends n{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:b.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:r.MenuId.MenubarGoMenu,title:b.localize(5,null),group:"6_problem_nav",order:1}})}}class h extends n{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:b.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:1024|66,weight:100},menuOpts:{menuId:r.MenuId.MenubarGoMenu,title:b.localize(7,null),group:"6_problem_nav",order:2}})}}(0,p.registerEditorContribution)(s.ID,s),(0,p.registerEditorAction)(d),(0,p.registerEditorAction)(t),(0,p.registerEditorAction)(o),(0,p.registerEditorAction)(h);const m=new T.RawContextKey("markersNavigationVisible",!1),y=p.EditorCommand.bindToContribution(s.get);(0,p.registerEditorCommand)(new y({id:"closeMarkersNavigation",precondition:m,handler:w=>w.close(),kbOpts:{weight:100+50,kbExpr:C.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}))}),define(ee[675],te([0,1,500,7,2,3,19,87,43,183,12,58,273,15,151,268,137,59,11,22]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const o=k.$;class h{constructor(g,f,_){this.owner=g,this.range=f,this.marker=_}isValidForHoverAnchor(g){return g.type===1&&this.range.startColumn<=g.range.startColumn&&this.range.endColumn>=g.range.endColumn}}e.MarkerHover=h;const m={type:1,filter:{include:s.CodeActionKind.QuickFix}};let y=class{constructor(g,f,_,D){this._editor=g,this._hover=f,this._markerDecorationsService=_,this._openerService=D,this.recentMarkerCodeActionsInfo=void 0}computeSync(g,f){if(!this._editor.hasModel()||g.type!==1)return[];const _=this._editor.getModel(),D=g.range.startLineNumber,N=_.getLineMaxColumn(D),I=[];for(const M of f){const O=M.range.startLineNumber===D?M.range.startColumn:1,R=M.range.endLineNumber===D?M.range.endColumn:N,P=this._markerDecorationsService.getMarker(_.uri,M);if(!P)continue;const A=new L.Range(g.range.startLineNumber,O,g.range.startLineNumber,R);I.push(new h(this,A,P))}return I}renderHoverParts(g,f,_){if(!g.length)return T.Disposable.None;const D=new T.DisposableStore;g.forEach(I=>f.appendChild(this.renderMarkerHover(I,D)));const N=g.length===1?g[0]:g.sort((I,M)=>p.MarkerSeverity.compare(I.marker.severity,M.marker.severity))[0];return this.renderMarkerStatusbar(N,_,D),D}renderMarkerHover(g,f){const _=o("div.hover-row"),D=k.append(_,o("div.marker.hover-contents")),{source:N,message:I,code:M,relatedInformation:O}=g.marker;this._editor.applyFontInfo(D);const R=k.append(D,o("span"));if(R.style.whiteSpace="pre-wrap",R.innerText=I,N||M)if(M&&typeof M!="string"){const P=o("span");if(N){const W=k.append(P,o("span"));W.innerText=N}const A=k.append(P,o("a.code-link"));A.setAttribute("href",M.target.toString()),f.add(k.addDisposableListener(A,"click",W=>{this._openerService.open(M.target,{allowCommands:!0}),W.preventDefault(),W.stopPropagation()}));const F=k.append(A,o("span"));F.innerText=M.value;const E=k.append(D,P);E.style.opacity="0.6",E.style.paddingLeft="6px"}else{const P=k.append(D,o("span"));P.style.opacity="0.6",P.style.paddingLeft="6px",P.innerText=N&&M?`${N}(${M})`:N||`(${M})`}if((0,S.isNonEmptyArray)(O))for(const{message:P,resource:A,startLineNumber:F,startColumn:E}of O){const W=k.append(D,o("div"));W.style.marginTop="8px";const V=k.append(W,o("a"));V.innerText=`${(0,C.basename)(A)}(${F}, ${E}): `,V.style.cursor="pointer",f.add(k.addDisposableListener(V,"click",Z=>{Z.stopPropagation(),Z.preventDefault(),this._openerService&&this._openerService.open(A,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:F,startColumn:E}}}).catch(v.onUnexpectedError)}));const $=k.append(W,o("span"));$.innerText=P,this._editor.applyFontInfo($)}return _}renderMarkerStatusbar(g,f,_){if((g.marker.severity===p.MarkerSeverity.Error||g.marker.severity===p.MarkerSeverity.Warning||g.marker.severity===p.MarkerSeverity.Info)&&f.addAction({label:b.localize(0,null),commandId:a.NextMarkerAction.ID,run:()=>{this._hover.hide(),a.MarkerController.get(this._editor).showAtMarker(g.marker),this._editor.focus()}}),!this._editor.getOption(79)){const D=f.append(o("div"));this.recentMarkerCodeActionsInfo&&(p.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===p.IMarkerData.makeKey(g.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(D.textContent=b.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const N=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?T.Disposable.None:_.add((0,l.disposableTimeout)(()=>D.textContent=b.localize(2,null),200));D.textContent||(D.textContent=String.fromCharCode(160));const I=this.getCodeActions(g.marker);_.add((0,T.toDisposable)(()=>I.cancel())),I.then(M=>{if(N.dispose(),this.recentMarkerCodeActionsInfo={marker:g.marker,hasCodeActions:M.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){M.dispose(),D.textContent=b.localize(3,null);return}D.style.display="none";let O=!1;_.add((0,T.toDisposable)(()=>{O||M.dispose()})),f.addAction({label:b.localize(4,null),commandId:u.QuickFixAction.Id,run:R=>{O=!0;const P=u.QuickFixController.get(this._editor),A=k.getDomNodePagePosition(R);this._hover.hide(),P.showCodeActions(m,M,{x:A.left+6,y:A.top+A.height+6})}})})}}getCodeActions(g){return(0,l.createCancelablePromise)(f=>(0,c.getCodeActions)(this._editor.getModel(),new L.Range(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn),m,n.Progress.None,f))}};y=Re([Ce(2,i.IMarkerDecorationsService),Ce(3,r.IOpenerService)],y),e.MarkerHoverParticipant=y,(0,d.registerThemingParticipant)((w,g)=>{const f=w.getColor(t.textLinkForeground);f&&g.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${f}; }`);const _=w.getColor(t.textLinkActiveForeground);_&&g.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${_}; }`)})}),define(ee[676],te([0,1,509,15,41,2,44,14,244,3,21,25,53,31,18,272,33,22,11,16]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function o($,Z){const X=Z.filter(J=>!$.find(ie=>ie.equals(J)));if(X.length>=1){const J=X.map(de=>`line ${de.viewState.position.lineNumber} column ${de.viewState.position.column}`).join(", "),ie=X.length===1?b.localize(0,null,J):b.localize(1,null,J);(0,S.status)(ie)}}class h extends p.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:b.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"3_multi",title:b.localize(3,null),order:2}})}run(Z,X,J){if(!X.hasModel())return;const ie=J&&J.logicalLine===!0,de=X._getViewModel();if(de.cursorConfig.readOnly)return;de.pushStackElement();const ue=de.getCursorStates();de.setCursorStates(J.source,3,C.CursorMoveCommands.addCursorUp(de,ue,ie)),de.revealTopMostCursor(J.source),o(ue,de.getCursorStates())}}e.InsertCursorAbove=h;class m extends p.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:b.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"3_multi",title:b.localize(5,null),order:3}})}run(Z,X,J){if(!X.hasModel())return;const ie=J&&J.logicalLine===!0,de=X._getViewModel();if(de.cursorConfig.readOnly)return;de.pushStackElement();const ue=de.getCursorStates();de.setCursorStates(J.source,3,C.CursorMoveCommands.addCursorDown(de,ue,ie)),de.revealBottomMostCursor(J.source),o(ue,de.getCursorStates())}}e.InsertCursorBelow=m;class y extends p.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:b.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"3_multi",title:b.localize(7,null),order:4}})}getCursorsForSelection(Z,X,J){if(!Z.isEmpty()){for(let ie=Z.startLineNumber;ie<Z.endLineNumber;ie++){let de=X.getLineMaxColumn(ie);J.push(new v.Selection(ie,de,ie,de))}Z.endColumn>1&&J.push(new v.Selection(Z.endLineNumber,Z.endColumn,Z.endLineNumber,Z.endColumn))}}run(Z,X){if(!X.hasModel())return;const J=X.getModel(),ie=X.getSelections(),de=X._getViewModel(),ue=de.getCursorStates();let q=[];ie.forEach(B=>this.getCursorsForSelection(B,J,q)),q.length>0&&X.setSelections(q),o(ue,de.getCursorStates())}}class w extends p.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:b.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(Z,X){if(!X.hasModel())return;const J=X.getSelections(),ie=X.getModel().getLineCount();let de=[];for(let B=J[0].startLineNumber;B<=ie;B++)de.push(new v.Selection(B,J[0].startColumn,B,J[0].endColumn));const ue=X._getViewModel(),q=ue.getCursorStates();de.length>0&&X.setSelections(de),o(q,ue.getCursorStates())}}class g extends p.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:b.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(Z,X){if(!X.hasModel())return;const J=X.getSelections();let ie=[];for(let q=J[0].startLineNumber;q>=1;q--)ie.push(new v.Selection(q,J[0].startColumn,q,J[0].endColumn));const de=X._getViewModel(),ue=de.getCursorStates();ie.length>0&&X.setSelections(ie),o(ue,de.getCursorStates())}}class f{constructor(Z,X,J){this.selections=Z,this.revealRange=X,this.revealScrollType=J}}e.MultiCursorSessionResult=f;class _{constructor(Z,X,J,ie,de,ue,q){this._editor=Z,this.findController=X,this.isDisconnectedFromFindController=J,this.searchText=ie,this.wholeWord=de,this.matchCase=ue,this.currentMatch=q}static create(Z,X){if(!Z.hasModel())return null;const J=X.getState();if(!Z.hasTextFocus()&&J.isRevealed&&J.searchString.length>0)return new _(Z,X,!1,J.searchString,J.wholeWord,J.matchCase,null);let ie=!1,de,ue;const q=Z.getSelections();q.length===1&&q[0].isEmpty()?(ie=!0,de=!0,ue=!0):(de=J.wholeWord,ue=J.matchCase);const B=Z.getSelection();let j,H=null;if(B.isEmpty()){const z=Z.getConfiguredWordAtPosition(B.getStartPosition());if(!z)return null;j=z.word,H=new v.Selection(B.startLineNumber,z.startColumn,B.startLineNumber,z.endColumn)}else j=Z.getModel().getValueInRange(B).replace(/\r\n/g,`
`);return new _(Z,X,ie,j,de,ue,H)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const Z=this._getNextMatch();if(!Z)return null;const X=this._editor.getSelections();return new f(X.concat(Z),Z,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const Z=this._getNextMatch();if(!Z)return null;const X=this._editor.getSelections();return new f(X.slice(0,X.length-1).concat(Z),Z,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ie=this.currentMatch;return this.currentMatch=null,ie}this.findController.highlightFindOptions();const Z=this._editor.getSelections(),X=Z[Z.length-1],J=this._editor.getModel().findNextMatch(this.searchText,X.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1);return J?new v.Selection(J.range.startLineNumber,J.range.startColumn,J.range.endLineNumber,J.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const Z=this._getPreviousMatch();if(!Z)return null;const X=this._editor.getSelections();return new f(X.concat(Z),Z,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const Z=this._getPreviousMatch();if(!Z)return null;const X=this._editor.getSelections();return new f(X.slice(0,X.length-1).concat(Z),Z,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ie=this.currentMatch;return this.currentMatch=null,ie}this.findController.highlightFindOptions();const Z=this._editor.getSelections(),X=Z[Z.length-1],J=this._editor.getModel().findPreviousMatch(this.searchText,X.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1);return J?new v.Selection(J.range.startLineNumber,J.range.startColumn,J.range.endLineNumber,J.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1,1073741824)):[]}}e.MultiCursorSession=_;class D extends L.Disposable{constructor(Z){super();this._sessionDispose=this._register(new L.DisposableStore),this._editor=Z,this._ignoreSelectionChange=!1,this._session=null}static get(Z){return Z.getContribution(D.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(Z){if(!this._session){const X=_.create(this._editor,Z);if(!X)return;this._session=X;const J={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(J.wholeWordOverride=1,J.matchCaseOverride=1,J.isRegexOverride=2),Z.getState().change(J,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(ie=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(Z.getState().onFindReplaceStateChange(ie=>{(ie.matchCase||ie.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const Z={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(Z,!1)}this._session=null}_setSelections(Z){this._ignoreSelectionChange=!0,this._editor.setSelections(Z),this._ignoreSelectionChange=!1}_expandEmptyToWord(Z,X){if(!X.isEmpty())return X;const J=this._editor.getConfiguredWordAtPosition(X.getStartPosition());return J?new v.Selection(X.startLineNumber,J.startColumn,X.startLineNumber,J.endColumn):X}_applySessionResult(Z){!Z||(this._setSelections(Z.selections),Z.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(Z.revealRange,Z.revealScrollType))}getSession(Z){return this._session}addSelectionToNextFindMatch(Z){if(!!this._editor.hasModel()){if(!this._session){const X=this._editor.getSelections();if(X.length>1){const ie=Z.getState().matchCase;if(!W(this._editor.getModel(),X,ie)){const ue=this._editor.getModel();let q=[];for(let B=0,j=X.length;B<j;B++)q[B]=this._expandEmptyToWord(ue,X[B]);this._editor.setSelections(q);return}}}this._beginSessionIfNeeded(Z),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(Z){this._beginSessionIfNeeded(Z),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(Z){this._beginSessionIfNeeded(Z),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(Z){this._beginSessionIfNeeded(Z),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(Z){if(!this._editor.hasModel())return;let X=null;const J=Z.getState();if(J.isRevealed&&J.searchString.length>0&&J.isRegex)X=this._editor.getModel().findMatches(J.searchString,!0,J.isRegex,J.matchCase,J.wholeWord?this._editor.getOption(115):null,!1,1073741824);else{if(this._beginSessionIfNeeded(Z),!this._session)return;X=this._session.selectAll()}if(J.searchScope){const ie=J.searchScope;let de=[];X.forEach(ue=>{ie.forEach(q=>{ue.range.endLineNumber<=q.endLineNumber&&ue.range.startLineNumber>=q.startLineNumber&&de.push(ue)})}),X=de}if(X.length>0){const ie=this._editor.getSelection();for(let de=0,ue=X.length;de<ue;de++){const q=X[de];if(q.range.intersectRanges(ie)){X[de]=X[0],X[0]=q;break}}this._setSelections(X.map(de=>new v.Selection(de.range.startLineNumber,de.range.startColumn,de.range.endLineNumber,de.range.endColumn)))}}}e.MultiCursorSelectionController=D,D.ID="editor.contrib.multiCursorController";class N extends p.EditorAction{run(Z,X){const J=D.get(X);if(!J)return;const ie=u.CommonFindController.get(X);if(!ie)return;const de=X._getViewModel();if(de){const ue=de.getCursorStates();this._run(J,ie),o(ue,de.getCursorStates())}}}e.MultiCursorSelectionControllerAction=N;class I extends N{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:b.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:r.EditorContextKeys.focus,primary:2048|34,weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"3_multi",title:b.localize(11,null),order:5}})}_run(Z,X){Z.addSelectionToNextFindMatch(X)}}e.AddSelectionToNextFindMatchAction=I;class M extends N{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:b.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"3_multi",title:b.localize(13,null),order:6}})}_run(Z,X){Z.addSelectionToPreviousFindMatch(X)}}e.AddSelectionToPreviousFindMatchAction=M;class O extends N{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:b.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:r.EditorContextKeys.focus,primary:(0,T.KeyChord)(2048|41,2048|34),weight:100}})}_run(Z,X){Z.moveSelectionToNextFindMatch(X)}}e.MoveSelectionToNextFindMatchAction=O;class R extends N{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:b.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(Z,X){Z.moveSelectionToPreviousFindMatch(X)}}e.MoveSelectionToPreviousFindMatchAction=R;class P extends N{constructor(){super({id:"editor.action.selectHighlights",label:b.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:r.EditorContextKeys.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:s.MenuId.MenubarSelectionMenu,group:"3_multi",title:b.localize(17,null),order:7}})}_run(Z,X){Z.selectAll(X)}}e.SelectHighlightsAction=P;class A extends N{constructor(){super({id:"editor.action.changeAll",label:b.localize(18,null),alias:"Change All Occurrences",precondition:t.ContextKeyExpr.and(r.EditorContextKeys.writable,r.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(Z,X){Z.selectAll(X)}}e.CompatChangeAll=A;class F{constructor(Z,X,J,ie){this.searchText=Z,this.matchCase=X,this.wordSeparators=J,this.modelVersionId=ie}static softEquals(Z,X){return!Z&&!X?!0:!Z||!X?!1:Z.searchText===X.searchText&&Z.matchCase===X.matchCase&&Z.wordSeparators===X.wordSeparators&&Z.modelVersionId===X.modelVersionId}}class E extends L.Disposable{constructor(Z){super();this.editor=Z,this._isEnabled=Z.getOption(96),this.decorations=[],this.updateSoon=this._register(new k.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(Z.onDidChangeConfiguration(X=>{this._isEnabled=Z.getOption(96)})),this._register(Z.onDidChangeCursorSelection(X=>{!this._isEnabled||(X.selection.isEmpty()?X.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(Z.onDidChangeModel(X=>{this._setState(null)})),this._register(Z.onDidChangeModelContent(X=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(u.CommonFindController.get(Z).getState().onFindReplaceStateChange(X=>{this._update()}))}_update(){this._setState(E._createState(this._isEnabled,this.editor))}static _createState(Z,X){if(!Z||!X.hasModel())return null;const J=X.getSelection();if(J.startLineNumber!==J.endLineNumber)return null;const ie=D.get(X);if(!ie)return null;const de=u.CommonFindController.get(X);if(!de)return null;let ue=ie.getSession(de);if(!ue){const j=X.getSelections();if(j.length>1){const z=de.getState().matchCase;if(!W(X.getModel(),j,z))return null}ue=_.create(X,de)}if(!ue||ue.currentMatch||/^[ \t]+$/.test(ue.searchText)||ue.searchText.length>200)return null;const q=de.getState(),B=q.matchCase;if(q.isRevealed){let j=q.searchString;B||(j=j.toLowerCase());let H=ue.searchText;if(B||(H=H.toLowerCase()),j===H&&ue.matchCase===q.matchCase&&ue.wholeWord===q.wholeWord&&!q.isRegex)return null}return new F(ue.searchText,ue.matchCase,ue.wholeWord?X.getOption(115):null,X.getModel().getVersionId())}_setState(Z){if(F.softEquals(this.state,Z)){this.state=Z;return}if(this.state=Z,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;const X=this.editor.getModel();if(X.isTooLargeForTokenization())return;const J=c.DocumentHighlightProviderRegistry.has(X)&&this.editor.getOption(70);let ie=X.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(B=>B.range);ie.sort(i.Range.compareRangesUsingStarts);let de=this.editor.getSelections();de.sort(i.Range.compareRangesUsingStarts);let ue=[];for(let B=0,j=0,H=ie.length,z=de.length;B<H;){const Q=ie[B];if(j>=z)ue.push(Q),B++;else{const x=i.Range.compareRangesUsingStarts(Q,de[j]);x<0?((de[j].isEmpty()||!i.Range.areIntersecting(Q,de[j]))&&ue.push(Q),B++):(x>0||B++,j++)}}const q=ue.map(B=>({range:B,options:J?E._SELECTION_HIGHLIGHT:E._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,q)}dispose(){this._setState(null),super.dispose()}}e.SelectionHighlighter=E,E.ID="editor.contrib.selectionHighlighter",E._SELECTION_HIGHLIGHT_OVERVIEW=l.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,d.themeColorFromId)(n.overviewRulerSelectionHighlightForeground),position:a.OverviewRulerLane.Center}}),E._SELECTION_HIGHLIGHT=l.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"});function W($,Z,X){const J=V($,Z[0],!X);for(let ie=1,de=Z.length;ie<de;ie++){const ue=Z[ie];if(ue.isEmpty())return!1;const q=V($,ue,!X);if(J!==q)return!1}return!0}function V($,Z,X){const J=$.getValueInRange(Z);return X?J.toLowerCase():J}(0,p.registerEditorContribution)(D.ID,D),(0,p.registerEditorContribution)(E.ID,E),(0,p.registerEditorAction)(h),(0,p.registerEditorAction)(m),(0,p.registerEditorAction)(y),(0,p.registerEditorAction)(I),(0,p.registerEditorAction)(M),(0,p.registerEditorAction)(O),(0,p.registerEditorAction)(R),(0,p.registerEditorAction)(P),(0,p.registerEditorAction)(A),(0,p.registerEditorAction)(w),(0,p.registerEditorAction)(g)}),define(ee[677],te([0,1,7,44,61,6,2,57,145,188,511,16,58,22,11,561,8,27,20,100,79,357]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const h=b.$,m=(0,o.registerIcon)("parameter-hints-next",n.Codicon.chevronDown,v.localize(0,null)),y=(0,o.registerIcon)("parameter-hints-previous",n.Codicon.chevronUp,v.localize(1,null));let w=class Zt extends S.Disposable{constructor(f,_,D,N){super();this.editor=f,this.renderDisposeables=this._register(new S.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new C.MarkdownRenderer({editor:f},N,D)),this.model=this._register(new u.ParameterHintsModel(f)),this.keyVisible=i.Context.Visible.bindTo(_),this.keyMultipleSignatures=i.Context.MultipleSignatures.bindTo(_),this._register(this.model.onChangedHints(I=>{I?(this.show(),this.render(I)):this.hide()}))}createParameterHintDOMNodes(){const f=h(".editor-widget.parameter-hints-widget"),_=b.append(f,h(".phwrapper"));_.tabIndex=-1;const D=b.append(_,h(".controls")),N=b.append(D,h(".button"+c.ThemeIcon.asCSSSelector(y))),I=b.append(D,h(".overloads")),M=b.append(D,h(".button"+c.ThemeIcon.asCSSSelector(m)));this._register(b.addDisposableListener(N,"click",E=>{b.EventHelper.stop(E),this.previous()})),this._register(b.addDisposableListener(M,"click",E=>{b.EventHelper.stop(E),this.next()}));const O=h(".body"),R=new T.DomScrollableElement(O,{});this._register(R),_.appendChild(R.getDomNode());const P=b.append(O,h(".signature")),A=b.append(O,h(".docs"));f.style.userSelect="text",this.domNodes={element:f,signature:P,overloads:I,docs:A,scrollbar:R},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(E=>{this.visible&&this.editor.layoutContentWidget(this)}));const F=()=>{if(!this.domNodes)return;const E=this.editor.getOption(41);this.domNodes.element.style.fontSize=`${E.fontSize}px`};F(),this._register(L.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(E=>E.hasChanged(41)).on(F,null)),this._register(this.editor.onDidLayoutChange(E=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(f){var _;if(this.renderDisposeables.clear(),!this.domNodes)return;const D=f.signatures.length>1;this.domNodes.element.classList.toggle("multiple",D),this.keyMultipleSignatures.set(D),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const N=f.signatures[f.activeSignature];if(!N)return;const I=b.append(this.domNodes.signature,h(".code")),M=this.editor.getOption(41);I.style.fontSize=`${M.fontSize}px`,I.style.fontFamily=M.fontFamily;const O=N.parameters.length>0,R=(_=N.activeParameter)!==null&&_!==void 0?_:f.activeParameter;if(O)this.renderParameters(I,N,R);else{const F=b.append(I,h("span"));F.textContent=N.label}const P=N.parameters[R];if(P==null?void 0:P.documentation){const F=h("span.documentation");if(typeof P.documentation=="string")F.textContent=P.documentation;else{const E=this.renderMarkdownDocs(P.documentation);F.appendChild(E.element)}b.append(this.domNodes.docs,h("p",{},F))}if(N.documentation!==void 0)if(typeof N.documentation=="string")b.append(this.domNodes.docs,h("p",{},N.documentation));else{const F=this.renderMarkdownDocs(N.documentation);b.append(this.domNodes.docs,F.element)}const A=this.hasDocs(N,P);if(this.domNodes.signature.classList.toggle("has-docs",A),this.domNodes.docs.classList.toggle("empty",!A),this.domNodes.overloads.textContent=String(f.activeSignature+1).padStart(f.signatures.length.toString().length,"0")+"/"+f.signatures.length,P){const F=this.getParameterLabel(N,R);this.announcedLabel!==F&&(k.alert(v.localize(2,null,F)),this.announcedLabel=F)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(f){const _=this.renderDisposeables.add(this.markdownRenderer.render(f,{asyncRenderCallback:()=>{var D;(D=this.domNodes)===null||D===void 0||D.scrollbar.scanDomNode()}}));return _.element.classList.add("markdown-docs"),_}hasDocs(f,_){return!!(_&&typeof _.documentation=="string"&&(0,d.assertIsDefined)(_.documentation).length>0||_&&typeof _.documentation=="object"&&(0,d.assertIsDefined)(_.documentation).value.length>0||f.documentation&&typeof f.documentation=="string"&&(0,d.assertIsDefined)(f.documentation).length>0||f.documentation&&typeof f.documentation=="object"&&(0,d.assertIsDefined)(f.documentation.value).length>0)}renderParameters(f,_,D){const[N,I]=this.getParameterLabelOffsets(_,D),M=document.createElement("span");M.textContent=_.label.substring(0,N);const O=document.createElement("span");O.textContent=_.label.substring(N,I),O.className="parameter active";const R=document.createElement("span");R.textContent=_.label.substring(I),b.append(f,M,O,R)}getParameterLabel(f,_){const D=f.parameters[_];return Array.isArray(D.label)?f.label.substring(D.label[0],D.label[1]):D.label}getParameterLabelOffsets(f,_){const D=f.parameters[_];if(D){if(Array.isArray(D.label))return D.label;if(D.label.length){const N=new RegExp(`(\\W|^)${(0,s.escapeRegExpCharacters)(D.label)}(?=\\W|$)`,"g");N.test(f.label);const I=N.lastIndex-D.label.length;return I>=0?[I,N.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Zt.ID}trigger(f){this.model.trigger(f,0)}updateMaxHeight(){if(!this.domNodes)return;const _=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=_;const D=this.domNodes.element.getElementsByClassName("phwrapper");D.length&&(D[0].style.maxHeight=_)}};w.ID="editor.widget.parameterHintsWidget",w=Re([Ce(1,r.IContextKeyService),Ce(2,a.IOpenerService),Ce(3,p.IModeService)],w),e.ParameterHintsWidget=w,(0,c.registerThemingParticipant)((g,f)=>{const _=g.getColor(l.editorHoverBorder);if(_){const O=g.type===t.ColorScheme.HIGH_CONTRAST?2:1;f.addRule(`.monaco-editor .parameter-hints-widget { border: ${O}px solid ${_}; }`),f.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${_.transparent(.5)}; }`),f.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${_.transparent(.5)}; }`)}const D=g.getColor(l.editorHoverBackground);D&&f.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${D}; }`);const N=g.getColor(l.textLinkForeground);N&&f.addRule(`.monaco-editor .parameter-hints-widget a { color: ${N}; }`);const I=g.getColor(l.editorHoverForeground);I&&f.addRule(`.monaco-editor .parameter-hints-widget { color: ${I}; }`);const M=g.getColor(l.textCodeBlockBackground);M&&f.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${M}; }`)})}),define(ee[678],te([0,1,510,2,9,25,16,14,677,188,18]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let r=class Yt extends k.Disposable{constructor(s,n){super();this.editor=s,this.widget=this._register(n.createInstance(C.ParameterHintsWidget,this.editor))}static get(s){return s.getContribution(Yt.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(s){this.widget.trigger(s)}};r.ID="editor.controller.parameterHints",r=Re([Ce(1,T.IInstantiationService)],r);class a extends p.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:b.localize(0,null),alias:"Trigger Parameter Hints",precondition:L.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:2048|1024|10,weight:100}})}run(s,n){const d=r.get(n);d&&d.trigger({triggerKind:v.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=a,(0,p.registerEditorContribution)(r.ID,r),(0,p.registerEditorAction)(a);const l=100+75,c=p.EditorCommand.bindToContribution(r.get);(0,p.registerEditorCommand)(new c({id:"closeParameterHints",precondition:i.Context.Visible,handler:u=>u.cancel(),kbOpts:{weight:l,kbExpr:L.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,p.registerEditorCommand)(new c({id:"showPrevParameterHint",precondition:S.ContextKeyExpr.and(i.Context.Visible,i.Context.MultipleSignatures),handler:u=>u.previous(),kbOpts:{weight:l,kbExpr:L.EditorContextKeys.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),(0,p.registerEditorCommand)(new c({id:"showNextParameterHint",precondition:S.ContextKeyExpr.and(i.Context.Visible,i.Context.MultipleSignatures),handler:u=>u.next(),kbOpts:{weight:l,kbExpr:L.EditorContextKeys.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))}),define(ee[679],te([0,1,524,67,2,7,11,57,18,179,576,36,24,240,19,257,27,6,79]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function o(w){return`suggest-aria-id:${w}`}e.getAriaId=o,e.suggestMoreInfoIcon=(0,d.registerIcon)("suggest-more-info",s.Codicon.chevronRight,b.localize(0,null));const h=new(t=class mt{extract(g,f){if(g.textLabel.match(mt._regexStrict))return f[0]=g.textLabel,!0;if(g.completion.detail&&g.completion.detail.match(mt._regexStrict))return f[0]=g.completion.detail,!0;if(typeof g.completion.documentation=="string"){const _=mt._regexRelaxed.exec(g.completion.documentation);if(_&&(_.index===0||_.index+_[0].length===g.completion.documentation.length))return f[0]=_[0],!0}return!1}},t._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,t._regexStrict=new RegExp(`^${t._regexRelaxed.source}$`,"i"),t);let m=class{constructor(g,f,_,D){this._editor=g,this._modelService=f,this._modeService=_,this._themeService=D,this._onDidToggleDetails=new n.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(g){const f=Object.create(null);f.disposables=new T.DisposableStore,f.root=g,f.root.classList.add("show-file-icons"),f.icon=(0,L.append)(g,(0,L.$)(".icon")),f.colorspan=(0,L.append)(f.icon,(0,L.$)("span.colorspan"));const _=(0,L.append)(g,(0,L.$)(".contents")),D=(0,L.append)(_,(0,L.$)(".main"));f.iconContainer=(0,L.append)(D,(0,L.$)(".icon-label.codicon")),f.left=(0,L.append)(D,(0,L.$)("span.left")),f.right=(0,L.append)(D,(0,L.$)("span.right")),f.iconLabel=new i.IconLabel(f.left,{supportHighlights:!0,supportIcons:!0}),f.disposables.add(f.iconLabel),f.parametersLabel=(0,L.append)(f.left,(0,L.$)("span.signature-label")),f.qualifierLabel=(0,L.append)(f.left,(0,L.$)("span.qualifier-label")),f.detailsLabel=(0,L.append)(f.right,(0,L.$)("span.details-label")),f.readMore=(0,L.append)(f.right,(0,L.$)("span.readMore"+S.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),f.readMore.title=b.localize(1,null);const N=()=>{const I=this._editor.getOptions(),M=I.get(41),O=M.fontFamily,R=M.fontFeatureSettings,P=I.get(106)||M.fontSize,A=I.get(107)||M.lineHeight,F=M.fontWeight,E=`${P}px`,W=`${A}px`;f.root.style.fontSize=E,f.root.style.fontWeight=F,D.style.fontFamily=O,D.style.fontFeatureSettings=R,D.style.lineHeight=W,f.icon.style.height=W,f.icon.style.width=W,f.readMore.style.height=W,f.readMore.style.width=W};return N(),f.disposables.add(this._editor.onDidChangeConfiguration(I=>{(I.hasChanged(41)||I.hasChanged(106)||I.hasChanged(107))&&N()})),f}renderElement(g,f,_){const{completion:D}=g;_.root.id=o(f),_.colorspan.style.backgroundColor="";const N={labelEscapeNewLines:!0,matches:(0,k.createMatches)(g.score)};let I=[];if(D.kind===19&&h.extract(g,I))_.icon.className="icon customcolor",_.iconContainer.className="icon hide",_.colorspan.style.backgroundColor=I[0];else if(D.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){_.icon.className="icon hide",_.iconContainer.className="icon hide";const M=(0,v.getIconClasses)(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:g.textLabel}),l.FileKind.FILE),O=(0,v.getIconClasses)(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:D.detail}),l.FileKind.FILE);N.extraClasses=M.length>O.length?M:O}else D.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(_.icon.className="icon hide",_.iconContainer.className="icon hide",N.extraClasses=(0,c.flatten)([(0,v.getIconClasses)(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:g.textLabel}),l.FileKind.FOLDER),(0,v.getIconClasses)(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:D.detail}),l.FileKind.FOLDER)])):(_.icon.className="icon hide",_.iconContainer.className="",_.iconContainer.classList.add("suggest-icon",...(0,C.completionKindToCssClass)(D.kind).split(" ")));D.tags&&D.tags.indexOf(1)>=0&&(N.extraClasses=(N.extraClasses||[]).concat(["deprecated"]),N.matches=[]),_.iconLabel.setLabel(g.textLabel,void 0,N),typeof D.label=="string"?(_.parametersLabel.textContent="",_.detailsLabel.textContent=y(D.detail||""),_.root.classList.add("string-label")):(_.parametersLabel.textContent=y(D.label.detail||""),_.detailsLabel.textContent=y(D.label.description||""),_.root.classList.remove("string-label")),this._editor.getOption(105).showInlineDetails?(0,L.show)(_.detailsLabel):(0,L.hide)(_.detailsLabel),(0,u.canExpandCompletionItem)(g)?(_.right.classList.add("can-expand-details"),(0,L.show)(_.readMore),_.readMore.onmousedown=M=>{M.stopPropagation(),M.preventDefault()},_.readMore.onclick=M=>{M.stopPropagation(),M.preventDefault(),this._onDidToggleDetails.fire()}):(_.right.classList.remove("can-expand-details"),(0,L.hide)(_.readMore),_.readMore.onmousedown=null,_.readMore.onclick=null)}disposeTemplate(g){g.disposables.dispose()}};m=Re([Ce(1,r.IModelService),Ce(2,p.IModeService),Ce(3,S.IThemeService)],m),e.ItemRenderer=m;function y(w){return w.replace(/\r\n|\r|\n/g,"")}}),define(ee[680],te([0,1,522,8,7,6,12,2,108,16,123,122,11,22,71,15,9,257,664,679,235,150,102,361,130,262]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetHighlightFocusForeground=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetSelectedIconForeground=e.editorSuggestWidgetSelectedForeground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=(0,l.registerColor)("editorSuggestWidget.background",{dark:l.editorWidgetBackground,light:l.editorWidgetBackground,hc:l.editorWidgetBackground},b.localize(0,null)),e.editorSuggestWidgetBorder=(0,l.registerColor)("editorSuggestWidget.border",{dark:l.editorWidgetBorder,light:l.editorWidgetBorder,hc:l.editorWidgetBorder},b.localize(1,null)),e.editorSuggestWidgetForeground=(0,l.registerColor)("editorSuggestWidget.foreground",{dark:l.editorForeground,light:l.editorForeground,hc:l.editorForeground},b.localize(2,null)),e.editorSuggestWidgetSelectedForeground=(0,l.registerColor)("editorSuggestWidget.selectedForeground",{dark:l.quickInputListFocusForeground,light:l.quickInputListFocusForeground,hc:l.quickInputListFocusForeground},b.localize(3,null)),e.editorSuggestWidgetSelectedIconForeground=(0,l.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:l.quickInputListFocusIconForeground,light:l.quickInputListFocusIconForeground,hc:l.quickInputListFocusIconForeground},b.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,l.registerColor)("editorSuggestWidget.selectedBackground",{dark:l.quickInputListFocusBackground,light:l.quickInputListFocusBackground,hc:l.quickInputListFocusBackground},b.localize(5,null)),e.editorSuggestWidgetHighlightForeground=(0,l.registerColor)("editorSuggestWidget.highlightForeground",{dark:l.listHighlightForeground,light:l.listHighlightForeground,hc:l.listHighlightForeground},b.localize(6,null)),e.editorSuggestWidgetHighlightFocusForeground=(0,l.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:l.listFocusHighlightForeground,light:l.listFocusHighlightForeground,hc:l.listFocusHighlightForeground},b.localize(7,null));class y{constructor(_,D){this._service=_,this._key=`suggestWidget.size/${D.getEditorType()}/${D instanceof h.EmbeddedCodeEditorWidget}`}restore(){var _;const D=(_=this._service.get(this._key,0))!==null&&_!==void 0?_:"";try{const N=JSON.parse(D);if(T.Dimension.is(N))return T.Dimension.lift(N)}catch(N){}}store(_){this._service.store(this._key,JSON.stringify(_),0,1)}reset(){this._service.remove(this._key,0)}}let w=class yt{constructor(_,D,N,I,M){this.editor=_,this._storageService=D,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new u.TimeoutTimer,this._disposables=new p.DisposableStore,this._onDidSelect=new L.Emitter,this._onDidFocus=new L.Emitter,this._onDidHide=new L.Emitter,this._onDidShow=new L.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new L.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new o.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new g(this,_),this._persistedSize=new y(D,_);class O{constructor(V,$,Z=!1,X=!1){this.persistedSize=V,this.currentSize=$,this.persistHeight=Z,this.persistWidth=X}}let R;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),R=new O(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(W=>{var V,$,Z,X;if(this._resize(W.dimension.width,W.dimension.height),R&&(R.persistHeight=R.persistHeight||!!W.north||!!W.south,R.persistWidth=R.persistWidth||!!W.east||!!W.west),!!W.done){if(R){const{itemHeight:J,defaultSize:ie}=this.getLayoutInfo(),de=Math.round(J/2);let{width:ue,height:q}=this.element.size;(!R.persistHeight||Math.abs(R.currentSize.height-q)<=de)&&(q=($=(V=R.persistedSize)===null||V===void 0?void 0:V.height)!==null&&$!==void 0?$:ie.height),(!R.persistWidth||Math.abs(R.currentSize.width-ue)<=de)&&(ue=(X=(Z=R.persistedSize)===null||Z===void 0?void 0:Z.width)!==null&&X!==void 0?X:ie.width),this._persistedSize.store(new T.Dimension(ue,q))}this._contentWidget.unlockPreference(),R=void 0}})),this._messageElement=T.append(this.element.domNode,T.$(".message")),this._listElement=T.append(this.element.domNode,T.$(".tree"));const P=M.createInstance(n.SuggestDetailsWidget,this.editor);P.onDidClose(this.toggleDetails,this,this._disposables),this._details=new n.SuggestDetailsOverlay(P,this.editor);const A=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(105).showIcons);A();const F=M.createInstance(t.ItemRenderer,this.editor);this._disposables.add(F),this._disposables.add(F.onDidToggleDetails(()=>this.toggleDetails())),this._list=new C.List("SuggestWidget",this._listElement,{getHeight:W=>this.getLayoutInfo().itemHeight,getTemplateId:W=>"suggestion"},[F],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:W=>{if(W.isResolved&&this._isDetailsVisible()){const{documentation:V,detail:$}=W.completion,Z=k.format("{0}{1}",$||"",V?typeof V=="string"?V:V.value:"");return b.localize(10,null,W.textLabel,Z)}else return W.textLabel},getWidgetAriaLabel:()=>b.localize(11,null),getWidgetRole:()=>"listbox"}}),this._status=M.createInstance(d.SuggestWidgetStatus,this.element.domNode);const E=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(105).showStatusBar);E(),this._disposables.add((0,r.attachListStyler)(this._list,I,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:l.activeContrastBorder})),this._disposables.add(I.onDidColorThemeChange(W=>this._onThemeChange(W))),this._onThemeChange(I.getColorTheme()),this._disposables.add(this._list.onMouseDown(W=>this._onListMouseDownOrTap(W))),this._disposables.add(this._list.onTap(W=>this._onListMouseDownOrTap(W))),this._disposables.add(this._list.onDidChangeSelection(W=>this._onListSelection(W))),this._disposables.add(this._list.onDidChangeFocus(W=>this._onListFocus(W))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(W=>{W.hasChanged(105)&&(E(),A())})),this._ctxSuggestWidgetVisible=v.Context.Visible.bindTo(N),this._ctxSuggestWidgetDetailsVisible=v.Context.DetailsVisible.bindTo(N),this._ctxSuggestWidgetMultipleSuggestions=v.Context.MultipleSuggestions.bindTo(N),this._disposables.add(T.addStandardDisposableListener(this._details.widget.domNode,"keydown",W=>{this._onDetailsKeydown.fire(W)})),this._disposables.add(this.editor.onMouseDown(W=>this._onEditorMouseDown(W)))}dispose(){var _;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(_=this._loadingTimeout)===null||_===void 0||_.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(_){this._details.widget.domNode.contains(_.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(_.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(_){typeof _.element=="undefined"||typeof _.index=="undefined"||(_.browserEvent.preventDefault(),_.browserEvent.stopPropagation(),this._select(_.element,_.index))}_onListSelection(_){_.elements.length&&this._select(_.elements[0],_.indexes[0])}_select(_,D){const N=this._completionModel;N&&(this._onDidSelect.fire({item:_,index:D,model:N}),this.editor.focus())}_onThemeChange(_){const D=_.getColor(e.editorSuggestWidgetBackground);D&&(this.element.domNode.style.backgroundColor=D.toString(),this._messageElement.style.backgroundColor=D.toString(),this._details.widget.domNode.style.backgroundColor=D.toString());const N=_.getColor(e.editorSuggestWidgetBorder);N&&(this.element.domNode.style.borderColor=N.toString(),this._messageElement.style.borderColor=N.toString(),this._status.element.style.borderTopColor=N.toString(),this._details.widget.domNode.style.borderColor=N.toString(),this._detailsBorderColor=N.toString());const I=_.getColor(l.focusBorder);I&&(this._detailsFocusBorderColor=I.toString()),this._details.widget.borderWidth=_.type==="hc"?2:1}_onListFocus(_){var D;if(this._ignoreFocusEvents)return;if(!_.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const N=_.elements[0],I=_.indexes[0];N!==this._focusedItem&&((D=this._currentSuggestionDetails)===null||D===void 0||D.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=N,this._list.reveal(I),this._currentSuggestionDetails=(0,u.createCancelablePromise)(M=>Ie(this,void 0,void 0,function*(){const O=(0,u.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);M.onCancellationRequested(()=>O.dispose());const R=yield N.resolve(M);return O.dispose(),R})),this._currentSuggestionDetails.then(()=>{I>=this._list.length||N!==this._list.element(I)||(this._ignoreFocusEvents=!0,this._list.splice(I,1,[N]),this._list.setFocus([I]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,t.getAriaId)(I)}))}).catch(S.onUnexpectedError)),this._onDidFocus.fire({item:N,index:I,model:this._completionModel})}_setState(_){if(this._state!==_)switch(this._state=_,this.element.domNode.classList.toggle("frozen",_===4),this.element.domNode.classList.remove("message"),_){case 0:T.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=yt.LOADING_MESSAGE,T.hide(this._listElement,this._status.element),T.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=yt.NO_SUGGESTIONS_MESSAGE,T.hide(this._listElement,this._status.element),T.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:T.hide(this._messageElement),T.show(this._listElement,this._status.element),this._show();break;case 4:T.hide(this._messageElement),T.show(this._listElement,this._status.element),this._show();break;case 5:T.hide(this._messageElement),T.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(_,D){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!_,this._isAuto||(this._loadingTimeout=(0,u.disposableTimeout)(()=>this._setState(1),D)))}showSuggestions(_,D,N,I){var M,O;if(this._contentWidget.setPosition(this.editor.getPosition()),(M=this._loadingTimeout)===null||M===void 0||M.dispose(),(O=this._currentSuggestionDetails)===null||O===void 0||O.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==_&&(this._completionModel=_),N&&this._state!==2&&this._state!==0){this._setState(4);return}const R=this._completionModel.items.length,P=R===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(R>1),P){this._setState(I?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(N?4:3),this._list.reveal(D,0),this._list.setFocus([D]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,n.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(_){this._details.show(),_?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var _;(_=this._loadingTimeout)===null||_===void 0||_.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const D=this._persistedSize.restore(),N=Math.ceil(this.getLayoutInfo().itemHeight*4.3);D&&D.height<N&&this._persistedSize.store(D.with(void 0,N))}isFrozen(){return this._state===4}_afterRender(_){if(_===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(_){var D,N,I;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const M=T.getClientArea(document.body),O=this.getLayoutInfo();_||(_=O.defaultSize);let R=_.height,P=_.width;if(this._status.element.style.lineHeight=`${O.itemHeight}px`,this._state===2||this._state===1)R=O.itemHeight+O.borderHeight,P=O.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new T.Dimension(P,R),this._contentWidget.setPreference(2);else{const A=M.width-O.borderHeight-2*O.horizontalPadding;P>A&&(P=A);const F=this._completionModel?this._completionModel.stats.pLabelLen*O.typicalHalfwidthCharacterWidth:P,E=O.statusBarHeight+this._list.contentHeight+O.borderHeight,W=O.itemHeight+O.statusBarHeight,V=T.getDomNodePagePosition(this.editor.getDomNode()),$=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),Z=V.top+$.top+$.height,X=Math.min(M.height-Z-O.verticalPadding,E),J=Math.min(V.top+$.top-O.verticalPadding,E);let ie=Math.min(Math.max(J,X)+O.borderHeight,E);R===((D=this._cappedHeight)===null||D===void 0?void 0:D.capped)&&(R=this._cappedHeight.wanted),R<W&&(R=W),R>ie&&(R=ie);const de=100;R>X||this._forceRenderingAbove&&J>de?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),ie=J):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),ie=X),this.element.preferredSize=new T.Dimension(F,O.defaultSize.height),this.element.maxSize=new T.Dimension(A,ie),this.element.minSize=new T.Dimension(220,W),this._cappedHeight=R===E?{wanted:(I=(N=this._cappedHeight)===null||N===void 0?void 0:N.wanted)!==null&&I!==void 0?I:_.height,capped:R}:void 0}this._resize(P,R)}_resize(_,D){const{width:N,height:I}=this.element.maxSize;_=Math.min(N,_),D=Math.min(I,D);const{statusBarHeight:M}=this.getLayoutInfo();this._list.layout(D-M,_),this._listElement.style.height=`${D-M}px`,this.element.layout(D,_),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){const _=this.editor.getOption(41),D=(0,m.clamp)(this.editor.getOption(107)||_.lineHeight,8,1e3),N=!this.editor.getOption(105).showStatusBar||this._state===2||this._state===1?0:D,I=this._details.widget.borderWidth,M=2*I;return{itemHeight:D,statusBarHeight:N,borderWidth:I,borderHeight:M,typicalHalfwidthCharacterWidth:_.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new T.Dimension(430,N+12*D+M)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(_){this._storageService.store("expandSuggestionDocs",_,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};w.LOADING_MESSAGE=b.localize(8,null),w.NO_SUGGESTIONS_MESSAGE=b.localize(9,null),w=Re([Ce(1,c.IStorageService),Ce(2,i.IContextKeyService),Ce(3,a.IThemeService),Ce(4,s.IInstantiationService)],w),e.SuggestWidget=w;class g{constructor(_,D){this._widget=_,this._editor=D,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:_,width:D}=this._widget.element.size,{borderWidth:N,horizontalPadding:I}=this._widget.getLayoutInfo();return new T.Dimension(D+2*N+I,_+2*N)}afterRender(_){this._widget._afterRender(_)}setPreference(_){this._preferenceLocked||(this._preference=_)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(_){this._position=_}}e.SuggestContentWidget=g,(0,a.registerThemingParticipant)((f,_)=>{const D=f.getColor(e.editorSuggestWidgetHighlightForeground);D&&_.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${D}; }`);const N=f.getColor(e.editorSuggestWidgetHighlightFocusForeground);D&&_.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight { color: ${N}; }`);const I=f.getColor(e.editorSuggestWidgetForeground);I&&_.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${I}; }`);const M=f.getColor(e.editorSuggestWidgetSelectedForeground);M&&_.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused { color: ${M}; }`);const O=f.getColor(e.editorSuggestWidgetSelectedIconForeground);O&&_.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon { color: ${O}; }`);const R=f.getColor(l.textLinkForeground);R&&_.addRule(`.monaco-editor .suggest-details a { color: ${R}; }`);const P=f.getColor(l.textCodeBlockBackground);P&&_.addRule(`.monaco-editor .suggest-details code { background-color: ${P}; }`)})}),define(ee[681],te([0,1,11,79,7,6]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconsStyleSheet=void 0;function S(){const p=new L.Emitter,C=(0,k.getIconRegistry)();return C.onDidChange(()=>p.fire()),{onDidChange:p.event,getCSS(){const i={},v=a=>{let l=a.defaults;for(;b.ThemeIcon.isThemeIcon(l);){const u=C.getIcon(l.id);if(!u)return;l=u.defaults}const c=l.fontId;if(c){const u=C.getIconFont(c);if(u)return i[c]=u,`.codicon-${a.id}:before { content: '${l.fontCharacter}'; font-family: ${(0,T.asCSSPropertyValue)(c)}; }`}return`.codicon-${a.id}:before { content: '${l.fontCharacter}'; }`},r=[];for(let a of C.getIcons()){const l=v(a);l&&r.push(l)}for(let a in i){const c=i[a].definition.src.map(u=>`${(0,T.asCSSUrl)(u.location)} format('${u.format}')`).join(", ");r.push(`@font-face { src: ${c}; font-family: ${(0,T.asCSSPropertyValue)(a)}; }`)}return r.join(`
`)}}}e.getIconsStyleSheet=S}),define(ee[682],te([0,1,7,29,6,18,389,620,32,22,11,2,100,681]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeServiceImpl=void 0;const c="vs",u="vs-dark",s="hc-black",n=C.Registry.as(i.Extensions.ColorContribution),d=C.Registry.as(v.Extensions.ThemingContribution);class t{constructor(g,f){this.semanticHighlighting=!1,this.themeData=f;let _=f.base;g.length>0?(o(g)?this.id=g:this.id=_+" "+g,this.themeName=g):(this.id=_,this.themeName=_),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const g=new Map;for(let f in this.themeData.colors)g.set(f,k.Color.fromHex(this.themeData.colors[f]));if(this.themeData.inherit){let f=h(this.themeData.base);for(let _ in f.colors)g.has(_)||g.set(_,k.Color.fromHex(f.colors[_]))}this.colors=g}return this.colors}getColor(g,f){const _=this.getColors().get(g);if(_)return _;if(f!==!1)return this.getDefault(g)}getDefault(g){let f=this.defaultColors[g];return f||(f=n.resolveDefaultColor(g,this),this.defaultColors[g]=f,f)}defines(g){return Object.prototype.hasOwnProperty.call(this.getColors(),g)}get type(){switch(this.base){case c:return a.ColorScheme.LIGHT;case s:return a.ColorScheme.HIGH_CONTRAST;default:return a.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let g=[],f=[];if(this.themeData.inherit){let _=h(this.themeData.base);g=_.rules,_.encodedTokensColors&&(f=_.encodedTokensColors)}g=g.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(f=this.themeData.encodedTokensColors),this._tokenTheme=S.TokenTheme.createFromRawTokenTheme(g,f)}return this._tokenTheme}getTokenStyleMetadata(g,f,_){const N=this.tokenTheme._match([g].concat(f).join(".")).metadata,I=L.TokenMetadata.getForeground(N),M=L.TokenMetadata.getFontStyle(N);return{foreground:I,italic:Boolean(M&1),bold:Boolean(M&2),underline:Boolean(M&4)}}}function o(w){return w===c||w===u||w===s}function h(w){switch(w){case c:return p.vs;case u:return p.vs_dark;case s:return p.hc_black}}function m(w){let g=h(w);return new t(w,g)}class y extends r.Disposable{constructor(){super();this._onColorThemeChange=this._register(new T.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(c,m(c)),this._knownThemes.set(u,m(u)),this._knownThemes.set(s,m(s));const g=(0,l.getIconsStyleSheet)();this._codiconCSS=g.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(c),g.onDidChange(()=>{this._codiconCSS=g.getCSS(),this._updateCSS()}),b.addMatchMediaChangeListener("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(g){return b.isInShadowDOM(g)?this._registerShadowDomContainer(g):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=b.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),r.Disposable.None}_registerShadowDomContainer(g){const f=b.createStyleSheet(g);return f.className="monaco-colors",f.textContent=this._allCSS,this._styleElements.push(f),{dispose:()=>{for(let _=0;_<this._styleElements.length;_++)if(this._styleElements[_]===f){this._styleElements.splice(_,1);return}}}}defineTheme(g,f){if(!/^[a-z0-9\-]+$/i.test(g))throw new Error("Illegal theme name!");if(!o(f.base)&&!o(g))throw new Error("Illegal theme base!");this._knownThemes.set(g,new t(g,f)),o(g)&&this._knownThemes.forEach(_=>{_.base===g&&_.notifyBaseUpdated()}),this._theme.themeName===g&&this.setTheme(g)}getColorTheme(){return this._theme}setColorMapOverride(g){this._colorMapOverride=g,this._updateThemeOrColorMap()}setTheme(g){let f;this._knownThemes.has(g)?f=this._knownThemes.get(g):f=this._knownThemes.get(c),this._desiredTheme=f,this._updateActualTheme()}_updateActualTheme(){const g=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(s):this._desiredTheme;this._theme!==g&&(this._theme=g,this._updateThemeOrColorMap())}setAutoDetectHighContrast(g){this._autoDetectHighContrast=g,this._updateActualTheme()}_updateThemeOrColorMap(){let g=[],f={},_={addRule:N=>{f[N]||(g.push(N),f[N]=!0)}};d.getThemingParticipants().forEach(N=>N(this._theme,_,this._environment));const D=this._colorMapOverride||this._theme.tokenTheme.getColorMap();_.addRule((0,S.generateTokensCSSForColorMap)(D)),this._themeCSS=g.join(`
`),this._updateCSS(),L.TokenizationRegistry.setColorMap(D),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(g=>g.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}e.StandaloneThemeServiceImpl=y}),define(ee[154],te([0,1,9]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,b.createDecorator)("undoRedoService");class k{constructor(p,C){this.resource=p,this.elements=C}}e.ResourceEditStackSnapshot=k;class T{constructor(){this.id=T._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=T,T._ID=0,T.None=new T;class L{constructor(){this.id=L._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=L,L._ID=0,L.None=new L}),define(ee[274],te([0,1,6,2,17,12,35,31,18,146,142,38,15,23,11,70,154,92,239,46,256,250]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSemanticColoring=e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelServiceImpl=void 0;function m(P){return P.toString()}function y(P){const A=new n.StringSHA1,F=P.createSnapshot();let E;for(;E=F.read();)A.update(E);return A.digest()}class w{constructor(A,F,E){this._modelEventListeners=new k.DisposableStore,this.model=A,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(A.onWillDispose(()=>F(A))),this._modelEventListeners.add(A.onDidChangeLanguage(W=>E(A,W)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(A){this._disposeLanguageSelection(),this._languageSelection=A,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(A.languageIdentifier)),this.model.setMode(A.languageIdentifier)}}const g=T.isLinux||T.isMacintosh?1:2;class f{constructor(A,F,E,W,V,$,Z,X){this.uri=A,this.initialUndoRedoSnapshot=F,this.time=E,this.sharesUndoRedoStack=W,this.heapSize=V,this.sha1=$,this.versionId=Z,this.alternativeVersionId=X}}function _(P){return P.scheme===t.Schemas.file||P.scheme===t.Schemas.vscodeRemote||P.scheme===t.Schemas.userData||P.scheme==="fake-fs"}let D=class st extends k.Disposable{constructor(A,F,E,W,V){super();this._configurationService=A,this._resourcePropertiesService=F,this._themeService=E,this._logService=W,this._undoRedoService=V,this._onModelAdded=this._register(new b.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new b.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new b.Emitter),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new M(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new I(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(A,F){let E=S.EDITOR_MODEL_DEFAULTS.tabSize;if(A.editor&&typeof A.editor.tabSize!="undefined"){const de=parseInt(A.editor.tabSize,10);isNaN(de)||(E=de),E<1&&(E=1)}let W=E;if(A.editor&&typeof A.editor.indentSize!="undefined"&&A.editor.indentSize!=="tabSize"){const de=parseInt(A.editor.indentSize,10);isNaN(de)||(W=de),W<1&&(W=1)}let V=S.EDITOR_MODEL_DEFAULTS.insertSpaces;A.editor&&typeof A.editor.insertSpaces!="undefined"&&(V=A.editor.insertSpaces==="false"?!1:Boolean(A.editor.insertSpaces));let $=g;const Z=A.eol;Z===`\r
`?$=2:Z===`
`&&($=1);let X=S.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;A.editor&&typeof A.editor.trimAutoWhitespace!="undefined"&&(X=A.editor.trimAutoWhitespace==="false"?!1:Boolean(A.editor.trimAutoWhitespace));let J=S.EDITOR_MODEL_DEFAULTS.detectIndentation;A.editor&&typeof A.editor.detectIndentation!="undefined"&&(J=A.editor.detectIndentation==="false"?!1:Boolean(A.editor.detectIndentation));let ie=S.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;return A.editor&&typeof A.editor.largeFileOptimizations!="undefined"&&(ie=A.editor.largeFileOptimizations==="false"?!1:Boolean(A.editor.largeFileOptimizations)),{isForSimpleWidget:F,tabSize:E,indentSize:W,insertSpaces:V,detectIndentation:J,defaultEOL:$,trimAutoWhitespace:X,largeFileOptimizations:ie}}_getEOL(A,F){if(A)return this._resourcePropertiesService.getEOL(A,F);const E=this._configurationService.getValue("files.eol",{overrideIdentifier:F});return E&&typeof E=="string"&&E!=="auto"?E:T.OS===3||T.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const A=this._configurationService.getValue("files.restoreUndoStack");return typeof A=="boolean"?A:!0}getCreationOptions(A,F,E){let W=this._modelCreationOptionsByLanguageAndResource[A+F];if(!W){const V=this._configurationService.getValue("editor",{overrideIdentifier:A,resource:F}),$=this._getEOL(F,A);W=st._readModelOptions({editor:V,eol:$},E),this._modelCreationOptionsByLanguageAndResource[A+F]=W}return W}_updateModelOptions(){const A=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const F=Object.keys(this._models);for(let E=0,W=F.length;E<W;E++){const V=F[E],$=this._models[V],Z=$.model.getLanguageIdentifier().language,X=$.model.uri,J=A[Z+X],ie=this.getCreationOptions(Z,X,$.model.isForSimpleWidget);st._setModelOptionsForModel($.model,ie,J)}}static _setModelOptionsForModel(A,F,E){E&&E.defaultEOL!==F.defaultEOL&&A.getLineCount()===1&&A.setEOL(F.defaultEOL===1?0:1),!(E&&E.detectIndentation===F.detectIndentation&&E.insertSpaces===F.insertSpaces&&E.tabSize===F.tabSize&&E.indentSize===F.indentSize&&E.trimAutoWhitespace===F.trimAutoWhitespace)&&(F.detectIndentation?(A.detectIndentation(F.insertSpaces,F.tabSize),A.updateOptions({trimAutoWhitespace:F.trimAutoWhitespace})):A.updateOptions({insertSpaces:F.insertSpaces,tabSize:F.tabSize,indentSize:F.indentSize,trimAutoWhitespace:F.trimAutoWhitespace}))}_insertDisposedModel(A){this._disposedModels.set(m(A.uri),A),this._disposedModelsHeapSize+=A.heapSize}_removeDisposedModel(A){const F=this._disposedModels.get(m(A));return F&&(this._disposedModelsHeapSize-=F.heapSize),this._disposedModels.delete(m(A)),F}_ensureDisposedModelsHeapSize(A){if(this._disposedModelsHeapSize>A){const F=[];for(this._disposedModels.forEach(E=>{E.sharesUndoRedoStack||F.push(E)}),F.sort((E,W)=>E.time-W.time);F.length>0&&this._disposedModelsHeapSize>A;){const E=F.shift();this._removeDisposedModel(E.uri),E.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(E.initialUndoRedoSnapshot)}}}_createModelData(A,F,E,W){const V=this.getCreationOptions(F.language,E,W),$=new p.TextModel(A,V,F,E,this._undoRedoService);if(E&&this._disposedModels.has(m(E))){const J=this._removeDisposedModel(E),ie=this._undoRedoService.getElements(E),de=y($)===J.sha1;if(de||J.sharesUndoRedoStack){for(const ue of ie.past)(0,d.isEditStackElement)(ue)&&ue.matchesResource(E)&&ue.setModel($);for(const ue of ie.future)(0,d.isEditStackElement)(ue)&&ue.matchesResource(E)&&ue.setModel($);this._undoRedoService.setElementsValidFlag(E,!0,ue=>(0,d.isEditStackElement)(ue)&&ue.matchesResource(E)),de&&($._overwriteVersionId(J.versionId),$._overwriteAlternativeVersionId(J.alternativeVersionId),$._overwriteInitialUndoRedoSnapshot(J.initialUndoRedoSnapshot))}else J.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(J.initialUndoRedoSnapshot)}const Z=m($.uri);if(this._models[Z])throw new Error("ModelService: Cannot add model because it already exists!");const X=new w($,J=>this._onWillDispose(J),(J,ie)=>this._onDidChangeLanguage(J,ie));return this._models[Z]=X,X}createModel(A,F,E,W=!1){let V;return F?(V=this._createModelData(A,F.languageIdentifier,E,W),this.setMode(V.model,F)):V=this._createModelData(A,i.PLAINTEXT_LANGUAGE_IDENTIFIER,E,W),this._onModelAdded.fire(V.model),V.model}setMode(A,F){if(!F)return;const E=this._models[m(A.uri)];!E||E.setLanguage(F)}getModels(){const A=[],F=Object.keys(this._models);for(let E=0,W=F.length;E<W;E++){const V=F[E];A.push(this._models[V].model)}return A}getModel(A){const F=m(A),E=this._models[F];return E?E.model:null}getSemanticTokensProviderStyling(A){return this._semanticStyling.get(A)}_onWillDispose(A){const F=m(A.uri),E=this._models[F],W=this._undoRedoService.getUriComparisonKey(A.uri)!==A.uri.toString();let V=!1,$=0;if(W||this._shouldRestoreUndoStack()&&_(A.uri)){const X=this._undoRedoService.getElements(A.uri);if(X.past.length>0||X.future.length>0){for(const J of X.past)(0,d.isEditStackElement)(J)&&J.matchesResource(A.uri)&&(V=!0,$+=J.heapSize(A.uri),J.setModel(A.uri));for(const J of X.future)(0,d.isEditStackElement)(J)&&J.matchesResource(A.uri)&&(V=!0,$+=J.heapSize(A.uri),J.setModel(A.uri))}}const Z=st.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(V)if(!W&&$>Z){const X=E.model.getInitialUndoRedoSnapshot();X!==null&&this._undoRedoService.restoreSnapshot(X)}else this._ensureDisposedModelsHeapSize(Z-$),this._undoRedoService.setElementsValidFlag(A.uri,!1,X=>(0,d.isEditStackElement)(X)&&X.matchesResource(A.uri)),this._insertDisposedModel(new f(A.uri,E.model.getInitialUndoRedoSnapshot(),Date.now(),W,$,y(A),A.getVersionId(),A.getAlternativeVersionId()));else if(!W){const X=E.model.getInitialUndoRedoSnapshot();X!==null&&this._undoRedoService.restoreSnapshot(X)}delete this._models[F],E.dispose(),delete this._modelCreationOptionsByLanguageAndResource[A.getLanguageIdentifier().language+A.uri],this._onModelRemoved.fire(A)}_onDidChangeLanguage(A,F){const E=F.oldLanguage,W=A.getLanguageIdentifier().language,V=this.getCreationOptions(E,A.uri,A.isForSimpleWidget),$=this.getCreationOptions(W,A.uri,A.isForSimpleWidget);st._setModelOptionsForModel(A,$,V),this._onModelModeChanged.fire({model:A,oldModeId:E})}};D.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,D=Re([Ce(0,r.IConfigurationService),Ce(1,v.ITextResourcePropertiesService),Ce(2,c.IThemeService),Ce(3,u.ILogService),Ce(4,s.IUndoRedoService)],D),e.ModelServiceImpl=D,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function N(P,A,F){var E;const W=(E=F.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:P.getLanguageIdentifier().language,resource:P.uri}))===null||E===void 0?void 0:E.enabled;return typeof W=="boolean"?W:A.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=N;class I extends k.Disposable{constructor(A,F,E,W){super();this._watchers=Object.create(null),this._semanticStyling=W;const V=X=>{this._watchers[X.uri.toString()]=new R(X,F,this._semanticStyling)},$=(X,J)=>{J.dispose(),delete this._watchers[X.uri.toString()]},Z=()=>{for(let X of A.getModels()){const J=this._watchers[X.uri.toString()];N(X,F,E)?J||V(X):J&&$(X,J)}};this._register(A.onModelAdded(X=>{N(X,F,E)&&V(X)})),this._register(A.onModelRemoved(X=>{const J=this._watchers[X.uri.toString()];J&&$(X,J)})),this._register(E.onDidChangeConfiguration(X=>{X.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&Z()})),this._register(F.onDidColorThemeChange(Z))}}class M extends k.Disposable{constructor(A,F){super();this._themeService=A,this._logService=F,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(A){return this._caches.has(A)||this._caches.set(A,new o.SemanticTokensProviderStyling(A.getLegend(),this._themeService,this._logService)),this._caches.get(A)}}class O{constructor(A,F,E){this._provider=A,this.resultId=F,this.data=E}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}class R extends k.Disposable{constructor(A,F,E){super();this._isDisposed=!1,this._model=A,this._semanticStyling=E,this._fetchDocumentSemanticTokens=this._register(new a.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),R.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const W=()=>{(0,k.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const V of C.DocumentSemanticTokensProviderRegistry.all(A))typeof V.onDidChange=="function"&&this._documentProvidersChangeListeners.push(V.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};W(),this._register(C.DocumentSemanticTokensProviderRegistry.onDidChange(()=>{W(),this._fetchDocumentSemanticTokens.schedule()})),this._register(F.onDidColorThemeChange(V=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;const A=new l.CancellationTokenSource,F=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,E=(0,h.getDocumentSemanticTokens)(this._model,F,A.token);if(!E){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const{provider:W,request:V}=E;this._currentDocumentRequestCancellationTokenSource=A;const $=[],Z=this._model.onDidChangeContent(J=>{$.push(J)}),X=this._semanticStyling.get(W);V.then(J=>{this._currentDocumentRequestCancellationTokenSource=null,Z.dispose(),this._setDocumentSemanticTokens(W,J||null,X,$)},J=>{J&&(L.isPromiseCanceledError(J)||typeof J.message=="string"&&J.message.indexOf("busy")!==-1)||L.onUnexpectedError(J),this._currentDocumentRequestCancellationTokenSource=null,Z.dispose(),$.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(A,F,E,W,V){for(let $=0;$<V;$++)E[W+$]=A[F+$]}_setDocumentSemanticTokens(A,F,E,W){const V=this._currentDocumentResponse,$=()=>{W.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){A&&F&&A.releaseDocumentSemanticTokens(F.resultId);return}if(!A||!E){this._model.setSemanticTokens(null,!1);return}if(!F){this._model.setSemanticTokens(null,!0),$();return}if((0,h.isSemanticTokensEdits)(F)){if(!V){this._model.setSemanticTokens(null,!0);return}if(F.edits.length===0)F={resultId:F.resultId,data:V.data};else{let Z=0;for(const ue of F.edits)Z+=(ue.data?ue.data.length:0)-ue.deleteCount;const X=V.data,J=new Uint32Array(X.length+Z);let ie=X.length,de=J.length;for(let ue=F.edits.length-1;ue>=0;ue--){const q=F.edits[ue],B=ie-(q.start+q.deleteCount);B>0&&(R._copy(X,ie-B,J,de-B,B),de-=B),q.data&&(R._copy(q.data,0,J,de-q.data.length,q.data.length),de-=q.data.length),ie=q.start}ie>0&&R._copy(X,0,J,0,ie),F={resultId:F.resultId,data:J}}}if((0,h.isSemanticTokens)(F)){this._currentDocumentResponse=new O(A,F.resultId,F.data);const Z=(0,o.toMultilineTokens2)(F,E,this._model.getLanguageIdentifier());if(W.length>0)for(const X of W)for(const J of Z)for(const ie of X.changes)J.applyEdit(ie.range,ie.text);this._model.setSemanticTokens(Z,!0)}else this._model.setSemanticTokens(null,!0);$()}}e.ModelSemanticColoring=R,R.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300}),define(ee[683],te([0,1,7,29,6,2,46,43,150,3,31,68,615,495,9,121,153,22,11,124,118,212,154,37,353]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h,m,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class w{constructor(N,I){this._editor=N,this._model=I,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new L.DisposableStore,this._callOnModelChange=new L.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const N=this._editor.getModel();if(!!N){for(let I of this._model.references)if(I.uri.toString()===N.uri.toString()){this._addDecorations(I.parent);return}}}_addDecorations(N){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const I=[],M=[];for(let R=0,P=N.children.length;R<P;R++){let A=N.children[R];this._decorationIgnoreSet.has(A.id)||A.uri.toString()===this._editor.getModel().uri.toString()&&(I.push({range:A.range,options:w.DecorationOptions}),M.push(R))}const O=this._editor.deltaDecorations([],I);for(let R=0;R<O.length;R++)this._decorations.set(O[R],N.children[M[R]])}_onDecorationChanged(){const N=[],I=this._editor.getModel();if(!!I){for(let[M,O]of this._decorations){const R=I.getDecorationRange(M);if(!R)continue;let P=!1;if(!i.Range.equalsRange(R,O.range)){if(i.Range.spansMultipleLines(R))P=!0;else{const A=O.range.endColumn-O.range.startColumn,F=R.endColumn-R.startColumn;A!==F&&(P=!0)}P?(this._decorationIgnoreSet.add(O.id),N.push(M)):O.range=R}}for(let M=0,O=N.length;M<O;M++)this._decorations.delete(N[M]);this._editor.deltaDecorations(N,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}w.DecorationOptions=v.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class g{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(N){let I,M;try{const O=JSON.parse(N);I=O.ratio,M=O.heightInLines}catch(O){}return{ratio:I||.7,heightInLines:M||18}}}e.LayoutData=g;class f extends s.WorkbenchAsyncDataTree{}let _=class extends t.PeekViewWidget{constructor(N,I,M,O,R,P,A,F,E,W){super(N,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0},P);this._defaultTreeKeyboardSupport=I,this.layoutData=M,this._textModelResolverService=R,this._instantiationService=P,this._peekViewService=A,this._uriLabel=F,this._undoRedoService=E,this._keybindingService=W,this._disposeOnNewModel=new L.DisposableStore,this._callOnDispose=new L.DisposableStore,this._onDidSelectReference=new T.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new b.Dimension(0,0),this._applyTheme(O.getColorTheme()),this._callOnDispose.add(O.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(N,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,L.dispose)(this._preview),(0,L.dispose)(this._previewNotAvailableMessage),(0,L.dispose)(this._tree),(0,L.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(N){const I=N.getColor(t.peekViewBorder)||k.Color.transparent;this.style({arrowColor:I,frameColor:I,headerBackgroundColor:N.getColor(t.peekViewTitleBackground)||k.Color.transparent,primaryHeadingColor:N.getColor(t.peekViewTitleForeground),secondaryHeadingColor:N.getColor(t.peekViewTitleInfoForeground)})}show(N){this.editor.revealRangeInCenterIfOutsideViewport(N,0),super.show(N,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(N){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:N.ctrlKey||N.metaKey||N.altKey?"side":"open",source:"title"})}_fillBody(N){this.setCssClass("reference-zone-widget"),this._messageContainer=b.append(N,b.$("div.messages")),b.hide(this._messageContainer),this._splitView=new h.SplitView(N,{orientation:1}),this._previewContainer=b.append(N,b.$("div.preview.inline"));let I={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(C.EmbeddedCodeEditorWidget,this._previewContainer,I,this.editor),b.hide(this._previewContainer),this._previewNotAvailableMessage=new v.TextModel(l.localize(0,null),v.TextModel.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService),this._treeContainer=b.append(N,b.$("div.ref-tree.inline"));const M={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new a.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(a.StringRepresentationProvider),identityProvider:new a.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:t.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(b.addStandardDisposableListener(this._treeContainer,"keydown",R=>{R.equals(9)&&(this._keybindingService.dispatchEvent(R,R.target),R.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(f,"ReferencesWidget",this._treeContainer,new a.Delegate,[this._instantiationService.createInstance(a.FileReferencesRenderer),this._instantiationService.createInstance(a.OneReferenceRenderer)],this._instantiationService.createInstance(a.DataSource),M),this._splitView.addView({onDidChange:T.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:R=>{this._preview.layout({height:this._dim.height,width:R})}},h.Sizing.Distribute),this._splitView.addView({onDidChange:T.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:R=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${R}px`,this._tree.layout(this._dim.height,R)}},h.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let O=(R,P)=>{R instanceof o.OneReference&&(P==="show"&&this._revealReference(R,!1),this._onDidSelectReference.fire({element:R,kind:P,source:"tree"}))};this._tree.onDidOpen(R=>{R.sideBySide?O(R.element,"side"):R.editorOptions.pinned?O(R.element,"goto"):O(R.element,"show")}),b.hide(this._treeContainer)}_onWidth(N){this._dim&&this._doLayoutBody(this._dim.height,N)}_doLayoutBody(N,I){super._doLayoutBody(N,I),this._dim=new b.Dimension(I,N),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(I),this._splitView.resizeView(0,I*this.layoutData.ratio)}setSelection(N){return this._revealReference(N,!0).then(()=>{!this._model||(this._tree.setSelection([N]),this._tree.setFocus([N]))})}setModel(N){return this._disposeOnNewModel.clear(),this._model=N,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=l.localize(1,null),b.show(this._messageContainer),Promise.resolve(void 0)):(b.hide(this._messageContainer),this._decorationsManager=new w(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(N=>this._tree.rerender(N))),this._disposeOnNewModel.add(this._preview.onMouseDown(N=>{const{event:I,target:M}=N;if(I.detail!==2)return;const O=this._getFocusedReference();!O||this._onDidSelectReference.fire({element:{uri:O.uri,range:M.range},kind:I.ctrlKey||I.metaKey||I.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),b.show(this._treeContainer),b.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[N]=this._tree.getFocus();if(N instanceof o.OneReference)return N;if(N instanceof o.FileReferences&&N.children.length>0)return N.children[0]}revealReference(N){return Ie(this,void 0,void 0,function*(){yield this._revealReference(N,!1),this._onDidSelectReference.fire({element:N,kind:"goto",source:"tree"})})}_revealReference(N,I){return Ie(this,void 0,void 0,function*(){if(this._revealedReference===N)return;this._revealedReference=N,N.uri.scheme!==S.Schemas.inMemory?this.setTitle((0,p.basenameOrAuthority)(N.uri),this._uriLabel.getUriLabel((0,p.dirname)(N.uri))):this.setTitle(l.localize(2,null));const M=this._textModelResolverService.createModelReference(N.uri);this._tree.getInput()===N.parent?this._tree.reveal(N):(I&&this._tree.reveal(N.parent),yield this._tree.expand(N.parent),this._tree.reveal(N));const O=yield M;if(!this._model){O.dispose();return}(0,L.dispose)(this._previewModelReference);const R=O.object;if(R){const P=this._preview.getModel()===R.textEditorModel?0:1,A=i.Range.lift(N.range).collapseToStart();this._previewModelReference=O,this._preview.setModel(R.textEditorModel),this._preview.setSelection(A),this._preview.revealRangeInCenter(A,P)}else this._preview.setModel(this._previewNotAvailableMessage),O.dispose()})}};_=Re([Ce(3,d.IThemeService),Ce(4,r.ITextModelService),Ce(5,c.IInstantiationService),Ce(6,t.IPeekViewService),Ce(7,u.ILabelService),Ce(8,m.IUndoRedoService),Ce(9,y.IKeybindingService)],_),e.ReferenceWidget=_,(0,d.registerThemingParticipant)((D,N)=>{const I=D.getColor(t.peekViewResultsMatchHighlight);I&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${I}; }`);const M=D.getColor(t.peekViewEditorMatchHighlight);M&&N.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${M}; }`);const O=D.getColor(t.peekViewEditorMatchHighlightBorder);O&&N.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${O}; box-sizing: border-box; }`);const R=D.getColor(n.activeContrastBorder);R&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${R}; box-sizing: border-box; }`);const P=D.getColor(t.peekViewResultsBackground);P&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${P}; }`);const A=D.getColor(t.peekViewResultsMatchForeground);A&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${A}; }`);const F=D.getColor(t.peekViewResultsFileForeground);F&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${F}; }`);const E=D.getColor(t.peekViewResultsSelectionBackground);E&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${E}; }`);const W=D.getColor(t.peekViewResultsSelectionForeground);W&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${W} !important; }`);const V=D.getColor(t.peekViewEditorBackground);V&&N.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {	background-color: ${V};}`);const $=D.getColor(t.peekViewEditorGutterBackground);$&&N.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {	background-color: ${$};}`)})}),define(ee[275],te([0,1,493,12,2,28,9,16,38,71,118,683,3,13,34,15,124,153,88,41,26]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new p.RawContextKey("referenceSearchVisible",!1,b.localize(0,null));let h=class Lt{constructor(w,g,f,_,D,N,I,M){this._defaultTreeKeyboardSupport=w,this._editor=g,this._editorService=_,this._notificationService=D,this._instantiationService=N,this._storageService=I,this._configurationService=M,this._disposables=new T.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(f)}static get(w){return w.getContribution(Lt.ID)}dispose(){var w,g;this._referenceSearchVisible.reset(),this._disposables.dispose(),(w=this._widget)===null||w===void 0||w.dispose(),(g=this._model)===null||g===void 0||g.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(w,g,f){let _;if(this._widget&&(_=this._widget.position),this.closeWidget(),!!_&&w.containsPosition(_))return;this._peekMode=f,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const D="peekViewLayout",N=r.LayoutData.fromJSON(this._storageService.get(D,0,"{}"));this._widget=this._instantiationService.createInstance(r.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,N),this._widget.setTitle(b.localize(1,null)),this._widget.show(w),this._disposables.add(this._widget.onDidClose(()=>{g.cancel(),this._widget&&(this._storageService.store(D,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(M=>{let{element:O,kind:R}=M;if(!!O)switch(R){case"open":(M.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(O,!1,!1);break;case"side":this.openReference(O,!0,!1);break;case"goto":f?this._gotoReference(O):this.openReference(O,!1,!0);break}}));const I=++this._requestIdPool;g.then(M=>{var O;if(I!==this._requestIdPool||!this._widget){M.dispose();return}return(O=this._model)===null||O===void 0||O.dispose(),this._model=M,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(b.localize(2,null,this._model.title,this._model.references.length));let R=this._editor.getModel().uri,P=new l.Position(w.startLineNumber,w.startColumn),A=this._model.nearestReference(R,P);if(A)return this._widget.setSelection(A).then(()=>{this._widget&&this._editor.getOption(75)==="editor"&&this._widget.focusOnPreviewEditor()})}})},M=>{this._notificationService.error(M)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(w){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const g=this._widget.position;if(!g)return;const f=this._model.nearestReference(this._editor.getModel().uri,g);if(!f)return;const _=this._model.nextOrPreviousReference(f,w),D=this._editor.hasTextFocus(),N=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(_),yield this._gotoReference(_),D?this._editor.focus():this._widget&&N&&this._widget.focusOnPreviewEditor()})}revealReference(w){return Ie(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(w))})}closeWidget(w=!0){var g,f;(g=this._widget)===null||g===void 0||g.dispose(),(f=this._model)===null||f===void 0||f.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,w&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(w){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const g=a.Range.lift(w.range).collapseToStart();return this._editorService.openCodeEditor({resource:w.uri,options:{selection:g}},this._editor).then(f=>{var _;if(this._ignoreModelChangeEvent=!1,!f||!this._widget){this.closeWidget();return}if(this._editor===f)this._widget.show(g),this._widget.focusOnReferenceTree();else{const D=Lt.get(f),N=this._model.clone();this.closeWidget(),f.focus(),D.toggleWidget(g,(0,u.createCancelablePromise)(I=>Promise.resolve(N)),(_=this._peekMode)!==null&&_!==void 0?_:!1)}},f=>{this._ignoreModelChangeEvent=!1,(0,k.onUnexpectedError)(f)})}openReference(w,g,f){g||this.closeWidget();const{uri:_,range:D}=w;this._editorService.openCodeEditor({resource:_,options:{selection:D,pinned:f}},this._editor,g)}};h.ID="editor.contrib.referencesController",h=Re([Ce(2,p.IContextKeyService),Ce(3,L.ICodeEditorService),Ce(4,c.INotificationService),Ce(5,S.IInstantiationService),Ce(6,i.IStorageService),Ce(7,C.IConfigurationService)],h),e.ReferencesController=h;function m(y,w){const g=(0,s.getOuterEditor)(y);if(!g)return;let f=h.get(g);f&&w(f)}d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,t.KeyChord)(2048|41,60),when:p.ContextKeyExpr.or(e.ctxReferenceSearchVisible,s.PeekContext.inPeekEditor),handler(y){m(y,w=>{w.changeFocusBetweenPreviewAndReferences()})}}),d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:p.ContextKeyExpr.or(e.ctxReferenceSearchVisible,s.PeekContext.inPeekEditor),handler(y){m(y,w=>{w.goToNextOrPreviousReference(!0)})}}),d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:p.ContextKeyExpr.or(e.ctxReferenceSearchVisible,s.PeekContext.inPeekEditor),handler(y){m(y,w=>{w.goToNextOrPreviousReference(!1)})}}),o.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),o.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),o.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),o.CommandsRegistry.registerCommand("closeReferenceSearch",y=>m(y,w=>w.closeWidget())),d.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:p.ContextKeyExpr.and(s.PeekContext.inPeekEditor,p.ContextKeyExpr.not("config.editor.stablePeek"))}),d.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:p.ContextKeyExpr.and(e.ctxReferenceSearchVisible,p.ContextKeyExpr.not("config.editor.stablePeek"))}),d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:p.ContextKeyExpr.and(e.ctxReferenceSearchVisible,n.WorkbenchListFocusContextKey),handler(y){var w;const f=(w=y.get(n.IListService).lastFocusedList)===null||w===void 0?void 0:w.getFocus();Array.isArray(f)&&f[0]instanceof v.OneReference&&m(y,_=>_.revealReference(f[0]))}}),d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:p.ContextKeyExpr.and(e.ctxReferenceSearchVisible,n.WorkbenchListFocusContextKey),handler(y){var w;const f=(w=y.get(n.IListService).lastFocusedList)===null||w===void 0?void 0:w.getFocus();Array.isArray(f)&&f[0]instanceof v.OneReference&&m(y,_=>_.openReference(f[0],!0,!0))}}),o.CommandsRegistry.registerCommand("openReference",y=>{var w;const f=(w=y.get(n.IListService).lastFocusedList)===null||w===void 0?void 0:w.getFocus();Array.isArray(f)&&f[0]instanceof v.OneReference&&m(y,_=>_.openReference(f[0],!1,!0))})}),define(ee[276],te([0,1,44,15,41,17,111,14,28,13,3,25,18,152,124,275,118,491,33,16,34,59,266,26,66,639,39,24,9,20,150]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h,m,y,w,g,f,_,D,N,I){"use strict";var M,O,R,P,A,F,E,W;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=void 0,d.MenuRegistry.appendMenuItem(d.MenuId.EditorContext,{submenu:d.MenuId.EditorContextPeek,title:n.localize(0,null),group:"navigation",order:100});const V=new Set;function $(j){const H=new j;return(0,p.registerInstantiatedEditorAction)(H),V.add(H.id),H}class Z extends p.EditorAction{constructor(H,z){super(z);this._configuration=H}run(H,z){if(!z.hasModel())return Promise.resolve(void 0);const Q=H.get(o.INotificationService),x=H.get(C.ICodeEditorService),le=H.get(h.IEditorProgressService),oe=H.get(g.ISymbolNavigationService),K=z.getModel(),re=z.getPosition(),ae=new w.EditorStateCancellationTokenSource(z,1|4),he=(0,k.raceCancellation)(this._getLocationModel(K,re,ae.token),ae.token).then(U=>Ie(this,void 0,void 0,function*(){if(!U||ae.token.isCancellationRequested)return;(0,b.alert)(U.ariaMessage);let se;if(U.referenceAt(K.uri,re)){const ne=this._getAlternativeCommand(z);ne!==this.id&&V.has(ne)&&(se=z.getAction(ne))}const Y=U.references.length;if(Y===0){if(!this._configuration.muteMessage){const ne=K.getWordAtPosition(re);l.MessageController.get(z).showMessage(this._getNoResultFoundMessage(ne),re)}}else if(Y===1&&se)se.run();else return this._onResult(x,oe,z,U)}),U=>{Q.error(U)}).finally(()=>{ae.dispose()});return le.showWhile(he,250),he}_onResult(H,z,Q,x){return Ie(this,void 0,void 0,function*(){const le=this._getGoToPreference(Q);if(!(Q instanceof I.EmbeddedCodeEditorWidget)&&(this._configuration.openInPeek||le==="peek"&&x.references.length>1))this._openInPeek(Q,x);else{const oe=x.firstReference(),K=x.references.length>1&&le==="gotoAndPeek",re=yield this._openReference(Q,H,oe,this._configuration.openToSide,!K);K&&re?this._openInPeek(re,x):x.dispose(),le==="goto"&&z.put(oe)}})}_openReference(H,z,Q,x,le){return Ie(this,void 0,void 0,function*(){let oe;if((0,a.isLocationLink)(Q)&&(oe=Q.targetSelectionRange),oe||(oe=Q.range),!oe)return;const K=yield z.openCodeEditor({resource:Q.uri,options:{selection:v.Range.collapseToStart(oe),selectionRevealType:3}},H,x);if(!!K){if(le){const re=K.getModel(),ae=K.deltaDecorations([],[{range:oe,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{K.getModel()===re&&K.deltaDecorations(ae,[])},350)}return K}})}_openInPeek(H,z){let Q=u.ReferencesController.get(H);Q&&H.hasModel()?Q.toggleWidget(H.getSelection(),(0,k.createCancelablePromise)(x=>Promise.resolve(z)),this._configuration.openInPeek):z.dispose()}}class X extends Z{_getLocationModel(H,z,Q){return Ie(this,void 0,void 0,function*(){return new s.ReferencesModel(yield(0,m.getDefinitionsAtPosition)(H,z,Q),n.localize(1,null))})}_getNoResultFoundMessage(H){return H&&H.word?n.localize(2,null,H.word):n.localize(3,null)}_getAlternativeCommand(H){return H.getOption(48).alternativeDefinitionCommand}_getGoToPreference(H){return H.getOption(48).multipleDefinitions}}e.DefinitionAction=X;const J=L.isWeb&&!f.isStandalone?2048|70:70;$((M=class Et extends X{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Et.id,label:n.localize(4,null),alias:"Go to Definition",precondition:t.ContextKeyExpr.and(r.EditorContextKeys.hasDefinitionProvider,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:J,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:d.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:2,title:n.localize(5,null)}});y.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",Et.id)}},M.id="editor.action.revealDefinition",M)),$((O=class Dt extends X{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Dt.id,label:n.localize(6,null),alias:"Open Definition to the Side",precondition:t.ContextKeyExpr.and(r.EditorContextKeys.hasDefinitionProvider,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:(0,T.KeyChord)(2048|41,J),weight:100}});y.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",Dt.id)}},O.id="editor.action.revealDefinitionAside",O)),$((R=class It extends X{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:It.id,label:n.localize(7,null),alias:"Peek Definition",precondition:t.ContextKeyExpr.and(r.EditorContextKeys.hasDefinitionProvider,c.PeekContext.notInPeekEditor,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:d.MenuId.EditorContextPeek,group:"peek",order:2}});y.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",It.id)}},R.id="editor.action.peekDefinition",R));class ie extends Z{_getLocationModel(H,z,Q){return Ie(this,void 0,void 0,function*(){return new s.ReferencesModel(yield(0,m.getDeclarationsAtPosition)(H,z,Q),n.localize(8,null))})}_getNoResultFoundMessage(H){return H&&H.word?n.localize(9,null,H.word):n.localize(10,null)}_getAlternativeCommand(H){return H.getOption(48).alternativeDeclarationCommand}_getGoToPreference(H){return H.getOption(48).multipleDeclarations}}$((P=class Xt extends ie{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Xt.id,label:n.localize(11,null),alias:"Go to Declaration",precondition:t.ContextKeyExpr.and(r.EditorContextKeys.hasDeclarationProvider,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:d.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3,title:n.localize(12,null)}})}_getNoResultFoundMessage(H){return H&&H.word?n.localize(13,null,H.word):n.localize(14,null)}},P.id="editor.action.revealDeclaration",P)),$(class extends ie{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:n.localize(15,null),alias:"Peek Declaration",precondition:t.ContextKeyExpr.and(r.EditorContextKeys.hasDeclarationProvider,c.PeekContext.notInPeekEditor,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:d.MenuId.EditorContextPeek,group:"peek",order:3}})}});class de extends Z{_getLocationModel(H,z,Q){return Ie(this,void 0,void 0,function*(){return new s.ReferencesModel(yield(0,m.getTypeDefinitionsAtPosition)(H,z,Q),n.localize(16,null))})}_getNoResultFoundMessage(H){return H&&H.word?n.localize(17,null,H.word):n.localize(18,null)}_getAlternativeCommand(H){return H.getOption(48).alternativeTypeDefinitionCommand}_getGoToPreference(H){return H.getOption(48).multipleTypeDefinitions}}$((A=class Qt extends de{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Qt.ID,label:n.localize(19,null),alias:"Go to Type Definition",precondition:t.ContextKeyExpr.and(r.EditorContextKeys.hasTypeDefinitionProvider,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:d.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3,title:n.localize(20,null)}})}},A.ID="editor.action.goToTypeDefinition",A)),$((F=class Jt extends de{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Jt.ID,label:n.localize(21,null),alias:"Peek Type Definition",precondition:t.ContextKeyExpr.and(r.EditorContextKeys.hasTypeDefinitionProvider,c.PeekContext.notInPeekEditor,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:d.MenuId.EditorContextPeek,group:"peek",order:4}})}},F.ID="editor.action.peekTypeDefinition",F));class ue extends Z{_getLocationModel(H,z,Q){return Ie(this,void 0,void 0,function*(){return new s.ReferencesModel(yield(0,m.getImplementationsAtPosition)(H,z,Q),n.localize(22,null))})}_getNoResultFoundMessage(H){return H&&H.word?n.localize(23,null,H.word):n.localize(24,null)}_getAlternativeCommand(H){return H.getOption(48).alternativeImplementationCommand}_getGoToPreference(H){return H.getOption(48).multipleImplementations}}$((E=class ei extends ue{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:ei.ID,label:n.localize(25,null),alias:"Go to Implementations",precondition:t.ContextKeyExpr.and(r.EditorContextKeys.hasImplementationProvider,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:2048|70,weight:100},menuOpts:{menuId:d.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:4,title:n.localize(26,null)},contextMenuOpts:{group:"navigation",order:1.45}})}},E.ID="editor.action.goToImplementation",E)),$((W=class ti extends ue{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:ti.ID,label:n.localize(27,null),alias:"Peek Implementations",precondition:t.ContextKeyExpr.and(r.EditorContextKeys.hasImplementationProvider,c.PeekContext.notInPeekEditor,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:d.MenuId.EditorContextPeek,group:"peek",order:5}})}},W.ID="editor.action.peekImplementation",W));class q extends Z{_getNoResultFoundMessage(H){return H?n.localize(28,null,H.word):n.localize(29,null)}_getAlternativeCommand(H){return H.getOption(48).alternativeReferenceCommand}_getGoToPreference(H){return H.getOption(48).multipleReferences}}$(class extends q{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:n.localize(30,null),alias:"Go to References",precondition:t.ContextKeyExpr.and(r.EditorContextKeys.hasReferenceProvider,c.PeekContext.notInPeekEditor,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:d.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:5,title:n.localize(31,null)}})}_getLocationModel(H,z,Q){return Ie(this,void 0,void 0,function*(){return new s.ReferencesModel(yield(0,m.getReferencesAtPosition)(H,z,!0,Q),n.localize(32,null))})}}),$(class extends q{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:n.localize(33,null),alias:"Peek References",precondition:t.ContextKeyExpr.and(r.EditorContextKeys.hasReferenceProvider,c.PeekContext.notInPeekEditor,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:d.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(H,z,Q){return Ie(this,void 0,void 0,function*(){return new s.ReferencesModel(yield(0,m.getReferencesAtPosition)(H,z,!1,Q),n.localize(34,null))})}});class B extends Z{constructor(H,z,Q){super(H,{id:"editor.action.goToLocation",label:n.localize(35,null),alias:"Go To Any Symbol",precondition:t.ContextKeyExpr.and(c.PeekContext.notInPeekEditor,r.EditorContextKeys.isInWalkThroughSnippet.toNegated())});this._references=z,this._gotoMultipleBehaviour=Q}_getLocationModel(H,z,Q){return Ie(this,void 0,void 0,function*(){return new s.ReferencesModel(this._references,n.localize(36,null))})}_getNoResultFoundMessage(H){return H&&n.localize(37,null,H.word)||""}_getGoToPreference(H){var z;return(z=this._gotoMultipleBehaviour)!==null&&z!==void 0?z:H.getOption(48).multipleReferences}_getAlternativeCommand(){return""}}y.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:_.URI},{name:"position",description:"The position at which to start",constraint:i.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(j,H,z,Q,x,le,oe)=>Ie(void 0,void 0,void 0,function*(){(0,N.assertType)(_.URI.isUri(H)),(0,N.assertType)(i.Position.isIPosition(z)),(0,N.assertType)(Array.isArray(Q)),(0,N.assertType)(typeof x=="undefined"||typeof x=="string"),(0,N.assertType)(typeof oe=="undefined"||typeof oe=="boolean");const K=j.get(C.ICodeEditorService),re=yield K.openCodeEditor({resource:H},K.getFocusedCodeEditor());if((0,S.isCodeEditor)(re))return re.setPosition(z),re.revealPositionInCenterIfOutsideViewport(z,0),re.invokeWithinContext(ae=>{const he=new class extends B{_getNoResultFoundMessage(U){return le||super._getNoResultFoundMessage(U)}}({muteMessage:!Boolean(le),openInPeek:Boolean(oe),openToSide:!1},Q,x);ae.get(D.IInstantiationService).invokeFunction(he.run.bind(he),re)})})}),y.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:_.URI},{name:"position",description:"The position at which to start",constraint:i.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(j,H,z,Q,x)=>Ie(void 0,void 0,void 0,function*(){j.get(y.ICommandService).executeCommand("editor.action.goToLocations",H,z,Q,x,void 0,!0)})}),y.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(j,H,z)=>{(0,N.assertType)(_.URI.isUri(H)),(0,N.assertType)(i.Position.isIPosition(z));const Q=j.get(C.ICodeEditorService);return Q.openCodeEditor({resource:H},Q.getFocusedCodeEditor()).then(x=>{if(!(0,S.isCodeEditor)(x)||!x.hasModel())return;const le=u.ReferencesController.get(x);if(!le)return;const oe=(0,k.createCancelablePromise)(re=>(0,m.getReferencesAtPosition)(x.getModel(),i.Position.lift(z),!1,re).then(ae=>new s.ReferencesModel(ae,n.localize(38,null)))),K=new v.Range(z.lineNumber,z.column,z.lineNumber,z.column);return Promise.resolve(le.toggleWidget(K,oe,!1))})}}),y.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(ee[277],te([0,1,492,15,12,82,57,3,18,14,266,2,68,11,22,66,276,229,13,20,124,16,352]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let m=class rt{constructor(w,g,f){this.textModelResolverService=g,this.modeService=f,this.toUnhook=new r.DisposableStore,this.toUnhookForKeyboard=new r.DisposableStore,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=w;let _=new n.ClickLinkGesture(w);this.toUnhook.add(_),this.toUnhook.add(_.onMouseMoveOrRelevantKeyDown(([D,N])=>{this.startFindDefinitionFromMouse(D,(0,t.withNullAsUndefined)(N))})),this.toUnhook.add(_.onExecute(D=>{this.isEnabled(D)&&this.gotoDefinition(D.target.position,D.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},N=>{this.removeLinkDecorations(),(0,T.onUnexpectedError)(N)})})),this.toUnhook.add(_.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(w){return w.getContribution(rt.ID)}startFindDefinitionFromCursor(w){return this.startFindDefinition(w).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(g=>{g&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(w,g){if(w.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(w,g)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const f=w.target.position;this.startFindDefinition(f)}startFindDefinition(w){var g;this.toUnhookForKeyboard.clear();const f=w?(g=this.editor.getModel())===null||g===void 0?void 0:g.getWordAtPosition(w):null;if(!f)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===f.startColumn&&this.currentWordAtPosition.endColumn===f.endColumn&&this.currentWordAtPosition.word===f.word)return Promise.resolve(0);this.currentWordAtPosition=f;let _=new u.EditorState(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,k.createCancelablePromise)(D=>this.findDefinition(w,D)),this.previousPromise.then(D=>{if(!D||!D.length||!_.validate(this.editor)){this.removeLinkDecorations();return}if(D.length>1)this.addDecoration(new p.Range(w.lineNumber,f.startColumn,w.lineNumber,f.endColumn),new L.MarkdownString().appendText(b.localize(0,null,D.length)));else{let N=D[0];if(!N.uri)return;this.textModelResolverService.createModelReference(N.uri).then(I=>{if(!I.object||!I.object.textEditorModel){I.dispose();return}const{object:{textEditorModel:M}}=I,{startLineNumber:O}=N.range;if(O<1||O>M.getLineCount()){I.dispose();return}const R=this.getPreviewValue(M,O,N);let P;N.originSelectionRange?P=p.Range.lift(N.originSelectionRange):P=new p.Range(w.lineNumber,f.startColumn,w.lineNumber,f.endColumn);const A=this.modeService.getModeIdByFilepathOrFirstLine(M.uri);this.addDecoration(P,new L.MarkdownString().appendCodeblock(A||"",R)),I.dispose()})}}).then(void 0,T.onUnexpectedError)}getPreviewValue(w,g,f){let _=f.targetSelectionRange?f.range:this.getPreviewRangeBasedOnBrackets(w,g);return _.endLineNumber-_.startLineNumber>=rt.MAX_SOURCE_PREVIEW_LINES&&(_=this.getPreviewRangeBasedOnIndentation(w,g)),this.stripIndentationFromPreviewRange(w,g,_)}stripIndentationFromPreviewRange(w,g,f){let D=w.getLineFirstNonWhitespaceColumn(g);for(let I=g+1;I<f.endLineNumber;I++){const M=w.getLineFirstNonWhitespaceColumn(I);D=Math.min(D,M)}return w.getValueInRange(f).replace(new RegExp(`^\\s{${D-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(w,g){const f=w.getLineFirstNonWhitespaceColumn(g),_=Math.min(w.getLineCount(),g+rt.MAX_SOURCE_PREVIEW_LINES);let D=g+1;for(;D<_;D++){let N=w.getLineFirstNonWhitespaceColumn(D);if(f===N)break}return new p.Range(g,1,D+1,1)}getPreviewRangeBasedOnBrackets(w,g){const f=Math.min(w.getLineCount(),g+rt.MAX_SOURCE_PREVIEW_LINES),_=[];let D=!0,N=w.findNextBracket(new d.Position(g,1));for(;N!==null;){if(_.length===0)_.push(N);else{const R=_[_.length-1];if(R.open[0]===N.open[0]&&R.isOpen&&!N.isOpen?_.pop():_.push(N),_.length===0)if(D)D=!1;else return new p.Range(g,1,N.range.endLineNumber+1,1)}const I=w.getLineMaxColumn(g);let M=N.range.endLineNumber,O=N.range.endColumn;if(I===N.range.endColumn&&(M++,O=1),M>f)return new p.Range(g,1,f+1,1);N=w.findNextBracket(new d.Position(M,O))}return new p.Range(g,1,f+1,1)}addDecoration(w,g){const f={range:w,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:g}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[f])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(w,g){return this.editor.hasModel()&&w.isNoneOrSingleMouseDown&&w.target.type===6&&(w.hasTriggerModifier||(g?g.keyCodeIsTriggerKey:!1))&&C.DefinitionProviderRegistry.has(this.editor.getModel())}findDefinition(w,g){const f=this.editor.getModel();return f?(0,v.getDefinitionsAtPosition)(f,w,g):Promise.resolve(null)}gotoDefinition(w,g){return this.editor.setPosition(w),this.editor.invokeWithinContext(f=>{const _=!g&&this.editor.getOption(76)&&!this.isInPeekEditor(f);return new s.DefinitionAction({openToSide:g,openInPeek:_,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(f,this.editor)})}isInPeekEditor(w){const g=w.get(h.IContextKeyService);return o.PeekContext.inPeekEditor.getValue(g)}dispose(){this.toUnhook.dispose()}};m.ID="editor.contrib.gotodefinitionatposition",m.MAX_SOURCE_PREVIEW_LINES=8,m=Re([Ce(1,a.ITextModelService),Ce(2,S.IModeService)],m),e.GotoDefinitionAtPositionEditorContribution=m,(0,i.registerEditorContribution)(m.ID,m),(0,l.registerThemingParticipant)((y,w)=>{const g=y.getColor(c.editorActiveLinkForeground);g&&w.addRule(`.monaco-editor .goto-definition-link { color: ${g} !important; }`)})}),define(ee[684],te([0,1,15,2,14,18,36,256,11,38,274,250]),function(G,e,b,k,T,L,S,p,C,i,v,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let a=class extends k.Disposable{constructor(c,u,s,n){super();this._modelService=u,this._themeService=s,this._configurationService=n,this._editor=c,this._tokenizeViewport=new b.RunOnceScheduler(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(d=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(L.DocumentRangeSemanticTokensProviderRegistry.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(d=>{d.affectsConfiguration(v.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(const c of this._outstandingRequests)c.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(c){for(let u=0,s=this._outstandingRequests.length;u<s;u++)if(this._outstandingRequests[u]===c){this._outstandingRequests.splice(u,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const c=this._editor.getModel();if(c.hasCompleteSemanticTokens())return;if(!(0,v.isSemanticColoringEnabled)(c,this._themeService,this._configurationService)){c.hasSomeSemanticTokens()&&c.setSemanticTokens(null,!1);return}const u=(0,r.getDocumentRangeSemanticTokensProvider)(c);if(!u){c.hasSomeSemanticTokens()&&c.setSemanticTokens(null,!1);return}const s=this._modelService.getSemanticTokensProviderStyling(u),n=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(n.map(d=>this._requestRange(c,d,u,s)))}_requestRange(c,u,s,n){const d=c.getVersionId(),t=(0,b.createCancelablePromise)(o=>Promise.resolve(s.provideDocumentRangeSemanticTokens(c,u,o)));return t.then(o=>{!o||c.isDisposed()||c.getVersionId()!==d||c.setPartialSemanticTokens(u,(0,p.toMultilineTokens2)(o,n,c.getLanguageIdentifier()))}).then(()=>this._removeOutstandingRequest(t),()=>this._removeOutstandingRequest(t)),t}};a.ID="editor.contrib.viewportSemanticTokens",a=Re([Ce(1,S.IModelService),Ce(2,C.IThemeService),Ce(3,i.IConfigurationService)],a),(0,T.registerEditorContribution)(a.ID,a)}),define(ee[685],te([0,1,14,28,275,38,16,9,34,71]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let v=class extends T.ReferencesController{constructor(a,l,c,u,s,n,d){super(!0,a,l,c,u,s,n,d)}};v=Re([Ce(1,S.IContextKeyService),Ce(2,k.ICodeEditorService),Ce(3,C.INotificationService),Ce(4,p.IInstantiationService),Ce(5,i.IStorageService),Ce(6,L.IConfigurationService)],v),e.StandaloneReferencesController=v,(0,b.registerEditorContribution)(T.ReferencesController.ID,v)}),define(ee[686],te([0,1,543,154,12,75,120,74,46,34,2]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const r=!1;function a(y){return y.scheme===C.Schemas.file?y.fsPath:y.path}let l=0;class c{constructor(w,g,f,_,D,N,I){this.id=++l,this.type=0,this.actual=w,this.label=w.label,this.confirmBeforeUndo=w.confirmBeforeUndo||!1,this.resourceLabel=g,this.strResource=f,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=_,this.groupOrder=D,this.sourceId=N,this.sourceOrder=I,this.isValid=!0}setValid(w){this.isValid=w}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class u{constructor(w,g){this.resourceLabel=w,this.reason=g}}class s{constructor(){this.elements=new Map}createMessage(){const w=[],g=[];for(const[,_]of this.elements)(_.reason===0?w:g).push(_.resourceLabel);let f=[];return w.length>0&&f.push(b.localize(0,null,w.join(", "))),g.length>0&&f.push(b.localize(1,null,g.join(", "))),f.join(`
`)}get size(){return this.elements.size}has(w){return this.elements.has(w)}set(w,g){this.elements.set(w,g)}delete(w){return this.elements.delete(w)}}class n{constructor(w,g,f,_,D,N,I){this.id=++l,this.type=1,this.actual=w,this.label=w.label,this.confirmBeforeUndo=w.confirmBeforeUndo||!1,this.resourceLabels=g,this.strResources=f,this.groupId=_,this.groupOrder=D,this.sourceId=N,this.sourceOrder=I,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(w,g,f){this.removedResources||(this.removedResources=new s),this.removedResources.has(g)||this.removedResources.set(g,new u(w,f))}setValid(w,g,f){f?this.invalidatedResources&&(this.invalidatedResources.delete(g),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new s),this.invalidatedResources.has(g)||this.invalidatedResources.set(g,new u(w,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class d{constructor(w,g){this.resourceLabel=w,this.strResource=g,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const w of this._past)w.type===1&&w.removeResource(this.resourceLabel,this.strResource,0);for(const w of this._future)w.type===1&&w.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let w=[];w.push(`* ${this.strResource}:`);for(let g=0;g<this._past.length;g++)w.push(`   * [UNDO] ${this._past[g]}`);for(let g=this._future.length-1;g>=0;g--)w.push(`   * [REDO] ${this._future[g]}`);return w.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(w,g){w.type===1?w.setValid(this.resourceLabel,this.strResource,g):w.setValid(g)}setElementsValidFlag(w,g){for(const f of this._past)g(f.actual)&&this._setElementValidFlag(f,w);for(const f of this._future)g(f.actual)&&this._setElementValidFlag(f,w)}pushElement(w){for(const g of this._future)g.type===1&&g.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(w),this.versionId++}createSnapshot(w){const g=[];for(let f=0,_=this._past.length;f<_;f++)g.push(this._past[f].id);for(let f=this._future.length-1;f>=0;f--)g.push(this._future[f].id);return new k.ResourceEditStackSnapshot(w,g)}restoreSnapshot(w){const g=w.elements.length;let f=!0,_=0,D=-1;for(let I=0,M=this._past.length;I<M;I++,_++){const O=this._past[I];f&&(_>=g||O.id!==w.elements[_])&&(f=!1,D=0),!f&&O.type===1&&O.removeResource(this.resourceLabel,this.strResource,0)}let N=-1;for(let I=this._future.length-1;I>=0;I--,_++){const M=this._future[I];f&&(_>=g||M.id!==w.elements[_])&&(f=!1,N=I),!f&&M.type===1&&M.removeResource(this.resourceLabel,this.strResource,0)}D!==-1&&(this._past=this._past.slice(0,D)),N!==-1&&(this._future=this._future.slice(N+1)),this.versionId++}getElements(){const w=[],g=[];for(const f of this._past)w.push(f.actual);for(const f of this._future)g.push(f.actual);return{past:w,future:g}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(w,g){for(let f=this._past.length-1;f>=0;f--)if(this._past[f]===w){g.has(this.strResource)?this._past[f]=g.get(this.strResource):this._past.splice(f,1);break}this.versionId++}splitFutureWorkspaceElement(w,g){for(let f=this._future.length-1;f>=0;f--)if(this._future[f]===w){g.has(this.strResource)?this._future[f]=g.get(this.strResource):this._future.splice(f,1);break}this.versionId++}moveBackward(w){this._past.pop(),this._future.push(w),this.versionId++}moveForward(w){this._future.pop(),this._past.push(w),this.versionId++}}class t{constructor(w){this.editStacks=w,this._versionIds=[];for(let g=0,f=this.editStacks.length;g<f;g++)this._versionIds[g]=this.editStacks[g].versionId}isValid(){for(let w=0,g=this.editStacks.length;w<g;w++)if(this._versionIds[w]!==this.editStacks[w].versionId)return!1;return!0}}const o=new d("","");o.locked=!0;let h=class{constructor(w,g){this._dialogService=w,this._notificationService=g,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(w){for(const g of this._uriComparisonKeyComputers)if(g[0]===w.scheme)return g[1].getComparisonKey(w);return w.toString()}_print(w){console.log("------------------------------------"),console.log(`AFTER ${w}: `);let g=[];for(const f of this._editStacks)g.push(f[1].toString());console.log(g.join(`
`))}pushElement(w,g=k.UndoRedoGroup.None,f=k.UndoRedoSource.None){if(w.type===0){const _=a(w.resource),D=this.getUriComparisonKey(w.resource);this._pushElement(new c(w,_,D,g.id,g.nextOrder(),f.id,f.nextOrder()))}else{const _=new Set,D=[],N=[];for(const I of w.resources){const M=a(I),O=this.getUriComparisonKey(I);_.has(O)||(_.add(O),D.push(M),N.push(O))}D.length===1?this._pushElement(new c(w,D[0],N[0],g.id,g.nextOrder(),f.id,f.nextOrder())):this._pushElement(new n(w,D,N,g.id,g.nextOrder(),f.id,f.nextOrder()))}r&&this._print("pushElement")}_pushElement(w){for(let g=0,f=w.strResources.length;g<f;g++){const _=w.resourceLabels[g],D=w.strResources[g];let N;this._editStacks.has(D)?N=this._editStacks.get(D):(N=new d(_,D),this._editStacks.set(D,N)),N.pushElement(w)}}getLastElement(w){const g=this.getUriComparisonKey(w);if(this._editStacks.has(g)){const f=this._editStacks.get(g);if(f.hasFutureElements())return null;const _=f.getClosestPastElement();return _?_.actual:null}return null}_splitPastWorkspaceElement(w,g){const f=w.actual.split(),_=new Map;for(const D of f){const N=a(D.resource),I=this.getUriComparisonKey(D.resource),M=new c(D,N,I,0,0,0,0);_.set(M.strResource,M)}for(const D of w.strResources){if(g&&g.has(D))continue;this._editStacks.get(D).splitPastWorkspaceElement(w,_)}}_splitFutureWorkspaceElement(w,g){const f=w.actual.split(),_=new Map;for(const D of f){const N=a(D.resource),I=this.getUriComparisonKey(D.resource),M=new c(D,N,I,0,0,0,0);_.set(M.strResource,M)}for(const D of w.strResources){if(g&&g.has(D))continue;this._editStacks.get(D).splitFutureWorkspaceElement(w,_)}}removeElements(w){const g=typeof w=="string"?w:this.getUriComparisonKey(w);this._editStacks.has(g)&&(this._editStacks.get(g).dispose(),this._editStacks.delete(g)),r&&this._print("removeElements")}setElementsValidFlag(w,g,f){const _=this.getUriComparisonKey(w);this._editStacks.has(_)&&this._editStacks.get(_).setElementsValidFlag(g,f),r&&this._print("setElementsValidFlag")}createSnapshot(w){const g=this.getUriComparisonKey(w);return this._editStacks.has(g)?this._editStacks.get(g).createSnapshot(w):new k.ResourceEditStackSnapshot(w,[])}restoreSnapshot(w){const g=this.getUriComparisonKey(w.resource);if(this._editStacks.has(g)){const f=this._editStacks.get(g);f.restoreSnapshot(w),!f.hasPastElements()&&!f.hasFutureElements()&&(f.dispose(),this._editStacks.delete(g))}r&&this._print("restoreSnapshot")}getElements(w){const g=this.getUriComparisonKey(w);return this._editStacks.has(g)?this._editStacks.get(g).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(w){if(!w)return[null,null];let g=null,f=null;for(const[_,D]of this._editStacks){const N=D.getClosestPastElement();!N||N.sourceId===w&&(!g||N.sourceOrder>g.sourceOrder)&&(g=N,f=_)}return[g,f]}canUndo(w){if(w instanceof k.UndoRedoSource){const[,f]=this._findClosestUndoElementWithSource(w.id);return!!f}const g=this.getUriComparisonKey(w);return this._editStacks.has(g)?this._editStacks.get(g).hasPastElements():!1}_onError(w,g){(0,T.onUnexpectedError)(w);for(const f of g.strResources)this.removeElements(f);this._notificationService.error(w)}_acquireLocks(w){for(const g of w.editStacks)if(g.locked)throw new Error("Cannot acquire edit stack lock");for(const g of w.editStacks)g.locked=!0;return()=>{for(const g of w.editStacks)g.locked=!1}}_safeInvokeWithLocks(w,g,f,_,D){const N=this._acquireLocks(f);let I;try{I=g()}catch(M){return N(),_.dispose(),this._onError(M,w)}return I?I.then(()=>(N(),_.dispose(),D()),M=>(N(),_.dispose(),this._onError(M,w))):(N(),_.dispose(),D())}_invokeWorkspacePrepare(w){return Ie(this,void 0,void 0,function*(){if(typeof w.actual.prepareUndoRedo=="undefined")return v.Disposable.None;const g=w.actual.prepareUndoRedo();return typeof g=="undefined"?v.Disposable.None:g})}_invokeResourcePrepare(w,g){if(w.actual.type!==1||typeof w.actual.prepareUndoRedo=="undefined")return g(v.Disposable.None);const f=w.actual.prepareUndoRedo();return f?(0,v.isDisposable)(f)?g(f):f.then(_=>g(_)):g(v.Disposable.None)}_getAffectedEditStacks(w){const g=[];for(const f of w.strResources)g.push(this._editStacks.get(f)||o);return new t(g)}_tryToSplitAndUndo(w,g,f,_){if(g.canSplit())return this._splitPastWorkspaceElement(g,f),this._notificationService.warn(_),new m(this._undo(w,0,!0));for(const D of g.strResources)this.removeElements(D);return this._notificationService.warn(_),new m}_checkWorkspaceUndo(w,g,f,_){if(g.removedResources)return this._tryToSplitAndUndo(w,g,g.removedResources,b.localize(2,null,g.label,g.removedResources.createMessage()));if(_&&g.invalidatedResources)return this._tryToSplitAndUndo(w,g,g.invalidatedResources,b.localize(3,null,g.label,g.invalidatedResources.createMessage()));const D=[];for(const I of f.editStacks)I.getClosestPastElement()!==g&&D.push(I.resourceLabel);if(D.length>0)return this._tryToSplitAndUndo(w,g,null,b.localize(4,null,g.label,D.join(", ")));const N=[];for(const I of f.editStacks)I.locked&&N.push(I.resourceLabel);return N.length>0?this._tryToSplitAndUndo(w,g,null,b.localize(5,null,g.label,N.join(", "))):f.isValid()?null:this._tryToSplitAndUndo(w,g,null,b.localize(6,null,g.label))}_workspaceUndo(w,g,f){const _=this._getAffectedEditStacks(g),D=this._checkWorkspaceUndo(w,g,_,!1);return D?D.returnValue:this._confirmAndExecuteWorkspaceUndo(w,g,_,f)}_isPartOfUndoGroup(w){if(!w.groupId)return!1;for(const[,g]of this._editStacks){const f=g.getClosestPastElement();if(!!f){if(f===w){const _=g.getSecondClosestPastElement();if(_&&_.groupId===w.groupId)return!0}if(f.groupId===w.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(w,g,f,_){return Ie(this,void 0,void 0,function*(){if(g.canSplit()&&!this._isPartOfUndoGroup(g)){const I=yield this._dialogService.show(p.default.Info,b.localize(7,null,g.label),[b.localize(8,null,f.editStacks.length),b.localize(9,null),b.localize(10,null)],{cancelId:2});if(I.choice===2)return;if(I.choice===1)return this._splitPastWorkspaceElement(g,null),this._undo(w,0,!0);const M=this._checkWorkspaceUndo(w,g,f,!1);if(M)return M.returnValue;_=!0}let D;try{D=yield this._invokeWorkspacePrepare(g)}catch(I){return this._onError(I,g)}const N=this._checkWorkspaceUndo(w,g,f,!0);if(N)return D.dispose(),N.returnValue;for(const I of f.editStacks)I.moveBackward(g);return this._safeInvokeWithLocks(g,()=>g.actual.undo(),f,D,()=>this._continueUndoInGroup(g.groupId,_))})}_resourceUndo(w,g,f){if(!g.isValid){w.flushAllElements();return}if(w.locked){const _=b.localize(11,null,g.label);this._notificationService.warn(_);return}return this._invokeResourcePrepare(g,_=>(w.moveBackward(g),this._safeInvokeWithLocks(g,()=>g.actual.undo(),new t([w]),_,()=>this._continueUndoInGroup(g.groupId,f))))}_findClosestUndoElementInGroup(w){if(!w)return[null,null];let g=null,f=null;for(const[_,D]of this._editStacks){const N=D.getClosestPastElement();!N||N.groupId===w&&(!g||N.groupOrder>g.groupOrder)&&(g=N,f=_)}return[g,f]}_continueUndoInGroup(w,g){if(!w)return;const[,f]=this._findClosestUndoElementInGroup(w);if(f)return this._undo(f,0,g)}undo(w){if(w instanceof k.UndoRedoSource){const[,g]=this._findClosestUndoElementWithSource(w.id);return g?this._undo(g,w.id,!1):void 0}return typeof w=="string"?this._undo(w,0,!1):this._undo(this.getUriComparisonKey(w),0,!1)}_undo(w,g=0,f){if(!this._editStacks.has(w))return;const _=this._editStacks.get(w),D=_.getClosestPastElement();if(!D)return;if(D.groupId){const[I,M]=this._findClosestUndoElementInGroup(D.groupId);if(D!==I&&M)return this._undo(M,g,f)}if((D.sourceId!==g||D.confirmBeforeUndo)&&!f)return this._confirmAndContinueUndo(w,g,D);try{return D.type===1?this._workspaceUndo(w,D,f):this._resourceUndo(_,D,f)}finally{r&&this._print("undo")}}_confirmAndContinueUndo(w,g,f){return Ie(this,void 0,void 0,function*(){if((yield this._dialogService.show(p.default.Info,b.localize(12,null,f.label),[b.localize(13,null),b.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(w,g,!0)})}_findClosestRedoElementWithSource(w){if(!w)return[null,null];let g=null,f=null;for(const[_,D]of this._editStacks){const N=D.getClosestFutureElement();!N||N.sourceId===w&&(!g||N.sourceOrder<g.sourceOrder)&&(g=N,f=_)}return[g,f]}canRedo(w){if(w instanceof k.UndoRedoSource){const[,f]=this._findClosestRedoElementWithSource(w.id);return!!f}const g=this.getUriComparisonKey(w);return this._editStacks.has(g)?this._editStacks.get(g).hasFutureElements():!1}_tryToSplitAndRedo(w,g,f,_){if(g.canSplit())return this._splitFutureWorkspaceElement(g,f),this._notificationService.warn(_),new m(this._redo(w));for(const D of g.strResources)this.removeElements(D);return this._notificationService.warn(_),new m}_checkWorkspaceRedo(w,g,f,_){if(g.removedResources)return this._tryToSplitAndRedo(w,g,g.removedResources,b.localize(15,null,g.label,g.removedResources.createMessage()));if(_&&g.invalidatedResources)return this._tryToSplitAndRedo(w,g,g.invalidatedResources,b.localize(16,null,g.label,g.invalidatedResources.createMessage()));const D=[];for(const I of f.editStacks)I.getClosestFutureElement()!==g&&D.push(I.resourceLabel);if(D.length>0)return this._tryToSplitAndRedo(w,g,null,b.localize(17,null,g.label,D.join(", ")));const N=[];for(const I of f.editStacks)I.locked&&N.push(I.resourceLabel);return N.length>0?this._tryToSplitAndRedo(w,g,null,b.localize(18,null,g.label,N.join(", "))):f.isValid()?null:this._tryToSplitAndRedo(w,g,null,b.localize(19,null,g.label))}_workspaceRedo(w,g){const f=this._getAffectedEditStacks(g),_=this._checkWorkspaceRedo(w,g,f,!1);return _?_.returnValue:this._executeWorkspaceRedo(w,g,f)}_executeWorkspaceRedo(w,g,f){return Ie(this,void 0,void 0,function*(){let _;try{_=yield this._invokeWorkspacePrepare(g)}catch(N){return this._onError(N,g)}const D=this._checkWorkspaceRedo(w,g,f,!0);if(D)return _.dispose(),D.returnValue;for(const N of f.editStacks)N.moveForward(g);return this._safeInvokeWithLocks(g,()=>g.actual.redo(),f,_,()=>this._continueRedoInGroup(g.groupId))})}_resourceRedo(w,g){if(!g.isValid){w.flushAllElements();return}if(w.locked){const f=b.localize(20,null,g.label);this._notificationService.warn(f);return}return this._invokeResourcePrepare(g,f=>(w.moveForward(g),this._safeInvokeWithLocks(g,()=>g.actual.redo(),new t([w]),f,()=>this._continueRedoInGroup(g.groupId))))}_findClosestRedoElementInGroup(w){if(!w)return[null,null];let g=null,f=null;for(const[_,D]of this._editStacks){const N=D.getClosestFutureElement();!N||N.groupId===w&&(!g||N.groupOrder<g.groupOrder)&&(g=N,f=_)}return[g,f]}_continueRedoInGroup(w){if(!w)return;const[,g]=this._findClosestRedoElementInGroup(w);if(g)return this._redo(g)}redo(w){if(w instanceof k.UndoRedoSource){const[,g]=this._findClosestRedoElementWithSource(w.id);return g?this._redo(g):void 0}return typeof w=="string"?this._redo(w):this._redo(this.getUriComparisonKey(w))}_redo(w){if(!this._editStacks.has(w))return;const g=this._editStacks.get(w),f=g.getClosestFutureElement();if(!!f){if(f.groupId){const[_,D]=this._findClosestRedoElementInGroup(f.groupId);if(f!==_&&D)return this._redo(D)}try{return f.type===1?this._workspaceRedo(w,f):this._resourceRedo(g,f)}finally{r&&this._print("redo")}}}};h=Re([Ce(0,S.IDialogService),Ce(1,i.INotificationService)],h),e.UndoRedoService=h;class m{constructor(w){this.returnValue=w}}(0,L.registerSingleton)(k.IUndoRedoService,h)}),define(ee[193],te([0,1,9,49]),function(G,e,b,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceFolder=e.Workspace=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,b.createDecorator)("contextService");class T{constructor(p,C,i,v){this._id=p,this._configuration=i,this._ignorePathCasing=v,this._foldersMap=k.TernarySearchTree.forUris(this._ignorePathCasing),this.folders=C}get folders(){return this._folders}set folders(p){this._folders=p,this.updateFoldersMap()}get id(){return this._id}get configuration(){return this._configuration}set configuration(p){this._configuration=p}getFolder(p){return p&&this._foldersMap.findSubstr(p.with({scheme:p.scheme,authority:p.authority,path:p.path}))||null}updateFoldersMap(){this._foldersMap=k.TernarySearchTree.forUris(this._ignorePathCasing);for(const p of this.folders)this._foldersMap.set(p.uri,p)}toJSON(){return{id:this.id,folders:this.folders,configuration:this.configuration}}}e.Workspace=T;class L{constructor(p,C){this.raw=C,this.uri=p.uri,this.index=p.index,this.name=p.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=L}),define(ee[194],te([0,1,8,7,51,6,41,2,17,74,24,111,138,190,56,13,3,36,26,38,583,565,254,88,567,568,34,193,63]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h,m,y,w,g,f,_,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleLayoutService=e.SimpleUriLabelService=e.SimpleBulkEditService=e.updateConfigurationService=e.SimpleWorkspaceContextService=e.StandaloneTelemetryService=e.SimpleResourcePropertiesService=e.SimpleResourceConfigurationService=e.SimpleConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.SimpleNotificationService=e.SimpleDialogService=e.SimpleEditorProgressService=e.SimpleEditorModelResolverService=e.SimpleModel=void 0;class N{constructor(B){this.disposed=!1,this.model=B,this._onWillDispose=new L.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}e.SimpleModel=N;function I(q,B,j){return(0,r.isCodeEditor)(q)?B(q):j(q)}let M=class{constructor(B){this.modelService=B}setEditor(B){this.editor=B}createModelReference(B){let j=null;return this.editor&&(j=I(this.editor,H=>this.findModel(H,B),H=>this.findModel(H.getOriginalEditor(),B)||this.findModel(H.getModifiedEditor(),B))),j?Promise.resolve(new p.ImmortalReference(new N(j))):Promise.reject(new Error("Model not found"))}findModel(B,j){let H=this.modelService.getModel(j);return H&&H.uri.toString()!==j.toString()?null:H}};M=Re([Ce(0,n.IModelService)],M),e.SimpleEditorModelResolverService=M;class O{show(){return O.NULL_PROGRESS_RUNNER}showWhile(B,j){return Ie(this,void 0,void 0,function*(){yield B})}}e.SimpleEditorProgressService=O,O.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class R{confirm(B){return this.doConfirm(B).then(j=>({confirmed:j,checkboxChecked:!1}))}doConfirm(B){let j=B.message;return B.detail&&(j=j+`

`+B.detail),Promise.resolve(window.confirm(j))}show(B,j,H,z){return Promise.resolve({choice:0})}}e.SimpleDialogService=R;class P{info(B){return this.notify({severity:i.default.Info,message:B})}warn(B){return this.notify({severity:i.default.Warning,message:B})}error(B){return this.notify({severity:i.default.Error,message:B})}notify(B){switch(B.severity){case i.default.Error:console.error(B.message);break;case i.default.Warning:console.warn(B.message);break;default:console.log(B.message);break}return P.NO_OP}status(B,j){return p.Disposable.None}}e.SimpleNotificationService=P,P.NO_OP=new f.NoOpNotification;class A{constructor(B){this._onWillExecuteCommand=new L.Emitter,this._onDidExecuteCommand=new L.Emitter,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=B}executeCommand(B,...j){const H=d.CommandsRegistry.getCommand(B);if(!H)return Promise.reject(new Error(`command '${B}' not found`));try{this._onWillExecuteCommand.fire({commandId:B,args:j});const z=this._instantiationService.invokeFunction.apply(this._instantiationService,[H.handler,...j]);return this._onDidExecuteCommand.fire({commandId:B,args:j}),Promise.resolve(z)}catch(z){return Promise.reject(z)}}}e.StandaloneCommandService=A;class F extends h.AbstractKeybindingService{constructor(B,j,H,z,Q,x){super(B,j,H,z,Q);this._cachedResolver=null,this._dynamicKeybindings=[],this._register(k.addDisposableListener(x,k.EventType.KEY_DOWN,le=>{const oe=new T.StandardKeyboardEvent(le);this._dispatch(oe,oe.target)&&(oe.preventDefault(),oe.stopPropagation())})),this._register(k.addDisposableListener(window,k.EventType.KEY_UP,le=>{const oe=new T.StandardKeyboardEvent(le);this._singleModifierDispatch(oe,oe.target)&&oe.preventDefault()}))}addDynamicKeybinding(B,j,H,z){const Q=(0,S.createKeybinding)(j,C.OS),x=new p.DisposableStore;return Q&&(this._dynamicKeybindings.push({keybinding:Q,command:B,when:z,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),x.add((0,p.toDisposable)(()=>{for(let le=0;le<this._dynamicKeybindings.length;le++)if(this._dynamicKeybindings[le].command===B){this._dynamicKeybindings.splice(le,1),this.updateResolver({source:1});return}}))),x.add(d.CommandsRegistry.registerCommand(B,H)),this.updateResolver({source:1}),x}updateResolver(B){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(B)}_getResolver(){if(!this._cachedResolver){const B=this._toNormalizedKeybindingItems(y.KeybindingsRegistry.getDefaultKeybindings(),!0),j=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new m.KeybindingResolver(B,j,H=>this._log(H))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(B,j){let H=[],z=0;for(const Q of B){const x=Q.when||void 0,le=Q.keybinding;if(!le)H[z++]=new w.ResolvedKeybindingItem(void 0,Q.command,Q.commandArgs,x,j,null,!1);else{const oe=this.resolveKeybinding(le);for(const K of oe)H[z++]=new w.ResolvedKeybindingItem(K,Q.command,Q.commandArgs,x,j,null,!1)}}return H}resolveKeybinding(B){return[new g.USLayoutResolvedKeybinding(B,C.OS)]}resolveKeyboardEvent(B){let j=new S.SimpleKeybinding(B.ctrlKey,B.shiftKey,B.altKey,B.metaKey,B.keyCode).toChord();return new g.USLayoutResolvedKeybinding(j,C.OS)}}e.StandaloneKeybindingService=F;function E(q){return q&&typeof q=="object"&&(!q.overrideIdentifier||typeof q.overrideIdentifier=="string")&&(!q.resource||q.resource instanceof v.URI)}class W{constructor(){this._onDidChangeConfiguration=new L.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new o.Configuration(new o.DefaultConfigurationModel,new o.ConfigurationModel)}getValue(B,j){const H=typeof B=="string"?B:void 0,z=E(B)?B:E(j)?j:{};return this._configuration.getValue(H,z,void 0)}updateValues(B){const j={data:this._configuration.toData()};let H=[];for(const z of B){const[Q,x]=z;this.getValue(Q)!==x&&(this._configuration.updateValue(Q,x),H.push(Q))}if(H.length>0){const z=new o.ConfigurationChangeEvent({keys:H,overrides:[]},j,this._configuration);z.source=7,z.sourceConfig=null,this._onDidChangeConfiguration.fire(z)}return Promise.resolve()}}e.SimpleConfigurationService=W;class V{constructor(B){this.configurationService=B,this._onDidChangeConfiguration=new L.Emitter,this.configurationService.onDidChangeConfiguration(j=>{this._onDidChangeConfiguration.fire({affectedKeys:j.affectedKeys,affectsConfiguration:(H,z)=>j.affectsConfiguration(z)})})}getValue(B,j,H){const Q=(u.Position.isIPosition(j)?j:null)?typeof H=="string"?H:void 0:typeof j=="string"?j:void 0;return typeof Q=="undefined"?this.configurationService.getValue():this.configurationService.getValue(Q)}}e.SimpleResourceConfigurationService=V;let $=class{constructor(B){this.configurationService=B}getEOL(B,j){const H=this.configurationService.getValue("files.eol",{overrideIdentifier:j,resource:B});return H&&typeof H=="string"&&H!=="auto"?H:C.isLinux||C.isMacintosh?`
`:`\r
`}};$=Re([Ce(0,t.IConfigurationService)],$),e.SimpleResourcePropertiesService=$;class Z{publicLog(B,j){return Promise.resolve(void 0)}publicLog2(B,j){return this.publicLog(B,j)}}e.StandaloneTelemetryService=Z;class X{constructor(){const B=v.URI.from({scheme:X.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new _.WorkspaceFolder({uri:B,name:"",index:0})]}}getWorkspace(){return this.workspace}}e.SimpleWorkspaceContextService=X,X.SCHEME="inmemory";function J(q,B,j){if(!B||!(q instanceof W))return;let H=[];Object.keys(B).forEach(z=>{(0,l.isEditorConfigurationKey)(z)&&H.push([`editor.${z}`,B[z]]),j&&(0,l.isDiffEditorConfigurationKey)(z)&&H.push([`diffEditor.${z}`,B[z]])}),H.length>0&&q.updateValues(H)}e.updateConfigurationService=J;class ie{constructor(B){this._modelService=B}hasPreviewHandler(){return!1}apply(B,j){return Ie(this,void 0,void 0,function*(){const H=new Map;for(let x of B){if(!(x instanceof a.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const le=this._modelService.getModel(x.resource);if(!le)throw new Error("bad edit - model not found");if(typeof x.versionId=="number"&&le.getVersionId()!==x.versionId)throw new Error("bad state - model changed in the meantime");let oe=H.get(le);oe||(oe=[],H.set(le,oe)),oe.push(c.EditOperation.replaceMove(s.Range.lift(x.textEdit.range),x.textEdit.text))}let z=0,Q=0;for(const[x,le]of H)x.pushStackElement(),x.pushEditOperations([],le,()=>[]),x.pushStackElement(),Q+=1,z+=le.length;return{ariaSummary:b.format(D.SimpleServicesNLS.bulkEditServiceSummary,z,Q)}})}}e.SimpleBulkEditService=ie;class de{getUriLabel(B,j){return B.scheme==="file"?B.fsPath:B.path}}e.SimpleUriLabelService=de;class ue{constructor(B,j){this._codeEditorService=B,this._container=j,this.onDidLayout=L.Event.None}get dimension(){return this._dimension||(this._dimension=k.getClientArea(window.document.body)),this._dimension}get container(){return this._container}focus(){var B;(B=this._codeEditorService.getFocusedCodeEditor())===null||B===void 0||B.focus()}}e.SimpleLayoutService=ue}),define(ee[687],te([0,1,44,2,28,149,271,219,76,194,119,33,26,38,16,69,9,37,34,11,64,63,86,59,36,57,263,106]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h,m,y,w,g,f,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let D=0,N=!1;function I(){N||(N=!0,b.setARIAContainer(document.body))}let M=class extends L.CodeEditorWidget{constructor(E,W,V,$,Z,X,J,ie,de,ue){const q=Object.assign({},W);q.ariaLabel=q.ariaLabel||h.StandaloneCodeEditorNLS.editorViewAccessibleLabel,q.ariaLabel=q.ariaLabel+";"+h.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(E,q,{},V,$,Z,X,ie,de,ue),J instanceof i.StandaloneKeybindingService?this._standaloneKeybindingService=J:this._standaloneKeybindingService=null,I()}addCommand(E,W,V){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let $="DYNAMIC_"+ ++D,Z=c.ContextKeyExpr.deserialize(V);return this._standaloneKeybindingService.addDynamicKeybinding($,E,W,Z),$}createContextKey(E,W){return this._contextKeyService.createKey(E,W)}addAction(E){if(typeof E.id!="string"||typeof E.label!="string"||typeof E.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None;const W=E.id,V=E.label,$=c.ContextKeyExpr.and(c.ContextKeyExpr.equals("editorId",this.getId()),c.ContextKeyExpr.deserialize(E.precondition)),Z=E.keybindings,X=c.ContextKeyExpr.and($,c.ContextKeyExpr.deserialize(E.keybindingContext)),J=E.contextMenuGroupId||null,ie=E.contextMenuOrder||0,de=(j,...H)=>Promise.resolve(E.run(this,...H)),ue=new k.DisposableStore,q=this.getId()+":"+W;if(ue.add(a.CommandsRegistry.registerCommand(q,de)),J){let j={command:{id:q,title:V},when:$,group:J,order:ie};ue.add(r.MenuRegistry.appendMenuItem(r.MenuId.EditorContext,j))}if(Array.isArray(Z))for(const j of Z)ue.add(this._standaloneKeybindingService.addDynamicKeybinding(q,j,de,X));let B=new p.InternalEditorAction(q,V,V,$,de,this._contextKeyService);return this._actions[W]=B,ue.add((0,k.toDisposable)(()=>{delete this._actions[W]})),ue}_triggerCommand(E,W){if(this._codeEditorService instanceof f.StandaloneCodeEditorServiceImpl)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(E,W)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(E,W)}};M=Re([Ce(2,s.IInstantiationService),Ce(3,T.ICodeEditorService),Ce(4,a.ICommandService),Ce(5,c.IContextKeyService),Ce(6,n.IKeybindingService),Ce(7,t.IThemeService),Ce(8,d.INotificationService),Ce(9,o.IAccessibilityService)],M),e.StandaloneCodeEditor=M;let O=class extends M{constructor(E,W,V,$,Z,X,J,ie,de,ue,q,B,j,H,z){const Q=Object.assign({},W);(0,i.updateConfigurationService)(B,Q,!1);const x=ue.registerEditorContainer(E);typeof Q.theme=="string"&&ue.setTheme(Q.theme),typeof Q.autoDetectHighContrast!="undefined"&&ue.setAutoDetectHighContrast(Boolean(Q.autoDetectHighContrast));let le=Q.model;delete Q.model,super(E,Q,$,Z,X,J,ie,ue,q,j),this._contextViewService=de,this._configurationService=B,this._standaloneThemeService=ue,this._register(V),this._register(x);let oe;if(typeof le=="undefined"?(oe=P(H,z,Q.value||"",Q.language||_.Mimes.text,void 0),this._ownsModel=!0):(oe=le,this._ownsModel=!1),this._attachModel(oe),oe){let K={oldModelUrl:null,newModelUrl:oe.uri};this._onDidChangeModel.fire(K)}}dispose(){super.dispose()}updateOptions(E){(0,i.updateConfigurationService)(this._configurationService,E,!1),typeof E.theme=="string"&&this._standaloneThemeService.setTheme(E.theme),typeof E.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(E.autoDetectHighContrast)),super.updateOptions(E)}_attachModel(E){super._attachModel(E),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(E){super._postDetachModelCleanup(E),E&&this._ownsModel&&(E.dispose(),this._ownsModel=!1)}};O=Re([Ce(3,s.IInstantiationService),Ce(4,T.ICodeEditorService),Ce(5,a.ICommandService),Ce(6,c.IContextKeyService),Ce(7,n.IKeybindingService),Ce(8,u.IContextViewService),Ce(9,v.IStandaloneThemeService),Ce(10,d.INotificationService),Ce(11,l.IConfigurationService),Ce(12,o.IAccessibilityService),Ce(13,w.IModelService),Ce(14,g.IModeService)],O),e.StandaloneEditor=O;let R=class extends S.DiffEditorWidget{constructor(E,W,V,$,Z,X,J,ie,de,ue,q,B,j,H,z){const Q=Object.assign({},W);(0,i.updateConfigurationService)(B,Q,!0);const x=ue.registerEditorContainer(E);typeof Q.theme=="string"&&ue.setTheme(Q.theme),typeof Q.autoDetectHighContrast!="undefined"&&ue.setAutoDetectHighContrast(Boolean(Q.autoDetectHighContrast)),super(E,Q,{},z,ie,Z,$,de,ue,q,j,H),this._contextViewService=J,this._configurationService=B,this._standaloneThemeService=ue,this._register(V),this._register(x),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(E){(0,i.updateConfigurationService)(this._configurationService,E,!0),typeof E.theme=="string"&&this._standaloneThemeService.setTheme(E.theme),typeof E.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(E.autoDetectHighContrast)),super.updateOptions(E)}_createInnerEditor(E,W,V){return E.createInstance(M,W,V)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(E,W,V){return this.getModifiedEditor().addCommand(E,W,V)}createContextKey(E,W){return this.getModifiedEditor().createContextKey(E,W)}addAction(E){return this.getModifiedEditor().addAction(E)}};R=Re([Ce(3,s.IInstantiationService),Ce(4,c.IContextKeyService),Ce(5,n.IKeybindingService),Ce(6,u.IContextViewService),Ce(7,C.IEditorWorkerService),Ce(8,T.ICodeEditorService),Ce(9,v.IStandaloneThemeService),Ce(10,d.INotificationService),Ce(11,l.IConfigurationService),Ce(12,u.IContextMenuService),Ce(13,y.IEditorProgressService),Ce(14,m.IClipboardService)],R),e.StandaloneDiffEditor=R;function P(F,E,W,V,$){if(W=W||"",!V){const Z=W.indexOf(`
`);let X=W;return Z!==-1&&(X=W.substring(0,Z)),A(F,W,E.createByFilepathOrFirstLine($||null,X),$)}return A(F,W,E.create(V),$)}e.createTextModel=P;function A(F,E,W,V){return F.createModel(E,W,V)}}),define(ee[278],te([0,1,2,138,28,76,255,57,581,36,274,142,194,263,682,119,33,26,38,584,16,666,69,569,120,9,564,143,37,121,153,70,572,87,34,59,71,89,11,193,665,183,608,64,144,75,582,86,544,154,686,668,78]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h,m,y,w,g,f,_,D,N,I,M,O,R,P,A,F,E,W,V,$,Z,X,J,ie,de,ue,q,B,j,H,z,Q){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicStandaloneServices=e.StaticServices=void 0;var x;(function(oe){const K=new _.ServiceCollection;class re{constructor(ne,ce){this._serviceId=ne,this._factory=ce,this._value=null}get id(){return this._serviceId}get(ne){if(!this._value){if(ne&&(this._value=ne[this._serviceId.toString()]),this._value||(this._value=this._factory(ne)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");K.set(this._serviceId,this._value)}return this._value}}oe.LazyStaticService=re;let ae=[];function he(Y,ne){let ce=new re(Y,ne);return ae.push(ce),ce}function U(Y){let ne=new _.ServiceCollection;for(const[pe,be]of(0,de.getSingletonServiceDescriptors)())ne.set(pe,be);for(let pe in Y)Y.hasOwnProperty(pe)&&ne.set((0,g.createDecorator)(pe),Y[pe]);ae.forEach(pe=>ne.set(pe.id,pe.get(Y)));let ce=new f.InstantiationService(ne,!0);return ne.set(g.IInstantiationService,ce),[ne,ce]}oe.init=U,oe.instantiationService=he(g.IInstantiationService,()=>new f.InstantiationService(K,!0));const se=new a.SimpleConfigurationService;oe.configurationService=he(d.IConfigurationService,()=>se),oe.resourceConfigurationService=he(r.ITextResourceConfigurationService,()=>new a.SimpleResourceConfigurationService(se)),oe.resourcePropertiesService=he(r.ITextResourcePropertiesService,()=>new a.SimpleResourcePropertiesService(se)),oe.contextService=he(V.IWorkspaceContextService,()=>new a.SimpleWorkspaceContextService),oe.labelService=he(N.ILabelService,()=>new a.SimpleUriLabelService),oe.telemetryService=he(E.ITelemetryService,()=>new a.StandaloneTelemetryService),oe.dialogService=he(w.IDialogService,()=>new a.SimpleDialogService),oe.notificationService=he(P.INotificationService,()=>new a.SimpleNotificationService),oe.markerService=he(R.IMarkerService,()=>new O.MarkerService),oe.modeService=he(p.IModeService,Y=>new C.ModeServiceImpl),oe.standaloneThemeService=he(u.IStandaloneThemeService,()=>new c.StandaloneThemeServiceImpl),oe.logService=he(M.ILogService,()=>new M.LogService(new M.ConsoleLogger)),oe.undoRedoService=he(j.IUndoRedoService,Y=>new H.UndoRedoService(oe.dialogService.get(Y),oe.notificationService.get(Y))),oe.modelService=he(i.IModelService,Y=>new v.ModelServiceImpl(oe.configurationService.get(Y),oe.resourcePropertiesService.get(Y),oe.standaloneThemeService.get(Y),oe.logService.get(Y),oe.undoRedoService.get(Y))),oe.markerDecorationsService=he(Z.IMarkerDecorationsService,Y=>new X.MarkerDecorationsService(oe.modelService.get(Y),oe.markerService.get(Y))),oe.contextKeyService=he(o.IContextKeyService,Y=>new t.ContextKeyService(oe.configurationService.get(Y))),oe.codeEditorService=he(T.ICodeEditorService,Y=>new l.StandaloneCodeEditorServiceImpl(null,oe.contextKeyService.get(Y),oe.standaloneThemeService.get(Y))),oe.editorProgressService=he(A.IEditorProgressService,()=>new a.SimpleEditorProgressService),oe.storageService=he(F.IStorageService,()=>new F.InMemoryStorageService),oe.editorWorkerService=he(L.IEditorWorkerService,Y=>new S.EditorWorkerServiceImpl(oe.modelService.get(Y),oe.resourceConfigurationService.get(Y),oe.logService.get(Y)))})(x=e.StaticServices||(e.StaticServices={}));class le extends b.Disposable{constructor(K,re){super();const[ae,he]=x.init(re);this._serviceCollection=ae,this._instantiationService=he;const U=this.get(d.IConfigurationService),se=this.get(P.INotificationService),Y=this.get(E.ITelemetryService),ne=this.get(W.IThemeService),ce=this.get(M.ILogService),pe=this.get(o.IContextKeyService);let be=(Me,Se)=>{let we=null;return re&&(we=re[Me.toString()]),we||(we=Se()),this._serviceCollection.set(Me,we),we};be(J.IAccessibilityService,()=>new ue.AccessibilityService(pe,U)),be(I.IListService,()=>new I.ListService(ne));let Ee=be(n.ICommandService,()=>new a.StandaloneCommandService(this._instantiationService)),Le=be(D.IKeybindingService,()=>this._register(new a.StandaloneKeybindingService(pe,Ee,Y,se,ce,K))),Te=be(ie.ILayoutService,()=>new a.SimpleLayoutService(x.codeEditorService.get(T.ICodeEditorService),K));be(Q.IQuickInputService,()=>new z.StandaloneQuickInputServiceImpl(he,x.codeEditorService.get(T.ICodeEditorService)));let De=be(m.IContextViewService,()=>this._register(new y.ContextViewService(Te)));be(q.IClipboardService,()=>new B.BrowserClipboardService),be(m.IContextMenuService,()=>{const Me=new h.ContextMenuService(Y,se,De,Le,ne);return Me.configure({blockMouse:!1}),this._register(Me)}),be(s.IMenuService,()=>new $.MenuService(Ee)),be(k.IBulkEditService,()=>new a.SimpleBulkEditService(x.modelService.get(i.IModelService)))}get(K){let re=this._serviceCollection.get(K);if(!re)throw new Error("Missing service "+K);return re}set(K,re){this._serviceCollection.set(K,re)}has(K){return this._serviceCollection.has(K)}}e.DynamicStandaloneServices=le}),define(ee[688],te([0,1,28,573,217,35,168,110,53,18,77,76,57,68,570,174,558,194,687,278,119,26,38,16,69,9,37,34,58,64,65,59,86,8,36,367]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h,m,y,w,g,f,_,D,N,I,M,O,R,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.createDiffNavigator=e.createDiffEditor=e.onDidCreateEditor=e.create=void 0;function A(se,Y,ne){let ce=new t.DynamicStandaloneServices(se,Y),pe=null;ce.has(l.ITextModelService)||(pe=new n.SimpleEditorModelResolverService(t.StaticServices.modelService.get()),ce.set(l.ITextModelService,pe)),ce.has(D.IOpenerService)||ce.set(D.IOpenerService,new k.OpenerService(ce.get(b.ICodeEditorService),ce.get(h.ICommandService)));let be=ne(ce);return pe&&pe.setEditor(be),be}function F(se,Y,ne){return A(se,ne||{},ce=>new d.StandaloneEditor(se,Y,ce,ce.get(g.IInstantiationService),ce.get(b.ICodeEditorService),ce.get(h.ICommandService),ce.get(y.IContextKeyService),ce.get(f.IKeybindingService),ce.get(w.IContextViewService),ce.get(o.IStandaloneThemeService),ce.get(_.INotificationService),ce.get(m.IConfigurationService),ce.get(N.IAccessibilityService),ce.get(P.IModelService),ce.get(a.IModeService)))}e.create=F;function E(se){return t.StaticServices.codeEditorService.get().onCodeEditorAdd(Y=>{se(Y)})}e.onDidCreateEditor=E;function W(se,Y,ne){return A(se,ne||{},ce=>new d.StandaloneDiffEditor(se,Y,ce,ce.get(g.IInstantiationService),ce.get(y.IContextKeyService),ce.get(f.IKeybindingService),ce.get(w.IContextViewService),ce.get(r.IEditorWorkerService),ce.get(b.ICodeEditorService),ce.get(o.IStandaloneThemeService),ce.get(_.INotificationService),ce.get(m.IConfigurationService),ce.get(w.IContextMenuService),ce.get(M.IEditorProgressService),ce.get(O.IClipboardService)))}e.createDiffEditor=W;function V(se,Y){return new T.DiffNavigator(se,Y)}e.createDiffNavigator=V;function $(se,Y,ne){return(0,d.createTextModel)(t.StaticServices.modelService.get(),t.StaticServices.modeService.get(),se,Y,ne)}e.createModel=$;function Z(se,Y){t.StaticServices.modelService.get().setMode(se,t.StaticServices.modeService.get().create(Y))}e.setModelLanguage=Z;function X(se,Y,ne){se&&t.StaticServices.markerService.get().changeOne(Y,se.uri,ne)}e.setModelMarkers=X;function J(se){return t.StaticServices.markerService.get().read(se)}e.getModelMarkers=J;function ie(se){return t.StaticServices.markerService.get().onMarkerChanged(se)}e.onDidChangeMarkers=ie;function de(se){return t.StaticServices.modelService.get().getModel(se)}e.getModel=de;function ue(){return t.StaticServices.modelService.get().getModels()}e.getModels=ue;function q(se){return t.StaticServices.modelService.get().onModelAdded(se)}e.onDidCreateModel=q;function B(se){return t.StaticServices.modelService.get().onModelRemoved(se)}e.onWillDisposeModel=B;function j(se){return t.StaticServices.modelService.get().onModelModeChanged(Y=>{se({model:Y.model,oldLanguage:Y.oldModeId})})}e.onDidChangeModelLanguage=j;function H(se){return(0,c.createWebWorker)(t.StaticServices.modelService.get(),se)}e.createWebWorker=H;function z(se,Y){const ne=t.StaticServices.standaloneThemeService.get();return ne.registerEditorContainer(se),s.Colorizer.colorizeElement(ne,t.StaticServices.modeService.get(),se,Y)}e.colorizeElement=z;function Q(se,Y,ne){return t.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),s.Colorizer.colorize(t.StaticServices.modeService.get(),se,Y,ne)}e.colorize=Q;function x(se,Y,ne=4){return t.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),s.Colorizer.colorizeModelLine(se,Y,ne)}e.colorizeModelLine=x;function le(se){let Y=i.TokenizationRegistry.get(se);return Y||{getInitialState:()=>v.NULL_STATE,tokenize:(ne,ce,pe,be)=>(0,v.nullTokenize)(se,ne,pe,be)}}function oe(se,Y){t.StaticServices.modeService.get().triggerMode(Y);let ce=le(Y),pe=(0,R.splitLines)(se),be=[],Ee=ce.getInitialState();for(let Le=0,Te=pe.length;Le<Te;Le++){let De=pe[Le],Me=ce.tokenize(De,!0,Ee,0);be[Le]=Me.tokens,Ee=Me.endState}return be}e.tokenize=oe;function K(se,Y){t.StaticServices.standaloneThemeService.get().defineTheme(se,Y)}e.defineTheme=K;function re(se){t.StaticServices.standaloneThemeService.get().setTheme(se)}e.setTheme=re;function ae(){(0,I.clearAllFontInfos)()}e.remeasureFonts=ae;function he(se,Y){return h.CommandsRegistry.registerCommand({id:se,handler:Y})}e.registerCommand=he;function U(){return{create:F,onDidCreateEditor:E,createDiffEditor:W,createDiffNavigator:V,createModel:$,setModelLanguage:Z,setModelMarkers:X,getModelMarkers:J,onDidChangeMarkers:ie,getModels:ue,getModel:de,onDidCreateModel:q,onWillDisposeModel:B,onDidChangeModelLanguage:j,createWebWorker:H,colorizeElement:z,colorize:Q,colorizeModelLine:x,tokenize:oe,defineTheme:K,setTheme:re,remeasureFonts:ae,registerCommand:he,AccessibilitySupport:u.AccessibilitySupport,ContentWidgetPositionPreference:u.ContentWidgetPositionPreference,CursorChangeReason:u.CursorChangeReason,DefaultEndOfLine:u.DefaultEndOfLine,EditorAutoIndentStrategy:u.EditorAutoIndentStrategy,EditorOption:u.EditorOption,EndOfLinePreference:u.EndOfLinePreference,EndOfLineSequence:u.EndOfLineSequence,MinimapPosition:u.MinimapPosition,MouseTargetType:u.MouseTargetType,OverlayWidgetPositionPreference:u.OverlayWidgetPositionPreference,OverviewRulerLane:u.OverviewRulerLane,RenderLineNumbersType:u.RenderLineNumbersType,RenderMinimap:u.RenderMinimap,ScrollbarVisibility:u.ScrollbarVisibility,ScrollType:u.ScrollType,TextEditorCursorBlinkingStyle:u.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:u.TextEditorCursorStyle,TrackedRangeStickiness:u.TrackedRangeStickiness,WrappingIndent:u.WrappingIndent,ConfigurationChangedEvent:L.ConfigurationChangedEvent,BareFontInfo:S.BareFontInfo,FontInfo:S.FontInfo,TextModelResolvedOptions:C.TextModelResolvedOptions,FindMatch:C.FindMatch,EditorType:p.EditorType,EditorOptions:L.EditorOptions}}e.createMonacoEditorAPI=U}),define(ee[689],te([0,1,29,3,134,18,45,146,174,278,426,249]),function(G,e,b,k,T,L,S,p,C,i,v,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.setColorMap=e.TokenizationSupport2Adapter=e.EncodedTokenizationSupport2Adapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function a(H){p.ModesRegistry.registerLanguage(H)}e.register=a;function l(){let H=[];return H=H.concat(p.ModesRegistry.getLanguages()),H}e.getLanguages=l;function c(H){let z=i.StaticServices.modeService.get().getLanguageIdentifier(H);return z?z.id:0}e.getEncodedLanguageId=c;function u(H,z){let Q=i.StaticServices.modeService.get().onDidCreateMode(x=>{x.getId()===H&&(Q.dispose(),z())});return Q}e.onLanguage=u;function s(H,z){let Q=i.StaticServices.modeService.get().getLanguageIdentifier(H);if(!Q)throw new Error(`Cannot set configuration for unknown language ${H}`);return S.LanguageConfigurationRegistry.register(Q,z,100)}e.setLanguageConfiguration=s;class n{constructor(z,Q){this._languageIdentifier=z,this._actual=Q}getInitialState(){return this._actual.getInitialState()}tokenize(z,Q,x,le){if(typeof this._actual.tokenize=="function")return d.adaptTokenize(this._languageIdentifier.language,this._actual,z,x,le);throw new Error("Not supported!")}tokenize2(z,Q,x){let le=this._actual.tokenizeEncoded(z,x);return new T.TokenizationResult2(le.tokens,le.endState)}}e.EncodedTokenizationSupport2Adapter=n;class d{constructor(z,Q,x){this._standaloneThemeService=z,this._languageIdentifier=Q,this._actual=x}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(z,Q,x){let le=[],oe=0;for(let K=0,re=z.length;K<re;K++){const ae=z[K];let he=ae.startIndex;K===0?he=0:he<oe&&(he=oe),le[K]=new T.Token(he+x,ae.scopes,Q),oe=he}return le}static adaptTokenize(z,Q,x,le,oe){let K=Q.tokenize(x,le),re=d._toClassicTokens(K.tokens,z,oe),ae;return K.endState.equals(le)?ae=le:ae=K.endState,new T.TokenizationResult(re,ae)}tokenize(z,Q,x,le){return d.adaptTokenize(this._languageIdentifier.language,this._actual,z,x,le)}_toBinaryTokens(z,Q){const x=this._languageIdentifier.id,le=this._standaloneThemeService.getColorTheme().tokenTheme;let oe=[],K=0,re=0;for(let he=0,U=z.length;he<U;he++){const se=z[he],Y=le.match(x,se.scopes);if(K>0&&oe[K-1]===Y)continue;let ne=se.startIndex;he===0?ne=0:ne<re&&(ne=re),oe[K++]=ne+Q,oe[K++]=Y,re=ne}let ae=new Uint32Array(K);for(let he=0;he<K;he++)ae[he]=oe[he];return ae}tokenize2(z,Q,x,le){let oe=this._actual.tokenize(z,x),K=this._toBinaryTokens(oe.tokens,le),re;return oe.endState.equals(x)?re=x:re=oe.endState,new T.TokenizationResult2(K,re)}}e.TokenizationSupport2Adapter=d;function t(H){return"tokenizeEncoded"in H}function o(H){return H&&typeof H.then=="function"}function h(H){if(H){const z=[null];for(let Q=1,x=H.length;Q<x;Q++)z[Q]=b.Color.fromHex(H[Q]);i.StaticServices.standaloneThemeService.get().setColorMapOverride(z)}else i.StaticServices.standaloneThemeService.get().setColorMapOverride(null)}e.setColorMap=h;function m(H,z){let Q=i.StaticServices.modeService.get().getLanguageIdentifier(H);if(!Q)throw new Error(`Cannot set tokens provider for unknown language ${H}`);const x=le=>t(le)?new n(Q,le):new d(i.StaticServices.standaloneThemeService.get(),Q,le);return o(z)?L.TokenizationRegistry.registerPromise(H,z.then(le=>x(le))):L.TokenizationRegistry.register(H,x(z))}e.setTokensProvider=m;function y(H,z){const Q=x=>(0,r.createTokenizationSupport)(i.StaticServices.modeService.get(),i.StaticServices.standaloneThemeService.get(),H,(0,v.compile)(H,x));return o(z)?L.TokenizationRegistry.registerPromise(H,z.then(x=>Q(x))):L.TokenizationRegistry.register(H,Q(z))}e.setMonarchTokensProvider=y;function w(H,z){return L.ReferenceProviderRegistry.register(H,z)}e.registerReferenceProvider=w;function g(H,z){return L.RenameProviderRegistry.register(H,z)}e.registerRenameProvider=g;function f(H,z){return L.SignatureHelpProviderRegistry.register(H,z)}e.registerSignatureHelpProvider=f;function _(H,z){return L.HoverProviderRegistry.register(H,{provideHover:(Q,x,le)=>{let oe=Q.getWordAtPosition(x);return Promise.resolve(z.provideHover(Q,x,le)).then(K=>{if(!!K)return!K.range&&oe&&(K.range=new k.Range(x.lineNumber,oe.startColumn,x.lineNumber,oe.endColumn)),K.range||(K.range=new k.Range(x.lineNumber,x.column,x.lineNumber,x.column)),K})}})}e.registerHoverProvider=_;function D(H,z){return L.DocumentSymbolProviderRegistry.register(H,z)}e.registerDocumentSymbolProvider=D;function N(H,z){return L.DocumentHighlightProviderRegistry.register(H,z)}e.registerDocumentHighlightProvider=N;function I(H,z){return L.LinkedEditingRangeProviderRegistry.register(H,z)}e.registerLinkedEditingRangeProvider=I;function M(H,z){return L.DefinitionProviderRegistry.register(H,z)}e.registerDefinitionProvider=M;function O(H,z){return L.ImplementationProviderRegistry.register(H,z)}e.registerImplementationProvider=O;function R(H,z){return L.TypeDefinitionProviderRegistry.register(H,z)}e.registerTypeDefinitionProvider=R;function P(H,z){return L.CodeLensProviderRegistry.register(H,z)}e.registerCodeLensProvider=P;function A(H,z){return L.CodeActionProviderRegistry.register(H,{provideCodeActions:(Q,x,le,oe)=>{let K=i.StaticServices.markerService.get().read({resource:Q.uri}).filter(re=>k.Range.areIntersectingOrTouching(re,x));return z.provideCodeActions(Q,x,{markers:K,only:le.only},oe)}})}e.registerCodeActionProvider=A;function F(H,z){return L.DocumentFormattingEditProviderRegistry.register(H,z)}e.registerDocumentFormattingEditProvider=F;function E(H,z){return L.DocumentRangeFormattingEditProviderRegistry.register(H,z)}e.registerDocumentRangeFormattingEditProvider=E;function W(H,z){return L.OnTypeFormattingEditProviderRegistry.register(H,z)}e.registerOnTypeFormattingEditProvider=W;function V(H,z){return L.LinkProviderRegistry.register(H,z)}e.registerLinkProvider=V;function $(H,z){return L.CompletionProviderRegistry.register(H,z)}e.registerCompletionItemProvider=$;function Z(H,z){return L.ColorProviderRegistry.register(H,z)}e.registerColorProvider=Z;function X(H,z){return L.FoldingRangeProviderRegistry.register(H,z)}e.registerFoldingRangeProvider=X;function J(H,z){return L.DeclarationProviderRegistry.register(H,z)}e.registerDeclarationProvider=J;function ie(H,z){return L.SelectionRangeRegistry.register(H,z)}e.registerSelectionRangeProvider=ie;function de(H,z){return L.DocumentSemanticTokensProviderRegistry.register(H,z)}e.registerDocumentSemanticTokensProvider=de;function ue(H,z){return L.DocumentRangeSemanticTokensProviderRegistry.register(H,z)}e.registerDocumentRangeSemanticTokensProvider=ue;function q(H,z){return L.InlineCompletionsProviderRegistry.register(H,z)}e.registerInlineCompletionsProvider=q;function B(H,z){return L.InlayHintsProviderRegistry.register(H,z)}e.registerInlayHintsProvider=B;function j(){return{register:a,getLanguages:l,onLanguage:u,getEncodedLanguageId:c,setLanguageConfiguration:s,setColorMap:h,setTokensProvider:m,setMonarchTokensProvider:y,registerReferenceProvider:w,registerRenameProvider:g,registerCompletionItemProvider:$,registerSignatureHelpProvider:f,registerHoverProvider:_,registerDocumentSymbolProvider:D,registerDocumentHighlightProvider:N,registerLinkedEditingRangeProvider:I,registerDefinitionProvider:M,registerImplementationProvider:O,registerTypeDefinitionProvider:R,registerCodeLensProvider:P,registerCodeActionProvider:A,registerDocumentFormattingEditProvider:F,registerDocumentRangeFormattingEditProvider:E,registerOnTypeFormattingEditProvider:W,registerLinkProvider:V,registerColorProvider:Z,registerFoldingRangeProvider:X,registerDeclarationProvider:J,registerSelectionRangeProvider:ie,registerDocumentSemanticTokensProvider:de,registerDocumentRangeSemanticTokensProvider:ue,registerInlineCompletionsProvider:q,registerInlayHintsProvider:B,DocumentHighlightKind:C.DocumentHighlightKind,CompletionItemKind:C.CompletionItemKind,CompletionItemTag:C.CompletionItemTag,CompletionItemInsertTextRule:C.CompletionItemInsertTextRule,SymbolKind:C.SymbolKind,SymbolTag:C.SymbolTag,IndentAction:C.IndentAction,CompletionTriggerKind:C.CompletionTriggerKind,SignatureHelpTriggerKind:C.SignatureHelpTriggerKind,InlayHintKind:C.InlayHintKind,InlineCompletionTriggerKind:C.InlineCompletionTriggerKind,FoldingRangeKind:L.FoldingRangeKind}}e.createMonacoLanguagesAPI=j}),define(ee[690],te([0,1,35,222,688,689,17,265]),function(G,e,b,k,T,L,S,p){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,b.EditorOptions.wrappingIndent.defaultValue=0,b.EditorOptions.glyphMargin.defaultValue=!1,b.EditorOptions.autoIndent.defaultValue=3,b.EditorOptions.overviewRulerLanes.defaultValue=2,p.FormattingConflicts.setFormatterSelector((v,r,a)=>Promise.resolve(v[0]));const i=(0,k.createMonacoBaseAPI)();i.editor=(0,T.createMonacoEditorAPI)(),i.languages=(0,L.createMonacoLanguagesAPI)(),e.CancellationTokenSource=i.CancellationTokenSource,e.Emitter=i.Emitter,e.KeyCode=i.KeyCode,e.KeyMod=i.KeyMod,e.Position=i.Position,e.Range=i.Range,e.Selection=i.Selection,e.SelectionDirection=i.SelectionDirection,e.MarkerSeverity=i.MarkerSeverity,e.MarkerTag=i.MarkerTag,e.Uri=i.Uri,e.Token=i.Token,e.editor=i.editor,e.languages=i.languages,(((C=S.globals.MonacoEnvironment)===null||C===void 0?void 0:C.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=i),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})}),define(ee[691],te([0,1,24]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.WORKSPACE_EXTENSION=void 0,e.WORKSPACE_EXTENSION="code-workspace";function k(L){const S=L;return typeof(S==null?void 0:S.id)=="string"&&b.URI.isUri(S.uri)}e.isSingleFolderWorkspaceIdentifier=k;function T(L){if(L.configuration)return{id:L.id,configPath:L.configuration};if(L.folders.length===1)return{id:L.id,uri:L.folders[0].uri}}e.toWorkspaceIdentifier=T}),define(ee[692],te([0,1,519,73,43,116,45,8,691,163,299]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=void 0;class r{constructor(o){this._delegates=o}resolve(o){for(const h of this._delegates){let m=h.resolve(o);if(m!==void 0)return m}}}e.CompositeSnippetVariableResolver=r;class a{constructor(o,h,m,y){this._model=o,this._selection=h,this._selectionIdx=m,this._overtypingCapturer=y}resolve(o){const{name:h}=o;if(h==="SELECTION"||h==="TM_SELECTED_TEXT"){let m=this._model.getValueInRange(this._selection)||void 0,y=this._selection.startLineNumber!==this._selection.endLineNumber;if(!m&&this._overtypingCapturer){const w=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);w&&(m=w.value,y=w.multiline)}if(m&&y&&o.snippet){const w=this._model.getLineContent(this._selection.startLineNumber),g=(0,p.getLeadingWhitespace)(w,0,this._selection.startColumn-1);let f=g;o.snippet.walk(D=>D===o?!1:(D instanceof L.Text&&(f=(0,p.getLeadingWhitespace)((0,p.splitLines)(D.value).pop())),!0));const _=(0,p.commonPrefixLength)(f,g);m=m.replace(/(\r\n|\r|\n)(.*)/g,(D,N,I)=>`${N}${f.substr(_)}${I}`)}return m}else{if(h==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(h==="TM_CURRENT_WORD"){const m=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return m&&m.word||void 0}else{if(h==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(h==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}e.SelectionBasedVariableResolver=a;class l{constructor(o,h){this._labelService=o,this._model=h}resolve(o){const{name:h}=o;if(h==="TM_FILENAME")return k.basename(this._model.uri.fsPath);if(h==="TM_FILENAME_BASE"){const m=k.basename(this._model.uri.fsPath),y=m.lastIndexOf(".");return y<=0?m:m.slice(0,y)}else{if(h==="TM_DIRECTORY"&&this._labelService)return k.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,T.dirname)(this._model.uri));if(h==="TM_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri);if(h==="RELATIVE_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=l;class c{constructor(o,h,m,y){this._readClipboardText=o,this._selectionIdx=h,this._selectionCount=m,this._spread=y}resolve(o){if(o.name!=="CLIPBOARD")return;const h=this._readClipboardText();if(!!h){if(this._spread){const m=h.split(/\r\n|\n|\r/).filter(y=>!(0,p.isFalsyOrWhitespace)(y));if(m.length===this._selectionCount)return m[this._selectionIdx]}return h}}}e.ClipboardBasedVariableResolver=c;class u{constructor(o,h){this._model=o,this._selection=h}resolve(o){const{name:h}=o,m=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),y=S.LanguageConfigurationRegistry.getComments(m);if(!!y){if(h==="LINE_COMMENT")return y.lineCommentToken||void 0;if(h==="BLOCK_COMMENT_START")return y.blockCommentStartToken||void 0;if(h==="BLOCK_COMMENT_END")return y.blockCommentEndToken||void 0}}}e.CommentBasedVariableResolver=u;class s{constructor(){this._date=new Date}resolve(o){const{name:h}=o;if(h==="CURRENT_YEAR")return String(this._date.getFullYear());if(h==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(h==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(h==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(h==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(h==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(h==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(h==="CURRENT_DAY_NAME")return s.dayNames[this._date.getDay()];if(h==="CURRENT_DAY_NAME_SHORT")return s.dayNamesShort[this._date.getDay()];if(h==="CURRENT_MONTH_NAME")return s.monthNames[this._date.getMonth()];if(h==="CURRENT_MONTH_NAME_SHORT")return s.monthNamesShort[this._date.getMonth()];if(h==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}e.TimeBasedVariableResolver=s,s.dayNames=[b.localize(0,null),b.localize(1,null),b.localize(2,null),b.localize(3,null),b.localize(4,null),b.localize(5,null),b.localize(6,null)],s.dayNamesShort=[b.localize(7,null),b.localize(8,null),b.localize(9,null),b.localize(10,null),b.localize(11,null),b.localize(12,null),b.localize(13,null)],s.monthNames=[b.localize(14,null),b.localize(15,null),b.localize(16,null),b.localize(17,null),b.localize(18,null),b.localize(19,null),b.localize(20,null),b.localize(21,null),b.localize(22,null),b.localize(23,null),b.localize(24,null),b.localize(25,null)],s.monthNamesShort=[b.localize(26,null),b.localize(27,null),b.localize(28,null),b.localize(29,null),b.localize(30,null),b.localize(31,null),b.localize(32,null),b.localize(33,null),b.localize(34,null),b.localize(35,null),b.localize(36,null),b.localize(37,null)];class n{constructor(o){this._workspaceService=o}resolve(o){if(!this._workspaceService)return;const h=(0,C.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!!h){if(o.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(h);if(o.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(h)}}_resolveWorkspaceName(o){if((0,C.isSingleFolderWorkspaceIdentifier)(o))return k.basename(o.uri.path);let h=k.basename(o.configPath.path);return h.endsWith(C.WORKSPACE_EXTENSION)&&(h=h.substr(0,h.length-C.WORKSPACE_EXTENSION.length-1)),h}_resoveWorkspacePath(o){if((0,C.isSingleFolderWorkspaceIdentifier)(o))return(0,i.normalizeDriveLetter)(o.uri.fsPath);let h=k.basename(o.configPath.path),m=o.configPath.fsPath;return m.endsWith(h)&&(m=m.substr(0,m.length-h.length-1)),m?(0,i.normalizeDriveLetter)(m):"/"}}e.WorkspaceBasedVariableResolver=n;class d{resolve(o){const{name:h}=o;if(h==="RANDOM")return Math.random().toString().slice(-6);if(h==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(h==="UUID")return(0,v.generateUuid)()}}e.RandomBasedVariableResolver=d}),define(ee[279],te([0,1,19,2,8,56,3,21,31,193,9,116,692,11,22,121,360]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0,(0,l.registerThemingParticipant)((t,o)=>{function h(m){const y=t.getColor(m);return y?y.toString():"transparent"}o.addRule(`.monaco-editor .snippet-placeholder { background-color: ${h(c.snippetTabstopHighlightBackground)}; outline-color: ${h(c.snippetTabstopHighlightBorder)}; }`),o.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${h(c.snippetFinalTabstopHighlightBackground)}; outline-color: ${h(c.snippetFinalTabstopHighlightBorder)}; }`)});class s{constructor(o,h,m,y){this._editor=o,this._snippet=h,this._offset=m,this._snippetLineLeadingWhitespace=y,this._nestingLevel=1,this._placeholderGroups=(0,b.groupBy)(h.placeholders,r.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const o=this._editor.getModel();this._editor.changeDecorations(h=>{for(const m of this._snippet.placeholders){const y=this._snippet.offset(m),w=this._snippet.fullLen(m),g=S.Range.fromPositions(o.getPositionAt(this._offset+y),o.getPositionAt(this._offset+y+w)),f=m.isFinalTabstop?s._decor.inactiveFinal:s._decor.inactive,_=h.addDecoration(g,f);this._placeholderDecorations.set(m,_)}})}move(o){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let y=[];for(const w of this._placeholderGroups[this._placeholderGroupsIdx])if(w.transform){const g=this._placeholderDecorations.get(w),f=this._editor.getModel().getDecorationRange(g),_=this._editor.getModel().getValueInRange(f),D=w.transform.resolve(_).split(/\r\n|\r|\n/);for(let N=1;N<D.length;N++)D[N]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+D[N]);y.push(L.EditOperation.replace(f,D.join(this._editor.getModel().getEOL())))}y.length>0&&this._editor.executeEdits("snippet.placeholderTransform",y)}let h=!1;o===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,h=!0):o===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,h=!0);const m=this._editor.getModel().changeDecorations(y=>{const w=new Set,g=[];for(const f of this._placeholderGroups[this._placeholderGroupsIdx]){const _=this._placeholderDecorations.get(f),D=this._editor.getModel().getDecorationRange(_);g.push(new p.Selection(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn)),h=h&&this._hasPlaceholderBeenCollapsed(f),y.changeDecorationOptions(_,f.isFinalTabstop?s._decor.activeFinal:s._decor.active),w.add(f);for(const N of this._snippet.enclosingPlaceholders(f)){const I=this._placeholderDecorations.get(N);y.changeDecorationOptions(I,N.isFinalTabstop?s._decor.activeFinal:s._decor.active),w.add(N)}}for(const[f,_]of this._placeholderDecorations)w.has(f)||y.changeDecorationOptions(_,f.isFinalTabstop?s._decor.inactiveFinal:s._decor.inactive);return g});return h?this.move(o):m??[]}_hasPlaceholderBeenCollapsed(o){let h=o;for(;h;){if(h instanceof r.Placeholder){const m=this._placeholderDecorations.get(h);if(this._editor.getModel().getDecorationRange(m).isEmpty()&&h.toString().length>0)return!0}h=h.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const o=new Map;for(const h of this._placeholderGroups){let m;for(const y of h){if(y.isFinalTabstop)break;m||(m=[],o.set(y.index,m));const w=this._placeholderDecorations.get(y),g=this._editor.getModel().getDecorationRange(w);if(!g){o.delete(y.index);break}m.push(g)}}return o}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(o){const h=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(m=>{for(const y of this._placeholderGroups[this._placeholderGroupsIdx]){const w=o.shift();console.assert(!w._placeholderDecorations);const g=w._snippet.placeholderInfo.last.index;for(const _ of w._snippet.placeholderInfo.all)_.isFinalTabstop?_.index=y.index+(g+1)/this._nestingLevel:_.index=y.index+_.index/this._nestingLevel;this._snippet.replace(y,w._snippet.children);const f=this._placeholderDecorations.get(y);m.removeDecoration(f),this._placeholderDecorations.delete(y);for(const _ of w._snippet.placeholders){const D=w._snippet.offset(_),N=w._snippet.fullLen(_),I=S.Range.fromPositions(h.getPositionAt(w._offset+D),h.getPositionAt(w._offset+D+N)),M=m.addDecoration(I,s._decor.inactive);this._placeholderDecorations.set(_,M)}}this._placeholderGroups=(0,b.groupBy)(this._snippet.placeholders,r.Placeholder.compareByIndex)})}}e.OneSnippet=s,s._decor={active:C.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:C.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:C.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:C.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const n={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class d{constructor(o,h,m=n){this._templateMerges=[],this._snippets=[],this._editor=o,this._template=h,this._options=m}static adjustWhitespace(o,h,m,y,w){const g=o.getLineContent(h.lineNumber),f=(0,T.getLeadingWhitespace)(g,0,h.column-1);let _;return m.walk(D=>{if(!(D instanceof r.Text)||D.parent instanceof r.Choice)return!0;const N=D.value.split(/\r\n|\r|\n/);if(y){const M=m.offset(D);if(M===0)N[0]=o.normalizeIndentation(N[0]);else{_=_??m.toString();let O=_.charCodeAt(M-1);(O===10||O===13)&&(N[0]=o.normalizeIndentation(f+N[0]))}for(let O=1;O<N.length;O++)N[O]=o.normalizeIndentation(f+N[O])}const I=N.join(o.getEOL());return I!==D.value&&(D.parent.replace(D,[new r.Text(I)]),_=void 0),!0}),f}static adjustSelection(o,h,m,y){if(m!==0||y!==0){const{positionLineNumber:w,positionColumn:g}=h,f=g-m,_=g+y,D=o.validateRange({startLineNumber:w,startColumn:f,endLineNumber:w,endColumn:_});h=p.Selection.createWithDirection(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn,h.getDirection())}return h}static createEditsAndSnippets(o,h,m,y,w,g,f,_){const D=[],N=[];if(!o.hasModel())return{edits:D,snippets:N};const I=o.getModel(),M=o.invokeWithinContext(V=>V.get(i.IWorkspaceContextService,v.optional)),O=o.invokeWithinContext(V=>new a.ModelBasedVariableResolver(V.get(u.ILabelService,v.optional),I)),R=()=>f;let P=0,A=I.getValueInRange(d.adjustSelection(I,o.getSelection(),m,0)),F=I.getValueInRange(d.adjustSelection(I,o.getSelection(),0,y)),E=I.getLineFirstNonWhitespaceColumn(o.getSelection().positionLineNumber);const W=o.getSelections().map((V,$)=>({selection:V,idx:$})).sort((V,$)=>S.Range.compareRangesUsingStarts(V.selection,$.selection));for(const{selection:V,idx:$}of W){let Z=d.adjustSelection(I,V,m,0),X=d.adjustSelection(I,V,0,y);A!==I.getValueInRange(Z)&&(Z=V),F!==I.getValueInRange(X)&&(X=V);const J=V.setStartPosition(Z.startLineNumber,Z.startColumn).setEndPosition(X.endLineNumber,X.endColumn),ie=new r.SnippetParser().parse(h,!0,w),de=J.getStartPosition(),ue=d.adjustWhitespace(I,de,ie,g||$>0&&E!==I.getLineFirstNonWhitespaceColumn(V.positionLineNumber),!0);ie.resolveVariables(new a.CompositeSnippetVariableResolver([O,new a.ClipboardBasedVariableResolver(R,$,W.length,o.getOption(69)==="spread"),new a.SelectionBasedVariableResolver(I,V,$,_),new a.CommentBasedVariableResolver(I,V),new a.TimeBasedVariableResolver,new a.WorkspaceBasedVariableResolver(M),new a.RandomBasedVariableResolver]));const q=I.getOffsetAt(de)+P;P+=ie.toString().length-I.getValueLengthInRange(J),D[$]=L.EditOperation.replace(J,ie.toString()),D[$].identifier={major:$,minor:0},N[$]=new s(o,ie,q,ue)}return{edits:D,snippets:N}}dispose(){(0,k.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:o,snippets:h}=d.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=h,this._editor.executeEdits("snippet",o,m=>this._snippets[0].hasPlaceholder?this._move(!0):m.filter(y=>!!y.identifier).map(y=>p.Selection.fromPositions(y.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(o,h=n){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,o]);const{edits:m,snippets:y}=d.createEditsAndSnippets(this._editor,o,h.overwriteBefore,h.overwriteAfter,!0,h.adjustWhitespace,h.clipboardText,h.overtypingCapturer);this._editor.executeEdits("snippet",m,w=>{for(const g of this._snippets)g.merge(y);return console.assert(y.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):w.filter(g=>!!g.identifier).map(g=>p.Selection.fromPositions(g.range.getEndPosition()))})}next(){const o=this._move(!0);this._editor.setSelections(o),this._editor.revealPositionInCenterIfOutsideViewport(o[0].getPosition())}prev(){const o=this._move(!1);this._editor.setSelections(o),this._editor.revealPositionInCenterIfOutsideViewport(o[0].getPosition())}_move(o){const h=[];for(const m of this._snippets){const y=m.move(o);h.push(...y)}return h}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const o=this._editor.getSelections();if(o.length<this._snippets.length)return!1;let h=new Map;for(const m of this._snippets){const y=m.computePossibleSelections();if(h.size===0)for(const[w,g]of y){g.sort(S.Range.compareRangesUsingStarts);for(const f of o)if(g[0].containsRange(f)){h.set(w,[]);break}}if(h.size===0)return!1;h.forEach((w,g)=>{w.push(...y.get(g))})}o.sort(S.Range.compareRangesUsingStarts);for(let[m,y]of h){if(y.length!==o.length){h.delete(m);continue}y.sort(S.Range.compareRangesUsingStarts);for(let w=0;w<y.length;w++)if(!y[w].containsRange(o[w])){h.delete(m);continue}}return h.size>0}}e.SnippetSession=d}),define(ee[195],te([0,1,2,14,3,21,25,123,16,70,279,518]),function(G,e,b,k,T,L,S,p,C,i,v,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const a={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let l=class ot{constructor(s,n,d){this._editor=s,this._logService=n,this._snippetListener=new b.DisposableStore,this._modelVersionId=-1,this._inSnippet=ot.InSnippetMode.bindTo(d),this._hasNextTabstop=ot.HasNextTabstop.bindTo(d),this._hasPrevTabstop=ot.HasPrevTabstop.bindTo(d)}static get(s){return s.getContribution(ot.ID)}dispose(){var s;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(s=this._session)===null||s===void 0||s.dispose(),this._snippetListener.dispose()}insert(s,n){try{this._doInsert(s,typeof n=="undefined"?a:Object.assign(Object.assign({},a),n))}catch(d){this.cancel(),this._logService.error(d),this._logService.error("snippet_error"),this._logService.error("insert_template=",s),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(s,n){!this._editor.hasModel()||(this._snippetListener.clear(),n.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(s,n):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new v.SnippetSession(this._editor,s,n),this._session.insert()),n.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(d=>d.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:s}=this._session;if(!s){this._currentChoice=void 0;return}if(this._currentChoice!==s){this._currentChoice=s,this._editor.setSelections(this._editor.getSelections().map(d=>L.Selection.fromPositions(d.getStartPosition())));const[n]=s.options;(0,p.showSimpleSuggestions)(this._editor,s.options.map((d,t)=>({kind:13,label:d.value,insertText:d.value,sortText:"a".repeat(t+1),range:T.Range.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,n.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(s=!1){var n;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(n=this._session)===null||n===void 0||n.dispose(),this._session=void 0,this._modelVersionId=-1,s&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};l.ID="snippetController2",l.InSnippetMode=new C.RawContextKey("inSnippetMode",!1,(0,r.localize)(0,null)),l.HasNextTabstop=new C.RawContextKey("hasNextTabstop",!1,(0,r.localize)(1,null)),l.HasPrevTabstop=new C.RawContextKey("hasPrevTabstop",!1,(0,r.localize)(2,null)),l=Re([Ce(1,i.ILogService),Ce(2,C.IContextKeyService)],l),e.SnippetController2=l,(0,k.registerEditorContribution)(l.ID,l);const c=k.EditorCommand.bindToContribution(l.get);(0,k.registerEditorCommand)(new c({id:"jumpToNextSnippetPlaceholder",precondition:C.ContextKeyExpr.and(l.InSnippetMode,l.HasNextTabstop),handler:u=>u.next(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:2}})),(0,k.registerEditorCommand)(new c({id:"jumpToPrevSnippetPlaceholder",precondition:C.ContextKeyExpr.and(l.InSnippetMode,l.HasPrevTabstop),handler:u=>u.prev(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:1024|2}})),(0,k.registerEditorCommand)(new c({id:"leaveSnippet",precondition:l.InSnippetMode,handler:u=>u.cancel(!0),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:9,secondary:[1024|9]}})),(0,k.registerEditorCommand)(new c({id:"acceptSnippet",precondition:l.InSnippetMode,handler:u=>u.finish()}))}),define(ee[693],te([0,1,15,12,6,2,21,18,422,123,195,23,76,425,8,86,89,70,16,38]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class o{constructor(g,f,_,D){this.leadingLineContent=g.getLineContent(f.lineNumber).substr(0,f.column-1),this.leadingWord=g.getWordUntilPosition(f),this.lineNumber=f.lineNumber,this.column=f.column,this.auto=_,this.shy=D}static shouldAutoTrigger(g){if(!g.hasModel())return!1;const f=g.getModel(),_=g.getPosition();f.tokenizeIfCheap(_.lineNumber);const D=f.getWordAtPosition(_);return!(!D||D.endColumn!==_.column||!isNaN(Number(D.word)))}}e.LineContext=o;function h(w,g){return Boolean(w.getContextKeyValue("inlineSuggestionVisible"))&&!Boolean(g.getValue("editor.inlineSuggest.allowQuickSuggestions"))}function m(w,g){return Boolean(w.getContextKeyValue("inlineSuggestionVisible"))&&!Boolean(g.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters"))}let y=class ii{constructor(g,f,_,D,N,I,M){this._editor=g,this._editorWorkerService=f,this._clipboardService=_,this._telemetryService=D,this._logService=N,this._contextKeyService=I,this._configurationService=M,this._toDispose=new L.DisposableStore,this._quickSuggestDelay=10,this._triggerCharacterListener=new L.DisposableStore,this._triggerQuickSuggest=new b.TimeoutTimer,this._state=0,this._completionDisposables=new L.DisposableStore,this._onDidCancel=new T.Emitter,this._onDidTrigger=new T.Emitter,this._onDidSuggest=new T.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new S.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(p.CompletionProviderRegistry.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(R=>{this._onCursorChange(R)}));let O=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{O=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{O=!1,this._refilterCompletionItems()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{O||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,L.dispose)(this._triggerCharacterListener),(0,L.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(78),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(79)||!this._editor.hasModel()||!this._editor.getOption(108))return;const g=new Map;for(const _ of p.CompletionProviderRegistry.all(this._editor.getModel()))for(const D of _.triggerCharacters||[]){let N=g.get(D);N||(N=new Set,N.add((0,i.getSnippetSuggestSupport)()),g.set(D,N)),N.add(_)}const f=_=>{if(m(this._contextKeyService,this._configurationService)||o.shouldAutoTrigger(this._editor))return;if(!_){const I=this._editor.getPosition();_=this._editor.getModel().getLineContent(I.lineNumber).substr(0,I.column-1)}let D="";(0,c.isLowSurrogate)(_.charCodeAt(_.length-1))?(0,c.isHighSurrogate)(_.charCodeAt(_.length-2))&&(D=_.substr(_.length-2)):D=_.charAt(_.length-1);const N=g.get(D);if(N){const I=this._completionModel?{items:this._completionModel.adopt(N),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:D},Boolean(this._completionModel),N,I)}};this._triggerCharacterListener.add(this._editor.onDidType(f)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(f))}get state(){return this._state}cancel(g=!1){var f;this._state!==0&&(this._triggerQuickSuggest.cancel(),(f=this._requestToken)===null||f===void 0||f.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:g}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!p.CompletionProviderRegistry.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(g){if(!this._editor.hasModel())return;const f=this._editor.getModel(),_=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!g.selection.isEmpty()||g.reason!==0&&g.reason!==3||g.source!=="keyboard"&&g.source!=="deleteLeft"){this.cancel();return}if(!!p.CompletionProviderRegistry.has(f))if(this._state===0&&g.reason===0){if(this._editor.getOption(77)===!1||!_.containsRange(this._currentSelection)&&!_.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())||this._editor.getOption(105).snippetsPreventQuickSuggestions&&v.SnippetController2.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!o.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const D=this._editor.getModel(),N=this._editor.getPosition(),I=this._editor.getOption(77);if(I!==!1){if(I!==!0){D.tokenizeIfCheap(N.lineNumber);const M=D.getLineTokens(N.lineNumber),O=M.getStandardTokenType(M.findTokenIndexAtOffset(Math.max(N.column-1-1,0)));if(!(I.other&&O===0||I.comments&&O===1||I.strings&&O===2))return}h(this._contextKeyService,this._configurationService)||this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)}else this._state!==0&&g.reason===3&&this._refilterCompletionItems()}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const g=this._editor.getModel(),f=this._editor.getPosition(),_=new o(g,f,this._state===2,!1);this._onNewContext(_)})}trigger(g,f=!1,_,D){var N;if(!this._editor.hasModel())return;const I=this._editor.getModel(),M=g.auto,O=new o(I,this._editor.getPosition(),M,g.shy);this.cancel(f),this._state=M?2:1,this._onDidTrigger.fire({auto:M,shy:g.shy,position:this._editor.getPosition()}),this._context=O;let R={triggerKind:(N=g.triggerKind)!==null&&N!==void 0?N:0};g.triggerCharacter&&(R={triggerKind:1,triggerCharacter:g.triggerCharacter}),this._requestToken=new r.CancellationTokenSource;const P=this._editor.getOption(100);let A=1;switch(P){case"top":A=0;break;case"bottom":A=2;break}const{itemKind:F,showDeprecated:E}=ii._createSuggestFilter(this._editor),W=l.WordDistance.create(this._editorWorkerService,this._editor),V=(0,i.provideSuggestionItems)(I,this._editor.getPosition(),new i.CompletionOptions(A,F,_,E),R,this._requestToken.token);Promise.all([V,W]).then(([$,Z])=>Ie(this,void 0,void 0,function*(){var X;if((X=this._requestToken)===null||X===void 0||X.dispose(),!this._editor.hasModel())return;let J=D==null?void 0:D.clipboardText;if(!J&&$.needsClipboard&&(J=yield this._clipboardService.readText()),this._state===0)return;const ie=this._editor.getModel();let de=$.items;if(D){const q=(0,i.getSuggestionComparator)(A);de=de.concat(D.items).sort(q)}const ue=new o(ie,this._editor.getPosition(),M,g.shy);this._completionModel=new C.CompletionModel(de,this._context.column,{leadingLineContent:ue.leadingLineContent,characterCountDelta:ue.column-this._context.column},Z,this._editor.getOption(105),this._editor.getOption(100),J),this._completionDisposables.add($.disposable),this._onNewContext(ue),this._reportDurationsTelemetry($.durations)})).catch(k.onUnexpectedError)}_reportDurationsTelemetry(g){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(g)}),this._logService.debug("suggest.durations.json",g)})}static _createSuggestFilter(g){const f=new Set;g.getOption(100)==="none"&&f.add(27);const D=g.getOption(105);return D.showMethods||f.add(0),D.showFunctions||f.add(1),D.showConstructors||f.add(2),D.showFields||f.add(3),D.showVariables||f.add(4),D.showClasses||f.add(5),D.showStructs||f.add(6),D.showInterfaces||f.add(7),D.showModules||f.add(8),D.showProperties||f.add(9),D.showEvents||f.add(10),D.showOperators||f.add(11),D.showUnits||f.add(12),D.showValues||f.add(13),D.showConstants||f.add(14),D.showEnums||f.add(15),D.showEnumMembers||f.add(16),D.showKeywords||f.add(17),D.showWords||f.add(18),D.showColors||f.add(19),D.showFiles||f.add(20),D.showReferences||f.add(21),D.showColors||f.add(22),D.showFolders||f.add(23),D.showTypeParameters||f.add(24),D.showSnippets||f.add(27),D.showUsers||f.add(25),D.showIssues||f.add(26),{itemKind:f,showDeprecated:D.showDeprecated}}_onNewContext(g){if(!!this._context){if(g.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,c.getLeadingWhitespace)(g.leadingLineContent)!==(0,c.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(g.column<this._context.column){g.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(g.leadingWord.word.length!==0&&g.leadingWord.startColumn>this._context.leadingWord.startColumn){const f=new Set(p.CompletionProviderRegistry.all(this._editor.getModel()));for(let D of this._completionModel.allProvider)f.delete(D);const _=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,f,{items:_,clipboardText:this._completionModel.clipboardText});return}if(g.column>this._context.column&&this._completionModel.incomplete.size>0&&g.leadingWord.word.length!==0){const{incomplete:f}=this._completionModel,_=this._completionModel.adopt(f);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,f,{items:_,clipboardText:this._completionModel.clipboardText})}else{let f=this._completionModel.lineContext,_=!1;if(this._completionModel.lineContext={leadingLineContent:g.leadingLineContent,characterCountDelta:g.column-this._context.column},this._completionModel.items.length===0){if(o.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<g.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=f,_=this._completionModel.items.length>0,_&&g.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:_})}}}}};y=Re([Ce(1,a.IEditorWorkerService),Ce(2,u.IClipboardService),Ce(3,s.ITelemetryService),Ce(4,n.ILogService),Ce(5,d.IContextKeyService),Ce(6,t.IConfigurationService)],y),e.SuggestModel=y}),define(ee[280],te([0,1,44,19,12,41,2,66,14,56,3,25,195,116,590,521,26,16,9,88,123,562,693,680,563,6,15,20,423,424,13,17,33,23,70,81]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d,t,o,h,m,y,w,g,f,_,D,N,I,M,O,R,P,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;let F=!1;class E{constructor(J,ie){if(this._model=J,this._position=ie,J.getLineMaxColumn(ie.lineNumber)!==ie.column){const ue=J.getOffsetAt(ie),q=J.getPositionAt(ue+1);this._marker=J.deltaDecorations([],[{range:v.Range.fromPositions(ie,q),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(J){if(this._model.isDisposed()||this._position.lineNumber!==J.lineNumber)return 0;if(this._marker){const ie=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(ie.getStartPosition())-this._model.getOffsetAt(J)}else return this._model.getLineMaxColumn(J.lineNumber)-J.column}}let W=class ni{constructor(J,ie,de,ue,q,B){this._memoryService=ie,this._commandService=de,this._contextKeyService=ue,this._instantiationService=q,this._logService=B,this._lineSuffix=new S.MutableDisposable,this._toDispose=new S.DisposableStore,this.editor=J,this.model=q.createInstance(m.SuggestModel,this.editor);const j=o.Context.InsertMode.bindTo(ue);j.set(J.getOption(105).insertMode),this.model.onDidTrigger(()=>j.set(J.getOption(105).insertMode)),this.widget=this._toDispose.add(new f.IdleValue(()=>{const Q=this._instantiationService.createInstance(y.SuggestWidget,this.editor);this._toDispose.add(Q),this._toDispose.add(Q.onDidSelect(re=>this._insertSuggestion(re,0),this));const x=new D.CommitCharacterController(this.editor,Q,re=>this._insertSuggestion(re,2));this._toDispose.add(x),this._toDispose.add(this.model.onDidSuggest(re=>{re.completionModel.items.length===0&&x.reset()}));const le=o.Context.MakesTextEdit.bindTo(this._contextKeyService),oe=o.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),K=o.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,S.toDisposable)(()=>{le.reset(),oe.reset(),K.reset()})),this._toDispose.add(Q.onDidFocus(({item:re})=>{const ae=this.editor.getPosition(),he=re.editStart.column,U=ae.column;let se=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!re.completion.command&&!re.completion.additionalTextEdits&&!(re.completion.insertTextRules&4)&&U-he===re.completion.insertText.length&&(se=this.editor.getModel().getValueInRange({startLineNumber:ae.lineNumber,startColumn:he,endLineNumber:ae.lineNumber,endColumn:U})!==re.completion.insertText),le.set(se),oe.set(!I.Position.equals(re.editInsertEnd,re.editReplaceEnd)),K.set(Boolean(re.provider.resolveCompletionItem)||Boolean(re.completion.documentation)||re.completion.detail!==re.completion.label)})),this._toDispose.add(Q.onDetailsKeyDown(re=>{if(re.toKeybinding().equals(new L.SimpleKeybinding(!0,!1,!1,!1,33))||M.isMacintosh&&re.toKeybinding().equals(new L.SimpleKeybinding(!1,!1,!1,!0,33))){re.stopPropagation();return}re.toKeybinding().isModifierKey()||this.editor.focus()})),Q})),this._overtypingCapturer=this._toDispose.add(new f.IdleValue(()=>this._toDispose.add(new N.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new f.IdleValue(()=>this._toDispose.add(new h.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(q.createInstance(w.WordContextKey,J)),this._toDispose.add(this.model.onDidTrigger(Q=>{this.widget.value.showTriggered(Q.auto,Q.shy?250:50),this._lineSuffix.value=new E(this.editor.getModel(),Q.position)})),this._toDispose.add(this.model.onDidSuggest(Q=>{if(!Q.shy){let x=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Q.completionModel.items);this.widget.value.showSuggestions(Q.completionModel,x,Q.isFrozen,Q.auto)}})),this._toDispose.add(this.model.onDidCancel(Q=>{Q.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{F||(this.model.cancel(),this.model.clear())}));let H=o.Context.AcceptSuggestionsOnEnter.bindTo(ue),z=()=>{const Q=this.editor.getOption(1);H.set(Q==="on"||Q==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>z())),z()}static get(J){return J.getContribution(ni.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(J,ie){if(!J||!J.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const de=this.editor.getModel(),ue=de.getAlternativeVersionId(),{item:q}=J,B=[],j=new R.CancellationTokenSource;ie&1||this.editor.pushUndoStop();const H=this.getOverwriteInfo(q,Boolean(ie&8));if(this._memoryService.memorize(de,this.editor.getPosition(),q),Array.isArray(q.completion.additionalTextEdits)){const Q=p.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",q.completion.additionalTextEdits.map(x=>i.EditOperation.replace(v.Range.lift(x.range),x.text))),Q.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!q.isResolved){const Q=new A.StopWatch(!0);let x;const le=de.onDidChangeContent(ae=>{if(ae.isFlush){j.cancel(),le.dispose();return}for(let he of ae.changes){const U=v.Range.getEndPosition(he.range);(!x||I.Position.isBefore(U,x))&&(x=U)}});let oe=ie;ie|=2;let K=!1,re=this.editor.onWillType(()=>{re.dispose(),K=!0,oe&2||this.editor.pushUndoStop()});B.push(q.resolve(j.token).then(()=>{if(!q.completion.additionalTextEdits||j.token.isCancellationRequested||x&&q.completion.additionalTextEdits.some(he=>I.Position.isBefore(x,v.Range.getStartPosition(he.range))))return!1;K&&this.editor.pushUndoStop();const ae=p.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",q.completion.additionalTextEdits.map(he=>i.EditOperation.replace(v.Range.lift(he.range),he.text))),ae.restoreRelativeVerticalPositionOfCursor(this.editor),(K||!(oe&2))&&this.editor.pushUndoStop(),!0}).then(ae=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",Q.elapsed(),ae),le.dispose(),re.dispose()}))}let{insertText:z}=q.completion;q.completion.insertTextRules&4||(z=l.SnippetParser.escape(z)),a.SnippetController2.get(this.editor).insert(z,{overwriteBefore:H.overwriteBefore,overwriteAfter:H.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(q.completion.insertTextRules&1),clipboardText:J.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),ie&2||this.editor.pushUndoStop(),q.completion.command?q.completion.command.id===V.id?this.model.trigger({auto:!0,shy:!1},!0):(B.push(this._commandService.executeCommand(q.completion.command.id,...q.completion.command.arguments?[...q.completion.command.arguments]:[]).catch(T.onUnexpectedError)),this.model.cancel()):this.model.cancel(),ie&4&&this._alternatives.value.set(J,Q=>{for(j.cancel();de.canUndo();){ue!==de.getAlternativeVersionId()&&de.undo(),this._insertSuggestion(Q,1|2|(ie&8?8:0));break}}),this._alertCompletionItem(q),Promise.all(B).finally(()=>{this.model.clear(),j.dispose()})}getOverwriteInfo(J,ie){(0,_.assertType)(this.editor.hasModel());let de=this.editor.getOption(105).insertMode==="replace";ie&&(de=!de);const ue=J.position.column-J.editStart.column,q=(de?J.editReplaceEnd.column:J.editInsertEnd.column)-J.position.column,B=this.editor.getPosition().column-J.position.column,j=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:ue+B,overwriteAfter:q+j}}_alertCompletionItem(J){if((0,k.isNonEmptyArray)(J.completion.additionalTextEdits)){let ie=u.localize(0,null,J.textLabel,J.completion.additionalTextEdits.length);(0,b.alert)(ie)}}triggerSuggest(J){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,J),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())}triggerSuggestAndAcceptBest(J){if(!this.editor.hasModel())return;const ie=this.editor.getPosition(),de=()=>{ie.equals(this.editor.getPosition())&&this._commandService.executeCommand(J.fallback)},ue=q=>{if(q.completion.insertTextRules&4||q.completion.additionalTextEdits)return!0;const B=this.editor.getPosition(),j=q.editStart.column,H=B.column;return H-j!==q.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:B.lineNumber,startColumn:j,endLineNumber:B.lineNumber,endColumn:H})!==q.completion.insertText};g.Event.once(this.model.onDidTrigger)(q=>{let B=[];g.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,S.dispose)(B),de()},void 0,B),this.model.onDidSuggest(({completionModel:j})=>{if((0,S.dispose)(B),j.items.length===0){de();return}const H=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),j.items),z=j.items[H];if(!ue(z)){de();return}this.editor.pushUndoStop(),this._insertSuggestion({index:H,item:z,model:j},4|1|2)},void 0,B)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(ie.lineNumber,0),this.editor.focus()}acceptSelectedSuggestion(J,ie){const de=this.widget.value.getFocusedItem();let ue=0;J&&(ue|=4),ie&&(ue|=8),this._insertSuggestion(de,ue)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.value.stopForceRenderingAbove()}};W.ID="editor.contrib.suggestController",W=Re([Ce(1,c.ISuggestMemoryService),Ce(2,s.ICommandService),Ce(3,n.IContextKeyService),Ce(4,d.IInstantiationService),Ce(5,P.ILogService)],W),e.SuggestController=W;class V extends C.EditorAction{constructor(){super({id:V.id,label:u.localize(1,null),alias:"Trigger Suggest",precondition:n.ContextKeyExpr.and(r.EditorContextKeys.writable,r.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(J,ie){const de=W.get(ie);!de||de.triggerSuggest()}}e.TriggerSuggestAction=V,V.id="editor.action.triggerSuggest",(0,C.registerEditorContribution)(W.ID,W),(0,C.registerEditorAction)(V);const $=100+90,Z=C.EditorCommand.bindToContribution(W.get);(0,C.registerEditorCommand)(new Z({id:"acceptSelectedSuggestion",precondition:o.Context.Visible,handler(X){X.acceptSelectedSuggestion(!0,!1)}})),t.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:n.ContextKeyExpr.and(o.Context.Visible,r.EditorContextKeys.textInputFocus),primary:2,weight:$}),t.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:n.ContextKeyExpr.and(o.Context.Visible,r.EditorContextKeys.textInputFocus,o.Context.AcceptSuggestionsOnEnter,o.Context.MakesTextEdit),primary:3,weight:$}),O.MenuRegistry.appendMenuItem(o.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:u.localize(2,null)},group:"left",order:1,when:o.Context.HasInsertAndReplaceRange.toNegated()}),O.MenuRegistry.appendMenuItem(o.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:u.localize(3,null)},group:"left",order:1,when:n.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("insert"))}),O.MenuRegistry.appendMenuItem(o.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:u.localize(4,null)},group:"left",order:1,when:n.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("replace"))}),(0,C.registerEditorCommand)(new Z({id:"acceptAlternativeSelectedSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,r.EditorContextKeys.textInputFocus),kbOpts:{weight:$,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(X){X.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:o.suggestWidgetStatusbarMenu,group:"left",order:2,when:n.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("insert")),title:u.localize(5,null)},{menuId:o.suggestWidgetStatusbarMenu,group:"left",order:2,when:n.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("replace")),title:u.localize(6,null)}]})),s.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,C.registerEditorCommand)(new Z({id:"hideSuggestWidget",precondition:o.Context.Visible,handler:X=>X.cancelSuggestWidget(),kbOpts:{weight:$,kbExpr:r.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})),(0,C.registerEditorCommand)(new Z({id:"selectNextSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:X=>X.selectNextSuggestion(),kbOpts:{weight:$,kbExpr:r.EditorContextKeys.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),(0,C.registerEditorCommand)(new Z({id:"selectNextPageSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:X=>X.selectNextPageSuggestion(),kbOpts:{weight:$,kbExpr:r.EditorContextKeys.textInputFocus,primary:12,secondary:[2048|12]}})),(0,C.registerEditorCommand)(new Z({id:"selectLastSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:X=>X.selectLastSuggestion()})),(0,C.registerEditorCommand)(new Z({id:"selectPrevSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:X=>X.selectPrevSuggestion(),kbOpts:{weight:$,kbExpr:r.EditorContextKeys.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),(0,C.registerEditorCommand)(new Z({id:"selectPrevPageSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:X=>X.selectPrevPageSuggestion(),kbOpts:{weight:$,kbExpr:r.EditorContextKeys.textInputFocus,primary:11,secondary:[2048|11]}})),(0,C.registerEditorCommand)(new Z({id:"selectFirstSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:X=>X.selectFirstSuggestion()})),(0,C.registerEditorCommand)(new Z({id:"toggleSuggestionDetails",precondition:o.Context.Visible,handler:X=>X.toggleSuggestionDetails(),kbOpts:{weight:$,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|10,mac:{primary:256|10}},menuOpts:[{menuId:o.suggestWidgetStatusbarMenu,group:"right",order:1,when:n.ContextKeyExpr.and(o.Context.DetailsVisible,o.Context.CanResolve),title:u.localize(7,null)},{menuId:o.suggestWidgetStatusbarMenu,group:"right",order:1,when:n.ContextKeyExpr.and(o.Context.DetailsVisible.toNegated(),o.Context.CanResolve),title:u.localize(8,null)}]})),(0,C.registerEditorCommand)(new Z({id:"toggleExplainMode",precondition:o.Context.Visible,handler:X=>X.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}})),(0,C.registerEditorCommand)(new Z({id:"toggleSuggestionFocus",precondition:o.Context.Visible,handler:X=>X.toggleSuggestionFocus(),kbOpts:{weight:$,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),(0,C.registerEditorCommand)(new Z({id:"insertBestCompletion",precondition:n.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,n.ContextKeyExpr.equals("config.editor.tabCompletion","on"),w.WordContextKey.AtEnd,o.Context.Visible.toNegated(),h.SuggestAlternatives.OtherSuggestions.toNegated(),a.SnippetController2.InSnippetMode.toNegated()),handler:(X,J)=>{X.triggerSuggestAndAcceptBest((0,_.isObject)(J)?Object.assign({fallback:"tab"},J):{fallback:"tab"})},kbOpts:{weight:$,primary:2}})),(0,C.registerEditorCommand)(new Z({id:"insertNextSuggestion",precondition:n.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,n.ContextKeyExpr.equals("config.editor.tabCompletion","on"),h.SuggestAlternatives.OtherSuggestions,o.Context.Visible.toNegated(),a.SnippetController2.InSnippetMode.toNegated()),handler:X=>X.acceptNextSuggestion(),kbOpts:{weight:$,kbExpr:r.EditorContextKeys.textInputFocus,primary:2}})),(0,C.registerEditorCommand)(new Z({id:"insertPrevSuggestion",precondition:n.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,n.ContextKeyExpr.equals("config.editor.tabCompletion","on"),h.SuggestAlternatives.OtherSuggestions,o.Context.Visible.toNegated(),a.SnippetController2.InSnippetMode.toNegated()),handler:X=>X.acceptPrevSuggestion(),kbOpts:{weight:$,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|2}})),(0,C.registerEditorAction)(class extends C.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:u.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(X,J){W.get(J).resetWidgetSize()}})}),define(ee[694],te([0,1,15,6,2,3,233,267,116,279,280]),function(G,e,b,k,T,L,S,p,C,i,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetAdapterModel=void 0;class r extends S.BaseGhostTextWidgetModel{constructor(c){super(c);this.isSuggestWidgetVisible=!1,this.currentGhostText=void 0,this._isActive=!1,this.isShiftKeyPressed=!1,this.minReservedLineCount=0,this.setInactiveDelayed=this._register(new b.RunOnceScheduler(()=>{this.isSuggestWidgetVisible||this.isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100));const u=v.SuggestController.get(this.editor);if(u){let s=!1;const n=()=>{s||(s=!0,this._register(u.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this._isActive=!0,this.updateFromSuggestion()})),this._register(u.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.minReservedLineCount=0,this.updateFromSuggestion()})),this._register(u.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this._isActive=!0,this.updateFromSuggestion()})))};this._register(k.Event.once(u.model.onDidTrigger)(d=>{n()}))}this.updateFromSuggestion(),this._register(this.editor.onDidChangeCursorPosition(s=>{this.isSuggestionPreviewEnabled()&&this.update()})),this._register((0,T.toDisposable)(()=>{const s=v.SuggestController.get(this.editor);s&&s.stopForceRenderingAbove()})),this._register(c.onKeyDown(s=>{s.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.updateFromSuggestion())})),this._register(c.onKeyUp(s=>{s.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.updateFromSuggestion())}))}get isActive(){return this._isActive}setExpanded(c){super.setExpanded(c),this.updateFromSuggestion()}isSuggestionPreviewEnabled(){return this.editor.getOption(105).preview}updateFromSuggestion(){const c=v.SuggestController.get(this.editor);if(!c){this.setCurrentInlineCompletion(void 0);return}if(!this.isSuggestWidgetVisible){this.setCurrentInlineCompletion(void 0);return}const u=c.widget.value.getFocusedItem();if(!u){this.setCurrentInlineCompletion(void 0);return}this.setCurrentInlineCompletion(a(c,this.editor.getPosition(),u,this.isShiftKeyPressed))}setCurrentInlineCompletion(c){this.currentCompletion=c,this.update()}update(){const c=this.currentCompletion,u=this.editor.getOptions().get(105).previewMode;this.setGhostText(c?(0,p.inlineCompletionToGhostText)(c,this.editor.getModel(),u,this.editor.getPosition())||new S.GhostText(c.range.endLineNumber,[],this.minReservedLineCount):void 0)}setGhostText(c){if(S.GhostText.equals(this.currentGhostText,c))return;this.currentGhostText=c,this.currentGhostText&&this.expanded&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,...this.currentGhostText.parts.map(s=>s.lines.length-1)));const u=v.SuggestController.get(this.editor);u&&(this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?u.forceRenderingAbove():u.stopForceRenderingAbove()),this.onDidChangeEmitter.fire()}get ghostText(){return this.isSuggestionPreviewEnabled()?this.currentGhostText:void 0}}e.SuggestWidgetAdapterModel=r;function a(l,c,u,s){const n=u.item;if(Array.isArray(n.completion.additionalTextEdits))return{text:"",range:L.Range.fromPositions(c,c)};let{insertText:d}=n.completion;if(n.completion.insertTextRules&4){const o=new C.SnippetParser().parse(d),h=l.editor.getModel();i.SnippetSession.adjustWhitespace(h,c,o,!0,!0),d=o.toString()}const t=l.getOverwriteInfo(n,s);return{text:d,range:L.Range.fromPositions(c.delta(0,-t.overwriteBefore),c.delta(0,Math.max(t.overwriteAfter,0)))}}}),define(ee[695],te([0,1,2,267,694,26,6,13,418]),function(G,e,b,k,T,L,S,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextModel=e.DelegatingModel=void 0;class i extends b.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new S.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new b.MutableDisposable)}get targetModel(){var a;return(a=this.currentModelRef.value)===null||a===void 0?void 0:a.object}setTargetModel(a){var l;((l=this.currentModelRef.value)===null||l===void 0?void 0:l.object)!==a&&(this.currentModelRef.clear(),this.currentModelRef.value=a?(0,C.createDisposableRef)(a,a.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var a,l;return this.hasCachedGhostText||(this.cachedGhostText=(l=(a=this.currentModelRef.value)===null||a===void 0?void 0:a.object)===null||l===void 0?void 0:l.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(a){var l;(l=this.targetModel)===null||l===void 0||l.setExpanded(a)}get expanded(){return this.targetModel?this.targetModel.expanded:!1}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}e.DelegatingModel=i;let v=class extends i{constructor(a,l){super();this.editor=a,this.commandService=l,this.suggestWidgetAdapterModel=this._register(new T.SuggestWidgetAdapterModel(this.editor)),this.inlineCompletionsModel=this._register(new k.InlineCompletionsModel(this.editor,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(a){var l;const c=(l=this.activeInlineCompletionsModel)===null||l===void 0?void 0:l.ghostText;return c?c.parts.some(u=>a.containsPosition(new p.Position(c.lineNumber,u.column))):!1}triggerInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.trigger()}commitInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.commitCurrentSuggestion()}hideInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.hide()}showNextInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.showNext()}showPreviousInlineCompletion(){var a;(a=this.activeInlineCompletionsModel)===null||a===void 0||a.showPrevious()}hasMultipleInlineCompletions(){var a;return Ie(this,void 0,void 0,function*(){const l=yield(a=this.activeInlineCompletionsModel)===null||a===void 0?void 0:a.hasMultipleInlineCompletions();return l!==void 0?l:!1})}};v=Re([Ce(1,L.ICommandService)],v),e.GhostTextModel=v}),define(ee[281],te([0,1,2,14,25,616,503,16,9,695]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=e.commitInlineSuggestionAction=e.ActiveGhostTextController=e.GhostTextController=void 0;let v=class si extends b.Disposable{constructor(d,t){super();this.editor=d,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new b.MutableDisposable),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(o=>{o.hasChanged(105)&&this.updateModelController(),o.hasChanged(53)&&this.updateModelController()})),this.updateModelController()}static get(d){return d.getContribution(si.ID)}get activeModel(){var d;return(d=this.activeController.value)===null||d===void 0?void 0:d.model}updateModelController(){const d=this.editor.getOption(105),t=this.editor.getOption(53);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(d.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(a,this.editor):void 0}shouldShowHoverAt(d){var t;return((t=this.activeModel)===null||t===void 0?void 0:t.shouldShowHoverAt(d))||!1}shouldShowHoverAtViewZone(d){var t,o;return((o=(t=this.activeController.value)===null||t===void 0?void 0:t.widget)===null||o===void 0?void 0:o.shouldShowHoverAtViewZone(d))||!1}trigger(){var d;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(d=this.activeModel)===null||d===void 0||d.triggerInlineCompletion()}commit(){var d;(d=this.activeModel)===null||d===void 0||d.commitInlineCompletion()}hide(){var d;(d=this.activeModel)===null||d===void 0||d.hideInlineCompletion()}showNextInlineCompletion(){var d;(d=this.activeModel)===null||d===void 0||d.showNextInlineCompletion()}showPreviousInlineCompletion(){var d;(d=this.activeModel)===null||d===void 0||d.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var d;return Ie(this,void 0,void 0,function*(){const t=yield(d=this.activeModel)===null||d===void 0?void 0:d.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};v.inlineSuggestionVisible=new p.RawContextKey("inlineSuggestionVisible",!1,S.localize(0,null)),v.inlineSuggestionHasIndentation=new p.RawContextKey("inlineSuggestionHasIndentation",!1,S.localize(1,null)),v.ID="editor.contrib.ghostTextController",v=Re([Ce(1,C.IInstantiationService)],v),e.GhostTextController=v;class r{constructor(d){this.contextKeyService=d,this.inlineCompletionVisible=v.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=v.inlineSuggestionHasIndentation.bindTo(this.contextKeyService)}}let a=class extends b.Disposable{constructor(d,t,o){super();this.editor=d,this.instantiationService=t,this.contextKeyService=o,this.contextKeys=new r(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(i.GhostTextModel,this.editor)),this.widget=this._register(this.instantiationService.createInstance(L.GhostTextWidget,this.editor,this.model)),this._register((0,b.toDisposable)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var d;this.contextKeys.inlineCompletionVisible.set(((d=this.model.activeInlineCompletionsModel)===null||d===void 0?void 0:d.ghostText)!==void 0);const t=this.model.inlineCompletionsModel.ghostText;if(t&&t.parts.length>0){const{column:o,lines:h}=t.parts[0],m=h[0].startsWith(" ")||h[0].startsWith("	"),y=this.editor.getModel().getLineIndentColumn(t.lineNumber),w=o<=y;this.contextKeys.inlineCompletionSuggestsIndentation.set(!!this.model.activeInlineCompletionsModel&&m&&w)}else this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)}};a=Re([Ce(1,C.IInstantiationService),Ce(2,p.IContextKeyService)],a),e.ActiveGhostTextController=a;const l=k.EditorCommand.bindToContribution(v.get);e.commitInlineSuggestionAction=new l({id:"editor.action.inlineSuggest.commit",precondition:p.ContextKeyExpr.and(v.inlineSuggestionVisible,v.inlineSuggestionHasIndentation.toNegated(),T.EditorContextKeys.tabMovesFocus.toNegated()),kbOpts:{weight:200,primary:2},handler(n){n.commit(),n.editor.focus()}}),(0,k.registerEditorCommand)(e.commitInlineSuggestionAction),(0,k.registerEditorCommand)(new l({id:"editor.action.inlineSuggest.hide",precondition:v.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(n){n.hide()}}));class c extends k.EditorAction{constructor(){super({id:c.ID,label:S.localize(2,null),alias:"Show Next Inline Suggestion",precondition:p.ContextKeyExpr.and(T.EditorContextKeys.writable,v.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|89}})}run(d,t){return Ie(this,void 0,void 0,function*(){const o=v.get(t);o&&(o.showNextInlineCompletion(),t.focus())})}}e.ShowNextInlineSuggestionAction=c,c.ID="editor.action.inlineSuggest.showNext";class u extends k.EditorAction{constructor(){super({id:u.ID,label:S.localize(3,null),alias:"Show Previous Inline Suggestion",precondition:p.ContextKeyExpr.and(T.EditorContextKeys.writable,v.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|87}})}run(d,t){return Ie(this,void 0,void 0,function*(){const o=v.get(t);o&&(o.showPreviousInlineCompletion(),t.focus())})}}e.ShowPreviousInlineSuggestionAction=u,u.ID="editor.action.inlineSuggest.showPrevious";class s extends k.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:S.localize(4,null),alias:"Trigger Inline Suggestion",precondition:T.EditorContextKeys.writable})}run(d,t){return Ie(this,void 0,void 0,function*(){const o=v.get(t);o&&o.trigger()})}}e.TriggerInlineSuggestionAction=s,(0,k.registerEditorContribution)(v.ID,v),(0,k.registerEditorAction)(s),(0,k.registerEditorAction)(c),(0,k.registerEditorAction)(u)}),define(ee[696],te([0,1,504,231,3,2,281,26,33,16]),function(G,e,b,k,T,L,S,p,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class v{constructor(l,c,u){this.owner=l,this.range=c,this.controller=u}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}e.InlineCompletionsHover=v;let r=class{constructor(l,c,u,s,n){this._editor=l,this._commandService=u,this._menuService=s,this._contextKeyService=n}suggestHoverAnchor(l){const c=S.GhostTextController.get(this._editor);if(!c)return null;if(l.target.type===8){const u=l.target.detail;if(c.shouldShowHoverAtViewZone(u.viewZoneId))return new k.HoverForeignElementAnchor(1e3,this,T.Range.fromPositions(u.positionBefore||u.position,u.positionBefore||u.position))}return l.target.type===7&&l.target.range&&c.shouldShowHoverAt(l.target.range)?new k.HoverForeignElementAnchor(1e3,this,l.target.range):l.target.type===6&&l.target.range&&l.target.detail&&l.target.detail.mightBeForeignElement&&c.shouldShowHoverAt(l.target.range)?new k.HoverForeignElementAnchor(1e3,this,l.target.range):null}computeSync(l,c){const u=S.GhostTextController.get(this._editor);return u&&u.shouldShowHoverAt(l.range)?[new v(this,l.range,u)]:[]}renderHoverParts(l,c,u){const s=new L.DisposableStore,n=s.add(this._menuService.createMenu(C.MenuId.InlineCompletionsActions,this._contextKeyService)),d=u.addAction({label:b.localize(0,null),commandId:S.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(S.ShowNextInlineSuggestionAction.ID)}),t=u.addAction({label:b.localize(1,null),commandId:S.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(S.ShowPreviousInlineSuggestionAction.ID)});u.addAction({label:b.localize(2,null),commandId:S.commitInlineSuggestionAction.id,run:()=>this._commandService.executeCommand(S.commitInlineSuggestionAction.id)});const o=[d,t];for(const h of o)h.setEnabled(!1);l[0].hasMultipleSuggestions().then(h=>{for(const m of o)m.setEnabled(h)});for(const[h,m]of n.getActions())for(const y of m)y instanceof C.MenuItemAction&&u.addAction({label:y.label,commandId:y.item.id,run:()=>this._commandService.executeCommand(y.item.id)});return s}};r=Re([Ce(2,p.ICommandService),Ce(3,C.IMenuService),Ce(4,i.IContextKeyService)],r),e.InlineCompletionsHoverParticipant=r}),define(ee[697],te([0,1,7,2,13,3,31,18,230,19,52,319,675,9,642,696,640,37,231]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s,n,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesContentHoverWidget=void 0;const t=b.$;let o=class extends k.Disposable{constructor(w){super();this._keybindingService=w,this._hasContent=!1,this.hoverElement=t("div.hover-row.status-bar"),this.actionsElement=b.append(this.hoverElement,t("div.actions"))}get hasContent(){return this._hasContent}addAction(w){const g=this._keybindingService.lookupKeybinding(w.commandId),f=g?g.getLabel():null;return this._hasContent=!0,this._register(r.HoverAction.render(this.actionsElement,w,f))}append(w){const g=b.append(this.actionsElement,w);return this._hasContent=!0,g}};o=Re([Ce(0,n.IKeybindingService)],o);class h{constructor(w,g){this._participants=g,this._editor=w,this._result=[],this._anchor=null}setAnchor(w){this._anchor=w,this._result=[]}clearResult(){this._result=[]}static _getLineDecorations(w,g){if(g.type!==1)return[];const f=w.getModel(),_=g.range.startLineNumber,D=f.getLineMaxColumn(_);return w.getLineDecorations(_).filter(N=>{if(N.options.isWholeLine)return!0;const I=N.range.startLineNumber===_?N.range.startColumn:1,M=N.range.endLineNumber===_?N.range.endColumn:D;return!(I>g.range.startColumn||g.range.endColumn>M)})}computeAsync(w){return Ie(this,void 0,void 0,function*(){const g=this._anchor;if(!this._editor.hasModel()||!g)return Promise.resolve([]);const f=h._getLineDecorations(this._editor,g),_=yield Promise.all(this._participants.map(D=>this._computeAsync(D,f,g,w)));return(0,i.flatten)(_)})}_computeAsync(w,g,f,_){return Ie(this,void 0,void 0,function*(){return w.computeAsync?w.computeAsync(f,g,_):[]})}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const w=h._getLineDecorations(this._editor,this._anchor);let g=[];for(const f of this._participants)g=g.concat(f.computeSync(this._anchor,w));return(0,i.coalesce)(g)}onResult(w,g){g?this._result=w.concat(this._result):this._result=this._result.concat(w)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._anchor){for(const w of this._participants)if(w.createLoadingMessage){const g=w.createLoadingMessage(this._anchor);if(g)return this._result.slice(0).concat([g])}}return this._result.slice(0)}}let m=class Nt extends v.Widget{constructor(w,g,f,_){super();this._hoverVisibleKey=g,this._keybindingService=_,this.allowEditorOverflow=!0,this._participants=[f.createInstance(s.ColorHoverParticipant,w,this),f.createInstance(c.MarkdownHoverParticipant,w,this),f.createInstance(u.InlineCompletionsHoverParticipant,w,this),f.createInstance(a.MarkerHoverParticipant,w,this)],this._hover=this._register(new r.HoverWidget),this._id=Nt.ID,this._editor=w,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this.onkeydown(this._hover.containerDomNode,D=>{D.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(D=>{D.hasChanged(41)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastAnchor=null,this._computer=new h(this._editor,this._participants),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._hoverOperation=new C.HoverOperation(this._computer,D=>this._withResult(D,!0),null,D=>this._withResult(D,!1),this._editor.getOption(51).delay),this._register(b.addStandardDisposableListener(this.getDomNode(),b.EventType.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(b.addStandardDisposableListener(this.getDomNode(),b.EventType.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(w.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(51).delay)})),this._register(p.TokenizationRegistry.onDidChange(()=>{this._isVisible&&this._lastAnchor&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastAnchor,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return this._id}getDomNode(){return this._hover.containerDomNode}_shouldShowAt(w){const g=w.target.type;if(g===6)return!0;if(g===7){const f=this._editor.getOption(41).typicalHalfwidthCharacterWidth/2,_=w.target.detail;if(_&&!_.isAfterLines&&typeof _.horizontalDistanceToText=="number"&&_.horizontalDistanceToText<f)return!0}return!1}maybeShowAt(w){var g;const f=[];for(const _ of this._participants)if(typeof _.suggestHoverAnchor=="function"){const D=_.suggestHoverAnchor(w);D&&f.push(D)}if(this._shouldShowAt(w)&&w.target.range){const D=[...((g=w.target.element)===null||g===void 0?void 0:g.classList.values())||[]].find(N=>N.startsWith("ced-colorBox"))&&w.target.range.endColumn-w.target.range.startColumn==1?new L.Range(w.target.range.startLineNumber,w.target.range.startColumn+1,w.target.range.endLineNumber,w.target.range.endColumn+1):w.target.range;f.push(new d.HoverRangeAnchor(0,D))}return f.length===0?!1:(f.sort((_,D)=>D.priority-_.priority),this._startShowingAt(f[0],0,!1),!0)}_showAt(w,g,f){this._showAtPosition=w,this._showAtRange=g,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=f,f&&this._hover.containerDomNode.focus()}getPosition(){return this._isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(g=>this._editor.applyFontInfo(g))}_updateContents(w){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(w),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const w=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:g,lineHeight:f}=this._editor.getOption(41);this._hover.contentsDomNode.style.fontSize=`${g}px`,this._hover.contentsDomNode.style.lineHeight=`${f}px`,this._hover.contentsDomNode.style.maxHeight=`${w}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAtRange(w,g,f){this._startShowingAt(new d.HoverRangeAnchor(0,w),g,f)}_startShowingAt(w,g,f){if(!(this._lastAnchor&&this._lastAnchor.equals(w))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||!this._lastAnchor||!w.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition))this.hide();else{const _=this._messages.filter(D=>D.isValidForHoverAnchor(w));if(_.length===0)this.hide();else{if(_.length===this._messages.length)return;this._renderMessages(w,_)}}this._lastAnchor=w,this._computer.setAnchor(w),this._shouldFocus=f,this._hoverOperation.start(g)}}hide(){this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}setColorPicker(w){this._colorPicker=w}onContentsChanged(){this._hover.onContentsChanged()}_withResult(w,g){this._messages=w,this._lastAnchor&&this._messages.length>0?this._renderMessages(this._lastAnchor,this._messages):g&&this.hide()}_renderMessages(w,g){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let f=1073741824,_=g[0].range,D=null,N=document.createDocumentFragment();const I=new k.DisposableStore,M=new Map;for(const R of g)f=Math.min(f,R.range.startColumn),_=L.Range.plusRange(_,R.range),R.forceShowAtRange&&(D=R.range),M.has(R.owner)||M.set(R.owner,[]),M.get(R.owner).push(R);const O=I.add(new o(this._keybindingService));for(const[R,P]of M)I.add(R.renderHoverParts(P,N,O));O.hasContent&&N.appendChild(O.hoverElement),this._renderDisposable=I,N.hasChildNodes()&&(D?this._showAt(D.getStartPosition(),D,this._shouldFocus):this._showAt(new T.Position(w.range.startLineNumber,f),_,this._shouldFocus),this._updateContents(N)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,_?[{range:_,options:Nt._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};m.ID="editor.contrib.modesContentHoverWidget",m._DECORATION_OPTIONS=S.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),m=Re([Ce(2,l.IInstantiationService),Ce(3,n.IKeybindingService)],m),e.ModesContentHoverWidget=m}),define(ee[282],te([0,1,498,41,2,14,3,25,57,697,574,58,22,11,277,16,9]),function(G,e,b,k,T,L,S,p,C,i,v,r,a,l,c,u,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let n=class ri{constructor(h,m,y,w,g){this._editor=h,this._instantiationService=m,this._openerService=y,this._modeService=w,this._toUnhook=new T.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(f=>{f.hasChanged(51)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=p.EditorContextKeys.hoverVisible.bindTo(g)}static get(h){return h.getContribution(ri.ID)}_hookEvents(){const h=()=>this._hideWidgets(),m=this._editor.getOption(51);this._isHoverEnabled=m.enabled,this._isHoverSticky=m.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(y=>this._onEditorMouseDown(y))),this._toUnhook.add(this._editor.onMouseUp(y=>this._onEditorMouseUp(y))),this._toUnhook.add(this._editor.onMouseMove(y=>this._onEditorMouseMove(y))),this._toUnhook.add(this._editor.onKeyDown(y=>this._onKeyDown(y))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(y=>this._onEditorMouseMove(y))),this._toUnhook.add(this._editor.onKeyDown(y=>this._onKeyDown(y)))),this._toUnhook.add(this._editor.onMouseLeave(h)),this._toUnhook.add(this._editor.onDidChangeModel(h)),this._toUnhook.add(this._editor.onDidScrollChange(y=>this._onEditorScrollChanged(y)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var h,m;(h=this._contentWidget)===null||h===void 0||h.onModelDecorationsChanged(),(m=this._glyphWidget)===null||m===void 0||m.onModelDecorationsChanged()}_onEditorScrollChanged(h){(h.scrollTopChanged||h.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(h){this._isMouseDown=!0;const m=h.target.type;if(m===9&&h.target.detail===i.ModesContentHoverWidget.ID){this._hoverClicked=!0;return}m===12&&h.target.detail===v.ModesGlyphHoverWidget.ID||(m!==12&&h.target.detail!==v.ModesGlyphHoverWidget.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(h){this._isMouseDown=!1}_onEditorMouseMove(h){var m,y,w,g,f;let _=h.target.type;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&_===9&&h.target.detail===i.ModesContentHoverWidget.ID||this._isHoverSticky&&!((y=(m=h.event.browserEvent.view)===null||m===void 0?void 0:m.getSelection())===null||y===void 0?void 0:y.isCollapsed)||!this._isHoverSticky&&_===9&&h.target.detail===i.ModesContentHoverWidget.ID&&((w=this._contentWidget)===null||w===void 0?void 0:w.isColorPickerVisible())||this._isHoverSticky&&_===12&&h.target.detail===v.ModesGlyphHoverWidget.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(h)){(g=this._glyphWidget)===null||g===void 0||g.hide();return}if(_===2&&h.target.position){(f=this._contentWidget)===null||f===void 0||f.hide(),this._glyphWidget||(this._glyphWidget=new v.ModesGlyphHoverWidget(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(h.target.position.lineNumber);return}this._hideWidgets()}_onKeyDown(h){h.keyCode!==5&&h.keyCode!==6&&h.keyCode!==57&&h.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var h,m,y;this._isMouseDown&&this._hoverClicked&&((h=this._contentWidget)===null||h===void 0?void 0:h.isColorPickerVisible())||(this._hoverClicked=!1,(m=this._glyphWidget)===null||m===void 0||m.hide(),(y=this._contentWidget)===null||y===void 0||y.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(i.ModesContentHoverWidget,this._editor,this._hoverVisibleKey)),this._contentWidget}isColorPickerVisible(){var h;return((h=this._contentWidget)===null||h===void 0?void 0:h.isColorPickerVisible())||!1}showContentHover(h,m,y){this._getOrCreateContentWidget().startShowingAtRange(h,m,y)}dispose(){var h,m;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(h=this._glyphWidget)===null||h===void 0||h.dispose(),(m=this._contentWidget)===null||m===void 0||m.dispose()}};n.ID="editor.contrib.hover",n=Re([Ce(1,s.IInstantiationService),Ce(2,r.IOpenerService),Ce(3,C.IModeService),Ce(4,u.IContextKeyService)],n),e.ModesHoverController=n;class d extends L.EditorAction{constructor(){super({id:"editor.action.showHover",label:b.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|39),weight:100}})}run(h,m){if(!m.hasModel())return;let y=n.get(m);if(!y)return;const w=m.getPosition(),g=new S.Range(w.lineNumber,w.column,w.lineNumber,w.column),f=m.getOption(2)===2;y.showContentHover(g,1,f)}}class t extends L.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:b.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(h,m){let y=n.get(m);if(!y)return;const w=m.getPosition();if(!w)return;const g=new S.Range(w.lineNumber,w.column,w.lineNumber,w.column);c.GotoDefinitionAtPositionEditorContribution.get(m).startFindDefinitionFromCursor(w).then(()=>{y.showContentHover(g,1,!0)})}}(0,L.registerEditorContribution)(n.ID,n),(0,L.registerEditorAction)(d),(0,L.registerEditorAction)(t),(0,l.registerThemingParticipant)((o,h)=>{const m=o.getColor(a.editorHoverHighlight);m&&h.addRule(`.monaco-editor .hoverHighlight { background-color: ${m}; }`);const y=o.getColor(a.editorHoverBackground);y&&h.addRule(`.monaco-editor .monaco-hover { background-color: ${y}; }`);const w=o.getColor(a.editorHoverBorder);w&&(h.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${w}; }`),h.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${w.transparent(.5)}; }`),h.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${w.transparent(.5)}; }`),h.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${w.transparent(.5)}; }`));const g=o.getColor(a.textLinkForeground);g&&h.addRule(`.monaco-editor .monaco-hover a { color: ${g}; }`);const f=o.getColor(a.textLinkActiveForeground);f&&h.addRule(`.monaco-editor .monaco-hover a:hover { color: ${f}; }`);const _=o.getColor(a.editorHoverForeground);_&&h.addRule(`.monaco-editor .monaco-hover { color: ${_}; }`);const D=o.getColor(a.editorHoverStatusBarBackground);D&&h.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${D}; }`);const N=o.getColor(a.textCodeBlockBackground);N&&h.addRule(`.monaco-editor .monaco-hover code { background-color: ${N}; }`)})}),define(ee[698],te([0,1,2,14,282,3,264]),function(G,e,b,k,T,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class S extends b.Disposable{constructor(C){super();this._editor=C,this._register(C.onMouseDown(i=>this.onMouseDown(i)))}dispose(){super.dispose()}onMouseDown(C){var i;if(C.target.type!==6||![...((i=C.target.element)===null||i===void 0?void 0:i.classList.values())||[]].find(l=>l.startsWith("ced-colorBox"))||!C.target.range)return;const a=this._editor.getContribution(T.ModesHoverController.ID);if(!a.isColorPickerVisible()){const l=new L.Range(C.target.range.startLineNumber,C.target.range.startColumn+1,C.target.range.endLineNumber,C.target.range.endColumn+1);a.showContentHover(l,0,!1)}}}e.ColorContribution=S,S.ID="editor.contrib.colorContribution",(0,k.registerEditorContribution)(S.ID,S)}),define(ee[699],te([0,1,148,149,271,217,625,626,627,628,629,650,632,698,633,634,635,636,272,674,637,638,559,281,276,277,273,282,644,645,643,646,647,648,676,678,651,652,195,280,653,269,654,684,655,270,656,63,130]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})});var pt=this&&this.__createBinding||(Object.create?function(G,e,b,k){k===void 0&&(k=b),Object.defineProperty(G,k,{enumerable:!0,get:function(){return e[b]}})}:function(G,e,b,k){k===void 0&&(k=b),G[k]=e[b]}),Ct=this&&this.__exportStar||function(G,e){for(var b in G)b!=="default"&&!Object.prototype.hasOwnProperty.call(e,b)&&pt(e,G,b)};define(ee[702],te([0,1,690,699,657,658,659,587,661,662,660,685,663]),function(G,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Ct(b,e)})}).call(this);


/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-typescript version: 4.7.0(7903958fcc07bd6c55a4c5d60749e8d738201e4e)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-typescript/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/lib/typescriptServicesMetadata",["require","exports"],(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typescriptVersion=void 0,e.typescriptVersion="4.3.2"})),define("vs/language/typescript/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/typescript/monaco.contribution",["require","exports","./lib/typescriptServicesMetadata","./fillers/monaco-editor-core"],(function(t,e,i,n){"use strict";var r,o,s,a,c;Object.defineProperty(e,"__esModule",{value:!0}),e.getJavaScriptWorker=e.getTypeScriptWorker=e.javascriptDefaults=e.typescriptDefaults=e.typescriptVersion=e.ModuleResolutionKind=e.ScriptTarget=e.NewLineKind=e.JsxEmit=e.ModuleKind=void 0,function(t){t[t.None=0]="None",t[t.CommonJS=1]="CommonJS",t[t.AMD=2]="AMD",t[t.UMD=3]="UMD",t[t.System=4]="System",t[t.ES2015=5]="ES2015",t[t.ESNext=99]="ESNext"}(r=e.ModuleKind||(e.ModuleKind={})),function(t){t[t.None=0]="None",t[t.Preserve=1]="Preserve",t[t.React=2]="React",t[t.ReactNative=3]="ReactNative",t[t.ReactJSX=4]="ReactJSX",t[t.ReactJSXDev=5]="ReactJSXDev"}(o=e.JsxEmit||(e.JsxEmit={})),function(t){t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed"}(s=e.NewLineKind||(e.NewLineKind={})),function(t){t[t.ES3=0]="ES3",t[t.ES5=1]="ES5",t[t.ES2015=2]="ES2015",t[t.ES2016=3]="ES2016",t[t.ES2017=4]="ES2017",t[t.ES2018=5]="ES2018",t[t.ES2019=6]="ES2019",t[t.ES2020=7]="ES2020",t[t.ESNext=99]="ESNext",t[t.JSON=100]="JSON",t[t.Latest=99]="Latest"}(a=e.ScriptTarget||(e.ScriptTarget={})),function(t){t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs"}(c=e.ModuleResolutionKind||(e.ModuleResolutionKind={}));var p=function(){function t(t,e,i){this._onDidChange=new n.Emitter,this._onDidExtraLibsChange=new n.Emitter,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(t),this.setDiagnosticsOptions(e),this.setWorkerOptions(i),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(t.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),t.prototype.getExtraLibs=function(){return this._extraLibs},t.prototype.addExtraLib=function(t,e){var i,n=this;if(i=void 0===e?"ts:extralib-"+Math.random().toString(36).substring(2,15):e,this._extraLibs[i]&&this._extraLibs[i].content===t)return{dispose:function(){}};var r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:t,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var t=n._extraLibs[i];t&&t.version===r&&(delete n._extraLibs[i],n._removedExtraLibs[i]=r,n._fireOnDidExtraLibsChangeSoon())}}},t.prototype.setExtraLibs=function(t){for(var e in this._extraLibs)this._removedExtraLibs[e]=this._extraLibs[e].version;if(this._extraLibs=Object.create(null),t&&t.length>0)for(var i=0,n=t;i<n.length;i++){var r=n[i],o=(e=r.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),r.content),s=1;this._removedExtraLibs[e]&&(s=this._removedExtraLibs[e]+1),this._extraLibs[e]={content:o,version:s}}this._fireOnDidExtraLibsChangeSoon()},t.prototype._fireOnDidExtraLibsChangeSoon=function(){var t=this;-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=setTimeout((function(){t._onDidExtraLibsChangeTimeout=-1,t._onDidExtraLibsChange.fire(void 0)}),0))},t.prototype.getCompilerOptions=function(){return this._compilerOptions},t.prototype.setCompilerOptions=function(t){this._compilerOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},t.prototype.setDiagnosticsOptions=function(t){this._diagnosticsOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.setWorkerOptions=function(t){this._workerOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.setMaximumWorkerIdleTime=function(t){},t.prototype.setEagerModelSync=function(t){this._eagerModelSync=t},t.prototype.getEagerModelSync=function(){return this._eagerModelSync},t}();e.typescriptVersion=i.typescriptVersion,e.typescriptDefaults=new p({allowNonTsExtensions:!0,target:a.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{}),e.javascriptDefaults=new p({allowNonTsExtensions:!0,allowJs:!0,target:a.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{});e.getTypeScriptWorker=function(){return u().then((function(t){return t.getTypeScriptWorker()}))};function u(){return new Promise((function(e,i){t(["./tsMode"],e,i)}))}e.getJavaScriptWorker=function(){return u().then((function(t){return t.getJavaScriptWorker()}))},n.languages.typescript={ModuleKind:r,JsxEmit:o,NewLineKind:s,ScriptTarget:a,ModuleResolutionKind:c,typescriptVersion:e.typescriptVersion,typescriptDefaults:e.typescriptDefaults,javascriptDefaults:e.javascriptDefaults,getTypeScriptWorker:e.getTypeScriptWorker,getJavaScriptWorker:e.getJavaScriptWorker},n.languages.onLanguage("typescript",(function(){return u().then((function(t){return t.setupTypeScript(e.typescriptDefaults)}))})),n.languages.onLanguage("javascript",(function(){return u().then((function(t){return t.setupJavaScript(e.javascriptDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-css version: 3.7.0(116c3cf36d90a2f11f2ac826d7a80e38a209cacf)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-css/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/css/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/css/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.lessDefaults=n.scssDefaults=n.cssDefaults=void 0;var o=function(){function e(e,n,o){this._onDidChange=new t.Emitter,this._languageId=e,this.setOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this.options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setDiagnosticsOptions=function(e){this.setOptions(e)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),s={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},i={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0};function r(){return new Promise((function(n,t){e(["./cssMode"],n,t)}))}n.cssDefaults=new o("css",s,i),n.scssDefaults=new o("scss",s,i),n.lessDefaults=new o("less",s,i),t.languages.css={cssDefaults:n.cssDefaults,lessDefaults:n.lessDefaults,scssDefaults:n.scssDefaults},t.languages.onLanguage("less",(function(){r().then((function(e){return e.setupMode(n.lessDefaults)}))})),t.languages.onLanguage("scss",(function(){r().then((function(e){return e.setupMode(n.scssDefaults)}))})),t.languages.onLanguage("css",(function(){r().then((function(e){return e.setupMode(n.cssDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-json version: 3.7.0(874d98a04030ed630d6f7bc552f9e652db3c2371)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-json/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/json/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/json/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jsonDefaults=void 0;var o=function(){function e(e,n,o){this._onDidChange=new t.Emitter,this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}();n.jsonDefaults=new o("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0}),t.languages.json={jsonDefaults:n.jsonDefaults},t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),t.languages.onLanguage("json",(function(){new Promise((function(n,t){e(["./jsonMode"],n,t)})).then((function(e){return e.setupMode(n.jsonDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-html version: 3.7.0(0b1dc817dccc3fc52be56c8e0b8f6c302754f6d3)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-html/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/html/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco}));var __awaiter=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}l((r=r.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};define("vs/language/html/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerHTMLLanguageService=t.razorDefaults=t.razorLanguageService=t.handlebarDefaults=t.handlebarLanguageService=t.htmlDefaults=t.htmlLanguageService=void 0;var r=function(){function e(e,t,r){this._onDidChange=new n.Emitter,this._languageId=e,this.setOptions(t),this.setModeConfiguration(r)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),a={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function o(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",u="handlebars",l="razor";function s(t,i,u){var l=this;void 0===i&&(i=a),void 0===u&&(u=o(t));var s,c=new r(t,i,u),g=n.languages.onLanguage(t,(function(){return __awaiter(l,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t,n){e(["./htmlMode"],t,n)}))];case 1:return s=t.sent().setupMode(c),[2]}}))}))}));return{defaults:c,dispose:function(){g.dispose(),null==s||s.dispose(),s=void 0}}}t.htmlLanguageService=s(i,a,o(i)),t.htmlDefaults=t.htmlLanguageService.defaults,t.handlebarLanguageService=s(u,a,o(u)),t.handlebarDefaults=t.handlebarLanguageService.defaults,t.razorLanguageService=s(l,a,o(l)),t.razorDefaults=t.razorLanguageService.defaults,n.languages.html={htmlDefaults:t.htmlDefaults,razorDefaults:t.razorDefaults,handlebarDefaults:t.handlebarDefaults,htmlLanguageService:t.htmlLanguageService,handlebarLanguageService:t.handlebarLanguageService,razorLanguageService:t.razorLanguageService,registerHTMLLanguageService:s},t.registerHTMLLanguageService=s}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-languages version: 2.7.0(ddc2f60c7e216177be563a8ec8e1205935125976)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-languages/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/basic-languages/_.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.registerLanguage=i.loadLanguage=void 0;var n={},r={},s=function(){function e(e){var i=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(e,t){i._lazyLoadPromiseResolve=e,i._lazyLoadPromiseReject=t}))}return e.getOrCreate=function(i){return r[i]||(r[i]=new e(i)),r[i]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,n[this._languageId].loader().then((function(i){return e._lazyLoadPromiseResolve(i)}),(function(i){return e._lazyLoadPromiseReject(i)}))),this._lazyLoadPromise},e}();i.loadLanguage=function(e){return s.getOrCreate(e).load()},i.registerLanguage=function(e){var i=e.id;n[i]=e,t.languages.register(e);var r=s.getOrCreate(i);t.languages.setMonarchTokensProvider(i,r.whenLoaded().then((function(e){return e.language}))),t.languages.onLanguage(i,(function(){r.load().then((function(e){t.languages.setLanguageConfiguration(i,e.conf)}))}))}})),define("vs/basic-languages/abap/abap.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return new Promise((function(i,t){e(["./abap"],i,t)}))}})})),define("vs/basic-languages/apex/apex.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return new Promise((function(i,t){e(["./apex"],i,t)}))}})})),define("vs/basic-languages/azcli/azcli.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return new Promise((function(i,t){e(["./azcli"],i,t)}))}})})),define("vs/basic-languages/bat/bat.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return new Promise((function(i,t){e(["./bat"],i,t)}))}})})),define("vs/basic-languages/bicep/bicep.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:function(){return new Promise((function(i,t){e(["./bicep"],i,t)}))}})})),define("vs/basic-languages/cameligo/cameligo.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return new Promise((function(i,t){e(["./cameligo"],i,t)}))}})})),define("vs/basic-languages/clojure/clojure.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return new Promise((function(i,t){e(["./clojure"],i,t)}))}})})),define("vs/basic-languages/coffee/coffee.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return new Promise((function(i,t){e(["./coffee"],i,t)}))}})})),define("vs/basic-languages/cpp/cpp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return new Promise((function(i,t){e(["./cpp"],i,t)}))}}),t.registerLanguage({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return new Promise((function(i,t){e(["./cpp"],i,t)}))}})})),define("vs/basic-languages/csharp/csharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return new Promise((function(i,t){e(["./csharp"],i,t)}))}})})),define("vs/basic-languages/csp/csp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return new Promise((function(i,t){e(["./csp"],i,t)}))}})})),define("vs/basic-languages/css/css.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return new Promise((function(i,t){e(["./css"],i,t)}))}})})),define("vs/basic-languages/dart/dart.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return new Promise((function(i,t){e(["./dart"],i,t)}))}})})),define("vs/basic-languages/dockerfile/dockerfile.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return new Promise((function(i,t){e(["./dockerfile"],i,t)}))}})})),define("vs/basic-languages/ecl/ecl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return new Promise((function(i,t){e(["./ecl"],i,t)}))}})})),define("vs/basic-languages/elixir/elixir.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:function(){return new Promise((function(i,t){e(["./elixir"],i,t)}))}})})),define("vs/basic-languages/fsharp/fsharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return new Promise((function(i,t){e(["./fsharp"],i,t)}))}})})),define("vs/basic-languages/go/go.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return new Promise((function(i,t){e(["./go"],i,t)}))}})})),define("vs/basic-languages/graphql/graphql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return new Promise((function(i,t){e(["./graphql"],i,t)}))}})})),define("vs/basic-languages/handlebars/handlebars.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:function(){return new Promise((function(i,t){e(["./handlebars"],i,t)}))}})})),define("vs/basic-languages/hcl/hcl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return new Promise((function(i,t){e(["./hcl"],i,t)}))}})})),define("vs/basic-languages/html/html.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return new Promise((function(i,t){e(["./html"],i,t)}))}})})),define("vs/basic-languages/ini/ini.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return new Promise((function(i,t){e(["./ini"],i,t)}))}})})),define("vs/basic-languages/java/java.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return new Promise((function(i,t){e(["./java"],i,t)}))}})})),define("vs/basic-languages/javascript/javascript.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return new Promise((function(i,t){e(["./javascript"],i,t)}))}})})),define("vs/basic-languages/julia/julia.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return new Promise((function(i,t){e(["./julia"],i,t)}))}})})),define("vs/basic-languages/kotlin/kotlin.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return new Promise((function(i,t){e(["./kotlin"],i,t)}))}})})),define("vs/basic-languages/less/less.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return new Promise((function(i,t){e(["./less"],i,t)}))}})})),define("vs/basic-languages/lexon/lexon.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return new Promise((function(i,t){e(["./lexon"],i,t)}))}})})),define("vs/basic-languages/lua/lua.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return new Promise((function(i,t){e(["./lua"],i,t)}))}})})),define("vs/basic-languages/liquid/liquid.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:function(){return new Promise((function(i,t){e(["./liquid"],i,t)}))}})})),define("vs/basic-languages/m3/m3.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return new Promise((function(i,t){e(["./m3"],i,t)}))}})})),define("vs/basic-languages/markdown/markdown.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return new Promise((function(i,t){e(["./markdown"],i,t)}))}})})),define("vs/basic-languages/mips/mips.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return new Promise((function(i,t){e(["./mips"],i,t)}))}})})),define("vs/basic-languages/msdax/msdax.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return new Promise((function(i,t){e(["./msdax"],i,t)}))}})})),define("vs/basic-languages/mysql/mysql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return new Promise((function(i,t){e(["./mysql"],i,t)}))}})})),define("vs/basic-languages/objective-c/objective-c.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return new Promise((function(i,t){e(["./objective-c"],i,t)}))}})})),define("vs/basic-languages/pascal/pascal.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return new Promise((function(i,t){e(["./pascal"],i,t)}))}})})),define("vs/basic-languages/pascaligo/pascaligo.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return new Promise((function(i,t){e(["./pascaligo"],i,t)}))}})})),define("vs/basic-languages/perl/perl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return new Promise((function(i,t){e(["./perl"],i,t)}))}})})),define("vs/basic-languages/pgsql/pgsql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return new Promise((function(i,t){e(["./pgsql"],i,t)}))}})})),define("vs/basic-languages/php/php.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return new Promise((function(i,t){e(["./php"],i,t)}))}})})),define("vs/basic-languages/postiats/postiats.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return new Promise((function(i,t){e(["./postiats"],i,t)}))}})})),define("vs/basic-languages/powerquery/powerquery.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return new Promise((function(i,t){e(["./powerquery"],i,t)}))}})})),define("vs/basic-languages/powershell/powershell.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return new Promise((function(i,t){e(["./powershell"],i,t)}))}})})),define("vs/basic-languages/pug/pug.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return new Promise((function(i,t){e(["./pug"],i,t)}))}})})),define("vs/basic-languages/python/python.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return new Promise((function(i,t){e(["./python"],i,t)}))}})})),define("vs/basic-languages/qsharp/qsharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:function(){return new Promise((function(i,t){e(["./qsharp"],i,t)}))}})})),define("vs/basic-languages/r/r.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return new Promise((function(i,t){e(["./r"],i,t)}))}})})),define("vs/basic-languages/razor/razor.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return new Promise((function(i,t){e(["./razor"],i,t)}))}})})),define("vs/basic-languages/redis/redis.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return new Promise((function(i,t){e(["./redis"],i,t)}))}})})),define("vs/basic-languages/redshift/redshift.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return new Promise((function(i,t){e(["./redshift"],i,t)}))}})})),define("vs/basic-languages/restructuredtext/restructuredtext.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return new Promise((function(i,t){e(["./restructuredtext"],i,t)}))}})})),define("vs/basic-languages/ruby/ruby.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return new Promise((function(i,t){e(["./ruby"],i,t)}))}})})),define("vs/basic-languages/rust/rust.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return new Promise((function(i,t){e(["./rust"],i,t)}))}})})),define("vs/basic-languages/sb/sb.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return new Promise((function(i,t){e(["./sb"],i,t)}))}})})),define("vs/basic-languages/scala/scala.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return new Promise((function(i,t){e(["./scala"],i,t)}))}})})),define("vs/basic-languages/scheme/scheme.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return new Promise((function(i,t){e(["./scheme"],i,t)}))}})})),define("vs/basic-languages/scss/scss.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return new Promise((function(i,t){e(["./scss"],i,t)}))}})})),define("vs/basic-languages/shell/shell.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return new Promise((function(i,t){e(["./shell"],i,t)}))}})})),define("vs/basic-languages/solidity/solidity.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return new Promise((function(i,t){e(["./solidity"],i,t)}))}})})),define("vs/basic-languages/sophia/sophia.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return new Promise((function(i,t){e(["./sophia"],i,t)}))}})})),define("vs/basic-languages/sparql/sparql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:function(){return new Promise((function(i,t){e(["./sparql"],i,t)}))}})})),define("vs/basic-languages/sql/sql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return new Promise((function(i,t){e(["./sql"],i,t)}))}})})),define("vs/basic-languages/st/st.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return new Promise((function(i,t){e(["./st"],i,t)}))}})})),define("vs/basic-languages/swift/swift.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return new Promise((function(i,t){e(["./swift"],i,t)}))}})})),define("vs/basic-languages/systemverilog/systemverilog.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return new Promise((function(i,t){e(["./systemverilog"],i,t)}))}}),t.registerLanguage({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return new Promise((function(i,t){e(["./systemverilog"],i,t)}))}})})),define("vs/basic-languages/tcl/tcl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return new Promise((function(i,t){e(["./tcl"],i,t)}))}})})),define("vs/basic-languages/twig/twig.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return new Promise((function(i,t){e(["./twig"],i,t)}))}})})),define("vs/basic-languages/typescript/typescript.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return new Promise((function(i,t){e(["./typescript"],i,t)}))}})})),define("vs/basic-languages/vb/vb.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return new Promise((function(i,t){e(["./vb"],i,t)}))}})})),define("vs/basic-languages/xml/xml.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return new Promise((function(i,t){e(["./xml"],i,t)}))}})})),define("vs/basic-languages/yaml/yaml.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return new Promise((function(i,t){e(["./yaml"],i,t)}))}})})),define("vs/basic-languages/monaco.contribution",["require","exports","./abap/abap.contribution","./apex/apex.contribution","./azcli/azcli.contribution","./bat/bat.contribution","./bicep/bicep.contribution","./cameligo/cameligo.contribution","./clojure/clojure.contribution","./coffee/coffee.contribution","./cpp/cpp.contribution","./csharp/csharp.contribution","./csp/csp.contribution","./css/css.contribution","./dart/dart.contribution","./dockerfile/dockerfile.contribution","./ecl/ecl.contribution","./elixir/elixir.contribution","./fsharp/fsharp.contribution","./go/go.contribution","./graphql/graphql.contribution","./handlebars/handlebars.contribution","./hcl/hcl.contribution","./html/html.contribution","./ini/ini.contribution","./java/java.contribution","./javascript/javascript.contribution","./julia/julia.contribution","./kotlin/kotlin.contribution","./less/less.contribution","./lexon/lexon.contribution","./lua/lua.contribution","./liquid/liquid.contribution","./m3/m3.contribution","./markdown/markdown.contribution","./mips/mips.contribution","./msdax/msdax.contribution","./mysql/mysql.contribution","./objective-c/objective-c.contribution","./pascal/pascal.contribution","./pascaligo/pascaligo.contribution","./perl/perl.contribution","./pgsql/pgsql.contribution","./php/php.contribution","./postiats/postiats.contribution","./powerquery/powerquery.contribution","./powershell/powershell.contribution","./pug/pug.contribution","./python/python.contribution","./qsharp/qsharp.contribution","./r/r.contribution","./razor/razor.contribution","./redis/redis.contribution","./redshift/redshift.contribution","./restructuredtext/restructuredtext.contribution","./ruby/ruby.contribution","./rust/rust.contribution","./sb/sb.contribution","./scala/scala.contribution","./scheme/scheme.contribution","./scss/scss.contribution","./shell/shell.contribution","./solidity/solidity.contribution","./sophia/sophia.contribution","./sparql/sparql.contribution","./sql/sql.contribution","./st/st.contribution","./swift/swift.contribution","./systemverilog/systemverilog.contribution","./tcl/tcl.contribution","./twig/twig.contribution","./typescript/typescript.contribution","./vb/vb.contribution","./xml/xml.contribution","./yaml/yaml.contribution"],(function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})}));
define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/language/typescript/monaco.contribution","vs/language/css/monaco.contribution","vs/language/json/monaco.contribution","vs/language/html/monaco.contribution","vs/basic-languages/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map