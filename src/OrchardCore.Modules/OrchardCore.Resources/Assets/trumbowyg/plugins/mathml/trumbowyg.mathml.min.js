/* ===========================================================
 * trumbowyg.mathMl.js v1.0
 * MathML plugin for Trumbowyg
 * http://alex-d.github.com/Trumbowyg
 * ===========================================================
 * Author : loclamor
 */
!function(e){"use strict";e.extend(!0,e.trumbowyg,{langs:{en:{mathml:"Insert Formulas",formulas:"Formulas",inline:"Inline"},az:{mathml:"Düstur əlavə et",formulas:"Düsturlar",inline:"Sətir içi"},by:{mathml:"Уставіць формулу",formulas:"Формула",inline:"Inline-элемент"},ca:{mathml:"Inserir Fórmula",formulas:"Fórmula",inline:"En línia"},da:{mathml:"Indsæt formler",formulas:"Formler",inline:"Inline"},es:{mathml:"Insertar Fórmula",formulas:"Fórmula",inline:"En línea"},et:{mathml:"Sisesta valem",formulas:"Valemid",inline:"Teksti sees"},fr:{mathml:"Inserer une formule",formulas:"Formule",inline:"En ligne"},hu:{mathml:"Formulák beszúrás",formulas:"Formulák",inline:"Inline"},ko:{mathml:"수식 넣기",formulas:"수식",inline:"글 안에 넣기"},pt_br:{mathml:"Inserir fórmulas",formulas:"Fórmulas",inline:"Em linha"},ru:{mathml:"Вставить формулу",formulas:"Формула",inline:"Строчный элемент"},sl:{mathml:"Vstavi matematični izraz",formulas:"Formula",inline:"V vrstici"},tr:{mathml:"Formül Ekle",formulas:"Formüller",inline:"Satır içi"},zh_tw:{mathml:"插入方程式",formulas:"方程式",inline:"內嵌"}},plugins:{mathml:{init:function(l){var n={formulas:{label:l.lang.formulas,required:!0,value:""},inline:{label:l.lang.inline,attributes:{checked:!0},type:"checkbox",required:!1}},a=function(n){var a=n.inline?"$":"$$";if(l.currentMathNode)e(l.currentMathNode).html(a+" "+n.formulas+" "+a).attr("formulas",n.formulas).attr("inline",n.inline?"true":"false");else{var r='<span contenteditable="false" formulas="'+n.formulas+'" inline="'+(n.inline?"true":"false")+'" >'+a+" "+n.formulas+" "+a+"</span>",i=e(r)[0];i.onclick=t,l.range.deleteContents(),l.range.insertNode(i)}return l.currentMathNode=!1,MathJax.Hub.Queue(["Typeset",MathJax.Hub]),!0},t=function(){l.currentMathNode=this,n.formulas.value=e(this).attr("formulas"),"true"===e(this).attr("inline")?n.inline.attributes.checked=!0:delete n.inline.attributes.checked,l.openModalInsert(l.lang.mathml,n,a)},r={fn:function(){l.saveRange(),n.formulas.value=l.getRangeText(),n.inline.attributes.checked=!0,l.openModalInsert(l.lang.mathml,n,a)}};l.$ta.on("tbwinit",(function(){l.$ed.find("[formulas]").each((function(e,l){l.onclick=t}))})),l.addBtnDef("mathml",r)}}}})}(jQuery);