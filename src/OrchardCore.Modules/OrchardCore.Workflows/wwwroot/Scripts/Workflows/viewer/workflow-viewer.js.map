{"mappings":"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","sources":["src/OrchardCore.Modules/OrchardCore.Workflows/Assets/Scripts/workflow-viewer.ts","src/OrchardCore.Modules/OrchardCore.Workflows/Assets/Scripts/workflow-canvas.ts","node_modules/@parcel/transformer-js/src/esmodule-helpers.js"],"sourcesContent":["///<reference path='../Lib/jquery/typings.d.ts' />\n///<reference path='../Lib/jsplumb/typings.d.ts' />\n\nimport './workflow-models';\nimport WorkflowCanvas from './workflow-canvas';\n\nclass WorkflowViewer extends WorkflowCanvas {\n    private jsPlumbInstance: jsPlumbInstance;\n\n    constructor(protected container: HTMLElement, protected workflowType: Workflows.WorkflowType) {\n        super(container, workflowType);\n        const self = this;\n\n        jsPlumb.ready(() => {\n            jsPlumb.importDefaults(this.getDefaults());\n\n            const plumber = this.createJsPlumbInstance();\n\n            // Listen for new connections.\n            plumber.bind('connection', function (connInfo, originalEvent) {\n                const connection: Connection = connInfo.connection;\n                const outcome: Workflows.Outcome = connection.getParameters().outcome;\n\n                const label: any = connection.getOverlay('label');\n                label.setLabel(outcome.displayName);\n\n                // Hide the outcome label on the source endpoint since it's now connected.\n                const sourceEndpoint: any = connInfo.sourceEndpoint;\n                if (sourceEndpoint && sourceEndpoint.hideOverlay) {\n                    sourceEndpoint.hideOverlay('outcome-label');\n                }\n            });\n\n            let activityElements = this.getActivityElements();\n\n            var areEqualOutcomes = function (outcomes1: Workflows.Outcome[], outcomes2: Workflows.Outcome[]): boolean {\n                if (outcomes1.length != outcomes2.length) {\n                    return false;\n                }\n\n                for (let i = 0; i < outcomes1.length; i++) {\n                    const outcome1 = outcomes1[i];\n                    const outcome2 = outcomes2[i];\n\n                    if (outcome1.name != outcome2.displayName || outcome1.displayName != outcome2.displayName) {\n                        return false;\n                    }\n                }\n\n                return true;\n            }\n\n            // Suspend drawing and initialize.\n            plumber.batch(() => {\n                var workflowId: number = this.workflowType.id;\n\n                activityElements.each((_, activityElement) => {\n                    const $activityElement = $(activityElement);\n                    const activityId = $activityElement.data('activity-id');\n                    const activity = this.getActivity(activityId);\n\n                    // Configure the activity as a target.\n                    plumber.makeTarget(activityElement, {\n                        dropOptions: { hoverClass: 'hover' },\n                        anchor: 'Continuous',\n                        endpoint: ['Blank', { radius: 8 }]\n                    });\n\n                    // Add source endpoints.\n                    for (let outcome of activity.outcomes) {\n                        const sourceEndpointOptions = this.getSourceEndpointOptions(activity, outcome);\n                        const endpoint = plumber.addEndpoint(activityElement, { connectorOverlays: [['Label', { label: outcome.displayName, cssClass: 'connection-label' }]] }, sourceEndpointOptions);\n                        this.endpointMap.push({ endpoint, activityElement });\n                    }\n                });\n\n                // Connect activities.\n                this.updateConnections(plumber);\n\n                // Re-query the activity elements.\n                activityElements = this.getActivityElements();\n\n                // Make all activity elements visible.\n                activityElements.show();\n\n                this.updateCanvasHeight();\n            });\n\n            this.orientOutcomeLabels();\n\n            this.jsPlumbInstance = plumber;\n        });\n    }\n\n    protected getEndpointColor = (activity: Workflows.Activity) => {\n        return activity.isBlocking ? '#7ab02c' : activity.isEvent ? '#3a8acd' : '#7ab02c';\n    }\n}\n\n$.fn.workflowViewer = function (this: JQuery): JQuery {\n    this.each((index, element) => {\n        var $element = $(element);\n        var workflowType: Workflows.WorkflowType = $element.data('workflow-type');\n\n        $element.data('workflowViewer', new WorkflowViewer(element, workflowType));\n    });\n\n    return this;\n};\n\n$(document).ready(function () {\n    const workflowViewer: WorkflowViewer = $('.workflow-canvas').workflowViewer().data('workflowViewer');\n});\n","///<reference path='../Lib/jquery/typings.d.ts' />\n///<reference path='../Lib/jsplumb/typings.d.ts' />\n\nimport './workflow-models';\n\nabstract class WorkflowCanvas {\n    private minCanvasHeight: number = 400;\n    protected endpointMap: Array<{ endpoint: any, activityElement: HTMLElement }> = [];\n\n    constructor(protected container: HTMLElement, protected workflowType: Workflows.WorkflowType) {\n    }\n\n    protected getActivityElements = (): JQuery => {\n        return $(this.container).find('.activity');\n    }\n\n    protected getDefaults = () => {\n        return {\n            Anchor: \"Continuous\",\n            DragOptions: { cursor: 'pointer', zIndex: 2000 },\n            EndpointStyles: [{ fillStyle: '#225588' }],\n            Endpoints: [[\"Dot\", { radius: 7 }], [\"Blank\"]],\n            ConnectionOverlays: [\n                [\"Arrow\", { width: 12, length: 12, location: -5 }],\n            ],\n            ConnectorZIndex: 5\n        }\n    };\n\n    protected createJsPlumbInstance = () => {\n        return jsPlumb.getInstance({\n            DragOptions: { cursor: 'pointer', zIndex: 2000 },\n            ConnectionOverlays: [\n                ['Arrow', {\n                    location: 1,\n                    visible: true,\n                    width: 11,\n                    length: 11\n                }],\n                ['Label', {\n                    location: 0.5,\n                    id: 'label',\n                    cssClass: 'connection-label'\n                }]\n            ],\n            Container: this.container\n        });\n    };\n\n    protected getEndpointColor = (activity: Workflows.Activity) => {\n        return activity.isBlocking || activity.isStart ? '#7ab02c' : activity.isEvent ? '#3a8acd' : '#7ab02c';\n    }\n\n    protected getSourceEndpointOptions = (activity: Workflows.Activity, outcome: Workflows.Outcome): EndpointOptions => {\n        // The definition of source endpoints.\n        const paintColor = this.getEndpointColor(activity);\n        return {\n            endpoint: 'Dot',\n            anchor: 'Continuous',\n            paintStyle: {\n                stroke: paintColor,\n                fill: paintColor,\n                radius: 7,\n                strokeWidth: 1\n            },\n            isSource: true,\n            connector: ['Flowchart', { stub: [40, 60], gap: 0, cornerRadius: 5, alwaysRespectStubs: true }],\n            connectorStyle: {\n                strokeWidth: 2,\n                stroke: '#999999',\n                joinstyle: 'round',\n                outlineStroke: 'white',\n                outlineWidth: 2\n            },\n            hoverPaintStyle: {\n                fill: '#216477',\n                stroke: '#216477'\n            },\n            connectorHoverStyle: {\n                strokeWidth: 3,\n                stroke: '#216477',\n                outlineWidth: 5,\n                outlineStroke: 'white'\n            },\n            connectorOverlays: [['Label', { location: [3, -1.5], cssClass: 'endpointSourceLabel' }]],\n            overlays: [['Label', { label: outcome.displayName, cssClass: 'outcome-label', id: 'outcome-label', location: [0, 0] }]],\n            dragOptions: {},\n            uuid: `${activity.id}-${outcome.name}`,\n            parameters: {\n                outcome: outcome\n            }\n        };\n    };\n\n    protected getActivity = function (id: string, activities: Array<Workflows.Activity> = null): Workflows.Activity {\n        if (!activities) {\n            activities = this.workflowType.activities;\n        }\n        return $.grep(activities, (x: Workflows.Activity) => x.id === id)[0];\n    }\n\n    protected updateConnections = (plumber: jsPlumbInstance) => {\n        var workflowId: number = this.workflowType.id;\n\n        // Connect activities.\n        for (let transitionModel of this.workflowType.transitions) {\n            const sourceEndpointUuid: string = `${transitionModel.sourceActivityId}-${transitionModel.sourceOutcomeName}`;\n            const sourceEndpoint: Endpoint = plumber.getEndpoint(sourceEndpointUuid);\n            const destinationElementId: string = `activity-${workflowId}-${transitionModel.destinationActivityId}`;\n\n            plumber.connect({\n                source: sourceEndpoint,\n                target: destinationElementId\n            });\n        }\n    }\n\n    protected updateCanvasHeight = function () {\n        const $container = $(this.container);\n\n        // Get the activity element with the highest Y coordinate.\n        const $activityElements = $container.find(\".activity\");\n        let currentElementTop = 0;\n        let currentActivityHeight = 0;\n\n        for (let activityElement of $activityElements.toArray()) {\n            const $activityElement = $(activityElement);\n            const top = $activityElement.position().top;\n\n            if (top > currentElementTop) {\n                currentElementTop = top;\n                currentActivityHeight = $activityElement.height();\n            }\n        }\n\n        let newCanvasHeight = currentElementTop + currentActivityHeight;\n        const elementBottom = currentElementTop + currentActivityHeight;\n        const stretchValue = 100;\n\n        if (newCanvasHeight - elementBottom <= stretchValue) {\n            newCanvasHeight += stretchValue;\n        }\n\n        $container.height(Math.max(this.minCanvasHeight, newCanvasHeight));\n    };\n\n    protected orientOutcomeLabels = () => {\n        for (const { endpoint, activityElement } of this.endpointMap) {\n            const overlay: any = endpoint.getOverlay ? endpoint.getOverlay('outcome-label') : null;\n            if (!overlay) continue;\n\n            const overlayEl = overlay.getElement ? overlay.getElement() : overlay.canvas;\n            if (!overlayEl) continue;\n\n            const epCanvas = endpoint.canvas;\n            if (!epCanvas) continue;\n\n            const activityRect = activityElement.getBoundingClientRect();\n            const epRect = epCanvas.getBoundingClientRect();\n\n            const activityCenterX = activityRect.left + activityRect.width / 2;\n            const activityCenterY = activityRect.top + activityRect.height / 2;\n            const epCenterX = epRect.left + epRect.width / 2;\n            const epCenterY = epRect.top + epRect.height / 2;\n\n            const dx = epCenterX - activityCenterX;\n            const dy = epCenterY - activityCenterY;\n            const normDx = activityRect.width > 0 ? Math.abs(dx) / (activityRect.width / 2) : 0;\n            const normDy = activityRect.height > 0 ? Math.abs(dy) / (activityRect.height / 2) : 0;\n\n            let face: string;\n            if (normDx > normDy) {\n                face = dx > 0 ? 'right' : 'left';\n            } else {\n                face = dy > 0 ? 'bottom' : 'top';\n            }\n\n            const $ol = $(overlayEl);\n\n            // Measure label width, temporarily showing if hidden.\n            let halfWidth = $ol.outerWidth() / 2;\n            if (halfWidth === 0) {\n                const prevDisplay = overlayEl.style.display;\n                overlayEl.style.display = 'block';\n                halfWidth = $ol.outerWidth() / 2;\n                overlayEl.style.display = prevDisplay;\n            }\n\n            const currentTransform = overlayEl.style.transform || '';\n            const baseTransform = !currentTransform || currentTransform === 'none' ? '' : currentTransform + ' ';\n\n            switch (face) {\n                case 'bottom':\n                    $ol.css({\n                        'transform': baseTransform + `translateY(${halfWidth}px) rotate(90deg)`,\n                        'transform-origin': 'center center'\n                    });\n                    break;\n                case 'top':\n                    $ol.css({\n                        'transform': baseTransform + `translateY(-${halfWidth}px) rotate(-90deg)`,\n                        'transform-origin': 'center center'\n                    });\n                    break;\n                case 'left':\n                    $ol.css({\n                        'transform': baseTransform + `translateX(-${halfWidth}px)`\n                    });\n                    break;\n                case 'right':\n                    $ol.css({\n                        'transform': baseTransform + `translateX(${halfWidth}px)`\n                    });\n                    break;\n            }\n        }\n    };\n}\n\nexport default WorkflowCanvas;","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (\n      key === 'default' ||\n      key === '__esModule' ||\n      Object.prototype.hasOwnProperty.call(dest, key)\n    ) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n"],"names":["_workflowCanvas","require","WorkflowViewer","_workflowCanvasDefault","default","constructor","container","workflowType","super","this","getEndpointColor","activity","isBlocking","isEvent","jsPlumb","ready","importDefaults","getDefaults","plumber","createJsPlumbInstance","bind","connInfo","originalEvent","connection","outcome","getParameters","getOverlay","setLabel","displayName","sourceEndpoint","hideOverlay","activityElements","getActivityElements","batch","id","each","_","activityElement","activityId","$","data","getActivity","makeTarget","dropOptions","hoverClass","anchor","endpoint","radius","outcomes","sourceEndpointOptions","getSourceEndpointOptions","addEndpoint","connectorOverlays","label","cssClass","endpointMap","push","updateConnections","show","updateCanvasHeight","orientOutcomeLabels","jsPlumbInstance","fn","workflowViewer","index","element","$element","document","minCanvasHeight","find","Anchor","DragOptions","cursor","zIndex","EndpointStyles","fillStyle","Endpoints","ConnectionOverlays","width","length","location","ConnectorZIndex","getInstance","visible","Container","isStart","paintColor","paintStyle","stroke","fill","strokeWidth","isSource","connector","stub","gap","cornerRadius","alwaysRespectStubs","connectorStyle","joinstyle","outlineStroke","outlineWidth","hoverPaintStyle","connectorHoverStyle","overlays","dragOptions","uuid","name","parameters","activities","grep","x","workflowId","transitionModel","transitions","sourceEndpointUuid","sourceActivityId","sourceOutcomeName","getEndpoint","destinationElementId","destinationActivityId","connect","source","target","$container","$activityElements","currentElementTop","currentActivityHeight","toArray","$activityElement","top","position","height","newCanvasHeight","Math","max","overlay","overlayEl","getElement","canvas","epCanvas","activityRect","getBoundingClientRect","epRect","activityCenterX","left","activityCenterY","dx","dy","face","abs","$ol","halfWidth","outerWidth","prevDisplay","style","display","currentTransform","transform","baseTransform","css","exports","interopDefault","a","__esModule","defineInteropFlag","Object","defineProperty","value","exportAll","dest","keys","forEach","key","prototype","hasOwnProperty","call","enumerable","get","export","destName"],"version":3,"file":"workflow-viewer.js.map"}