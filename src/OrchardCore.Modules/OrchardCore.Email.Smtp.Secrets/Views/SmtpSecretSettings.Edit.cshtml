@model OrchardCore.Email.Smtp.Secrets.ViewModels.SmtpSecretSettingsViewModel

<div class="card mb-3">
    <div class="card-header">
        <h5 class="mb-0">@T["Password from Secrets"]</h5>
    </div>
    <div class="card-body">
        @if (!string.IsNullOrWhiteSpace(Model.PasswordSecretName))
        {
            <div class="alert alert-success mb-3">
                <i class="fa-solid fa-check-circle"></i>
                @T["SMTP password is being read from secret <strong>{0}</strong>. The password field above is not used.", Model.PasswordSecretName]
            </div>
        }

        <div class="mb-3">
            <label asp-for="PasswordSecretName" class="form-label">@T["Password Secret"]</label>
            @await Component.InvokeAsync("SelectSecret", new { 
                secretTypes = new[] { "TextSecret" },
                selectedSecret = Model.PasswordSecretName,
                htmlId = "PasswordSecretName",
                htmlName = "SmtpSecretSettings.PasswordSecretName",
                required = false
            })
            <span class="hint">@T["Select a secret to use for the SMTP password. When set, the password field above is ignored."]</span>
        </div>
    </div>
</div>
