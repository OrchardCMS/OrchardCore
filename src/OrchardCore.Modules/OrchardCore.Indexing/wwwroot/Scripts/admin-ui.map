{"version":3,"sources":["<anon>"],"sourcesContent":["AdminIndexList = function () {\n\n    const initialize = (selectedLabel) => {\n\n        let searchBox = document.getElementById('search-box');\n\n        const filterElements = document.querySelectorAll('[data-filter-value]');\n\n        // If the user press Enter, don't submit.\n        if (searchBox) {\n            let searchAlert = document.getElementById('list-alert');\n\n            searchBox.addEventListener('keydown', (e) => {\n                if (e.key === 'Enter') {\n                    e.preventDefault();\n                }\n            });\n\n            searchBox.addEventListener('keyup', e => {\n\n                let search = e.target.value.toLowerCase();\n                // On ESC, clear the search box and display all rules.\n                if (e.key == 'Escape' || search == '') {\n                    searchAlert.classList.add('d-none');\n                    searchBox.value = '';\n                    for (let i = 0; i < filterElements.length; i++) {\n                        filterElements[i].classList.remove(\"d-none\");\n                        filterElements[i].classList.remove(\"first-child-visible\");\n                        filterElements[i].classList.remove(\"last-child-visible\");\n                    }\n\n                    if (filterElements.length > 0) {\n                        filterElements[0].classList.add('first-child-visible');\n                        filterElements[filterElements.length - 1].classList.add('last-child-visible');\n                    }\n                } else {\n                    let visibleElements = [];\n                    for (let i = 0; i < filterElements.length; i++) {\n                        let filter = filterElements[i];\n\n                        let text = filter.getAttribute('data-filter-value');\n\n                        if (!text) {\n                            filter.classList.add(\"d-none\");\n                            continue;\n                        }\n\n                        let found = text.indexOf(search) > -1;\n\n                        if (found) {\n                            filter.classList.remove(\"d-none\");\n                            filter.classList.remove(\"first-child-visible\");\n                            filter.classList.remove(\"last-child-visible\");\n                            visibleElements.push(filter);\n                        } else {\n                            filter.classList.add(\"d-none\");\n                        }\n                    }\n\n                    if (visibleElements.length > 0) {\n                        visibleElements[0].classList.add('first-child-visible');\n                        visibleElements[visibleElements.length - 1].classList.add('last-child-visible');\n                        searchAlert.classList.add('d-none');\n                    } else {\n                        searchAlert.classList.remove('d-none');\n                    }\n                }\n            });\n        }\n\n        let actions = document.getElementById('actions');\n        let items = document.getElementById('items');\n        let filters = document.querySelectorAll('.filter');\n        let selectedItems = document.getElementById('selected-items');\n\n        function displayActionsOrFilters() {\n            // Select all checked checkboxes with name 'itemIds'\n            let checkedCheckboxes = document.querySelectorAll(\"input[type='checkbox'][name='itemIds']:checked\");\n\n            if (checkedCheckboxes.length > 1) {\n                actions.classList.remove('d-none');\n                for (let i = 0; i < filters.length; i++) {\n                    filters[i].classList.add('d-none');\n                }\n                selectedItems.classList.remove('d-none');\n                items.classList.add('d-none');\n            } else {\n                actions.classList.add('d-none');\n\n                for (let i = 0; i < filters.length; i++) {\n                    filters[i].classList.remove('d-none');\n                }\n                selectedItems.classList.add('d-none');\n                items.classList.remove('d-none');\n            }\n        }\n\n        let dropdownItems = document.querySelectorAll(\".dropdown-menu .dropdown-item\");\n\n        // Add click event listeners to each dropdown item\n        dropdownItems.forEach((item) => {\n            // Check if the item has a data-action attribute\n            if (!item.dataset.action) {\n                return;\n            }\n\n            item.addEventListener(\"click\", () => {\n                // Get all checked checkboxes\n                let checkedCheckboxes = document.querySelectorAll(\"input[type='checkbox'][name='itemIds']:checked\");\n\n                // Check if more than one checkbox is checked\n                if (checkedCheckboxes.length > 1) {\n                    // Get data attributes from the clicked item\n                    let actionData = Object.assign({}, item.dataset);\n\n                    confirmDialog({\n                        ...actionData,\n                        callback: (r) => {\n                            if (r) {\n                                // Set the value of the BulkAction option\n                                document.querySelector(\"[name='Options.BulkAction']\").value = actionData.action;\n                                // Trigger the submit action\n                                document.querySelector(\"[name='submit.BulkAction']\").click();\n                            }\n                        }\n                    });\n                }\n            });\n\n        });\n\n        let selectAllCtrl = document.getElementById('select-all');\n        let itemsCheckboxes = document.querySelectorAll(\"input[type='checkbox'][name='itemIds']\");\n\n        if (selectAllCtrl) {\n            selectAllCtrl.addEventListener(\"click\", () => {\n                itemsCheckboxes.forEach((checkbox) => {\n                    if (checkbox !== selectAllCtrl) {\n                        checkbox.checked = selectAllCtrl.checked; // Set the checked state of all checkboxes\n                    }\n                });\n\n                // Update the selected items text\n                updateSelectedItemsText();\n                displayActionsOrFilters();\n            });\n        }\n\n        // Event listener for individual checkboxes\n        itemsCheckboxes.forEach((checkbox) => {\n            checkbox.addEventListener(\"click\", () => {\n                let itemsCount = itemsCheckboxes.length;\n                let selectedItemsCount = document.querySelectorAll(\"input[type='checkbox'][name='itemIds']:checked\").length;\n\n                // Update selectAllCtrl state\n                selectAllCtrl.checked = selectedItemsCount === itemsCount;\n                selectAllCtrl.indeterminate = selectedItemsCount > 0 && selectedItemsCount < itemsCount;\n\n                // Update the selected items text\n                updateSelectedItemsText();\n                displayActionsOrFilters();\n            });\n        });\n\n        // Function to update selected items text\n        function updateSelectedItemsText() {\n            let selectedCount = document.querySelectorAll(\"input[type='checkbox'][name='itemIds']:checked\").length;\n            selectedItems.textContent = selectedCount + ' ' + selectedLabel;\n        }\n    }\n\n    return {\n        initialize: initialize\n    }\n}();\n"],"names":["AdminIndexList","initialize","selectedLabel","searchBox","document","getElementById","filterElements","querySelectorAll","searchAlert","addEventListener","e","key","preventDefault","search","target","value","toLowerCase","classList","add","i","length","remove","visibleElements","filter","text","getAttribute","indexOf","push","actions","items","filters","selectedItems","displayActionsOrFilters","checkedCheckboxes","dropdownItems","forEach","item","dataset","action","actionData","Object","assign","confirmDialog","callback","r","querySelector","click","selectAllCtrl","itemsCheckboxes","updateSelectedItemsText","textContent","selectedCount","checkbox","checked","itemsCount","selectedItemsCount","indeterminate"],"mappings":"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"}
