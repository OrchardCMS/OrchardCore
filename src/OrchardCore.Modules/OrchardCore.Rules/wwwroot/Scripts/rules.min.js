function updateRuleOrders(e,t,n){let o=document.getElementById("ruleOrderUrl").dataset.url,a={};for(let e of document.querySelectorAll(".ruleorderparameters"))a[e.dataset.param]=e.dataset.value;a.__RequestVerificationToken=document.querySelector("input[name='__RequestVerificationToken']").value,a.conditionId=e,a.toConditionId=t,a.toPosition=n,fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).catch(e=>{alert(document.getElementById("ruleOrderErrorMessage").dataset.message)})}document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".condition-group"),t={group:{name:"sortable-list"},animation:250,forceFallback:!0,fallbackOnBody:!0,swapThreshold:.65,onEnd:function(e){updateRuleOrders(e.item.dataset.conditionid,e.item.parentElement.dataset.conditiongroupid,e.newIndex)}};for(var n=0;n<e.length;n++)new Sortable(e[n],t)});