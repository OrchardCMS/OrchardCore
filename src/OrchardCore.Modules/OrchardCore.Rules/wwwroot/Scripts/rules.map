{"version":3,"sources":["<anon>"],"sourcesContent":["function updateRuleOrders(conditionId, toConditionId, toPosition) {\n    var url = $('#ruleOrderUrl').data(\"url\");\n    var parameters = {};\n    $('.ruleorderparameters').each(function(i, val) {\n        parameters[$(val).data(\"param\")] = $(val).data(\"value\");\n    });\n\n    parameters[\"__RequestVerificationToken\"] = $(\"input[name='__RequestVerificationToken']\").val();\n    parameters[\"conditionId\"] = conditionId;\n    parameters[\"toConditionId\"] = toConditionId;\n    parameters[\"toPosition\"] = toPosition;\n\n    $.ajax({\n        url: url,\n        method: 'POST',\n        data: parameters,\n        error: function (error) {\n            alert($('#ruleOrderErrorMessage').data(\"message\"));\n        }\n    });\n}\n\n$(function () {\n    var sortableOptions = {\n      group: {\n        name: \"sortable-list\"\n      },\n      animation: 250,\n      forceFallback: true,\n      fallbackOnBody: true,\n      swapThreshold: 0.65,\n      onEnd: function (evt) {\n        // When nesting groups use onEnd as onSort fires for every group it passes through.\n        updateRuleOrders($(evt.item).data(\"conditionid\"), $(evt.item).parent().data(\"conditiongroupid\"), evt.newIndex);\n      }\n    }; \n    var groups = document.querySelectorAll(\".condition-group\");\n    for (var i = 0; i < groups.length; i++) {\n      new Sortable(groups[i], sortableOptions);\n    }\n});\n"],"names":["updateRuleOrders","conditionId","toConditionId","toPosition","url","$","data","parameters","each","i","val","ajax","method","error","alert","sortableOptions","group","name","animation","forceFallback","fallbackOnBody","swapThreshold","onEnd","evt","item","parent","newIndex","groups","document","querySelectorAll","length","Sortable"],"mappings":"AAAA,SAASA,iBAAiBC,CAAW,CAAEC,CAAa,CAAEC,CAAU,EAC5D,IAAIC,EAAMC,EAAE,iBAAiBC,IAAI,CAAC,OAC9BC,EAAa,CAAC,EAClBF,EAAE,wBAAwBG,IAAI,CAAC,SAASC,CAAC,CAAEC,CAAG,EAC1CH,CAAU,CAACF,EAAEK,GAAKJ,IAAI,CAAC,SAAS,CAAGD,EAAEK,GAAKJ,IAAI,CAAC,QACnD,GAEAC,EAAW,0BAA6B,CAAGF,EAAE,4CAA4CK,GAAG,GAC5FH,EAAW,WAAc,CAAGN,EAC5BM,EAAW,aAAgB,CAAGL,EAC9BK,EAAW,UAAa,CAAGJ,EAE3BE,EAAEM,IAAI,CAAC,CACHP,IAAKA,EACLQ,OAAQ,OACRN,KAAMC,EACNM,MAAO,SAAUA,CAAK,EAClBC,MAAMT,EAAE,0BAA0BC,IAAI,CAAC,WAC3C,CACJ,EACJ,CAEAD,EAAE,WAeE,IAAK,IAdDU,EAAkB,CACpBC,MAAO,CACLC,KAAM,eACR,EACAC,UAAW,IACXC,cAAe,CAAA,EACfC,eAAgB,CAAA,EAChBC,cAAe,IACfC,MAAO,SAAUC,CAAG,EAElBvB,iBAAiBK,EAAEkB,EAAIC,IAAI,EAAElB,IAAI,CAAC,eAAgBD,EAAEkB,EAAIC,IAAI,EAAEC,MAAM,GAAGnB,IAAI,CAAC,oBAAqBiB,EAAIG,QAAQ,CAC/G,CACF,EACIC,EAASC,SAASC,gBAAgB,CAAC,oBAC9BpB,EAAI,EAAGA,EAAIkB,EAAOG,MAAM,CAAErB,IACjC,IAAIsB,SAASJ,CAAM,CAAClB,EAAE,CAAEM,EAE9B"}
