var editor;function initializeTemplatePreview(e,t){var n=document.querySelector("[name='__RequestVerificationToken']").value;function r(){var t={Name:e.value,Content:editor.getValue(),__RequestVerificationToken:n};localStorage.setItem("OrchardCore.templates",JSON.stringify(new URLSearchParams(t).toString()))}(editor=CodeMirror.fromTextArea(t,{autoRefresh:!0,lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,styleActiveLine:!0,mode:{name:"liquid"},extraKeys:{F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc:function(e){e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}}})).on("change",r),window.addEventListener("storage",function(e){"OrchardCore.templates:ready"==e.key&&r()},!1),e.addEventListener("input",r),e.addEventListener("propertychange",r),e.addEventListener("change",r),e.addEventListener("keyup",function(e){(46==e.keyCode||e.ctrlKey)&&r()}),window.addEventListener("unload",function(){localStorage.removeItem("OrchardCore.templates"),localStorage.setItem("OrchardCore.templates:not-connected",""),localStorage.removeItem("OrchardCore.templates:not-connected")})}