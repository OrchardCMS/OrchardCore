var liquidTags=["if","else","elseif","endif","render","assign","capture","endcapture","case","endcase","comment","endcomment","cycle","decrement","for","endfor","include","increment","layout","raw","endraw","render","tablerow","endtablerow","unless","endunless"],liquidFilters=["abs","append","at_least","at_most","capitalize","ceil","compact","date","default","divided_by","downcase","escape","escape_once","first","floor","join","json","last","lstrip","map","minus","modulo","newline_to_br","plus","prepend","remove","remove_first","replace","replace_first","reverse","round","rstrip","size","slice","sort","sort_natural","split","strip","strip_html","strip_newlines","times","truncate","truncatewords","uniq","upcase","url_decode","url_encode","where"];function getLiquidContextInfo(e,t,n){var i,r,a,s,o=e.findPreviousMatch("\\{(%|\\{)",t,!0,!1,null,!0);if(o&&o.matches&&!t.isBefore(o.range.getEndPosition())){"%"==o.matches[1]?i=!0:"{"==o.matches[1]&&(r=!0);var l=i?"%}":"}}",u=e.findNextMatch(l,t,!1,!1,null,!0),c=o.range.plusRange(u.range);if(c.containsPosition(t)){if(i){var d=e.findNextMatch("\\{%\\s*([a-zA-Z-_]+)",o.range.getStartPosition(),!0,!1,null,!0);d&&c.containsRange(d.range)&&d.matches.length>1?"assign"==d.matches[1]?s=!0:a=!1:a=!0}else s=!0}}return{showFilters:s,showTags:a,inTag:i,inObject:r}}var completionItemProvider={triggerCharacters:[" "],provideCompletionItems:function(e,t,n,i){var r=[];if(" "==n.triggerCharacter){var a=e.getValueInRange(new monaco.Range(t.lineNumber,t.column-3,t.lineNumber,t.column-1));if("{%"!=a&&!a.endsWith("|"))return null}var s=getLiquidContextInfo(e,t,n.triggerCharacter);return s.showFilters?r=liquidFilters:s.showTags&&(r=liquidTags.filter(function(e){return!e.startsWith("end")})),{suggestions:r.map(function(e){return{label:e,kind:monaco.languages.CompletionItemKind.Keyword,insertText:e,insertTextRules:monaco.languages.CompletionItemInsertTextRule.KeepWhitespace}})}}};function ConfigureLiquidIntellisense(e,t){if(void 0===t&&(t=!0),t){var n={format:e.languages.html.htmlDefaults.options.format,suggest:{html5:!0}};e.languages.html.registerHTMLLanguageService("liquid",n,{completionItems:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:!1,documentFormattingEdits:!0,documentRangeFormattingEdits:!0})}e.languages.registerCompletionItemProvider("liquid",completionItemProvider)}